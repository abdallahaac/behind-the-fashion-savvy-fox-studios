function T6(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function ff(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var uS={exports:{}},ev={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR;function M6(){if(YR)return ev;YR=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return ev.Fragment=e,ev.jsx=t,ev.jsxs=t,ev}var qR;function C6(){return qR||(qR=1,uS.exports=M6()),uS.exports}var B=C6(),fS={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function w6(){if(KR)return wn;KR=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=p&&V[p]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function S(V,K,re){this.props=V,this.context=K,this.refs=A,this.updater=re||y}S.prototype.isReactComponent={},S.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},S.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function E(){}E.prototype=S.prototype;function M(V,K,re){this.props=V,this.context=K,this.refs=A,this.updater=re||y}var R=M.prototype=new E;R.constructor=M,x(R,S.prototype),R.isPureReactComponent=!0;var w=Array.isArray,I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function H(V,K,re,pe,Q,ce){return re=ce.ref,{$$typeof:r,type:V,key:K,ref:re!==void 0?re:null,props:ce}}function F(V,K){return H(V.type,K,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return K[re]})}var G=/\/+/g;function X(V,K){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):K.toString(36)}function Y(){}function J(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Y,Y):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,K,re,pe,Q){var ce=typeof V;(ce==="undefined"||ce==="boolean")&&(V=null);var me=!1;if(V===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(V.$$typeof){case r:case e:me=!0;break;case d:return me=V._init,ae(me(V._payload),K,re,pe,Q)}}if(me)return Q=Q(V),me=pe===""?"."+X(V,0):pe,w(Q)?(re="",me!=null&&(re=me.replace(G,"$&/")+"/"),ae(Q,K,re,"",function(je){return je})):Q!=null&&(N(Q)&&(Q=F(Q,re+(Q.key==null||V&&V.key===Q.key?"":(""+Q.key).replace(G,"$&/")+"/")+me)),K.push(Q)),1;me=0;var ge=pe===""?".":pe+":";if(w(V))for(var be=0;be<V.length;be++)pe=V[be],ce=ge+X(pe,be),me+=ae(pe,K,re,ce,Q);else if(be=v(V),typeof be=="function")for(V=be.call(V),be=0;!(pe=V.next()).done;)pe=pe.value,ce=ge+X(pe,be++),me+=ae(pe,K,re,ce,Q);else if(ce==="object"){if(typeof V.then=="function")return ae(J(V),K,re,pe,Q);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(V,K,re){if(V==null)return V;var pe=[],Q=0;return ae(V,pe,"","",function(ce){return K.call(re,ce,Q++)}),pe}function he(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function de(){}return wn.Children={map:$,forEach:function(V,K,re){$(V,function(){K.apply(this,arguments)},re)},count:function(V){var K=0;return $(V,function(){K++}),K},toArray:function(V){return $(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},wn.Component=S,wn.Fragment=t,wn.Profiler=i,wn.PureComponent=M,wn.StrictMode=n,wn.Suspense=l,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(V){return function(){return V.apply(null,arguments)}},wn.cloneElement=function(V,K,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=x({},V.props),Q=V.key,ce=void 0;if(K!=null)for(me in K.ref!==void 0&&(ce=void 0),K.key!==void 0&&(Q=""+K.key),K)!U.call(K,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&K.ref===void 0||(pe[me]=K[me]);var me=arguments.length-2;if(me===1)pe.children=re;else if(1<me){for(var ge=Array(me),be=0;be<me;be++)ge[be]=arguments[be+2];pe.children=ge}return H(V.type,Q,void 0,void 0,ce,pe)},wn.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},wn.createElement=function(V,K,re){var pe,Q={},ce=null;if(K!=null)for(pe in K.key!==void 0&&(ce=""+K.key),K)U.call(K,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Q[pe]=K[pe]);var me=arguments.length-2;if(me===1)Q.children=re;else if(1<me){for(var ge=Array(me),be=0;be<me;be++)ge[be]=arguments[be+2];Q.children=ge}if(V&&V.defaultProps)for(pe in me=V.defaultProps,me)Q[pe]===void 0&&(Q[pe]=me[pe]);return H(V,ce,void 0,void 0,null,Q)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(V){return{$$typeof:o,render:V}},wn.isValidElement=N,wn.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:he}},wn.memo=function(V,K){return{$$typeof:u,type:V,compare:K===void 0?null:K}},wn.startTransition=function(V){var K=I.T,re={};I.T=re;try{var pe=V(),Q=I.S;Q!==null&&Q(re,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(de,le)}catch(ce){le(ce)}finally{I.T=K}},wn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wn.use=function(V){return I.H.use(V)},wn.useActionState=function(V,K,re){return I.H.useActionState(V,K,re)},wn.useCallback=function(V,K){return I.H.useCallback(V,K)},wn.useContext=function(V){return I.H.useContext(V)},wn.useDebugValue=function(){},wn.useDeferredValue=function(V,K){return I.H.useDeferredValue(V,K)},wn.useEffect=function(V,K){return I.H.useEffect(V,K)},wn.useId=function(){return I.H.useId()},wn.useImperativeHandle=function(V,K,re){return I.H.useImperativeHandle(V,K,re)},wn.useInsertionEffect=function(V,K){return I.H.useInsertionEffect(V,K)},wn.useLayoutEffect=function(V,K){return I.H.useLayoutEffect(V,K)},wn.useMemo=function(V,K){return I.H.useMemo(V,K)},wn.useOptimistic=function(V,K){return I.H.useOptimistic(V,K)},wn.useReducer=function(V,K,re){return I.H.useReducer(V,K,re)},wn.useRef=function(V){return I.H.useRef(V)},wn.useState=function(V){return I.H.useState(V)},wn.useSyncExternalStore=function(V,K,re){return I.H.useSyncExternalStore(V,K,re)},wn.useTransition=function(){return I.H.useTransition()},wn.version="19.0.0",wn}var JR;function wp(){return JR||(JR=1,fS.exports=w6()),fS.exports}var P=wp();const Ae=ff(P),R6=T6({__proto__:null,default:Ae},[P]);var dS={exports:{}},tv={},hS={exports:{}},pS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function D6(){return ZR||(ZR=1,function(r){function e($,he){var le=$.length;$.push(he);e:for(;0<le;){var de=le-1>>>1,V=$[de];if(0<i(V,he))$[de]=he,$[le]=V,le=de;else break e}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var he=$[0],le=$.pop();if(le!==he){$[0]=le;e:for(var de=0,V=$.length,K=V>>>1;de<K;){var re=2*(de+1)-1,pe=$[re],Q=re+1,ce=$[Q];if(0>i(pe,le))Q<V&&0>i(ce,pe)?($[de]=ce,$[Q]=le,de=Q):($[de]=pe,$[re]=le,de=re);else if(Q<V&&0>i(ce,le))$[de]=ce,$[Q]=le,de=Q;else break e}}return he}function i($,he){var le=$.sortIndex-he.sortIndex;return le!==0?le:$.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,p=null,v=3,y=!1,x=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R($){for(var he=t(u);he!==null;){if(he.callback===null)n(u);else if(he.startTime<=$)n(u),he.sortIndex=he.expirationTime,e(l,he);else break;he=t(u)}}function w($){if(A=!1,R($),!x)if(t(l)!==null)x=!0,J();else{var he=t(u);he!==null&&ae(w,he.startTime-$)}}var I=!1,U=-1,H=5,F=-1;function N(){return!(r.unstable_now()-F<H)}function L(){if(I){var $=r.unstable_now();F=$;var he=!0;try{e:{x=!1,A&&(A=!1,E(U),U=-1),y=!0;var le=v;try{t:{for(R($),p=t(l);p!==null&&!(p.expirationTime>$&&N());){var de=p.callback;if(typeof de=="function"){p.callback=null,v=p.priorityLevel;var V=de(p.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){p.callback=V,R($),he=!0;break t}p===t(l)&&n(l),R($)}else n(l);p=t(l)}if(p!==null)he=!0;else{var K=t(u);K!==null&&ae(w,K.startTime-$),he=!1}}break e}finally{p=null,v=le,y=!1}he=void 0}}finally{he?G():I=!1}}}var G;if(typeof M=="function")G=function(){M(L)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=L,G=function(){Y.postMessage(null)}}else G=function(){S(L,0)};function J(){I||(I=!0,G())}function ae($,he){U=S(function(){$(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){x||y||(x=!0,J())},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function($){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var le=v;v=he;try{return $()}finally{v=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=v;v=$;try{return he()}finally{v=le}},r.unstable_scheduleCallback=function($,he,le){var de=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?de+le:de):le=de,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=le+V,$={id:d++,callback:he,priorityLevel:$,startTime:le,expirationTime:V,sortIndex:-1},le>de?($.sortIndex=le,e(u,$),t(l)===null&&$===t(u)&&(A?(E(U),U=-1):A=!0,ae(w,le-de))):($.sortIndex=V,e(l,$),x||y||(x=!0,J())),$},r.unstable_shouldYield=N,r.unstable_wrapCallback=function($){var he=v;return function(){var le=v;v=he;try{return $.apply(this,arguments)}finally{v=le}}}}(pS)),pS}var $R;function aC(){return $R||($R=1,hS.exports=D6()),hS.exports}var mS={exports:{}},Fa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function B6(){if(QR)return Fa;QR=1;var r=wp();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:u,implementation:d}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Fa.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,d)},Fa.flushSync=function(l){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=d,n.d.f()}},Fa.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},Fa.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Fa.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),v=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):d==="script"&&n.d.X(l,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Fa.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},Fa.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Fa.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},Fa.requestFormReset=function(l){n.d.r(l)},Fa.unstable_batchedUpdates=function(l,u){return l(u)},Fa.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},Fa.useFormStatus=function(){return s.H.useHostTransitionStatus()},Fa.version="19.0.0",Fa}var e3;function yU(){if(e3)return mS.exports;e3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mS.exports=B6(),mS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t3;function O6(){if(t3)return tv;t3=1;var r=aC(),e=wp(),t=yU();function n(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),w=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var H=Symbol.for("react.client.reference");function F(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===H?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case o:return"Portal";case d:return"Profiler";case u:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Provider";case v:return(c._context.displayName||"Context")+".Consumer";case x:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case E:return f=c.displayName||null,f!==null?f:F(c.type)||"Memo";case M:f=c._payload,c=c._init;try{return F(c(f))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,G,X;function Y(c){if(G===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);G=f&&f[1]||"",X=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+X}var J=!1;function ae(c,f){if(!c||J)return"";J=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(ct){var $e=ct}Reflect.construct(c,[],bt)}else{try{bt.call()}catch(ct){$e=ct}c.call(bt.prototype)}}else{try{throw Error()}catch(ct){$e=ct}(bt=c())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(ct){if(ct&&$e&&typeof ct.stack=="string")return[ct.stack,$e.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=_.DetermineComponentFrameRoot(),k=D[0],te=D[1];if(k&&te){var _e=k.split(`
`),Oe=te.split(`
`);for(T=_=0;_<_e.length&&!_e[_].includes("DetermineComponentFrameRoot");)_++;for(;T<Oe.length&&!Oe[T].includes("DetermineComponentFrameRoot");)T++;if(_===_e.length||T===Oe.length)for(_=_e.length-1,T=Oe.length-1;1<=_&&0<=T&&_e[_]!==Oe[T];)T--;for(;1<=_&&0<=T;_--,T--)if(_e[_]!==Oe[T]){if(_!==1||T!==1)do if(_--,T--,0>T||_e[_]!==Oe[T]){var dt=`
`+_e[_].replace(" at new "," at ");return c.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",c.displayName)),dt}while(1<=_&&0<=T);break}}}finally{J=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?Y(g):""}function $(c){switch(c.tag){case 26:case 27:case 5:return Y(c.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return c=ae(c.type,!1),c;case 11:return c=ae(c.type.render,!1),c;case 1:return c=ae(c.type,!0),c;default:return""}}function he(c){try{var f="";do f+=$(c),c=c.return;while(c);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function le(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function de(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function V(c){if(le(c)!==c)throw Error(n(188))}function K(c){var f=c.alternate;if(!f){if(f=le(c),f===null)throw Error(n(188));return f!==c?null:c}for(var g=c,_=f;;){var T=g.return;if(T===null)break;var D=T.alternate;if(D===null){if(_=T.return,_!==null){g=_;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===g)return V(T),c;if(D===_)return V(T),f;D=D.sibling}throw Error(n(188))}if(g.return!==_.return)g=T,_=D;else{for(var k=!1,te=T.child;te;){if(te===g){k=!0,g=T,_=D;break}if(te===_){k=!0,_=T,g=D;break}te=te.sibling}if(!k){for(te=D.child;te;){if(te===g){k=!0,g=D,_=T;break}if(te===_){k=!0,_=D,g=T;break}te=te.sibling}if(!k)throw Error(n(189))}}if(g.alternate!==_)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?c:f}function re(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=re(c),f!==null)return f;c=c.sibling}return null}var pe=Array.isArray,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],ge=-1;function be(c){return{current:c}}function je(c){0>ge||(c.current=me[ge],me[ge]=null,ge--)}function ze(c,f){ge++,me[ge]=c.current,c.current=f}var Ie=be(null),ye=be(null),we=be(null),ee=be(null);function Je(c,f){switch(ze(we,f),ze(ye,c),ze(Ie,null),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?AR(f):0;break;default:if(c=c===8?f.parentNode:f,f=c.tagName,c=c.namespaceURI)c=AR(c),f=SR(c,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}je(Ie),ze(Ie,f)}function Ne(){je(Ie),je(ye),je(we)}function Xe(c){c.memoizedState!==null&&ze(ee,c);var f=Ie.current,g=SR(f,c.type);f!==g&&(ze(ye,c),ze(Ie,g))}function Be(c){ye.current===c&&(je(Ie),je(ye)),ee.current===c&&(je(ee),K0._currentValue=ce)}var st=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,j=r.unstable_shouldYield,se=r.unstable_requestPaint,ve=r.unstable_now,Me=r.unstable_getCurrentPriorityLevel,Le=r.unstable_ImmediatePriority,Ye=r.unstable_UserBlockingPriority,et=r.unstable_NormalPriority,at=r.unstable_LowPriority,Ct=r.unstable_IdlePriority,ot=r.log,_t=r.unstable_setDisableYieldValue,Ze=null,tt=null;function Ke(c){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ze,c,void 0,(c.current.flags&128)===128)}catch{}}function wt(c){if(typeof ot=="function"&&_t(c),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ze,c)}catch{}}var xt=Math.clz32?Math.clz32:De,It=Math.log,Ee=Math.LN2;function De(c){return c>>>=0,c===0?32:31-(It(c)/Ee|0)|0}var Pe=128,lt=4194304;function gt(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function pt(c,f){var g=c.pendingLanes;if(g===0)return 0;var _=0,T=c.suspendedLanes,D=c.pingedLanes,k=c.warmLanes;c=c.finishedLanes!==0;var te=g&134217727;return te!==0?(g=te&~T,g!==0?_=gt(g):(D&=te,D!==0?_=gt(D):c||(k=te&~k,k!==0&&(_=gt(k))))):(te=g&~T,te!==0?_=gt(te):D!==0?_=gt(D):c||(k=g&~k,k!==0&&(_=gt(k)))),_===0?0:f!==0&&f!==_&&(f&T)===0&&(T=_&-_,k=f&-f,T>=k||T===32&&(k&4194176)!==0)?f:_}function Pt(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function tn(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var c=Pe;return Pe<<=1,(Pe&4194176)===0&&(Pe=128),c}function Xt(){var c=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),c}function jn(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function zn(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function hi(c,f,g,_,T,D){var k=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var te=c.entanglements,_e=c.expirationTimes,Oe=c.hiddenUpdates;for(g=k&~g;0<g;){var dt=31-xt(g),bt=1<<dt;te[dt]=0,_e[dt]=-1;var $e=Oe[dt];if($e!==null)for(Oe[dt]=null,dt=0;dt<$e.length;dt++){var ct=$e[dt];ct!==null&&(ct.lane&=-536870913)}g&=~bt}_!==0&&ji(c,_,0),D!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=D&~(k&~f))}function ji(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var _=31-xt(f);c.entangledLanes|=f,c.entanglements[_]=c.entanglements[_]|1073741824|g&4194218}function vi(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var _=31-xt(g),T=1<<_;T&f|c[_]&f&&(c[_]|=f),g&=~T}}function Ei(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Xi(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:GR(c.type))}function Ti(c,f){var g=Q.p;try{return Q.p=c,f()}finally{Q.p=g}}var kt=Math.random().toString(36).slice(2),bn="__reactFiber$"+kt,sn="__reactProps$"+kt,q="__reactContainer$"+kt,ie="__reactEvents$"+kt,Te="__reactListeners$"+kt,We="__reactHandles$"+kt,rt="__reactResources$"+kt,it="__reactMarker$"+kt;function At(c){delete c[bn],delete c[sn],delete c[ie],delete c[Te],delete c[We]}function vt(c){var f=c[bn];if(f)return f;for(var g=c.parentNode;g;){if(f=g[q]||g[bn]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=MR(c);c!==null;){if(g=c[bn])return g;c=MR(c)}return f}c=g,g=c.parentNode}return null}function W(c){if(c=c[bn]||c[q]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function fe(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(n(33))}function xe(c){var f=c[rt];return f||(f=c[rt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function oe(c){c[it]=!0}var Ce=new Set,ke={};function nt(c,f){ut(c,f),ut(c+"Capture",f)}function ut(c,f){for(ke[c]=f,c=0;c<f.length;c++)Ce.add(f[c])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},Bt={};function Qt(c){return st.call(Bt,c)?!0:st.call(Nt,c)?!1:Ot.test(c)?Bt[c]=!0:(Nt[c]=!0,!1)}function Ht(c,f,g){if(Qt(f))if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+g)}}function Sn(c,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+g)}}function Vt(c,f,g,_){if(_===null)c.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(f,g,""+_)}}function zt(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ft(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ii(c){var f=Ft(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),_=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,D=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return T.call(this)},set:function(k){_=""+k,D.call(this,k)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return _},setValue:function(k){_=""+k},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Zt(c){c._valueTracker||(c._valueTracker=ii(c))}function un(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),_="";return c&&(_=Ft(c)?c.checked?"true":"false":c.value),c=_,c!==g?(f.setValue(c),!0):!1}function Xn(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var dn=/[\n"\\]/g;function Yt(c){return c.replace(dn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function hn(c,f,g,_,T,D,k,te){c.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?c.type=k:c.removeAttribute("type"),f!=null?k==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+zt(f)):c.value!==""+zt(f)&&(c.value=""+zt(f)):k!=="submit"&&k!=="reset"||c.removeAttribute("value"),f!=null?On(c,k,zt(f)):g!=null?On(c,k,zt(g)):_!=null&&c.removeAttribute("value"),T==null&&D!=null&&(c.defaultChecked=!!D),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?c.name=""+zt(te):c.removeAttribute("name")}function si(c,f,g,_,T,D,k,te){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.type=D),f!=null||g!=null){if(!(D!=="submit"&&D!=="reset"||f!=null))return;g=g!=null?""+zt(g):"",f=f!=null?""+zt(f):g,te||f===c.value||(c.value=f),c.defaultValue=f}_=_??T,_=typeof _!="function"&&typeof _!="symbol"&&!!_,c.checked=te?c.checked:!!_,c.defaultChecked=!!_,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.name=k)}function On(c,f,g){f==="number"&&Xn(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Wn(c,f,g,_){if(c=c.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<c.length;g++)T=f.hasOwnProperty("$"+c[g].value),c[g].selected!==T&&(c[g].selected=T),T&&_&&(c[g].defaultSelected=!0)}else{for(g=""+zt(g),f=null,T=0;T<c.length;T++){if(c[T].value===g){c[T].selected=!0,_&&(c[T].defaultSelected=!0);return}f!==null||c[T].disabled||(f=c[T])}f!==null&&(f.selected=!0)}}function Ui(c,f,g){if(f!=null&&(f=""+zt(f),f!==c.value&&(c.value=f),g==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=g!=null?""+zt(g):""}function Zr(c,f,g,_){if(f==null){if(_!=null){if(g!=null)throw Error(n(92));if(pe(_)){if(1<_.length)throw Error(n(93));_=_[0]}g=_}g==null&&(g=""),f=g}g=zt(f),c.defaultValue=g,_=c.textContent,_===g&&_!==""&&_!==null&&(c.value=_)}function Tr(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(c,f,g){var _=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?_?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":_?c.setProperty(f,g):typeof g!="number"||g===0||tu.has(f)?f==="float"?c.cssFloat=g:c[f]=(""+g).trim():c[f]=g+"px"}function nu(c,f,g){if(f!=null&&typeof f!="object")throw Error(n(62));if(c=c.style,g!=null){for(var _ in g)!g.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?c.setProperty(_,""):_==="float"?c.cssFloat="":c[_]="");for(var T in f)_=f[T],f.hasOwnProperty(T)&&g[T]!==_&&Jl(c,T,_)}else for(var D in f)f.hasOwnProperty(D)&&Jl(c,D,f[D])}function Ys(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(c){return iu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var qs=null;function Ks(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ao=null,qa=null;function Zl(c){var f=W(c);if(f&&(c=f.stateNode)){var g=c[sn]||null;e:switch(c=f.stateNode,f.type){case"input":if(hn(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Yt(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var _=g[f];if(_!==c&&_.form===c.form){var T=_[sn]||null;if(!T)throw Error(n(90));hn(_,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)_=g[f],_.form===c.form&&un(_)}break e;case"textarea":Ui(c,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Wn(c,!!g.multiple,f,!1)}}}var $l=!1;function mf(c,f,g){if($l)return c(f,g);$l=!0;try{var _=c(f);return _}finally{if($l=!1,(Ao!==null||qa!==null)&&(wu(),Ao&&(f=Ao,c=qa,qa=Ao=null,Zl(f),c)))for(f=0;f<c.length;f++)Zl(c[f])}}function Js(c,f){var g=c.stateNode;if(g===null)return null;var _=g[sn]||null;if(_===null)return null;g=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(c=c.type,_=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!_;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(n(231,f,typeof g));return g}var Zo=!1;if(ht)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Zo=!1}var Wi=null,ru=null,au=null;function gf(){if(au)return au;var c,f=ru,g=f.length,_,T="value"in Wi?Wi.value:Wi.textContent,D=T.length;for(c=0;c<g&&f[c]===T[c];c++);var k=g-c;for(_=1;_<=k&&f[g-_]===T[D-_];_++);return au=T.slice(c,1<_?1-_:void 0)}function gs(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Qo(){return!0}function Ql(){return!1}function Yi(c){function f(g,_,T,D,k){this._reactName=g,this._targetInst=T,this.type=_,this.nativeEvent=D,this.target=k,this.currentTarget=null;for(var te in c)c.hasOwnProperty(te)&&(g=c[te],this[te]=g?g(D):D[te]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Qo:Ql,this.isPropagationStopped=Ql,this}return L(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),f}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Yi(Ma),el=L({},Ma,{view:0,detail:0}),vf=Yi(el),Ka,vs,tl,ys=L({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==tl&&(tl&&c.type==="mousemove"?(Ka=c.screenX-tl.screenX,vs=c.screenY-tl.screenY):vs=Ka=0,tl=c),Ka)},movementY:function(c){return"movementY"in c?c.movementY:vs}}),su=Yi(ys),$r=L({},ys,{dataTransfer:0}),Yg=Yi($r),Hi=L({},el,{relatedTarget:0}),nl=Yi(Hi),Fd=L({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Pp=Yi(Fd),Vr=L({},Ma,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Ca=Yi(Vr),ur=L({},Ma,{data:0}),Ja=Yi(ur),Hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=a1[c])?!!f[c]:!1}function zd(){return qg}var s1=L({},el,{key:function(c){if(c.key){var f=Hd[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=gs(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?r1[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(c){return c.type==="keypress"?gs(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?gs(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Kg=Yi(s1),Jg=L({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=Yi(Jg),o1=L({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Zg=Yi(o1),l1=L({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=Yi(l1),$g=L({},ys,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),D2=Yi($g),c1=L({},Ma,{newState:0,oldState:0}),ec=Yi(c1),rl=[9,13,27,32],Gd=ht&&"CompositionEvent"in window,ou=null;ht&&"documentMode"in document&&(ou=document.documentMode);var kd=ht&&"TextEvent"in window&&!ou,Vd=ht&&(!Gd||ou&&8<ou&&11>=ou),tc=" ",jr=!1;function jd(c,f){switch(c){case"keyup":return rl.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var nc=!1;function Xd(c,f){switch(c){case"compositionend":return Qg(f);case"keypress":return f.which!==32?null:(jr=!0,tc);case"textInput":return c=f.data,c===tc&&jr?null:c;default:return null}}function e0(c,f){if(nc)return c==="compositionend"||!Gd&&jd(c,f)?(c=gf(),au=ru=Wi=null,nc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Vd&&f.locale!=="ko"?null:f.data;default:return null}}var Hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Hp[c.type]:f==="textarea"}function wa(c,f,g,_){Ao?qa?qa.push(_):qa=[_]:Ao=_,f=c_(f,"onChange"),0<f.length&&(g=new pa("onChange","change",null,g,_),c.push({event:g,listeners:f}))}var yf=null,lu=null;function u1(c){vR(c,0)}function Wd(c){var f=fe(c);if(un(f))return c}function zp(c,f){if(c==="change")return f}var Gp=!1;if(ht){var kp;if(ht){var _f="oninput"in document;if(!_f){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),_f=typeof xf.oninput=="function"}kp=_f}else kp=!1;Gp=kp&&(!document.documentMode||9<document.documentMode)}function Di(){yf&&(yf.detachEvent("onpropertychange",f1),lu=yf=null)}function f1(c){if(c.propertyName==="value"&&Wd(lu)){var f=[];wa(f,lu,c,Ks(c)),mf(u1,f)}}function B2(c,f,g){c==="focusin"?(Di(),yf=f,lu=g,yf.attachEvent("onpropertychange",f1)):c==="focusout"&&Di()}function d1(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Wd(lu)}function Yd(c,f){if(c==="click")return Wd(f)}function ic(c,f){if(c==="input"||c==="change")return Wd(f)}function h1(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ra=typeof Object.is=="function"?Object.is:h1;function Zs(c,f){if(Ra(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),_=Object.keys(f);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var T=g[_];if(!st.call(f,T)||!Ra(c[T],f[T]))return!1}return!0}function Da(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function n0(c,f){var g=Da(c);c=0;for(var _;g;){if(g.nodeType===3){if(_=c+g.textContent.length,c<=f&&_>=f)return{node:g,offset:f-c};c=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Da(g)}}function i0(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?i0(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function r0(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=Xn(c.document);f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=Xn(c.document)}return f}function qd(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function a0(c,f){var g=r0(f);f=c.focusedElem;var _=c.selectionRange;if(g!==f&&f&&f.ownerDocument&&i0(f.ownerDocument.documentElement,f)){if(_!==null&&qd(f)){if(c=_.start,g=_.end,g===void 0&&(g=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(g,f.value.length);else if(g=(c=f.ownerDocument||document)&&c.defaultView||window,g.getSelection){g=g.getSelection();var T=f.textContent.length,D=Math.min(_.start,T);_=_.end===void 0?D:Math.min(_.end,T),!g.extend&&D>_&&(T=_,_=D,D=T),T=n0(f,D);var k=n0(f,_);T&&k&&(g.rangeCount!==1||g.anchorNode!==T.node||g.anchorOffset!==T.offset||g.focusNode!==k.node||g.focusOffset!==k.offset)&&(c=c.createRange(),c.setStart(T.node,T.offset),g.removeAllRanges(),D>_?(g.addRange(c),g.extend(k.node,k.offset)):(c.setEnd(k.node,k.offset),g.addRange(c)))}}for(c=[],g=f;g=g.parentNode;)g.nodeType===1&&c.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)g=c[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Vp=ht&&"documentMode"in document&&11>=document.documentMode,cu=null,s0=null,bf=null,jp=!1;function _s(c,f,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;jp||cu==null||cu!==Xn(_)||(_=cu,"selectionStart"in _&&qd(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),bf&&Zs(bf,_)||(bf=_,_=c_(s0,"onSelect"),0<_.length&&(f=new pa("onSelect","select",null,f,g),c.push({event:f,listeners:_}),f.target=cu)))}function al(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var uu={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},o0={},Xp={};ht&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function fr(c){if(o0[c])return o0[c];if(!uu[c])return c;var f=uu[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Xp)return o0[c]=f[g];return c}var l0=fr("animationend"),Ba=fr("animationiteration"),c0=fr("animationstart"),sl=fr("transitionrun"),Af=fr("transitionstart"),rc=fr("transitioncancel"),Wp=fr("transitionend"),Yp=new Map,ol="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xs(c,f){Yp.set(c,f),nt(f,[c])}var Xr=[],So=0,ll=0;function Kd(){for(var c=So,f=ll=So=0;f<c;){var g=Xr[f];Xr[f++]=null;var _=Xr[f];Xr[f++]=null;var T=Xr[f];Xr[f++]=null;var D=Xr[f];if(Xr[f++]=null,_!==null&&T!==null){var k=_.pending;k===null?T.next=T:(T.next=k.next,k.next=T),_.pending=T}D!==0&&Zd(g,T,D)}}function Jd(c,f,g,_){Xr[So++]=c,Xr[So++]=f,Xr[So++]=g,Xr[So++]=_,ll|=_,c.lanes|=_,c=c.alternate,c!==null&&(c.lanes|=_)}function fu(c,f,g,_){return Jd(c,f,g,_),$d(c)}function cl(c,f){return Jd(c,null,null,f),$d(c)}function Zd(c,f,g){c.lanes|=g;var _=c.alternate;_!==null&&(_.lanes|=g);for(var T=!1,D=c.return;D!==null;)D.childLanes|=g,_=D.alternate,_!==null&&(_.childLanes|=g),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(T=!0)),c=D,D=D.return;T&&f!==null&&c.tag===3&&(D=c.stateNode,T=31-xt(g),D=D.hiddenUpdates,c=D[T],c===null?D[T]=[f]:c.push(f),f.lane=g|536870912)}function $d(c){if(50<Ds)throw Ds=0,Dl=null,Error(n(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var ac={},qp=new WeakMap;function Oa(c,f){if(typeof c=="object"&&c!==null){var g=qp.get(c);return g!==void 0?g:(f={value:c,source:f,stack:he(f)},qp.set(c,f),f)}return{value:c,source:f,stack:he(f)}}var du=[],sc=0,Qr=null,Qd=0,yi=[],Za=0,ul=null,Eo=1,fl="";function ma(c,f){du[sc++]=Qd,du[sc++]=Qr,Qr=c,Qd=f}function u0(c,f,g){yi[Za++]=Eo,yi[Za++]=fl,yi[Za++]=ul,ul=c;var _=Eo;c=fl;var T=32-xt(_)-1;_&=~(1<<T),g+=1;var D=32-xt(f)+T;if(30<D){var k=T-T%5;D=(_&(1<<k)-1).toString(32),_>>=k,T-=k,Eo=1<<32-xt(f)+T|g<<T|_,fl=D+c}else Eo=1<<D|g<<T|_,fl=c}function eh(c){c.return!==null&&(ma(c,1),u0(c,1,0))}function oc(c){for(;c===Qr;)Qr=du[--sc],du[sc]=null,Qd=du[--sc],du[sc]=null;for(;c===ul;)ul=yi[--Za],yi[Za]=null,fl=yi[--Za],yi[Za]=null,Eo=yi[--Za],yi[Za]=null}var ea=null,Nr=null,qn=!1,bs=null,As=!1,th=Error(n(519));function hu(c){var f=Error(n(418,""));throw To(Oa(f,c)),th}function p1(c){var f=c.stateNode,g=c.type,_=c.memoizedProps;switch(f[bn]=c,f[sn]=_,g){case"dialog":Jn("cancel",f),Jn("close",f);break;case"iframe":case"object":case"embed":Jn("load",f);break;case"video":case"audio":for(g=0;g<j0.length;g++)Jn(j0[g],f);break;case"source":Jn("error",f);break;case"img":case"image":case"link":Jn("error",f),Jn("load",f);break;case"details":Jn("toggle",f);break;case"input":Jn("invalid",f),si(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),Zt(f);break;case"select":Jn("invalid",f);break;case"textarea":Jn("invalid",f),Zr(f,_.value,_.defaultValue,_.children),Zt(f)}g=_.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||_.suppressHydrationWarning===!0||bR(f.textContent,g)?(_.popover!=null&&(Jn("beforetoggle",f),Jn("toggle",f)),_.onScroll!=null&&Jn("scroll",f),_.onScrollEnd!=null&&Jn("scrollend",f),_.onClick!=null&&(f.onclick=u_),f=!0):f=!1,f||hu(c)}function m1(c){for(ea=c.return;ea;)switch(ea.tag){case 3:case 27:As=!0;return;case 5:case 13:As=!1;return;default:ea=ea.return}}function Sf(c){if(c!==ea)return!1;if(!qn)return m1(c),qn=!0,!1;var f=!1,g;if((g=c.tag!==3&&c.tag!==27)&&((g=c.tag===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||Z2(c.type,c.memoizedProps)),g=!g),g&&(f=!0),f&&Nr&&hu(c),m1(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(f===0){Nr=Ol(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;c=c.nextSibling}Nr=null}}else Nr=ea?Ol(c.stateNode.nextSibling):null;return!0}function Ef(){Nr=ea=null,qn=!1}function To(c){bs===null?bs=[c]:bs.push(c)}var lc=Error(n(460)),f0=Error(n(474)),Kp={then:function(){}};function g1(c){return c=c.status,c==="fulfilled"||c==="rejected"}function nh(){}function cc(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(nh,nh),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===lc?Error(n(483)):c;default:if(typeof f.status=="string")f.then(nh,nh);else{if(c=ui,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=f,c.status="pending",c.then(function(_){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=_}},function(_){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===lc?Error(n(483)):c}throw Tf=f,lc}}var Tf=null;function ri(){if(Tf===null)throw Error(n(459));var c=Tf;return Tf=null,c}var uc=null,ih=0;function rh(c){var f=ih;return ih+=1,uc===null&&(uc=[]),cc(uc,c,f)}function ah(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Jp(c,f){throw f.$$typeof===a?Error(n(525)):(c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function v1(c){var f=c._init;return f(c._payload)}function y1(c){function f(Fe,Re){if(c){var Ve=Fe.deletions;Ve===null?(Fe.deletions=[Re],Fe.flags|=16):Ve.push(Re)}}function g(Fe,Re){if(!c)return null;for(;Re!==null;)f(Fe,Re),Re=Re.sibling;return null}function _(Fe){for(var Re=new Map;Fe!==null;)Fe.key!==null?Re.set(Fe.key,Fe):Re.set(Fe.index,Fe),Fe=Fe.sibling;return Re}function T(Fe,Re){return Fe=_a(Fe,Re),Fe.index=0,Fe.sibling=null,Fe}function D(Fe,Re,Ve){return Fe.index=Ve,c?(Ve=Fe.alternate,Ve!==null?(Ve=Ve.index,Ve<Re?(Fe.flags|=33554434,Re):Ve):(Fe.flags|=33554434,Re)):(Fe.flags|=1048576,Re)}function k(Fe){return c&&Fe.alternate===null&&(Fe.flags|=33554434),Fe}function te(Fe,Re,Ve,yt){return Re===null||Re.tag!==6?(Re=mr(Ve,Fe.mode,yt),Re.return=Fe,Re):(Re=T(Re,Ve),Re.return=Fe,Re)}function _e(Fe,Re,Ve,yt){var Wt=Ve.type;return Wt===l?dt(Fe,Re,Ve.props.children,yt,Ve.key):Re!==null&&(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===M&&v1(Wt)===Re.type)?(Re=T(Re,Ve.props),ah(Re,Ve),Re.return=Fe,Re):(Re=zf(Ve.type,Ve.key,Ve.props,null,Fe.mode,yt),ah(Re,Ve),Re.return=Fe,Re)}function Oe(Fe,Re,Ve,yt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ve.containerInfo||Re.stateNode.implementation!==Ve.implementation?(Re=vh(Ve,Fe.mode,yt),Re.return=Fe,Re):(Re=T(Re,Ve.children||[]),Re.return=Fe,Re)}function dt(Fe,Re,Ve,yt,Wt){return Re===null||Re.tag!==7?(Re=Rc(Ve,Fe.mode,yt,Wt),Re.return=Fe,Re):(Re=T(Re,Ve),Re.return=Fe,Re)}function bt(Fe,Re,Ve){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=mr(""+Re,Fe.mode,Ve),Re.return=Fe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case s:return Ve=zf(Re.type,Re.key,Re.props,null,Fe.mode,Ve),ah(Ve,Re),Ve.return=Fe,Ve;case o:return Re=vh(Re,Fe.mode,Ve),Re.return=Fe,Re;case M:var yt=Re._init;return Re=yt(Re._payload),bt(Fe,Re,Ve)}if(pe(Re)||U(Re))return Re=Rc(Re,Fe.mode,Ve,null),Re.return=Fe,Re;if(typeof Re.then=="function")return bt(Fe,rh(Re),Ve);if(Re.$$typeof===y)return bt(Fe,hm(Fe,Re),Ve);Jp(Fe,Re)}return null}function $e(Fe,Re,Ve,yt){var Wt=Re!==null?Re.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Wt!==null?null:te(Fe,Re,""+Ve,yt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case s:return Ve.key===Wt?_e(Fe,Re,Ve,yt):null;case o:return Ve.key===Wt?Oe(Fe,Re,Ve,yt):null;case M:return Wt=Ve._init,Ve=Wt(Ve._payload),$e(Fe,Re,Ve,yt)}if(pe(Ve)||U(Ve))return Wt!==null?null:dt(Fe,Re,Ve,yt,null);if(typeof Ve.then=="function")return $e(Fe,Re,rh(Ve),yt);if(Ve.$$typeof===y)return $e(Fe,Re,hm(Fe,Ve),yt);Jp(Fe,Ve)}return null}function ct(Fe,Re,Ve,yt,Wt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Fe=Fe.get(Ve)||null,te(Re,Fe,""+yt,Wt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case s:return Fe=Fe.get(yt.key===null?Ve:yt.key)||null,_e(Re,Fe,yt,Wt);case o:return Fe=Fe.get(yt.key===null?Ve:yt.key)||null,Oe(Re,Fe,yt,Wt);case M:var Pn=yt._init;return yt=Pn(yt._payload),ct(Fe,Re,Ve,yt,Wt)}if(pe(yt)||U(yt))return Fe=Fe.get(Ve)||null,dt(Re,Fe,yt,Wt,null);if(typeof yt.then=="function")return ct(Fe,Re,Ve,rh(yt),Wt);if(yt.$$typeof===y)return ct(Fe,Re,Ve,hm(Re,yt),Wt);Jp(Re,yt)}return null}function Jt(Fe,Re,Ve,yt){for(var Wt=null,Pn=null,nn=Re,cn=Re=0,oa=null;nn!==null&&cn<Ve.length;cn++){nn.index>cn?(oa=nn,nn=null):oa=nn.sibling;var ai=$e(Fe,nn,Ve[cn],yt);if(ai===null){nn===null&&(nn=oa);break}c&&nn&&ai.alternate===null&&f(Fe,nn),Re=D(ai,Re,cn),Pn===null?Wt=ai:Pn.sibling=ai,Pn=ai,nn=oa}if(cn===Ve.length)return g(Fe,nn),qn&&ma(Fe,cn),Wt;if(nn===null){for(;cn<Ve.length;cn++)nn=bt(Fe,Ve[cn],yt),nn!==null&&(Re=D(nn,Re,cn),Pn===null?Wt=nn:Pn.sibling=nn,Pn=nn);return qn&&ma(Fe,cn),Wt}for(nn=_(nn);cn<Ve.length;cn++)oa=ct(nn,Fe,cn,Ve[cn],yt),oa!==null&&(c&&oa.alternate!==null&&nn.delete(oa.key===null?cn:oa.key),Re=D(oa,Re,cn),Pn===null?Wt=oa:Pn.sibling=oa,Pn=oa);return c&&nn.forEach(function(Kf){return f(Fe,Kf)}),qn&&ma(Fe,cn),Wt}function yn(Fe,Re,Ve,yt){if(Ve==null)throw Error(n(151));for(var Wt=null,Pn=null,nn=Re,cn=Re=0,oa=null,ai=Ve.next();nn!==null&&!ai.done;cn++,ai=Ve.next()){nn.index>cn?(oa=nn,nn=null):oa=nn.sibling;var Kf=$e(Fe,nn,ai.value,yt);if(Kf===null){nn===null&&(nn=oa);break}c&&nn&&Kf.alternate===null&&f(Fe,nn),Re=D(Kf,Re,cn),Pn===null?Wt=Kf:Pn.sibling=Kf,Pn=Kf,nn=oa}if(ai.done)return g(Fe,nn),qn&&ma(Fe,cn),Wt;if(nn===null){for(;!ai.done;cn++,ai=Ve.next())ai=bt(Fe,ai.value,yt),ai!==null&&(Re=D(ai,Re,cn),Pn===null?Wt=ai:Pn.sibling=ai,Pn=ai);return qn&&ma(Fe,cn),Wt}for(nn=_(nn);!ai.done;cn++,ai=Ve.next())ai=ct(nn,Fe,cn,ai.value,yt),ai!==null&&(c&&ai.alternate!==null&&nn.delete(ai.key===null?cn:ai.key),Re=D(ai,Re,cn),Pn===null?Wt=ai:Pn.sibling=ai,Pn=ai);return c&&nn.forEach(function(E6){return f(Fe,E6)}),qn&&ma(Fe,cn),Wt}function yr(Fe,Re,Ve,yt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===l&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case s:e:{for(var Wt=Ve.key;Re!==null;){if(Re.key===Wt){if(Wt=Ve.type,Wt===l){if(Re.tag===7){g(Fe,Re.sibling),yt=T(Re,Ve.props.children),yt.return=Fe,Fe=yt;break e}}else if(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===M&&v1(Wt)===Re.type){g(Fe,Re.sibling),yt=T(Re,Ve.props),ah(yt,Ve),yt.return=Fe,Fe=yt;break e}g(Fe,Re);break}else f(Fe,Re);Re=Re.sibling}Ve.type===l?(yt=Rc(Ve.props.children,Fe.mode,yt,Ve.key),yt.return=Fe,Fe=yt):(yt=zf(Ve.type,Ve.key,Ve.props,null,Fe.mode,yt),ah(yt,Ve),yt.return=Fe,Fe=yt)}return k(Fe);case o:e:{for(Wt=Ve.key;Re!==null;){if(Re.key===Wt)if(Re.tag===4&&Re.stateNode.containerInfo===Ve.containerInfo&&Re.stateNode.implementation===Ve.implementation){g(Fe,Re.sibling),yt=T(Re,Ve.children||[]),yt.return=Fe,Fe=yt;break e}else{g(Fe,Re);break}else f(Fe,Re);Re=Re.sibling}yt=vh(Ve,Fe.mode,yt),yt.return=Fe,Fe=yt}return k(Fe);case M:return Wt=Ve._init,Ve=Wt(Ve._payload),yr(Fe,Re,Ve,yt)}if(pe(Ve))return Jt(Fe,Re,Ve,yt);if(U(Ve)){if(Wt=U(Ve),typeof Wt!="function")throw Error(n(150));return Ve=Wt.call(Ve),yn(Fe,Re,Ve,yt)}if(typeof Ve.then=="function")return yr(Fe,Re,rh(Ve),yt);if(Ve.$$typeof===y)return yr(Fe,Re,hm(Fe,Ve),yt);Jp(Fe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Re!==null&&Re.tag===6?(g(Fe,Re.sibling),yt=T(Re,Ve),yt.return=Fe,Fe=yt):(g(Fe,Re),yt=mr(Ve,Fe.mode,yt),yt.return=Fe,Fe=yt),k(Fe)):g(Fe,Re)}return function(Fe,Re,Ve,yt){try{ih=0;var Wt=yr(Fe,Re,Ve,yt);return uc=null,Wt}catch(nn){if(nn===lc)throw nn;var Pn=er(29,nn,null,Fe.mode);return Pn.lanes=yt,Pn.return=Fe,Pn}finally{}}}var dl=y1(!0),hl=y1(!1),pu=be(null),mu=be(0);function fc(c,f){c=Rl,ze(mu,c),ze(pu,f),Rl=c|f.baseLanes}function Zp(){ze(mu,Rl),ze(pu,pu.current)}function sh(){Rl=mu.current,je(pu),je(mu)}var Na=be(null),Mo=null;function pl(c){var f=c.alternate;ze(dr,dr.current&1),ze(Na,c),Mo===null&&(f===null||pu.current!==null||f.memoizedState!==null)&&(Mo=c)}function d0(c){if(c.tag===22){if(ze(dr,dr.current),ze(Na,c),Mo===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Mo=c)}}else ml()}function ml(){ze(dr,dr.current),ze(Na,Na.current)}function Co(c){je(Na),Mo===c&&(Mo=null),je(dr)}var dr=be(0);function Mf(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Nn=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,_){c.push(_)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},O2=r.unstable_scheduleCallback,$a=r.unstable_NormalPriority,qi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h0(){return{controller:new Nn,data:new Map,refCount:0}}function dc(c){c.refCount--,c.refCount===0&&O2($a,function(){c.controller.abort()})}var wo=null,hc=0,gu=0,pc=null;function N2(c,f){if(wo===null){var g=wo=[];hc=0,gu=k2(),pc={status:"pending",value:void 0,then:function(_){g.push(_)}}}return hc++,f.then(p0,p0),f}function p0(){if(--hc===0&&wo!==null){pc!==null&&(pc.status="fulfilled");var c=wo;wo=null,gu=0,pc=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function mc(c,f){var g=[],_={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return c.then(function(){_.status="fulfilled",_.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(_.status="rejected",_.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),_}var $p=N.S;N.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&N2(c,f),$p!==null&&$p(c,f)};var gl=be(null);function oh(){var c=gl.current;return c!==null?c:ui.pooledCache}function Cf(c,f){f===null?ze(gl,gl.current):ze(gl,f.pool)}function vl(){var c=oh();return c===null?null:{parent:qi._currentValue,pool:c}}var yl=0,Mn=null,oi=null,hr=null,ln=!1,gc=!1,vc=!1,wf=0,yc=0,Rf=null,U2=0;function zi(){throw Error(n(321))}function vu(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Ra(c[g],f[g]))return!1;return!0}function m0(c,f,g,_,T,D){return yl=D,Mn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,N.H=c===null||c.memoizedState===null?xc:xl,vc=!1,D=g(_,T),vc=!1,gc&&(D=x1(f,g,_,T)),_1(c),D}function _1(c){N.H=Do;var f=oi!==null&&oi.next!==null;if(yl=0,hr=oi=Mn=null,ln=!1,yc=0,Rf=null,f)throw Error(n(300));c===null||Mr||(c=c.dependencies,c!==null&&Uf(c)&&(Mr=!0))}function x1(c,f,g,_){Mn=c;var T=0;do{if(gc&&(Rf=null),yc=0,gc=!1,25<=T)throw Error(n(301));if(T+=1,hr=oi=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}N.H=xu,D=f(g,_)}while(gc);return D}function L2(){var c=N.H,f=c.useState()[0];return f=typeof f.then=="function"?ch(f):f,c=c.useState()[0],(oi!==null?oi.memoizedState:null)!==c&&(Mn.flags|=1024),f}function g0(){var c=wf!==0;return wf=0,c}function lh(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function Qp(c){if(ln){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ln=!1}yl=0,hr=oi=Mn=null,gc=!1,yc=wf=0,Rf=null}function Wr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Mn.memoizedState=hr=c:hr=hr.next=c,hr}function Ki(){if(oi===null){var c=Mn.alternate;c=c!==null?c.memoizedState:null}else c=oi.next;var f=hr===null?Mn.memoizedState:hr.next;if(f!==null)hr=f,oi=c;else{if(c===null)throw Mn.alternate===null?Error(n(467)):Error(n(310));oi=c,c={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},hr===null?Mn.memoizedState=hr=c:hr=hr.next=c}return hr}var em;em=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ch(c){var f=yc;return yc+=1,Rf===null&&(Rf=[]),c=cc(Rf,c,f),f=Mn,(hr===null?f.memoizedState:hr.next)===null&&(f=f.alternate,N.H=f===null||f.memoizedState===null?xc:xl),c}function Df(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ch(c);if(c.$$typeof===y)return ta(c)}throw Error(n(438,String(c)))}function $s(c){var f=null,g=Mn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var _=Mn.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=em(),Mn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),_=0;_<c;_++)g[_]=w;return f.index++,g}function Bi(c,f){return typeof f=="function"?f(c):f}function Qs(c){var f=Ki();return Ua(f,oi,c)}function Ua(c,f,g){var _=c.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=g;var T=c.baseQueue,D=_.pending;if(D!==null){if(T!==null){var k=T.next;T.next=D.next,D.next=k}f.baseQueue=T=D,_.pending=null}if(D=c.baseState,T===null)c.memoizedState=D;else{f=T.next;var te=k=null,_e=null,Oe=f,dt=!1;do{var bt=Oe.lane&-536870913;if(bt!==Oe.lane?(rn&bt)===bt:(yl&bt)===bt){var $e=Oe.revertLane;if($e===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),bt===gu&&(dt=!0);else if((yl&$e)===$e){Oe=Oe.next,$e===gu&&(dt=!0);continue}else bt={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},_e===null?(te=_e=bt,k=D):_e=_e.next=bt,Mn.lanes|=$e,so|=$e;bt=Oe.action,vc&&g(D,bt),D=Oe.hasEagerState?Oe.eagerState:g(D,bt)}else $e={lane:bt,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},_e===null?(te=_e=$e,k=D):_e=_e.next=$e,Mn.lanes|=bt,so|=bt;Oe=Oe.next}while(Oe!==null&&Oe!==f);if(_e===null?k=D:_e.next=te,!Ra(D,c.memoizedState)&&(Mr=!0,dt&&(g=pc,g!==null)))throw g;c.memoizedState=D,c.baseState=k,c.baseQueue=_e,_.lastRenderedState=D}return T===null&&(_.lanes=0),[c.memoizedState,_.dispatch]}function tm(c){var f=Ki(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var _=g.dispatch,T=g.pending,D=f.memoizedState;if(T!==null){g.pending=null;var k=T=T.next;do D=c(D,k.action),k=k.next;while(k!==T);Ra(D,f.memoizedState)||(Mr=!0),f.memoizedState=D,f.baseQueue===null&&(f.baseState=D),g.lastRenderedState=D}return[D,_]}function b1(c,f,g){var _=Mn,T=Ki(),D=qn;if(D){if(g===void 0)throw Error(n(407));g=g()}else g=f();var k=!Ra((oi||T).memoizedState,g);if(k&&(T.memoizedState=g,Mr=!0),T=T.queue,x0(A1.bind(null,_,T,c),[c]),T.getSnapshot!==f||k||hr!==null&&hr.memoizedState.tag&1){if(_.flags|=2048,Ro(9,_c.bind(null,_,T,g,f),{destroy:void 0},null),ui===null)throw Error(n(349));D||(yl&60)!==0||ga(_,f,g)}return g}function ga(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=Mn.updateQueue,f===null?(f=em(),Mn.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function _c(c,f,g,_){f.value=g,f.getSnapshot=_,S1(f)&&E1(c)}function A1(c,f,g){return g(function(){S1(f)&&E1(c)})}function S1(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Ra(c,g)}catch{return!0}}function E1(c){var f=cl(c,2);f!==null&&vr(f,c,2)}function v0(c){var f=Wr();if(typeof c=="function"){var g=c;if(c=g(),vc){wt(!0);try{g()}finally{wt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:c},f}function y0(c,f,g,_){return c.baseState=g,Ua(c,oi,typeof _=="function"?_:Bi)}function I2(c,f,g,_,T){if(sm(c))throw Error(n(485));if(c=f.action,c!==null){var D={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){D.listeners.push(k)}};N.T!==null?g(!0):D.isTransition=!1,_(D),g=f.pending,g===null?(D.next=f.pending=D,_0(f,D)):(D.next=g.next,f.pending=g.next=D)}}function _0(c,f){var g=f.action,_=f.payload,T=c.state;if(f.isTransition){var D=N.T,k={};N.T=k;try{var te=g(T,_),_e=N.S;_e!==null&&_e(k,te),T1(c,f,te)}catch(Oe){_l(c,f,Oe)}finally{N.T=D}}else try{D=g(T,_),T1(c,f,D)}catch(Oe){_l(c,f,Oe)}}function T1(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(_){yu(c,f,_)},function(_){return _l(c,f,_)}):yu(c,f,g)}function yu(c,f,g){f.status="fulfilled",f.value=g,M1(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,_0(c,g)))}function _l(c,f,g){var _=c.pending;if(c.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=g,M1(f),f=f.next;while(f!==_)}c.action=null}function M1(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function C1(c,f){return f}function w1(c,f){if(qn){var g=ui.formState;if(g!==null){e:{var _=Mn;if(qn){if(Nr){t:{for(var T=Nr,D=As;T.nodeType!==8;){if(!D){T=null;break t}if(T=Ol(T.nextSibling),T===null){T=null;break t}}D=T.data,T=D==="F!"||D==="F"?T:null}if(T){Nr=Ol(T.nextSibling),_=T.data==="F!";break e}}hu(_)}_=!1}_&&(f=g[0])}}return g=Wr(),g.memoizedState=g.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:f},g.queue=_,g=E0.bind(null,Mn,_),_.dispatch=g,_=v0(!1),D=uh.bind(null,Mn,!1,_.queue),_=Wr(),T={state:f,dispatch:null,action:c,pending:null},_.queue=T,g=I2.bind(null,Mn,T,D,g),T.dispatch=g,_.memoizedState=c,[f,g,!1]}function Bf(c){var f=Ki();return R1(f,oi,c)}function R1(c,f,g){f=Ua(c,f,C1)[0],c=Qs(Bi)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?ch(f):f;var _=Ki(),T=_.queue,D=T.dispatch;return g!==_.memoizedState&&(Mn.flags|=2048,Ro(9,P2.bind(null,T,g),{destroy:void 0},null)),[f,D,c]}function P2(c,f){c.action=f}function D1(c){var f=Ki(),g=oi;if(g!==null)return R1(f,g,c);Ki(),f=f.memoizedState,g=Ki();var _=g.queue.dispatch;return g.memoizedState=c,[f,_,!1]}function Ro(c,f,g,_){return c={tag:c,create:f,inst:g,deps:_,next:null},f=Mn.updateQueue,f===null&&(f=em(),Mn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(_=g.next,g.next=c,c.next=_,f.lastEffect=c),c}function B1(){return Ki().memoizedState}function nm(c,f,g,_){var T=Wr();Mn.flags|=c,T.memoizedState=Ro(1|f,g,{destroy:void 0},_===void 0?null:_)}function im(c,f,g,_){var T=Ki();_=_===void 0?null:_;var D=T.memoizedState.inst;oi!==null&&_!==null&&vu(_,oi.memoizedState.deps)?T.memoizedState=Ro(f,g,D,_):(Mn.flags|=c,T.memoizedState=Ro(1|f,g,D,_))}function O1(c,f){nm(8390656,8,c,f)}function x0(c,f){im(2048,8,c,f)}function N1(c,f){return im(4,2,c,f)}function U1(c,f){return im(4,4,c,f)}function L1(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function I1(c,f,g){g=g!=null?g.concat([c]):null,im(4,4,L1.bind(null,f,c),g)}function b0(){}function P1(c,f){var g=Ki();f=f===void 0?null:f;var _=g.memoizedState;return f!==null&&vu(f,_[1])?_[0]:(g.memoizedState=[c,f],c)}function F1(c,f){var g=Ki();f=f===void 0?null:f;var _=g.memoizedState;if(f!==null&&vu(f,_[1]))return _[0];if(_=c(),vc){wt(!0);try{c()}finally{wt(!1)}}return g.memoizedState=[_,f],_}function rm(c,f,g){return g===void 0||(yl&1073741824)!==0?c.memoizedState=f:(c.memoizedState=g,c=is(),Mn.lanes|=c,so|=c,g)}function H1(c,f,g,_){return Ra(g,f)?g:pu.current!==null?(c=rm(c,g,_),Ra(c,f)||(Mr=!0),c):(yl&42)===0?(Mr=!0,c.memoizedState=g):(c=is(),Mn.lanes|=c,so|=c,f)}function z1(c,f,g,_,T){var D=Q.p;Q.p=D!==0&&8>D?D:8;var k=N.T,te={};N.T=te,uh(c,!1,f,g);try{var _e=T(),Oe=N.S;if(Oe!==null&&Oe(te,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var dt=mc(_e,_);_u(c,f,dt,ba(c))}else _u(c,f,_,ba(c))}catch(bt){_u(c,f,{then:function(){},status:"rejected",reason:bt},ba())}finally{Q.p=D,N.T=k}}function F2(){}function A0(c,f,g,_){if(c.tag!==5)throw Error(n(476));var T=G1(c).queue;z1(c,T,f,ce,g===null?F2:function(){return k1(c),g(_)})}function G1(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ce},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function k1(c){var f=G1(c).next.queue;_u(c,f,{},ba())}function am(){return ta(K0)}function S0(){return Ki().memoizedState}function V1(){return Ki().memoizedState}function j1(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=ba();c=ts(g);var _=ns(f,c,g);_!==null&&(vr(_,f,g),Sc(_,f,g)),f={cache:h0()},c.payload=f;return}f=f.return}}function X1(c,f,g){var _=ba();g={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},sm(c)?W1(f,g):(g=fu(c,f,g,_),g!==null&&(vr(g,c,_),Y1(g,f,_)))}function E0(c,f,g){var _=ba();_u(c,f,g,_)}function _u(c,f,g,_){var T={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(sm(c))W1(f,T);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=f.lastRenderedReducer,D!==null))try{var k=f.lastRenderedState,te=D(k,g);if(T.hasEagerState=!0,T.eagerState=te,Ra(te,k))return Jd(c,f,T,0),ui===null&&Kd(),!1}catch{}finally{}if(g=fu(c,f,T,_),g!==null)return vr(g,c,_),Y1(g,f,_),!0}return!1}function uh(c,f,g,_){if(_={lane:2,revertLane:k2(),action:_,hasEagerState:!1,eagerState:null,next:null},sm(c)){if(f)throw Error(n(479))}else f=fu(c,g,_,2),f!==null&&vr(f,c,2)}function sm(c){var f=c.alternate;return c===Mn||f!==null&&f===Mn}function W1(c,f){gc=ln=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function Y1(c,f,g){if((g&4194176)!==0){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,vi(c,g)}}var Do={readContext:ta,use:Df,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useInsertionEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useSyncExternalStore:zi,useId:zi};Do.useCacheRefresh=zi,Do.useMemoCache=zi,Do.useHostTransitionStatus=zi,Do.useFormState=zi,Do.useActionState=zi,Do.useOptimistic=zi;var xc={readContext:ta,use:Df,useCallback:function(c,f){return Wr().memoizedState=[c,f===void 0?null:f],c},useContext:ta,useEffect:O1,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,nm(4194308,4,L1.bind(null,f,c),g)},useLayoutEffect:function(c,f){return nm(4194308,4,c,f)},useInsertionEffect:function(c,f){nm(4,2,c,f)},useMemo:function(c,f){var g=Wr();f=f===void 0?null:f;var _=c();if(vc){wt(!0);try{c()}finally{wt(!1)}}return g.memoizedState=[_,f],_},useReducer:function(c,f,g){var _=Wr();if(g!==void 0){var T=g(f);if(vc){wt(!0);try{g(f)}finally{wt(!1)}}}else T=f;return _.memoizedState=_.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},_.queue=c,c=c.dispatch=X1.bind(null,Mn,c),[_.memoizedState,c]},useRef:function(c){var f=Wr();return c={current:c},f.memoizedState=c},useState:function(c){c=v0(c);var f=c.queue,g=E0.bind(null,Mn,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:b0,useDeferredValue:function(c,f){var g=Wr();return rm(g,c,f)},useTransition:function(){var c=v0(!1);return c=z1.bind(null,Mn,c.queue,!0,!1),Wr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var _=Mn,T=Wr();if(qn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=f(),ui===null)throw Error(n(349));(rn&60)!==0||ga(_,f,g)}T.memoizedState=g;var D={value:g,getSnapshot:f};return T.queue=D,O1(A1.bind(null,_,D,c),[c]),_.flags|=2048,Ro(9,_c.bind(null,_,D,g,f),{destroy:void 0},null),g},useId:function(){var c=Wr(),f=ui.identifierPrefix;if(qn){var g=fl,_=Eo;g=(_&~(1<<32-xt(_)-1)).toString(32)+g,f=":"+f+"R"+g,g=wf++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=U2++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return Wr().memoizedState=j1.bind(null,Mn)}};xc.useMemoCache=$s,xc.useHostTransitionStatus=am,xc.useFormState=w1,xc.useActionState=w1,xc.useOptimistic=function(c){var f=Wr();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=uh.bind(null,Mn,!0,g),g.dispatch=f,[c,f]};var xl={readContext:ta,use:Df,useCallback:P1,useContext:ta,useEffect:x0,useImperativeHandle:I1,useInsertionEffect:N1,useLayoutEffect:U1,useMemo:F1,useReducer:Qs,useRef:B1,useState:function(){return Qs(Bi)},useDebugValue:b0,useDeferredValue:function(c,f){var g=Ki();return H1(g,oi.memoizedState,c,f)},useTransition:function(){var c=Qs(Bi)[0],f=Ki().memoizedState;return[typeof c=="boolean"?c:ch(c),f]},useSyncExternalStore:b1,useId:S0};xl.useCacheRefresh=V1,xl.useMemoCache=$s,xl.useHostTransitionStatus=am,xl.useFormState=Bf,xl.useActionState=Bf,xl.useOptimistic=function(c,f){var g=Ki();return y0(g,oi,c,f)};var xu={readContext:ta,use:Df,useCallback:P1,useContext:ta,useEffect:x0,useImperativeHandle:I1,useInsertionEffect:N1,useLayoutEffect:U1,useMemo:F1,useReducer:tm,useRef:B1,useState:function(){return tm(Bi)},useDebugValue:b0,useDeferredValue:function(c,f){var g=Ki();return oi===null?rm(g,c,f):H1(g,oi.memoizedState,c,f)},useTransition:function(){var c=tm(Bi)[0],f=Ki().memoizedState;return[typeof c=="boolean"?c:ch(c),f]},useSyncExternalStore:b1,useId:S0};xu.useCacheRefresh=V1,xu.useMemoCache=$s,xu.useHostTransitionStatus=am,xu.useFormState=D1,xu.useActionState=D1,xu.useOptimistic=function(c,f){var g=Ki();return oi!==null?y0(g,oi,c,f):(g.baseState=c,[c,g.queue.dispatch])};function T0(c,f,g,_){f=c.memoizedState,g=g(_,f),g=g==null?f:L({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var M0={isMounted:function(c){return(c=c._reactInternals)?le(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var _=ba(),T=ts(_);T.payload=f,g!=null&&(T.callback=g),f=ns(c,T,_),f!==null&&(vr(f,c,_),Sc(f,c,_))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var _=ba(),T=ts(_);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=ns(c,T,_),f!==null&&(vr(f,c,_),Sc(f,c,_))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=ba(),_=ts(g);_.tag=2,f!=null&&(_.callback=f),f=ns(c,_,g),f!==null&&(vr(f,c,g),Sc(f,c,g))}};function q1(c,f,g,_,T,D,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,D,k):f.prototype&&f.prototype.isPureReactComponent?!Zs(g,_)||!Zs(T,D):!0}function K1(c,f,g,_){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,_),f.state!==c&&M0.enqueueReplaceState(f,f.state,null)}function bu(c,f){var g=f;if("ref"in f){g={};for(var _ in f)_!=="ref"&&(g[_]=f[_])}if(c=c.defaultProps){g===f&&(g=L({},g));for(var T in c)g[T]===void 0&&(g[T]=c[T])}return g}var om=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function J1(c){om(c)}function Z1(c){console.error(c)}function $1(c){om(c)}function lm(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function Q1(c,f,g){try{var _=c.onCaughtError;_(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function C0(c,f,g){return g=ts(g),g.tag=3,g.payload={element:null},g.callback=function(){lm(c,f)},g}function w0(c){return c=ts(c),c.tag=3,c}function e_(c,f,g,_){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var D=_.value;c.payload=function(){return T(D)},c.callback=function(){Q1(f,g,_)}}var k=g.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Q1(f,g,_),typeof T!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var te=_.stack;this.componentDidCatch(_.value,{componentStack:te!==null?te:""})})}function H2(c,f,g,_,T){if(g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=g.alternate,f!==null&&dh(f,g,T,!0),g=Na.current,g!==null){switch(g.tag){case 13:return Mo===null?xh():g.alternate===null&&wi===0&&(wi=3),g.flags&=-257,g.flags|=65536,g.lanes=T,_===Kp?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([_]):f.add(_),gn(c,_,T)),!1;case 22:return g.flags|=65536,_===Kp?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([_]):g.add(_)),gn(c,_,T)),!1}throw Error(n(435,g.tag))}return gn(c,_,T),xh(),!1}if(qn)return f=Na.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,_!==th&&(c=Error(n(422),{cause:_}),To(Oa(c,g)))):(_!==th&&(f=Error(n(423),{cause:_}),To(Oa(f,g))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,_=Oa(_,g),T=C0(c.stateNode,_,T),If(c,T),wi!==4&&(wi=2)),!1;var D=Error(n(520),{cause:_});if(D=Oa(D,g),_h===null?_h=[D]:_h.push(D),wi!==4&&(wi=2),f===null)return!0;_=Oa(_,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=T&-T,g.lanes|=c,c=C0(g.stateNode,_,c),If(g,c),!1;case 1:if(f=g.type,D=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(gr===null||!gr.has(D))))return g.flags|=65536,T&=-T,g.lanes|=T,T=w0(T),e_(T,c,g,_),If(g,T),!1}g=g.return}while(g!==null);return!1}var Qa=Error(n(461)),Mr=!1;function Cr(c,f,g,_){f.child=c===null?hl(f,null,g,_):dl(f,c.child,g,_)}function R0(c,f,g,_,T){g=g.render;var D=f.ref;if("ref"in _){var k={};for(var te in _)te!=="ref"&&(k[te]=_[te])}else k=_;return Su(f),_=m0(c,f,g,k,D,T),te=g0(),c!==null&&!Mr?(lh(c,f,T),Ji(c,f,T)):(qn&&te&&eh(f),f.flags|=1,Cr(c,f,_,T),f.child)}function D0(c,f,g,_,T){if(c===null){var D=g.type;return typeof D=="function"&&!Cl(D)&&D.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=D,B0(c,f,D,_,T)):(c=zf(g.type,null,_,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(D=c.child,!F0(c,T)){var k=D.memoizedProps;if(g=g.compare,g=g!==null?g:Zs,g(k,_)&&c.ref===f.ref)return Ji(c,f,T)}return f.flags|=1,c=_a(D,_),c.ref=f.ref,c.return=f,f.child=c}function B0(c,f,g,_,T){if(c!==null){var D=c.memoizedProps;if(Zs(D,_)&&c.ref===f.ref)if(Mr=!1,f.pendingProps=_=D,F0(c,T))(c.flags&131072)!==0&&(Mr=!0);else return f.lanes=c.lanes,Ji(c,f,T)}return N0(c,f,g,_,T)}function t_(c,f,g){var _=f.pendingProps,T=_.children,D=(f.stateNode._pendingVisibility&2)!==0,k=c!==null?c.memoizedState:null;if(Of(c,f),_.mode==="hidden"||D){if((f.flags&128)!==0){if(_=k!==null?k.baseLanes|g:g,c!==null){for(T=f.child=c.child,D=0;T!==null;)D=D|T.lanes|T.childLanes,T=T.sibling;f.childLanes=D&~_}else f.childLanes=0,f.child=null;return O0(c,f,_,g)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Cf(f,k!==null?k.cachePool:null),k!==null?fc(f,k):Zp(),d0(f);else return f.lanes=f.childLanes=536870912,O0(c,f,k!==null?k.baseLanes|g:g,g)}else k!==null?(Cf(f,k.cachePool),fc(f,k),ml(),f.memoizedState=null):(c!==null&&Cf(f,null),Zp(),ml());return Cr(c,f,T,g),f.child}function O0(c,f,g,_){var T=oh();return T=T===null?null:{parent:qi._currentValue,pool:T},f.memoizedState={baseLanes:g,cachePool:T},c!==null&&Cf(f,null),Zp(),d0(f),c!==null&&dh(c,f,_,!0),null}function Of(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(c===null||c.ref!==g)&&(f.flags|=2097664)}}function N0(c,f,g,_,T){return Su(f),g=m0(c,f,g,_,void 0,T),_=g0(),c!==null&&!Mr?(lh(c,f,T),Ji(c,f,T)):(qn&&_&&eh(f),f.flags|=1,Cr(c,f,g,T),f.child)}function n_(c,f,g,_,T,D){return Su(f),f.updateQueue=null,g=x1(f,_,g,T),_1(c),_=g0(),c!==null&&!Mr?(lh(c,f,D),Ji(c,f,D)):(qn&&_&&eh(f),f.flags|=1,Cr(c,f,g,D),f.child)}function i_(c,f,g,_,T){if(Su(f),f.stateNode===null){var D=ac,k=g.contextType;typeof k=="object"&&k!==null&&(D=ta(k)),D=new g(_,D),f.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=M0,f.stateNode=D,D._reactInternals=f,D=f.stateNode,D.props=_,D.state=f.memoizedState,D.refs={},va(f),k=g.contextType,D.context=typeof k=="object"&&k!==null?ta(k):ac,D.state=f.memoizedState,k=g.getDerivedStateFromProps,typeof k=="function"&&(T0(f,g,k,_),D.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(k=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),k!==D.state&&M0.enqueueReplaceState(D,D.state,null),to(f,_,D,T),na(),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(c===null){D=f.stateNode;var te=f.memoizedProps,_e=bu(g,te);D.props=_e;var Oe=D.context,dt=g.contextType;k=ac,typeof dt=="object"&&dt!==null&&(k=ta(dt));var bt=g.getDerivedStateFromProps;dt=typeof bt=="function"||typeof D.getSnapshotBeforeUpdate=="function",te=f.pendingProps!==te,dt||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(te||Oe!==k)&&K1(f,D,_,k),pr=!1;var $e=f.memoizedState;D.state=$e,to(f,_,D,T),na(),Oe=f.memoizedState,te||$e!==Oe||pr?(typeof bt=="function"&&(T0(f,g,bt,_),Oe=f.memoizedState),(_e=pr||q1(f,g,_e,_,$e,Oe,k))?(dt||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(f.flags|=4194308)):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=Oe),D.props=_,D.state=Oe,D.context=k,_=_e):(typeof D.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{D=f.stateNode,pm(c,f),k=f.memoizedProps,dt=bu(g,k),D.props=dt,bt=f.pendingProps,$e=D.context,Oe=g.contextType,_e=ac,typeof Oe=="object"&&Oe!==null&&(_e=ta(Oe)),te=g.getDerivedStateFromProps,(Oe=typeof te=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(k!==bt||$e!==_e)&&K1(f,D,_,_e),pr=!1,$e=f.memoizedState,D.state=$e,to(f,_,D,T),na();var ct=f.memoizedState;k!==bt||$e!==ct||pr||c!==null&&c.dependencies!==null&&Uf(c.dependencies)?(typeof te=="function"&&(T0(f,g,te,_),ct=f.memoizedState),(dt=pr||q1(f,g,dt,_,$e,ct,_e)||c!==null&&c.dependencies!==null&&Uf(c.dependencies))?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(_,ct,_e),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(_,ct,_e)),typeof D.componentDidUpdate=="function"&&(f.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof D.componentDidUpdate!="function"||k===c.memoizedProps&&$e===c.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&$e===c.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=ct),D.props=_,D.state=ct,D.context=_e,_=dt):(typeof D.componentDidUpdate!="function"||k===c.memoizedProps&&$e===c.memoizedState||(f.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&$e===c.memoizedState||(f.flags|=1024),_=!1)}return D=_,Of(c,f),_=(f.flags&128)!==0,D||_?(D=f.stateNode,g=_&&typeof g.getDerivedStateFromError!="function"?null:D.render(),f.flags|=1,c!==null&&_?(f.child=dl(f,c.child,null,T),f.child=dl(f,null,g,T)):Cr(c,f,g,T),f.memoizedState=D.state,c=f.child):c=Ji(c,f,T),c}function U0(c,f,g,_){return Ef(),f.flags|=256,Cr(c,f,g,_),f.child}var L0={dehydrated:null,treeContext:null,retryLane:0};function Ur(c){return{baseLanes:c,cachePool:vl()}}function cm(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=xa),c}function r_(c,f,g){var _=f.pendingProps,T=!1,D=(f.flags&128)!==0,k;if((k=D)||(k=c!==null&&c.memoizedState===null?!1:(dr.current&2)!==0),k&&(T=!0,f.flags&=-129),k=(f.flags&32)!==0,f.flags&=-33,c===null){if(qn){if(T?pl(f):ml(),qn){var te=Nr,_e;if(_e=te){e:{for(_e=te,te=As;_e.nodeType!==8;){if(!te){te=null;break e}if(_e=Ol(_e.nextSibling),_e===null){te=null;break e}}te=_e}te!==null?(f.memoizedState={dehydrated:te,treeContext:ul!==null?{id:Eo,overflow:fl}:null,retryLane:536870912},_e=er(18,null,null,0),_e.stateNode=te,_e.return=f,f.child=_e,ea=f,Nr=null,_e=!0):_e=!1}_e||hu(f)}if(te=f.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return te.data==="$!"?f.lanes=16:f.lanes=536870912,null;Co(f)}return te=_.children,_=_.fallback,T?(ml(),T=f.mode,te=P0({mode:"hidden",children:te},T),_=Rc(_,T,g,null),te.return=f,_.return=f,te.sibling=_,f.child=te,T=f.child,T.memoizedState=Ur(g),T.childLanes=cm(c,k,g),f.memoizedState=L0,_):(pl(f),I0(f,te))}if(_e=c.memoizedState,_e!==null&&(te=_e.dehydrated,te!==null)){if(D)f.flags&256?(pl(f),f.flags&=-257,f=um(c,f,g)):f.memoizedState!==null?(ml(),f.child=c.child,f.flags|=128,f=null):(ml(),T=_.fallback,te=f.mode,_=P0({mode:"visible",children:_.children},te),T=Rc(T,te,g,null),T.flags|=2,_.return=f,T.return=f,_.sibling=T,f.child=_,dl(f,c.child,null,g),_=f.child,_.memoizedState=Ur(g),_.childLanes=cm(c,k,g),f.memoizedState=L0,f=T);else if(pl(f),te.data==="$!"){if(k=te.nextSibling&&te.nextSibling.dataset,k)var Oe=k.dgst;k=Oe,_=Error(n(419)),_.stack="",_.digest=k,To({value:_,source:null,stack:null}),f=um(c,f,g)}else if(Mr||dh(c,f,g,!1),k=(g&c.childLanes)!==0,Mr||k){if(k=ui,k!==null){if(_=g&-g,(_&42)!==0)_=1;else switch(_){case 2:_=1;break;case 8:_=4;break;case 32:_=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:_=64;break;case 268435456:_=134217728;break;default:_=0}if(_=(_&(k.suspendedLanes|g))!==0?0:_,_!==0&&_!==_e.retryLane)throw _e.retryLane=_,cl(c,_),vr(k,c,_),Qa}te.data==="$?"||xh(),f=um(c,f,g)}else te.data==="$?"?(f.flags|=128,f.child=c.child,f=Du.bind(null,c),te._reactRetry=f,f=null):(c=_e.treeContext,Nr=Ol(te.nextSibling),ea=f,qn=!0,bs=null,As=!1,c!==null&&(yi[Za++]=Eo,yi[Za++]=fl,yi[Za++]=ul,Eo=c.id,fl=c.overflow,ul=f),f=I0(f,_.children),f.flags|=4096);return f}return T?(ml(),T=_.fallback,te=f.mode,_e=c.child,Oe=_e.sibling,_=_a(_e,{mode:"hidden",children:_.children}),_.subtreeFlags=_e.subtreeFlags&31457280,Oe!==null?T=_a(Oe,T):(T=Rc(T,te,g,null),T.flags|=2),T.return=f,_.return=f,_.sibling=T,f.child=_,_=T,T=f.child,te=c.child.memoizedState,te===null?te=Ur(g):(_e=te.cachePool,_e!==null?(Oe=qi._currentValue,_e=_e.parent!==Oe?{parent:Oe,pool:Oe}:_e):_e=vl(),te={baseLanes:te.baseLanes|g,cachePool:_e}),T.memoizedState=te,T.childLanes=cm(c,k,g),f.memoizedState=L0,_):(pl(f),g=c.child,c=g.sibling,g=_a(g,{mode:"visible",children:_.children}),g.return=f,g.sibling=null,c!==null&&(k=f.deletions,k===null?(f.deletions=[c],f.flags|=16):k.push(c)),f.child=g,f.memoizedState=null,g)}function I0(c,f){return f=P0({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function P0(c,f){return z0(c,f,0,null)}function um(c,f,g){return dl(f,c.child,null,g),c=I0(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function fm(c,f,g){c.lanes|=f;var _=c.alternate;_!==null&&(_.lanes|=f),es(c.return,f,g)}function bc(c,f,g,_,T){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:T}:(D.isBackwards=f,D.rendering=null,D.renderingStartTime=0,D.last=_,D.tail=g,D.tailMode=T)}function Au(c,f,g){var _=f.pendingProps,T=_.revealOrder,D=_.tail;if(Cr(c,f,_.children,g),_=dr.current,(_&2)!==0)_=_&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&fm(c,g,f);else if(c.tag===19)fm(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}switch(ze(dr,_),T){case"forwards":for(g=f.child,T=null;g!==null;)c=g.alternate,c!==null&&Mf(c)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),bc(f,!1,T,g,D);break;case"backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&Mf(c)===null){f.child=T;break}c=T.sibling,T.sibling=g,g=T,T=c}bc(f,!0,g,null,D);break;case"together":bc(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ji(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),so|=f.lanes,(g&f.childLanes)===0)if(c!==null){if(dh(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,g=_a(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=_a(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function F0(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Uf(c)))}function z2(c,f,g){switch(f.tag){case 3:Je(f,f.stateNode.containerInfo),Ac(f,qi,c.memoizedState.cache),Ef();break;case 27:case 5:Xe(f);break;case 4:Je(f,f.stateNode.containerInfo);break;case 10:Ac(f,f.type,f.memoizedProps.value);break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(pl(f),f.flags|=128,null):(g&f.child.childLanes)!==0?r_(c,f,g):(pl(f),c=Ji(c,f,g),c!==null?c.sibling:null);pl(f);break;case 19:var T=(c.flags&128)!==0;if(_=(g&f.childLanes)!==0,_||(dh(c,f,g,!1),_=(g&f.childLanes)!==0),T){if(_)return Au(c,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ze(dr,dr.current),_)break;return null;case 22:case 23:return f.lanes=0,t_(c,f,g);case 24:Ac(f,qi,c.memoizedState.cache)}return Ji(c,f,g)}function fh(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)Mr=!0;else{if(!F0(c,g)&&(f.flags&128)===0)return Mr=!1,z2(c,f,g);Mr=(c.flags&131072)!==0}else Mr=!1,qn&&(f.flags&1048576)!==0&&u0(f,Qd,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var _=f.elementType,T=_._init;if(_=T(_._payload),f.type=_,typeof _=="function")Cl(_)?(c=bu(_,c),f.tag=1,f=i_(null,f,_,c,g)):(f.tag=0,f=N0(null,f,_,c,g));else{if(_!=null){if(T=_.$$typeof,T===x){f.tag=11,f=R0(null,f,_,c,g);break e}else if(T===E){f.tag=14,f=D0(null,f,_,c,g);break e}}throw f=F(_)||_,Error(n(306,f,""))}}return f;case 0:return N0(c,f,f.type,f.pendingProps,g);case 1:return _=f.type,T=bu(_,f.pendingProps),i_(c,f,_,T,g);case 3:e:{if(Je(f,f.stateNode.containerInfo),c===null)throw Error(n(387));var D=f.pendingProps;T=f.memoizedState,_=T.element,pm(c,f),to(f,D,null,g);var k=f.memoizedState;if(D=k.cache,Ac(f,qi,D),D!==T.cache&&dm(f,[qi],g,!0),na(),D=k.element,T.isDehydrated)if(T={element:D,isDehydrated:!1,cache:k.cache},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){f=U0(c,f,D,g);break e}else if(D!==_){_=Oa(Error(n(424)),f),To(_),f=U0(c,f,D,g);break e}else for(Nr=Ol(f.stateNode.containerInfo.firstChild),ea=f,qn=!0,bs=null,As=!0,g=hl(f,null,D,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ef(),D===_){f=Ji(c,f,g);break e}Cr(c,f,D,g)}f=f.child}return f;case 26:return Of(c,f),c===null?(g=DR(f.type,null,f.pendingProps,null))?f.memoizedState=g:qn||(g=f.type,c=f.pendingProps,_=f_(we.current).createElement(g),_[bn]=f,_[sn]=c,Aa(_,g,c),oe(_),f.stateNode=_):f.memoizedState=DR(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Xe(f),c===null&&qn&&(_=f.stateNode=CR(f.type,f.pendingProps,we.current),ea=f,As=!0,Nr=Ol(_.firstChild)),_=f.pendingProps.children,c!==null||qn?Cr(c,f,_,g):f.child=dl(f,null,_,g),Of(c,f),f.child;case 5:return c===null&&qn&&((T=_=Nr)&&(_=e6(_,f.type,f.pendingProps,As),_!==null?(f.stateNode=_,ea=f,Nr=Ol(_.firstChild),As=!1,T=!0):T=!1),T||hu(f)),Xe(f),T=f.type,D=f.pendingProps,k=c!==null?c.memoizedProps:null,_=D.children,Z2(T,D)?_=null:k!==null&&Z2(T,k)&&(f.flags|=32),f.memoizedState!==null&&(T=m0(c,f,L2,null,null,g),K0._currentValue=T),Of(c,f),Cr(c,f,_,g),f.child;case 6:return c===null&&qn&&((c=g=Nr)&&(g=t6(g,f.pendingProps,As),g!==null?(f.stateNode=g,ea=f,Nr=null,c=!0):c=!1),c||hu(f)),null;case 13:return r_(c,f,g);case 4:return Je(f,f.stateNode.containerInfo),_=f.pendingProps,c===null?f.child=dl(f,null,_,g):Cr(c,f,_,g),f.child;case 11:return R0(c,f,f.type,f.pendingProps,g);case 7:return Cr(c,f,f.pendingProps,g),f.child;case 8:return Cr(c,f,f.pendingProps.children,g),f.child;case 12:return Cr(c,f,f.pendingProps.children,g),f.child;case 10:return _=f.pendingProps,Ac(f,f.type,_.value),Cr(c,f,_.children,g),f.child;case 9:return T=f.type._context,_=f.pendingProps.children,Su(f),T=ta(T),_=_(T),f.flags|=1,Cr(c,f,_,g),f.child;case 14:return D0(c,f,f.type,f.pendingProps,g);case 15:return B0(c,f,f.type,f.pendingProps,g);case 19:return Au(c,f,g);case 22:return t_(c,f,g);case 24:return Su(f),_=ta(qi),c===null?(T=oh(),T===null&&(T=ui,D=h0(),T.pooledCache=D,D.refCount++,D!==null&&(T.pooledCacheLanes|=g),T=D),f.memoizedState={parent:_,cache:T},va(f),Ac(f,qi,T)):((c.lanes&g)!==0&&(pm(c,f),to(f,null,null,g),na()),T=c.memoizedState,D=f.memoizedState,T.parent!==_?(T={parent:_,cache:_},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),Ac(f,qi,_)):(_=D.cache,Ac(f,qi,_),_!==T.cache&&dm(f,[qi],g,!0))),Cr(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}var Nf=be(null),Bo=null,eo=null;function Ac(c,f,g){ze(Nf,f._currentValue),f._currentValue=g}function bl(c){c._currentValue=Nf.current,je(Nf)}function es(c,f,g){for(;c!==null;){var _=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),c===g)break;c=c.return}}function dm(c,f,g,_){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var D=T.dependencies;if(D!==null){var k=T.child;D=D.firstContext;e:for(;D!==null;){var te=D;D=T;for(var _e=0;_e<f.length;_e++)if(te.context===f[_e]){D.lanes|=g,te=D.alternate,te!==null&&(te.lanes|=g),es(D.return,g,c),_||(k=null);break e}D=te.next}}else if(T.tag===18){if(k=T.return,k===null)throw Error(n(341));k.lanes|=g,D=k.alternate,D!==null&&(D.lanes|=g),es(k,g,c),k=null}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===c){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}}function dh(c,f,g,_){c=null;for(var T=f,D=!1;T!==null;){if(!D){if((T.flags&524288)!==0)D=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var k=T.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var te=T.type;Ra(T.pendingProps.value,k.value)||(c!==null?c.push(te):c=[te])}}else if(T===ee.current){if(k=T.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(K0):c=[K0])}T=T.return}c!==null&&dm(f,c,g,_),f.flags|=262144}function Uf(c){for(c=c.firstContext;c!==null;){if(!Ra(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Su(c){Bo=c,eo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ta(c){return Lf(Bo,c)}function hm(c,f){return Bo===null&&Su(c),Lf(c,f)}function Lf(c,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},eo===null){if(c===null)throw Error(n(308));eo=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else eo=eo.next=f;return g}var pr=!1;function va(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ts(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ns(c,f,g){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,(mn&2)!==0){var T=_.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),_.pending=f,f=$d(c),Zd(c,null,g),f}return Jd(c,_,f,g),$d(c)}function Sc(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,vi(c,g)}}function If(c,f){var g=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var T=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var k={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};D===null?T=D=k:D=D.next=k,g=g.next}while(g!==null);D===null?T=D=f:D=D.next=f}else T=D=f;g={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:_.shared,callbacks:_.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}var La=!1;function na(){if(La){var c=pc;if(c!==null)throw c}}function to(c,f,g,_){La=!1;var T=c.updateQueue;pr=!1;var D=T.firstBaseUpdate,k=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var _e=te,Oe=_e.next;_e.next=null,k===null?D=Oe:k.next=Oe,k=_e;var dt=c.alternate;dt!==null&&(dt=dt.updateQueue,te=dt.lastBaseUpdate,te!==k&&(te===null?dt.firstBaseUpdate=Oe:te.next=Oe,dt.lastBaseUpdate=_e))}if(D!==null){var bt=T.baseState;k=0,dt=Oe=_e=null,te=D;do{var $e=te.lane&-536870913,ct=$e!==te.lane;if(ct?(rn&$e)===$e:(_&$e)===$e){$e!==0&&$e===gu&&(La=!0),dt!==null&&(dt=dt.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Jt=c,yn=te;$e=f;var yr=g;switch(yn.tag){case 1:if(Jt=yn.payload,typeof Jt=="function"){bt=Jt.call(yr,bt,$e);break e}bt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=yn.payload,$e=typeof Jt=="function"?Jt.call(yr,bt,$e):Jt,$e==null)break e;bt=L({},bt,$e);break e;case 2:pr=!0}}$e=te.callback,$e!==null&&(c.flags|=64,ct&&(c.flags|=8192),ct=T.callbacks,ct===null?T.callbacks=[$e]:ct.push($e))}else ct={lane:$e,tag:te.tag,payload:te.payload,callback:te.callback,next:null},dt===null?(Oe=dt=ct,_e=bt):dt=dt.next=ct,k|=$e;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;ct=te,te=ct.next,ct.next=null,T.lastBaseUpdate=ct,T.shared.pending=null}}while(!0);dt===null&&(_e=bt),T.baseState=_e,T.firstBaseUpdate=Oe,T.lastBaseUpdate=dt,D===null&&(T.shared.lanes=0),so|=k,c.lanes=k,c.memoizedState=bt}}function Oo(c,f){if(typeof c!="function")throw Error(n(191,c));c.call(f)}function No(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)Oo(g[c],f)}function Zi(c,f){try{var g=f.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var T=_.next;g=T;do{if((g.tag&c)===c){_=void 0;var D=g.create,k=g.inst;_=D(),k.destroy=_}g=g.next}while(g!==T)}}catch(te){Et(f,f.return,te)}}function Ss(c,f,g){try{var _=f.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var D=T.next;_=D;do{if((_.tag&c)===c){var k=_.inst,te=k.destroy;if(te!==void 0){k.destroy=void 0,T=f;var _e=g;try{te()}catch(Oe){Et(T,_e,Oe)}}}_=_.next}while(_!==D)}}catch(Oe){Et(f,f.return,Oe)}}function Al(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{No(f,g)}catch(_){Et(c,c.return,_)}}}function hh(c,f,g){g.props=bu(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(_){Et(c,f,_)}}function $i(c,f){try{var g=c.ref;if(g!==null){var _=c.stateNode;switch(c.tag){case 26:case 27:case 5:var T=_;break;default:T=_}typeof g=="function"?c.refCleanup=g(T):g.current=T}}catch(D){Et(c,f,D)}}function ci(c,f){var g=c.ref,_=c.refCleanup;if(g!==null)if(typeof _=="function")try{_()}catch(T){Et(c,f,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){Et(c,f,T)}else g.current=null}function Kn(c){var f=c.type,g=c.memoizedProps,_=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&_.focus();break e;case"img":g.src?_.src=g.src:g.srcSet&&(_.srcset=g.srcSet)}}catch(T){Et(c,c.return,T)}}function Es(c,f,g){try{var _=c.stateNode;KF(_,c.type,g,f),_[sn]=f}catch(T){Et(c,c.return,T)}}function no(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function ph(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||no(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ia(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(c,f):g.insertBefore(c,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(c,g)):(f=g,f.appendChild(c)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=u_));else if(_!==4&&_!==27&&(c=c.child,c!==null))for(Ia(c,f,g),c=c.sibling;c!==null;)Ia(c,f,g),c=c.sibling}function Sl(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(_!==4&&_!==27&&(c=c.child,c!==null))for(Sl(c,f,g),c=c.sibling;c!==null;)Sl(c,f,g),c=c.sibling}var io=!1,Mi=!1,Ec=!1,mm=typeof WeakSet=="function"?WeakSet:Set,Qi=null,gm=!1;function Pf(c,f){if(c=c.containerInfo,K2=v_,c=r0(c),qd(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var T=_.anchorOffset,D=_.focusNode;_=_.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var k=0,te=-1,_e=-1,Oe=0,dt=0,bt=c,$e=null;t:for(;;){for(var ct;bt!==g||T!==0&&bt.nodeType!==3||(te=k+T),bt!==D||_!==0&&bt.nodeType!==3||(_e=k+_),bt.nodeType===3&&(k+=bt.nodeValue.length),(ct=bt.firstChild)!==null;)$e=bt,bt=ct;for(;;){if(bt===c)break t;if($e===g&&++Oe===T&&(te=k),$e===D&&++dt===_&&(_e=k),(ct=bt.nextSibling)!==null)break;bt=$e,$e=bt.parentNode}bt=ct}g=te===-1||_e===-1?null:{start:te,end:_e}}else g=null}g=g||{start:0,end:0}}else g=null;for(J2={focusedElem:c,selectionRange:g},v_=!1,Qi=f;Qi!==null;)if(f=Qi,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,Qi=c;else for(;Qi!==null;){switch(f=Qi,D=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&D!==null){c=void 0,g=f,T=D.memoizedProps,D=D.memoizedState,_=g.stateNode;try{var Jt=bu(g.type,T,g.elementType===g.type);c=_.getSnapshotBeforeUpdate(Jt,D),_.__reactInternalSnapshotBeforeUpdate=c}catch(yn){Et(g,g.return,yn)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,g=c.nodeType,g===9)eS(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":eS(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=f.sibling,c!==null){c.return=f.return,Qi=c;break}Qi=f.return}return Jt=gm,gm=!1,Jt}function Ff(c,f,g){var _=g.flags;switch(g.tag){case 0:case 11:case 15:Uo(c,g),_&4&&Zi(5,g);break;case 1:if(Uo(c,g),_&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch(te){Et(g,g.return,te)}else{var T=bu(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(T,f,c.__reactInternalSnapshotBeforeUpdate)}catch(te){Et(g,g.return,te)}}_&64&&Al(g),_&512&&$i(g,g.return);break;case 3:if(Uo(c,g),_&64&&(_=g.updateQueue,_!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{No(_,c)}catch(te){Et(g,g.return,te)}}break;case 26:Uo(c,g),_&512&&$i(g,g.return);break;case 27:case 5:Uo(c,g),f===null&&_&4&&Kn(g),_&512&&$i(g,g.return);break;case 12:Uo(c,g);break;case 13:Uo(c,g),_&4&&a_(c,g);break;case 22:if(T=g.memoizedState!==null||io,!T){f=f!==null&&f.memoizedState!==null||Mi;var D=io,k=Mi;io=T,(Mi=f)&&!k?ao(c,g,(g.subtreeFlags&8772)!==0):Uo(c,g),io=D,Mi=k}_&512&&(g.memoizedProps.mode==="manual"?$i(g,g.return):ci(g,g.return));break;default:Uo(c,g)}}function vm(c){var f=c.alternate;f!==null&&(c.alternate=null,vm(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&At(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Ci=null,Lr=!1;function ia(c,f,g){for(g=g.child;g!==null;)ym(c,f,g),g=g.sibling}function ym(c,f,g){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ze,g)}catch{}switch(g.tag){case 26:Mi||ci(g,f),ia(c,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Mi||ci(g,f);var _=Ci,T=Lr;for(Ci=g.stateNode,ia(c,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);At(g),Ci=_,Lr=T;break;case 5:Mi||ci(g,f);case 6:T=Ci;var D=Lr;if(Ci=null,ia(c,f,g),Ci=T,Lr=D,Ci!==null)if(Lr)try{c=Ci,_=g.stateNode,c.nodeType===8?c.parentNode.removeChild(_):c.removeChild(_)}catch(k){Et(g,f,k)}else try{Ci.removeChild(g.stateNode)}catch(k){Et(g,f,k)}break;case 18:Ci!==null&&(Lr?(f=Ci,g=g.stateNode,f.nodeType===8?Q2(f.parentNode,g):f.nodeType===1&&Q2(f,g),Q0(f)):Q2(Ci,g.stateNode));break;case 4:_=Ci,T=Lr,Ci=g.stateNode.containerInfo,Lr=!0,ia(c,f,g),Ci=_,Lr=T;break;case 0:case 11:case 14:case 15:Mi||Ss(2,g,f),Mi||Ss(4,g,f),ia(c,f,g);break;case 1:Mi||(ci(g,f),_=g.stateNode,typeof _.componentWillUnmount=="function"&&hh(g,f,_)),ia(c,f,g);break;case 21:ia(c,f,g);break;case 22:Mi||ci(g,f),Mi=(_=Mi)||g.memoizedState!==null,ia(c,f,g),Mi=_;break;default:ia(c,f,g)}}function a_(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Q0(c)}catch(g){Et(f,f.return,g)}}function mh(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new mm),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new mm),f;default:throw Error(n(435,c.tag))}}function gh(c,f){var g=mh(c);f.forEach(function(_){var T=qe.bind(null,c,_);g.has(_)||(g.add(_),_.then(T,T))})}function ya(c,f){var g=f.deletions;if(g!==null)for(var _=0;_<g.length;_++){var T=g[_],D=c,k=f,te=k;e:for(;te!==null;){switch(te.tag){case 27:case 5:Ci=te.stateNode,Lr=!1;break e;case 3:Ci=te.stateNode.containerInfo,Lr=!0;break e;case 4:Ci=te.stateNode.containerInfo,Lr=!0;break e}te=te.return}if(Ci===null)throw Error(n(160));ym(D,k,T),Ci=null,Lr=!1,D=T.alternate,D!==null&&(D.return=null),T.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Eu(f,c),f=f.sibling}var ra=null;function Eu(c,f){var g=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:ya(f,c),aa(c),_&4&&(Ss(3,c,c.return),Zi(3,c),Ss(5,c,c.return));break;case 1:ya(f,c),aa(c),_&512&&(Mi||g===null||ci(g,g.return)),_&64&&io&&(c=c.updateQueue,c!==null&&(_=c.callbacks,_!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?_:g.concat(_))));break;case 26:var T=ra;if(ya(f,c),aa(c),_&512&&(Mi||g===null||ci(g,g.return)),_&4){var D=g!==null?g.memoizedState:null;if(_=c.memoizedState,g===null)if(_===null)if(c.stateNode===null){e:{_=c.type,g=c.memoizedProps,T=T.ownerDocument||T;t:switch(_){case"title":D=T.getElementsByTagName("title")[0],(!D||D[it]||D[bn]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=T.createElement(_),T.head.insertBefore(D,T.querySelector("head > title"))),Aa(D,_,g),D[bn]=c,oe(D),_=D;break e;case"link":var k=NR("link","href",T).get(_+(g.href||""));if(k){for(var te=0;te<k.length;te++)if(D=k[te],D.getAttribute("href")===(g.href==null?null:g.href)&&D.getAttribute("rel")===(g.rel==null?null:g.rel)&&D.getAttribute("title")===(g.title==null?null:g.title)&&D.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){k.splice(te,1);break t}}D=T.createElement(_),Aa(D,_,g),T.head.appendChild(D);break;case"meta":if(k=NR("meta","content",T).get(_+(g.content||""))){for(te=0;te<k.length;te++)if(D=k[te],D.getAttribute("content")===(g.content==null?null:""+g.content)&&D.getAttribute("name")===(g.name==null?null:g.name)&&D.getAttribute("property")===(g.property==null?null:g.property)&&D.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&D.getAttribute("charset")===(g.charSet==null?null:g.charSet)){k.splice(te,1);break t}}D=T.createElement(_),Aa(D,_,g),T.head.appendChild(D);break;default:throw Error(n(468,_))}D[bn]=c,oe(D),_=D}c.stateNode=_}else UR(T,c.type,c.stateNode);else c.stateNode=OR(T,_,c.memoizedProps);else D!==_?(D===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):D.count--,_===null?UR(T,c.type,c.stateNode):OR(T,_,c.memoizedProps)):_===null&&c.stateNode!==null&&Es(c,c.memoizedProps,g.memoizedProps)}break;case 27:if(_&4&&c.alternate===null){T=c.stateNode,D=c.memoizedProps;try{for(var _e=T.firstChild;_e;){var Oe=_e.nextSibling,dt=_e.nodeName;_e[it]||dt==="HEAD"||dt==="BODY"||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&_e.rel.toLowerCase()==="stylesheet"||T.removeChild(_e),_e=Oe}for(var bt=c.type,$e=T.attributes;$e.length;)T.removeAttributeNode($e[0]);Aa(T,bt,D),T[bn]=c,T[sn]=D}catch(Jt){Et(c,c.return,Jt)}}case 5:if(ya(f,c),aa(c),_&512&&(Mi||g===null||ci(g,g.return)),c.flags&32){T=c.stateNode;try{Tr(T,"")}catch(Jt){Et(c,c.return,Jt)}}_&4&&c.stateNode!=null&&(T=c.memoizedProps,Es(c,T,g!==null?g.memoizedProps:T)),_&1024&&(Ec=!0);break;case 6:if(ya(f,c),aa(c),_&4){if(c.stateNode===null)throw Error(n(162));_=c.memoizedProps,g=c.stateNode;try{g.nodeValue=_}catch(Jt){Et(c,c.return,Jt)}}break;case 3:if(p_=null,T=ra,ra=d_(f.containerInfo),ya(f,c),ra=T,aa(c),_&4&&g!==null&&g.memoizedState.isDehydrated)try{Q0(f.containerInfo)}catch(Jt){Et(c,c.return,Jt)}Ec&&(Ec=!1,Tc(c));break;case 4:_=ra,ra=d_(c.stateNode.containerInfo),ya(f,c),aa(c),ra=_;break;case 12:ya(f,c),aa(c);break;case 13:ya(f,c),aa(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Cn=ve()),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,gh(c,_)));break;case 22:if(_&512&&(Mi||g===null||ci(g,g.return)),_e=c.memoizedState!==null,Oe=g!==null&&g.memoizedState!==null,dt=io,bt=Mi,io=dt||_e,Mi=bt||Oe,ya(f,c),Mi=bt,io=dt,aa(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,_&8192&&(f._visibility=_e?f._visibility&-2:f._visibility|1,_e&&(f=io||Mi,g===null||Oe||f||ro(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(g=null,f=c;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){Oe=g=f;try{if(T=Oe.stateNode,_e)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=Oe.stateNode,te=Oe.memoizedProps.style;var ct=te!=null&&te.hasOwnProperty("display")?te.display:null;k.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(Jt){Et(Oe,Oe.return,Jt)}}}else if(f.tag===6){if(g===null){Oe=f;try{Oe.stateNode.nodeValue=_e?"":Oe.memoizedProps}catch(Jt){Et(Oe,Oe.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=c.updateQueue,_!==null&&(g=_.retryQueue,g!==null&&(_.retryQueue=null,gh(c,g))));break;case 19:ya(f,c),aa(c),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,gh(c,_)));break;case 21:break;default:ya(f,c),aa(c)}}function aa(c){var f=c.flags;if(f&2){try{if(c.tag!==27){e:{for(var g=c.return;g!==null;){if(no(g)){var _=g;break e}g=g.return}throw Error(n(160))}switch(_.tag){case 27:var T=_.stateNode,D=ph(c);Sl(c,D,T);break;case 5:var k=_.stateNode;_.flags&32&&(Tr(k,""),_.flags&=-33);var te=ph(c);Sl(c,te,k);break;case 3:case 4:var _e=_.stateNode.containerInfo,Oe=ph(c);Ia(c,Oe,_e);break;default:throw Error(n(161))}}}catch(dt){Et(c,c.return,dt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Tc(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Tc(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Uo(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Ff(c,f.alternate,f),f=f.sibling}function ro(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Ss(4,f,f.return),ro(f);break;case 1:ci(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&hh(f,f.return,g),ro(f);break;case 26:case 27:case 5:ci(f,f.return),ro(f);break;case 22:ci(f,f.return),f.memoizedState===null&&ro(f);break;default:ro(f)}c=c.sibling}}function ao(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,T=c,D=f,k=D.flags;switch(D.tag){case 0:case 11:case 15:ao(T,D,g),Zi(4,D);break;case 1:if(ao(T,D,g),_=D,T=_.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Oe){Et(_,_.return,Oe)}if(_=D,T=_.updateQueue,T!==null){var te=_.stateNode;try{var _e=T.shared.hiddenCallbacks;if(_e!==null)for(T.shared.hiddenCallbacks=null,T=0;T<_e.length;T++)Oo(_e[T],te)}catch(Oe){Et(_,_.return,Oe)}}g&&k&64&&Al(D),$i(D,D.return);break;case 26:case 27:case 5:ao(T,D,g),g&&_===null&&k&4&&Kn(D),$i(D,D.return);break;case 12:ao(T,D,g);break;case 13:ao(T,D,g),g&&k&4&&a_(T,D);break;case 22:D.memoizedState===null&&ao(T,D,g),$i(D,D.return);break;default:ao(T,D,g)}f=f.sibling}}function Pa(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&dc(g))}function Ts(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&dc(c))}function _i(c,f,g,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)El(c,f,g,_),f=f.sibling}function El(c,f,g,_){var T=f.flags;switch(f.tag){case 0:case 11:case 15:_i(c,f,g,_),T&2048&&Zi(9,f);break;case 3:_i(c,f,g,_),T&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&dc(c)));break;case 12:if(T&2048){_i(c,f,g,_),c=f.stateNode;try{var D=f.memoizedProps,k=D.id,te=D.onPostCommit;typeof te=="function"&&te(k,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(_e){Et(f,f.return,_e)}}else _i(c,f,g,_);break;case 23:break;case 22:D=f.stateNode,f.memoizedState!==null?D._visibility&4?_i(c,f,g,_):ei(c,f):D._visibility&4?_i(c,f,g,_):(D._visibility|=4,pn(c,f,g,_,(f.subtreeFlags&10256)!==0)),T&2048&&Pa(f.alternate,f);break;case 24:_i(c,f,g,_),T&2048&&Ts(f.alternate,f);break;default:_i(c,f,g,_)}}function pn(c,f,g,_,T){for(T=T&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var D=c,k=f,te=g,_e=_,Oe=k.flags;switch(k.tag){case 0:case 11:case 15:pn(D,k,te,_e,T),Zi(8,k);break;case 23:break;case 22:var dt=k.stateNode;k.memoizedState!==null?dt._visibility&4?pn(D,k,te,_e,T):ei(D,k):(dt._visibility|=4,pn(D,k,te,_e,T)),T&&Oe&2048&&Pa(k.alternate,k);break;case 24:pn(D,k,te,_e,T),T&&Oe&2048&&Ts(k.alternate,k);break;default:pn(D,k,te,_e,T)}f=f.sibling}}function ei(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,_=f,T=_.flags;switch(_.tag){case 22:ei(g,_),T&2048&&Pa(_.alternate,_);break;case 24:ei(g,_),T&2048&&Ts(_.alternate,_);break;default:ei(g,_)}f=f.sibling}}var Oi=8192;function Tl(c){if(c.subtreeFlags&Oi)for(c=c.child;c!==null;)Tu(c),c=c.sibling}function Tu(c){switch(c.tag){case 26:Tl(c),c.flags&Oi&&c.memoizedState!==null&&p6(ra,c.memoizedState,c.memoizedProps);break;case 5:Tl(c);break;case 3:case 4:var f=ra;ra=d_(c.stateNode.containerInfo),Tl(c),ra=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Oi,Oi=16777216,Tl(c),Oi=f):Tl(c));break;default:Tl(c)}}function Mc(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Cc(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Qi=_,s_(_,c)}Mc(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Hf(c),c=c.sibling}function Hf(c){switch(c.tag){case 0:case 11:case 15:Cc(c),c.flags&2048&&Ss(9,c,c.return);break;case 3:Cc(c);break;case 12:Cc(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Ml(c)):Cc(c);break;default:Cc(c)}}function Ml(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Qi=_,s_(_,c)}Mc(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Ss(8,f,f.return),Ml(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,Ml(f));break;default:Ml(f)}c=c.sibling}}function s_(c,f){for(;Qi!==null;){var g=Qi;switch(g.tag){case 0:case 11:case 15:Ss(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var _=g.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:dc(g.memoizedState.cache)}if(_=g.child,_!==null)_.return=g,Qi=_;else e:for(g=c;Qi!==null;){_=Qi;var T=_.sibling,D=_.return;if(vm(_),_===g){Qi=null;break e}if(T!==null){T.return=D,Qi=T;break e}Qi=D}}}function H0(c,f,g,_){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(c,f,g,_){return new H0(c,f,g,_)}function Cl(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _a(c,f){var g=c.alternate;return g===null?(g=er(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&31457280,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function wc(c,f){c.flags&=31457282;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function zf(c,f,g,_,T,D){var k=0;if(_=c,typeof c=="function")Cl(c)&&(k=1);else if(typeof c=="string")k=d6(c,g,Ie.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return Rc(g.children,T,D,f);case u:k=8,T|=24;break;case d:return c=er(12,g,f,T|2),c.elementType=d,c.lanes=D,c;case A:return c=er(13,g,f,T),c.elementType=A,c.lanes=D,c;case S:return c=er(19,g,f,T),c.elementType=S,c.lanes=D,c;case R:return z0(g,T,D,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case p:case y:k=10;break e;case v:k=9;break e;case x:k=11;break e;case E:k=14;break e;case M:k=16,_=null;break e}k=29,g=Error(n(130,c===null?"null":typeof c,"")),_=null}return f=er(k,g,f,T),f.elementType=c,f.type=_,f.lanes=D,f}function Rc(c,f,g,_){return c=er(7,c,_,f),c.lanes=g,c}function z0(c,f,g,_){c=er(22,c,_,f),c.elementType=R,c.lanes=g;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var D=T._current;if(D===null)throw Error(n(456));if((T._pendingVisibility&2)===0){var k=cl(D,2);k!==null&&(T._pendingVisibility|=2,vr(k,D,2))}},attach:function(){var D=T._current;if(D===null)throw Error(n(456));if((T._pendingVisibility&2)!==0){var k=cl(D,2);k!==null&&(T._pendingVisibility&=-3,vr(k,D,2))}}};return c.stateNode=T,c}function mr(c,f,g){return c=er(6,c,null,f),c.lanes=g,c}function vh(c,f,g){return f=er(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Ms(c){c.flags|=4}function Dc(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!LR(f)){if(f=Na.current,f!==null&&((rn&4194176)===rn?Mo!==null:(rn&62914560)!==rn&&(rn&536870912)===0||f!==Mo))throw Tf=Kp,f0;c.flags|=8192}}function Cs(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Xt():536870912,c.lanes|=f,Io|=f)}function yh(c,f){if(!qn)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function Li(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,_=0;if(f)for(var T=c.child;T!==null;)g|=T.lanes|T.childLanes,_|=T.subtreeFlags&31457280,_|=T.flags&31457280,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)g|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=_,c.childLanes=g,f}function G2(c,f,g){var _=f.pendingProps;switch(oc(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(f),null;case 1:return Li(f),null;case 3:return g=f.stateNode,_=null,c!==null&&(_=c.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),bl(qi),Ne(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Sf(f)?Ms(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,bs!==null&&(Bs(bs),bs=null))),Li(f),null;case 26:return g=f.memoizedState,c===null?(Ms(f),g!==null?(Li(f),Dc(f,g)):(Li(f),f.flags&=-16777217)):g?g!==c.memoizedState?(Ms(f),Li(f),Dc(f,g)):(Li(f),f.flags&=-16777217):(c.memoizedProps!==_&&Ms(f),Li(f),f.flags&=-16777217),null;case 27:Be(f),g=we.current;var T=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==_&&Ms(f);else{if(!_){if(f.stateNode===null)throw Error(n(166));return Li(f),null}c=Ie.current,Sf(f)?p1(f):(c=CR(T,_,g),f.stateNode=c,Ms(f))}return Li(f),null;case 5:if(Be(f),g=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==_&&Ms(f);else{if(!_){if(f.stateNode===null)throw Error(n(166));return Li(f),null}if(c=Ie.current,Sf(f))p1(f);else{switch(T=f_(we.current),c){case 1:c=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=T.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof _.is=="string"?T.createElement("select",{is:_.is}):T.createElement("select"),_.multiple?c.multiple=!0:_.size&&(c.size=_.size);break;default:c=typeof _.is=="string"?T.createElement(g,{is:_.is}):T.createElement(g)}}c[bn]=f,c[sn]=_;e:for(T=f.child;T!==null;){if(T.tag===5||T.tag===6)c.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===f)break e;for(;T.sibling===null;){if(T.return===null||T.return===f)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}f.stateNode=c;e:switch(Aa(c,g,_),g){case"button":case"input":case"select":case"textarea":c=!!_.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ms(f)}}return Li(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==_&&Ms(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(n(166));if(c=we.current,Sf(f)){if(c=f.stateNode,g=f.memoizedProps,_=null,T=ea,T!==null)switch(T.tag){case 27:case 5:_=T.memoizedProps}c[bn]=f,c=!!(c.nodeValue===g||_!==null&&_.suppressHydrationWarning===!0||bR(c.nodeValue,g)),c||hu(f)}else c=f_(c).createTextNode(_),c[bn]=f,f.stateNode=c}return Li(f),null;case 13:if(_=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=Sf(f),_!==null&&_.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[bn]=f}else Ef(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Li(f),T=!1}else bs!==null&&(Bs(bs),bs=null),T=!0;if(!T)return f.flags&256?(Co(f),f):(Co(f),null)}if(Co(f),(f.flags&128)!==0)return f.lanes=g,f;if(g=_!==null,c=c!==null&&c.memoizedState!==null,g){_=f.child,T=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(T=_.alternate.memoizedState.cachePool.pool);var D=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(D=_.memoizedState.cachePool.pool),D!==T&&(_.flags|=2048)}return g!==c&&g&&(f.child.flags|=8192),Cs(f,f.updateQueue),Li(f),null;case 4:return Ne(),c===null&&W2(f.stateNode.containerInfo),Li(f),null;case 10:return bl(f.type),Li(f),null;case 19:if(je(dr),T=f.memoizedState,T===null)return Li(f),null;if(_=(f.flags&128)!==0,D=T.rendering,D===null)if(_)yh(T,!1);else{if(wi!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(D=Mf(c),D!==null){for(f.flags|=128,yh(T,!1),c=D.updateQueue,f.updateQueue=c,Cs(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)wc(g,c),g=g.sibling;return ze(dr,dr.current&1|2),f.child}c=c.sibling}T.tail!==null&&ve()>Ln&&(f.flags|=128,_=!0,yh(T,!1),f.lanes=4194304)}else{if(!_)if(c=Mf(D),c!==null){if(f.flags|=128,_=!0,c=c.updateQueue,f.updateQueue=c,Cs(f,c),yh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!qn)return Li(f),null}else 2*ve()-T.renderingStartTime>Ln&&g!==536870912&&(f.flags|=128,_=!0,yh(T,!1),f.lanes=4194304);T.isBackwards?(D.sibling=f.child,f.child=D):(c=T.last,c!==null?c.sibling=D:f.child=D,T.last=D)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=ve(),f.sibling=null,c=dr.current,ze(dr,_?c&1|2:c&1),f):(Li(f),null);case 22:case 23:return Co(f),sh(),_=f.memoizedState!==null,c!==null?c.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(g&536870912)!==0&&(f.flags&128)===0&&(Li(f),f.subtreeFlags&6&&(f.flags|=8192)):Li(f),g=f.updateQueue,g!==null&&Cs(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048),c!==null&&je(gl),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),bl(qi),Li(f),null;case 25:return null}throw Error(n(156,f.tag))}function Gi(c,f){switch(oc(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return bl(qi),Ne(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Be(f),null;case 13:if(Co(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Ef()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return je(dr),null;case 4:return Ne(),null;case 10:return bl(f.type),null;case 22:case 23:return Co(f),sh(),c!==null&&je(gl),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return bl(qi),null;case 25:return null;default:return null}}function G0(c,f){switch(oc(f),f.tag){case 3:bl(qi),Ne();break;case 26:case 27:case 5:Be(f);break;case 4:Ne();break;case 13:Co(f);break;case 19:je(dr);break;case 10:bl(f.type);break;case 22:case 23:Co(f),sh(),c!==null&&je(gl);break;case 24:bl(qi)}}var Mu={getCacheForType:function(c){var f=ta(qi),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g}},wl=typeof WeakMap=="function"?WeakMap:Map,mn=0,ui=null,Rn=null,rn=0,pi=0,ti=null,tr=!1,sa=!1,Bc=!1,Rl=0,wi=0,so=0,Lo=0,Gf=0,xa=0,Io=0,_h=null,Un=null,fi=!1,Cn=0,Ln=1/0,li=null,gr=null,ws=!1,Rs=null,Cu=0,oo=0,Ni=null,Ds=0,Dl=null;function ba(){if((mn&2)!==0&&rn!==0)return rn&-rn;if(N.T!==null){var c=gu;return c!==0?c:k2()}return Xi()}function is(){xa===0&&(xa=(rn&536870912)===0||qn?Gt():536870912);var c=Na.current;return c!==null&&(c.flags|=32),xa}function vr(c,f,g){(c===ui&&pi===2||c.cancelPendingCommit!==null)&&(Bl(c,0),rs(c,rn,xa,!1)),zn(c,g),((mn&2)===0||c!==ui)&&(c===ui&&((mn&2)===0&&(Lo|=g),wi===4&&rs(c,rn,xa,!1)),mi(c))}function kf(c,f,g){if((mn&6)!==0)throw Error(n(327));var _=!g&&(f&60)===0&&(f&c.expiredLanes)===0||Pt(c,f),T=_?h(c,f):Ru(c,f,!0),D=_;do{if(T===0){sa&&!_&&rs(c,f,0,!1);break}else if(T===6)rs(c,f,0,!tr);else{if(g=c.current.alternate,D&&!k0(g)){T=Ru(c,f,!1),D=!1;continue}if(T===2){if(D=f,c.errorRecoveryDisabledLanes&D)var k=0;else k=c.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){f=k;e:{var te=c;T=_h;var _e=te.current.memoizedState.isDehydrated;if(_e&&(Bl(te,k).flags|=256),k=Ru(te,k,!1),k!==2){if(Bc&&!_e){te.errorRecoveryDisabledLanes|=D,Lo|=D,T=4;break e}D=Un,Un=T,D!==null&&Bs(D)}T=k}if(D=!1,T!==2)continue}}if(T===1){Bl(c,0),rs(c,f,0,!0);break}e:{switch(_=c,T){case 0:case 1:throw Error(n(345));case 4:if((f&4194176)===f){rs(_,f,xa,!tr);break e}break;case 2:Un=null;break;case 3:case 5:break;default:throw Error(n(329))}if(_.finishedWork=g,_.finishedLanes=f,(f&62914560)===f&&(D=Cn+300-ve(),10<D)){if(rs(_,f,xa,!tr),pt(_,0)!==0)break e;_.timeoutHandle=ER(_m.bind(null,_,g,Un,li,fi,f,xa,Lo,Io,tr,2,-0,0),D);break e}_m(_,g,Un,li,fi,f,xa,Lo,Io,tr,0,-0,0)}}break}while(!0);mi(c)}function Bs(c){Un===null?Un=c:Un.push.apply(Un,c)}function _m(c,f,g,_,T,D,k,te,_e,Oe,dt,bt,$e){var ct=f.subtreeFlags;if((ct&8192||(ct&16785408)===16785408)&&(q0={stylesheets:null,count:0,unsuspend:h6},Tu(f),f=m6(),f!==null)){c.cancelPendingCommit=f(Se.bind(null,c,g,_,T,k,te,_e,1,bt,$e)),rs(c,D,k,!Oe);return}Se(c,g,_,T,k,te,_e,dt,bt,$e)}function k0(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var _=0;_<g.length;_++){var T=g[_],D=T.getSnapshot;T=T.value;try{if(!Ra(D(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function rs(c,f,g,_){f&=~Gf,f&=~Lo,c.suspendedLanes|=f,c.pingedLanes&=~f,_&&(c.warmLanes|=f),_=c.expirationTimes;for(var T=f;0<T;){var D=31-xt(T),k=1<<D;_[D]=-1,T&=~k}g!==0&&ji(c,g,f)}function wu(){return(mn&6)===0?(In(0),!1):!0}function Po(){if(Rn!==null){if(pi===0)var c=Rn.return;else c=Rn,eo=Bo=null,Qp(c),uc=null,ih=0,c=Rn;for(;c!==null;)G0(c.alternate,c),c=c.return;Rn=null}}function Bl(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,ZF(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),Po(),ui=c,Rn=g=_a(c.current,null),rn=f,pi=0,ti=null,tr=!1,sa=Pt(c,f),Bc=!1,Io=xa=Gf=Lo=so=wi=0,Un=_h=null,fi=!1,(f&8)!==0&&(f|=f&32);var _=c.entangledLanes;if(_!==0)for(c=c.entanglements,_&=f;0<_;){var T=31-xt(_),D=1<<T;f|=c[T],_&=~D}return Rl=f,Kd(),g}function Oc(c,f){Mn=null,N.H=Do,f===lc?(f=ri(),pi=3):f===f0?(f=ri(),pi=4):pi=f===Qa?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ti=f,Rn===null&&(wi=1,lm(c,Oa(f,c.current)))}function Vf(){var c=N.H;return N.H=Do,c===null?Do:c}function xm(){var c=N.A;return N.A=Mu,c}function xh(){wi=4,tr||(rn&4194176)!==rn&&Na.current!==null||(sa=!0),(so&134217727)===0&&(Lo&134217727)===0||ui===null||rs(ui,rn,xa,!1)}function Ru(c,f,g){var _=mn;mn|=2;var T=Vf(),D=xm();(ui!==c||rn!==f)&&(li=null,Bl(c,f)),f=!1;var k=wi;e:do try{if(pi!==0&&Rn!==null){var te=Rn,_e=ti;switch(pi){case 8:Po(),k=6;break e;case 3:case 2:case 6:Na.current===null&&(f=!0);var Oe=pi;if(pi=0,ti=null,O(c,te,_e,Oe),g&&sa){k=0;break e}break;default:Oe=pi,pi=0,ti=null,O(c,te,_e,Oe)}}V0(),k=wi;break}catch(dt){Oc(c,dt)}while(!0);return f&&c.shellSuspendCounter++,eo=Bo=null,mn=_,N.H=T,N.A=D,Rn===null&&(ui=null,rn=0,Kd()),k}function V0(){for(;Rn!==null;)b(Rn)}function h(c,f){var g=mn;mn|=2;var _=Vf(),T=xm();ui!==c||rn!==f?(li=null,Ln=ve()+500,Bl(c,f)):sa=Pt(c,f);e:do try{if(pi!==0&&Rn!==null){f=Rn;var D=ti;t:switch(pi){case 1:pi=0,ti=null,O(c,f,D,1);break;case 2:if(g1(D)){pi=0,ti=null,C(f);break}f=function(){pi===2&&ui===c&&(pi=7),mi(c)},D.then(f,f);break e;case 3:pi=7;break e;case 4:pi=5;break e;case 7:g1(D)?(pi=0,ti=null,C(f)):(pi=0,ti=null,O(c,f,D,7));break;case 5:var k=null;switch(Rn.tag){case 26:k=Rn.memoizedState;case 5:case 27:var te=Rn;if(!k||LR(k)){pi=0,ti=null;var _e=te.sibling;if(_e!==null)Rn=_e;else{var Oe=te.return;Oe!==null?(Rn=Oe,z(Oe)):Rn=null}break t}}pi=0,ti=null,O(c,f,D,5);break;case 6:pi=0,ti=null,O(c,f,D,6);break;case 8:Po(),wi=6;break e;default:throw Error(n(462))}}m();break}catch(dt){Oc(c,dt)}while(!0);return eo=Bo=null,N.H=_,N.A=T,mn=g,Rn!==null?0:(ui=null,rn=0,Kd(),wi)}function m(){for(;Rn!==null&&!j();)b(Rn)}function b(c){var f=fh(c.alternate,c,Rl);c.memoizedProps=c.pendingProps,f===null?z(c):Rn=f}function C(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=n_(g,f,f.pendingProps,f.type,void 0,rn);break;case 11:f=n_(g,f,f.pendingProps,f.type.render,f.ref,rn);break;case 5:Qp(f);default:G0(g,f),f=Rn=wc(f,Rl),f=fh(g,f,Rl)}c.memoizedProps=c.pendingProps,f===null?z(c):Rn=f}function O(c,f,g,_){eo=Bo=null,Qp(f),uc=null,ih=0;var T=f.return;try{if(H2(c,T,f,g,rn)){wi=1,lm(c,Oa(g,c.current)),Rn=null;return}}catch(D){if(T!==null)throw Rn=T,D;wi=1,lm(c,Oa(g,c.current)),Rn=null;return}f.flags&32768?(qn||_===1?c=!0:sa||(rn&536870912)!==0?c=!1:(tr=c=!0,(_===2||_===3||_===6)&&(_=Na.current,_!==null&&_.tag===13&&(_.flags|=16384))),ne(f,c)):z(f)}function z(c){var f=c;do{if((f.flags&32768)!==0){ne(f,tr);return}c=f.return;var g=G2(f.alternate,f,Rl);if(g!==null){Rn=g;return}if(f=f.sibling,f!==null){Rn=f;return}Rn=f=c}while(f!==null);wi===0&&(wi=5)}function ne(c,f){do{var g=Gi(c.alternate,c);if(g!==null){g.flags&=32767,Rn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Rn=c;return}Rn=c=g}while(c!==null);wi=6,Rn=null}function Se(c,f,g,_,T,D,k,te,_e,Oe){var dt=N.T,bt=Q.p;try{Q.p=2,N.T=null,He(c,f,g,_,bt,T,D,k,te,_e,Oe)}finally{N.T=dt,Q.p=bt}}function He(c,f,g,_,T,D,k,te){do Tt();while(Rs!==null);if((mn&6)!==0)throw Error(n(327));var _e=c.finishedWork;if(_=c.finishedLanes,_e===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_e===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Oe=_e.lanes|_e.childLanes;if(Oe|=ll,hi(c,_,Oe,D,k,te),c===ui&&(Rn=ui=null,rn=0),(_e.subtreeFlags&10256)===0&&(_e.flags&10256)===0||ws||(ws=!0,oo=Oe,Ni=g,Ue(et,function(){return Tt(),null})),g=(_e.flags&15990)!==0,(_e.subtreeFlags&15990)!==0||g?(g=N.T,N.T=null,D=Q.p,Q.p=2,k=mn,mn|=4,Pf(c,_e),Eu(_e,c),a0(J2,c.containerInfo),v_=!!K2,J2=K2=null,c.current=_e,Ff(c,_e.alternate,_e),se(),mn=k,Q.p=D,N.T=g):c.current=_e,ws?(ws=!1,Rs=c,Cu=_):ft(c,Oe),Oe=c.pendingLanes,Oe===0&&(gr=null),Ke(_e.stateNode),mi(c),f!==null)for(T=c.onRecoverableError,_e=0;_e<f.length;_e++)Oe=f[_e],T(Oe.value,{componentStack:Oe.stack});return(Cu&3)!==0&&Tt(),Oe=c.pendingLanes,(_&4194218)!==0&&(Oe&42)!==0?c===Dl?Ds++:(Ds=0,Dl=c):Ds=0,In(0),null}function ft(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,dc(f)))}function Tt(){if(Rs!==null){var c=Rs,f=oo;oo=0;var g=Ei(Cu),_=N.T,T=Q.p;try{if(Q.p=32>g?32:g,N.T=null,Rs===null)var D=!1;else{g=Ni,Ni=null;var k=Rs,te=Cu;if(Rs=null,Cu=0,(mn&6)!==0)throw Error(n(331));var _e=mn;if(mn|=4,Hf(k.current),El(k,k.current,te,g),mn=_e,In(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ze,k)}catch{}D=!0}return D}finally{Q.p=T,N.T=_,ft(c,f)}}return!1}function Ut(c,f,g){f=Oa(g,f),f=C0(c.stateNode,f,2),c=ns(c,f,2),c!==null&&(zn(c,2),mi(c))}function Et(c,f,g){if(c.tag===3)Ut(c,c,g);else for(;f!==null;){if(f.tag===3){Ut(f,c,g);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(gr===null||!gr.has(_))){c=Oa(g,c),g=w0(2),_=ns(f,g,2),_!==null&&(e_(g,_,f,c),zn(_,2),mi(_));break}}f=f.return}}function gn(c,f,g){var _=c.pingCache;if(_===null){_=c.pingCache=new wl;var T=new Set;_.set(f,T)}else T=_.get(f),T===void 0&&(T=new Set,_.set(f,T));T.has(g)||(Bc=!0,T.add(g),c=Os.bind(null,c,f,g),f.then(c,c))}function Os(c,f,g){var _=c.pingCache;_!==null&&_.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,ui===c&&(rn&g)===g&&(wi===4||wi===3&&(rn&62914560)===rn&&300>ve()-Cn?(mn&2)===0&&Bl(c,0):Gf|=g,Io===rn&&(Io=0)),mi(c)}function jf(c,f){f===0&&(f=Xt()),c=cl(c,f),c!==null&&(zn(c,f),mi(c))}function Du(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),jf(c,g)}function qe(c,f){var g=0;switch(c.tag){case 13:var _=c.stateNode,T=c.memoizedState;T!==null&&(g=T.retryLane);break;case 19:_=c.stateNode;break;case 22:_=c.stateNode._retryCache;break;default:throw Error(n(314))}_!==null&&_.delete(f),jf(c,g)}function Ue(c,f){return Ge(c,f)}var Qe=null,St=null,Kt=!1,di=!1,on=!1,Dn=0;function mi(c){c!==St&&c.next===null&&(St===null?Qe=St=c:St=St.next=c),di=!0,Kt||(Kt=!0,kF(Nc))}function In(c,f){if(!on&&di){on=!0;do for(var g=!1,_=Qe;_!==null;){if(c!==0){var T=_.pendingLanes;if(T===0)var D=0;else{var k=_.suspendedLanes,te=_.pingedLanes;D=(1<<31-xt(42|c)+1)-1,D&=T&~(k&~te),D=D&201326677?D&201326677|1:D?D|2:0}D!==0&&(g=!0,pR(_,D))}else D=rn,D=pt(_,_===ui?D:0),(D&3)===0||Pt(_,D)||(g=!0,pR(_,D));_=_.next}while(g);on=!1}}function Nc(){di=Kt=!1;var c=0;Dn!==0&&(JF()&&(c=Dn),Dn=0);for(var f=ve(),g=null,_=Qe;_!==null;){var T=_.next,D=o_(_,f);D===0?(_.next=null,g===null?Qe=T:g.next=T,T===null&&(St=g)):(g=_,(c!==0||(D&3)!==0)&&(di=!0)),_=T}In(c)}function o_(c,f){for(var g=c.suspendedLanes,_=c.pingedLanes,T=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var k=31-xt(D),te=1<<k,_e=T[k];_e===-1?((te&g)===0||(te&_)!==0)&&(T[k]=tn(te,f)):_e<=f&&(c.expiredLanes|=te),D&=~te}if(f=ui,g=rn,g=pt(c,c===f?g:0),_=c.callbackNode,g===0||c===f&&pi===2||c.cancelPendingCommit!==null)return _!==null&&_!==null&&Z(_),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Pt(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(_!==null&&Z(_),Ei(g)){case 2:case 8:g=Ye;break;case 32:g=et;break;case 268435456:g=Ct;break;default:g=et}return _=hR.bind(null,c),g=Ge(g,_),c.callbackPriority=f,c.callbackNode=g,f}return _!==null&&_!==null&&Z(_),c.callbackPriority=2,c.callbackNode=null,2}function hR(c,f){var g=c.callbackNode;if(Tt()&&c.callbackNode!==g)return null;var _=rn;return _=pt(c,c===ui?_:0),_===0?null:(kf(c,_,f),o_(c,ve()),c.callbackNode!=null&&c.callbackNode===g?hR.bind(null,c):null)}function pR(c,f){if(Tt())return null;kf(c,f,!0)}function kF(c){$F(function(){(mn&6)!==0?Ge(Le,c):c()})}function k2(){return Dn===0&&(Dn=Gt()),Dn}function mR(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:ms(""+c)}function gR(c,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,c.id&&g.setAttribute("form",c.id),f.parentNode.insertBefore(g,f),c=new FormData(c),g.parentNode.removeChild(g),c}function VF(c,f,g,_,T){if(f==="submit"&&g&&g.stateNode===T){var D=mR((T[sn]||null).action),k=_.submitter;k&&(f=(f=k[sn]||null)?mR(f.formAction):k.getAttribute("formAction"),f!==null&&(D=f,k=null));var te=new pa("action","action",null,_,T);c.push({event:te,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Dn!==0){var _e=k?gR(T,k):new FormData(T);A0(g,{pending:!0,data:_e,method:T.method,action:D},null,_e)}}else typeof D=="function"&&(te.preventDefault(),_e=k?gR(T,k):new FormData(T),A0(g,{pending:!0,data:_e,method:T.method,action:D},D,_e))},currentTarget:T}]})}}for(var V2=0;V2<ol.length;V2++){var j2=ol[V2],jF=j2.toLowerCase(),XF=j2[0].toUpperCase()+j2.slice(1);xs(jF,"on"+XF)}xs(l0,"onAnimationEnd"),xs(Ba,"onAnimationIteration"),xs(c0,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(sl,"onTransitionRun"),xs(Af,"onTransitionStart"),xs(rc,"onTransitionCancel"),xs(Wp,"onTransitionEnd"),ut("onMouseEnter",["mouseout","mouseover"]),ut("onMouseLeave",["mouseout","mouseover"]),ut("onPointerEnter",["pointerout","pointerover"]),ut("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(j0));function vR(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var _=c[g],T=_.event;_=_.listeners;e:{var D=void 0;if(f)for(var k=_.length-1;0<=k;k--){var te=_[k],_e=te.instance,Oe=te.currentTarget;if(te=te.listener,_e!==D&&T.isPropagationStopped())break e;D=te,T.currentTarget=Oe;try{D(T)}catch(dt){om(dt)}T.currentTarget=null,D=_e}else for(k=0;k<_.length;k++){if(te=_[k],_e=te.instance,Oe=te.currentTarget,te=te.listener,_e!==D&&T.isPropagationStopped())break e;D=te,T.currentTarget=Oe;try{D(T)}catch(dt){om(dt)}T.currentTarget=null,D=_e}}}}function Jn(c,f){var g=f[ie];g===void 0&&(g=f[ie]=new Set);var _=c+"__bubble";g.has(_)||(yR(f,c,2,!1),g.add(_))}function X2(c,f,g){var _=0;f&&(_|=4),yR(g,c,_,f)}var l_="_reactListening"+Math.random().toString(36).slice(2);function W2(c){if(!c[l_]){c[l_]=!0,Ce.forEach(function(g){g!=="selectionchange"&&(WF.has(g)||X2(g,!1,c),X2(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[l_]||(f[l_]=!0,X2("selectionchange",!1,f))}}function yR(c,f,g,_){switch(GR(f)){case 2:var T=y6;break;case 8:T=_6;break;default:T=aS}g=T.bind(null,f,g,c),T=void 0,!Zo||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),_?T!==void 0?c.addEventListener(f,g,{capture:!0,passive:T}):c.addEventListener(f,g,!0):T!==void 0?c.addEventListener(f,g,{passive:T}):c.addEventListener(f,g,!1)}function Y2(c,f,g,_,T){var D=_;if((f&1)===0&&(f&2)===0&&_!==null)e:for(;;){if(_===null)return;var k=_.tag;if(k===3||k===4){var te=_.stateNode.containerInfo;if(te===T||te.nodeType===8&&te.parentNode===T)break;if(k===4)for(k=_.return;k!==null;){var _e=k.tag;if((_e===3||_e===4)&&(_e=k.stateNode.containerInfo,_e===T||_e.nodeType===8&&_e.parentNode===T))return;k=k.return}for(;te!==null;){if(k=vt(te),k===null)return;if(_e=k.tag,_e===5||_e===6||_e===26||_e===27){_=D=k;continue e}te=te.parentNode}}_=_.return}mf(function(){var Oe=D,dt=Ks(g),bt=[];e:{var $e=Yp.get(c);if($e!==void 0){var ct=pa,Jt=c;switch(c){case"keypress":if(gs(g)===0)break e;case"keydown":case"keyup":ct=Kg;break;case"focusin":Jt="focus",ct=nl;break;case"focusout":Jt="blur",ct=nl;break;case"beforeblur":case"afterblur":ct=nl;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Zg;break;case l0:case Ba:case c0:ct=Pp;break;case Wp:ct=il;break;case"scroll":case"scrollend":ct=vf;break;case"wheel":ct=D2;break;case"copy":case"cut":case"paste":ct=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Fp;break;case"toggle":case"beforetoggle":ct=ec}var yn=(f&4)!==0,yr=!yn&&(c==="scroll"||c==="scrollend"),Fe=yn?$e!==null?$e+"Capture":null:$e;yn=[];for(var Re=Oe,Ve;Re!==null;){var yt=Re;if(Ve=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||Ve===null||Fe===null||(yt=Js(Re,Fe),yt!=null&&yn.push(X0(Re,yt,Ve))),yr)break;Re=Re.return}0<yn.length&&($e=new ct($e,Jt,null,g,dt),bt.push({event:$e,listeners:yn}))}}if((f&7)===0){e:{if($e=c==="mouseover"||c==="pointerover",ct=c==="mouseout"||c==="pointerout",$e&&g!==qs&&(Jt=g.relatedTarget||g.fromElement)&&(vt(Jt)||Jt[q]))break e;if((ct||$e)&&($e=dt.window===dt?dt:($e=dt.ownerDocument)?$e.defaultView||$e.parentWindow:window,ct?(Jt=g.relatedTarget||g.toElement,ct=Oe,Jt=Jt?vt(Jt):null,Jt!==null&&(yr=le(Jt),yn=Jt.tag,Jt!==yr||yn!==5&&yn!==27&&yn!==6)&&(Jt=null)):(ct=null,Jt=Oe),ct!==Jt)){if(yn=su,yt="onMouseLeave",Fe="onMouseEnter",Re="mouse",(c==="pointerout"||c==="pointerover")&&(yn=Fp,yt="onPointerLeave",Fe="onPointerEnter",Re="pointer"),yr=ct==null?$e:fe(ct),Ve=Jt==null?$e:fe(Jt),$e=new yn(yt,Re+"leave",ct,g,dt),$e.target=yr,$e.relatedTarget=Ve,yt=null,vt(dt)===Oe&&(yn=new yn(Fe,Re+"enter",Jt,g,dt),yn.target=Ve,yn.relatedTarget=yr,yt=yn),yr=yt,ct&&Jt)t:{for(yn=ct,Fe=Jt,Re=0,Ve=yn;Ve;Ve=bm(Ve))Re++;for(Ve=0,yt=Fe;yt;yt=bm(yt))Ve++;for(;0<Re-Ve;)yn=bm(yn),Re--;for(;0<Ve-Re;)Fe=bm(Fe),Ve--;for(;Re--;){if(yn===Fe||Fe!==null&&yn===Fe.alternate)break t;yn=bm(yn),Fe=bm(Fe)}yn=null}else yn=null;ct!==null&&_R(bt,$e,ct,yn,!1),Jt!==null&&yr!==null&&_R(bt,yr,Jt,yn,!0)}}e:{if($e=Oe?fe(Oe):window,ct=$e.nodeName&&$e.nodeName.toLowerCase(),ct==="select"||ct==="input"&&$e.type==="file")var Wt=zp;else if(t0($e))if(Gp)Wt=ic;else{Wt=d1;var Pn=B2}else ct=$e.nodeName,!ct||ct.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?Oe&&Ys(Oe.elementType)&&(Wt=zp):Wt=Yd;if(Wt&&(Wt=Wt(c,Oe))){wa(bt,Wt,g,dt);break e}Pn&&Pn(c,$e,Oe),c==="focusout"&&Oe&&$e.type==="number"&&Oe.memoizedProps.value!=null&&On($e,"number",$e.value)}switch(Pn=Oe?fe(Oe):window,c){case"focusin":(t0(Pn)||Pn.contentEditable==="true")&&(cu=Pn,s0=Oe,bf=null);break;case"focusout":bf=s0=cu=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,_s(bt,g,dt);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":_s(bt,g,dt)}var nn;if(Gd)e:{switch(c){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else nc?jd(c,g)&&(cn="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(cn="onCompositionStart");cn&&(Vd&&g.locale!=="ko"&&(nc||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&nc&&(nn=gf()):(Wi=dt,ru="value"in Wi?Wi.value:Wi.textContent,nc=!0)),Pn=c_(Oe,cn),0<Pn.length&&(cn=new Ja(cn,c,null,g,dt),bt.push({event:cn,listeners:Pn}),nn?cn.data=nn:(nn=Qg(g),nn!==null&&(cn.data=nn)))),(nn=kd?Xd(c,g):e0(c,g))&&(cn=c_(Oe,"onBeforeInput"),0<cn.length&&(Pn=new Ja("onBeforeInput","beforeinput",null,g,dt),bt.push({event:Pn,listeners:cn}),Pn.data=nn)),VF(bt,c,Oe,g,dt)}vR(bt,f)})}function X0(c,f,g){return{instance:c,listener:f,currentTarget:g}}function c_(c,f){for(var g=f+"Capture",_=[];c!==null;){var T=c,D=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||D===null||(T=Js(c,g),T!=null&&_.unshift(X0(c,T,D)),T=Js(c,f),T!=null&&_.push(X0(c,T,D))),c=c.return}return _}function bm(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function _R(c,f,g,_,T){for(var D=f._reactName,k=[];g!==null&&g!==_;){var te=g,_e=te.alternate,Oe=te.stateNode;if(te=te.tag,_e!==null&&_e===_)break;te!==5&&te!==26&&te!==27||Oe===null||(_e=Oe,T?(Oe=Js(g,D),Oe!=null&&k.unshift(X0(g,Oe,_e))):T||(Oe=Js(g,D),Oe!=null&&k.push(X0(g,Oe,_e)))),g=g.return}k.length!==0&&c.push({event:f,listeners:k})}var YF=/\r\n?/g,qF=/\u0000|\uFFFD/g;function xR(c){return(typeof c=="string"?c:""+c).replace(YF,`
`).replace(qF,"")}function bR(c,f){return f=xR(f),xR(c)===f}function u_(){}function xi(c,f,g,_,T,D){switch(g){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||Tr(c,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&Tr(c,""+_);break;case"className":Sn(c,"class",_);break;case"tabIndex":Sn(c,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(c,g,_);break;case"style":nu(c,_,D);break;case"data":if(f!=="object"){Sn(c,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||g!=="href")){c.removeAttribute(g);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=ms(""+_),c.setAttribute(g,_);break;case"action":case"formAction":if(typeof _=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(g==="formAction"?(f!=="input"&&xi(c,f,"name",T.name,T,null),xi(c,f,"formEncType",T.formEncType,T,null),xi(c,f,"formMethod",T.formMethod,T,null),xi(c,f,"formTarget",T.formTarget,T,null)):(xi(c,f,"encType",T.encType,T,null),xi(c,f,"method",T.method,T,null),xi(c,f,"target",T.target,T,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=ms(""+_),c.setAttribute(g,_);break;case"onClick":_!=null&&(c.onclick=u_);break;case"onScroll":_!=null&&Jn("scroll",c);break;case"onScrollEnd":_!=null&&Jn("scrollend",c);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(g=_.__html,g!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"multiple":c.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":c.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){c.removeAttribute("xlink:href");break}g=ms(""+_),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""+_):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":_===!0?c.setAttribute(g,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,_):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?c.setAttribute(g,_):c.removeAttribute(g);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?c.removeAttribute(g):c.setAttribute(g,_);break;case"popover":Jn("beforetoggle",c),Jn("toggle",c),Ht(c,"popover",_);break;case"xlinkActuate":Vt(c,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Vt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Vt(c,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Vt(c,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Vt(c,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Vt(c,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Vt(c,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Vt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Vt(c,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Ht(c,"is",_);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Pd.get(g)||g,Ht(c,g,_))}}function q2(c,f,g,_,T,D){switch(g){case"style":nu(c,_,D);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(g=_.__html,g!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"children":typeof _=="string"?Tr(c,_):(typeof _=="number"||typeof _=="bigint")&&Tr(c,""+_);break;case"onScroll":_!=null&&Jn("scroll",c);break;case"onScrollEnd":_!=null&&Jn("scrollend",c);break;case"onClick":_!=null&&(c.onclick=u_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ke.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),D=c[sn]||null,D=D!=null?D[g]:null,typeof D=="function"&&c.removeEventListener(f,D,T),typeof _=="function")){typeof D!="function"&&D!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(f,_,T);break e}g in c?c[g]=_:_===!0?c.setAttribute(g,""):Ht(c,g,_)}}}function Aa(c,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jn("error",c),Jn("load",c);var _=!1,T=!1,D;for(D in g)if(g.hasOwnProperty(D)){var k=g[D];if(k!=null)switch(D){case"src":_=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:xi(c,f,D,k,g,null)}}T&&xi(c,f,"srcSet",g.srcSet,g,null),_&&xi(c,f,"src",g.src,g,null);return;case"input":Jn("invalid",c);var te=D=k=T=null,_e=null,Oe=null;for(_ in g)if(g.hasOwnProperty(_)){var dt=g[_];if(dt!=null)switch(_){case"name":T=dt;break;case"type":k=dt;break;case"checked":_e=dt;break;case"defaultChecked":Oe=dt;break;case"value":D=dt;break;case"defaultValue":te=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(n(137,f));break;default:xi(c,f,_,dt,g,null)}}si(c,D,te,_e,Oe,k,T,!1),Zt(c);return;case"select":Jn("invalid",c),_=k=D=null;for(T in g)if(g.hasOwnProperty(T)&&(te=g[T],te!=null))switch(T){case"value":D=te;break;case"defaultValue":k=te;break;case"multiple":_=te;default:xi(c,f,T,te,g,null)}f=D,g=k,c.multiple=!!_,f!=null?Wn(c,!!_,f,!1):g!=null&&Wn(c,!!_,g,!0);return;case"textarea":Jn("invalid",c),D=T=_=null;for(k in g)if(g.hasOwnProperty(k)&&(te=g[k],te!=null))switch(k){case"value":_=te;break;case"defaultValue":T=te;break;case"children":D=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:xi(c,f,k,te,g,null)}Zr(c,_,T,D),Zt(c);return;case"option":for(_e in g)if(g.hasOwnProperty(_e)&&(_=g[_e],_!=null))switch(_e){case"selected":c.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:xi(c,f,_e,_,g,null)}return;case"dialog":Jn("cancel",c),Jn("close",c);break;case"iframe":case"object":Jn("load",c);break;case"video":case"audio":for(_=0;_<j0.length;_++)Jn(j0[_],c);break;case"image":Jn("error",c),Jn("load",c);break;case"details":Jn("toggle",c);break;case"embed":case"source":case"link":Jn("error",c),Jn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in g)if(g.hasOwnProperty(Oe)&&(_=g[Oe],_!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:xi(c,f,Oe,_,g,null)}return;default:if(Ys(f)){for(dt in g)g.hasOwnProperty(dt)&&(_=g[dt],_!==void 0&&q2(c,f,dt,_,g,void 0));return}}for(te in g)g.hasOwnProperty(te)&&(_=g[te],_!=null&&xi(c,f,te,_,g,null))}function KF(c,f,g,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,D=null,k=null,te=null,_e=null,Oe=null,dt=null;for(ct in g){var bt=g[ct];if(g.hasOwnProperty(ct)&&bt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":_e=bt;default:_.hasOwnProperty(ct)||xi(c,f,ct,null,_,bt)}}for(var $e in _){var ct=_[$e];if(bt=g[$e],_.hasOwnProperty($e)&&(ct!=null||bt!=null))switch($e){case"type":D=ct;break;case"name":T=ct;break;case"checked":Oe=ct;break;case"defaultChecked":dt=ct;break;case"value":k=ct;break;case"defaultValue":te=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,f));break;default:ct!==bt&&xi(c,f,$e,ct,_,bt)}}hn(c,k,te,_e,Oe,dt,D,T);return;case"select":ct=k=te=$e=null;for(D in g)if(_e=g[D],g.hasOwnProperty(D)&&_e!=null)switch(D){case"value":break;case"multiple":ct=_e;default:_.hasOwnProperty(D)||xi(c,f,D,null,_,_e)}for(T in _)if(D=_[T],_e=g[T],_.hasOwnProperty(T)&&(D!=null||_e!=null))switch(T){case"value":$e=D;break;case"defaultValue":te=D;break;case"multiple":k=D;default:D!==_e&&xi(c,f,T,D,_,_e)}f=te,g=k,_=ct,$e!=null?Wn(c,!!g,$e,!1):!!_!=!!g&&(f!=null?Wn(c,!!g,f,!0):Wn(c,!!g,g?[]:"",!1));return;case"textarea":ct=$e=null;for(te in g)if(T=g[te],g.hasOwnProperty(te)&&T!=null&&!_.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:xi(c,f,te,null,_,T)}for(k in _)if(T=_[k],D=g[k],_.hasOwnProperty(k)&&(T!=null||D!=null))switch(k){case"value":$e=T;break;case"defaultValue":ct=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==D&&xi(c,f,k,T,_,D)}Ui(c,$e,ct);return;case"option":for(var Jt in g)if($e=g[Jt],g.hasOwnProperty(Jt)&&$e!=null&&!_.hasOwnProperty(Jt))switch(Jt){case"selected":c.selected=!1;break;default:xi(c,f,Jt,null,_,$e)}for(_e in _)if($e=_[_e],ct=g[_e],_.hasOwnProperty(_e)&&$e!==ct&&($e!=null||ct!=null))switch(_e){case"selected":c.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:xi(c,f,_e,$e,_,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in g)$e=g[yn],g.hasOwnProperty(yn)&&$e!=null&&!_.hasOwnProperty(yn)&&xi(c,f,yn,null,_,$e);for(Oe in _)if($e=_[Oe],ct=g[Oe],_.hasOwnProperty(Oe)&&$e!==ct&&($e!=null||ct!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(n(137,f));break;default:xi(c,f,Oe,$e,_,ct)}return;default:if(Ys(f)){for(var yr in g)$e=g[yr],g.hasOwnProperty(yr)&&$e!==void 0&&!_.hasOwnProperty(yr)&&q2(c,f,yr,void 0,_,$e);for(dt in _)$e=_[dt],ct=g[dt],!_.hasOwnProperty(dt)||$e===ct||$e===void 0&&ct===void 0||q2(c,f,dt,$e,_,ct);return}}for(var Fe in g)$e=g[Fe],g.hasOwnProperty(Fe)&&$e!=null&&!_.hasOwnProperty(Fe)&&xi(c,f,Fe,null,_,$e);for(bt in _)$e=_[bt],ct=g[bt],!_.hasOwnProperty(bt)||$e===ct||$e==null&&ct==null||xi(c,f,bt,$e,_,ct)}var K2=null,J2=null;function f_(c){return c.nodeType===9?c:c.ownerDocument}function AR(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SR(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function Z2(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var $2=null;function JF(){var c=window.event;return c&&c.type==="popstate"?c===$2?!1:($2=c,!0):($2=null,!1)}var ER=typeof setTimeout=="function"?setTimeout:void 0,ZF=typeof clearTimeout=="function"?clearTimeout:void 0,TR=typeof Promise=="function"?Promise:void 0,$F=typeof queueMicrotask=="function"?queueMicrotask:typeof TR<"u"?function(c){return TR.resolve(null).then(c).catch(QF)}:ER;function QF(c){setTimeout(function(){throw c})}function Q2(c,f){var g=f,_=0;do{var T=g.nextSibling;if(c.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(_===0){c.removeChild(T),Q0(f);return}_--}else g!=="$"&&g!=="$?"&&g!=="$!"||_++;g=T}while(g);Q0(f)}function eS(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":eS(g),At(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function e6(c,f,g,_){for(;c.nodeType===1;){var T=g;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(_){if(!c[it])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(D=c.getAttribute("rel"),D==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(D!==T.rel||c.getAttribute("href")!==(T.href==null?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(D=c.getAttribute("src"),(D!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&D&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var D=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===D)return c}else return c;if(c=Ol(c.nextSibling),c===null)break}return null}function t6(c,f,g){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=Ol(c.nextSibling),c===null))return null;return c}function Ol(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}function MR(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}function CR(c,f,g){switch(f=f_(g),c){case"html":if(c=f.documentElement,!c)throw Error(n(452));return c;case"head":if(c=f.head,!c)throw Error(n(453));return c;case"body":if(c=f.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}var Fo=new Map,wR=new Set;function d_(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Bu=Q.d;Q.d={f:n6,r:i6,D:r6,C:a6,L:s6,m:o6,X:c6,S:l6,M:u6};function n6(){var c=Bu.f(),f=wu();return c||f}function i6(c){var f=W(c);f!==null&&f.tag===5&&f.type==="form"?k1(f):Bu.r(c)}var Am=typeof document>"u"?null:document;function RR(c,f,g){var _=Am;if(_&&typeof f=="string"&&f){var T=Yt(f);T='link[rel="'+c+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),wR.has(T)||(wR.add(T),c={rel:c,crossOrigin:g,href:f},_.querySelector(T)===null&&(f=_.createElement("link"),Aa(f,"link",c),oe(f),_.head.appendChild(f)))}}function r6(c){Bu.D(c),RR("dns-prefetch",c,null)}function a6(c,f){Bu.C(c,f),RR("preconnect",c,f)}function s6(c,f,g){Bu.L(c,f,g);var _=Am;if(_&&c&&f){var T='link[rel="preload"][as="'+Yt(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+Yt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+Yt(g.imageSizes)+'"]')):T+='[href="'+Yt(c)+'"]';var D=T;switch(f){case"style":D=Sm(c);break;case"script":D=Em(c)}Fo.has(D)||(c=L({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:c,as:f},g),Fo.set(D,c),_.querySelector(T)!==null||f==="style"&&_.querySelector(W0(D))||f==="script"&&_.querySelector(Y0(D))||(f=_.createElement("link"),Aa(f,"link",c),oe(f),_.head.appendChild(f)))}}function o6(c,f){Bu.m(c,f);var g=Am;if(g&&c){var _=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Yt(_)+'"][href="'+Yt(c)+'"]',D=T;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Em(c)}if(!Fo.has(D)&&(c=L({rel:"modulepreload",href:c},f),Fo.set(D,c),g.querySelector(T)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Y0(D)))return}_=g.createElement("link"),Aa(_,"link",c),oe(_),g.head.appendChild(_)}}}function l6(c,f,g){Bu.S(c,f,g);var _=Am;if(_&&c){var T=xe(_).hoistableStyles,D=Sm(c);f=f||"default";var k=T.get(D);if(!k){var te={loading:0,preload:null};if(k=_.querySelector(W0(D)))te.loading=5;else{c=L({rel:"stylesheet",href:c,"data-precedence":f},g),(g=Fo.get(D))&&tS(c,g);var _e=k=_.createElement("link");oe(_e),Aa(_e,"link",c),_e._p=new Promise(function(Oe,dt){_e.onload=Oe,_e.onerror=dt}),_e.addEventListener("load",function(){te.loading|=1}),_e.addEventListener("error",function(){te.loading|=2}),te.loading|=4,h_(k,f,_)}k={type:"stylesheet",instance:k,count:1,state:te},T.set(D,k)}}}function c6(c,f){Bu.X(c,f);var g=Am;if(g&&c){var _=xe(g).hoistableScripts,T=Em(c),D=_.get(T);D||(D=g.querySelector(Y0(T)),D||(c=L({src:c,async:!0},f),(f=Fo.get(T))&&nS(c,f),D=g.createElement("script"),oe(D),Aa(D,"link",c),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},_.set(T,D))}}function u6(c,f){Bu.M(c,f);var g=Am;if(g&&c){var _=xe(g).hoistableScripts,T=Em(c),D=_.get(T);D||(D=g.querySelector(Y0(T)),D||(c=L({src:c,async:!0,type:"module"},f),(f=Fo.get(T))&&nS(c,f),D=g.createElement("script"),oe(D),Aa(D,"link",c),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},_.set(T,D))}}function DR(c,f,g,_){var T=(T=we.current)?d_(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Sm(g.href),g=xe(T).hoistableStyles,_=g.get(f),_||(_={type:"style",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=Sm(g.href);var D=xe(T).hoistableStyles,k=D.get(c);if(k||(T=T.ownerDocument||T,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(c,k),(D=T.querySelector(W0(c)))&&!D._p&&(k.instance=D,k.state.loading=5),Fo.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Fo.set(c,g),D||f6(T,c,g,k.state))),f&&_===null)throw Error(n(528,""));return k}if(f&&_!==null)throw Error(n(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Em(g),g=xe(T).hoistableScripts,_=g.get(f),_||(_={type:"script",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function Sm(c){return'href="'+Yt(c)+'"'}function W0(c){return'link[rel="stylesheet"]['+c+"]"}function BR(c){return L({},c,{"data-precedence":c.precedence,precedence:null})}function f6(c,f,g,_){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=c.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),Aa(f,"link",g),oe(f),c.head.appendChild(f))}function Em(c){return'[src="'+Yt(c)+'"]'}function Y0(c){return"script[async]"+c}function OR(c,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var _=c.querySelector('style[data-href~="'+Yt(g.href)+'"]');if(_)return f.instance=_,oe(_),_;var T=L({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return _=(c.ownerDocument||c).createElement("style"),oe(_),Aa(_,"style",T),h_(_,g.precedence,c),f.instance=_;case"stylesheet":T=Sm(g.href);var D=c.querySelector(W0(T));if(D)return f.state.loading|=4,f.instance=D,oe(D),D;_=BR(g),(T=Fo.get(T))&&tS(_,T),D=(c.ownerDocument||c).createElement("link"),oe(D);var k=D;return k._p=new Promise(function(te,_e){k.onload=te,k.onerror=_e}),Aa(D,"link",_),f.state.loading|=4,h_(D,g.precedence,c),f.instance=D;case"script":return D=Em(g.src),(T=c.querySelector(Y0(D)))?(f.instance=T,oe(T),T):(_=g,(T=Fo.get(D))&&(_=L({},g),nS(_,T)),c=c.ownerDocument||c,T=c.createElement("script"),oe(T),Aa(T,"link",_),c.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(_=f.instance,f.state.loading|=4,h_(_,g.precedence,c));return f.instance}function h_(c,f,g){for(var _=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=_.length?_[_.length-1]:null,D=T,k=0;k<_.length;k++){var te=_[k];if(te.dataset.precedence===f)D=te;else if(D!==T)break}D?D.parentNode.insertBefore(c,D.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(c,f.firstChild))}function tS(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function nS(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var p_=null;function NR(c,f,g){if(p_===null){var _=new Map,T=p_=new Map;T.set(g,_)}else T=p_,_=T.get(g),_||(_=new Map,T.set(g,_));if(_.has(c))return _;for(_.set(c,null),g=g.getElementsByTagName(c),T=0;T<g.length;T++){var D=g[T];if(!(D[it]||D[bn]||c==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var k=D.getAttribute(f)||"";k=c+k;var te=_.get(k);te?te.push(D):_.set(k,[D])}}return _}function UR(c,f,g){c=c.ownerDocument||c,c.head.insertBefore(g,f==="title"?c.querySelector("head > title"):null)}function d6(c,f,g){if(g===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function LR(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var q0=null;function h6(){}function p6(c,f,g){if(q0===null)throw Error(n(475));var _=q0;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=Sm(g.href),D=c.querySelector(W0(T));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(_.count++,_=m_.bind(_),c.then(_,_)),f.state.loading|=4,f.instance=D,oe(D);return}D=c.ownerDocument||c,g=BR(g),(T=Fo.get(T))&&tS(g,T),D=D.createElement("link"),oe(D);var k=D;k._p=new Promise(function(te,_e){k.onload=te,k.onerror=_e}),Aa(D,"link",g),f.instance=D}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(_.count++,f=m_.bind(_),c.addEventListener("load",f),c.addEventListener("error",f))}}function m6(){if(q0===null)throw Error(n(475));var c=q0;return c.stylesheets&&c.count===0&&iS(c,c.stylesheets),0<c.count?function(f){var g=setTimeout(function(){if(c.stylesheets&&iS(c,c.stylesheets),c.unsuspend){var _=c.unsuspend;c.unsuspend=null,_()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(g)}}:null}function m_(){if(this.count--,this.count===0){if(this.stylesheets)iS(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var g_=null;function iS(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,g_=new Map,f.forEach(g6,c),g_=null,m_.call(c))}function g6(c,f){if(!(f.state.loading&4)){var g=g_.get(c);if(g)var _=g.get(null);else{g=new Map,g_.set(c,g);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<T.length;D++){var k=T[D];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(g.set(k.dataset.precedence,k),_=k)}_&&g.set(null,_)}T=f.instance,k=T.getAttribute("data-precedence"),D=g.get(k)||_,D===_&&g.set(null,T),g.set(k,T),this.count++,_=m_.bind(this),T.addEventListener("load",_),T.addEventListener("error",_),D?D.parentNode.insertBefore(T,D.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),f.state.loading|=4}}var K0={$$typeof:y,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function v6(c,f,g,_,T,D,k,te){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=_,this.onUncaughtError=T,this.onCaughtError=D,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function IR(c,f,g,_,T,D,k,te,_e,Oe,dt,bt){return c=new v6(c,f,g,k,te,_e,Oe,bt),f=1,D===!0&&(f|=24),D=er(3,null,null,f),c.current=D,D.stateNode=c,f=h0(),f.refCount++,c.pooledCache=f,f.refCount++,D.memoizedState={element:_,isDehydrated:g,cache:f},va(D),c}function PR(c){return c?(c=ac,c):ac}function FR(c,f,g,_,T,D){T=PR(T),_.context===null?_.context=T:_.pendingContext=T,_=ts(f),_.payload={element:g},D=D===void 0?null:D,D!==null&&(_.callback=D),g=ns(c,_,f),g!==null&&(vr(g,c,f),Sc(g,c,f))}function HR(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function rS(c,f){HR(c,f),(c=c.alternate)&&HR(c,f)}function zR(c){if(c.tag===13){var f=cl(c,67108864);f!==null&&vr(f,c,67108864),rS(c,67108864)}}var v_=!0;function y6(c,f,g,_){var T=N.T;N.T=null;var D=Q.p;try{Q.p=2,aS(c,f,g,_)}finally{Q.p=D,N.T=T}}function _6(c,f,g,_){var T=N.T;N.T=null;var D=Q.p;try{Q.p=8,aS(c,f,g,_)}finally{Q.p=D,N.T=T}}function aS(c,f,g,_){if(v_){var T=sS(_);if(T===null)Y2(c,f,_,y_,g),kR(c,_);else if(b6(T,c,f,g,_))_.stopPropagation();else if(kR(c,_),f&4&&-1<x6.indexOf(c)){for(;T!==null;){var D=W(T);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var k=gt(D.pendingLanes);if(k!==0){var te=D;for(te.pendingLanes|=2,te.entangledLanes|=2;k;){var _e=1<<31-xt(k);te.entanglements[1]|=_e,k&=~_e}mi(D),(mn&6)===0&&(Ln=ve()+500,In(0))}}break;case 13:te=cl(D,2),te!==null&&vr(te,D,2),wu(),rS(D,2)}if(D=sS(_),D===null&&Y2(c,f,_,y_,g),D===T)break;T=D}T!==null&&_.stopPropagation()}else Y2(c,f,_,null,g)}}function sS(c){return c=Ks(c),oS(c)}var y_=null;function oS(c){if(y_=null,c=vt(c),c!==null){var f=le(c);if(f===null)c=null;else{var g=f.tag;if(g===13){if(c=de(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return y_=c,null}function GR(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Le:return 2;case Ye:return 8;case et:case at:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var lS=!1,Xf=null,Wf=null,Yf=null,J0=new Map,Z0=new Map,qf=[],x6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kR(c,f){switch(c){case"focusin":case"focusout":Xf=null;break;case"dragenter":case"dragleave":Wf=null;break;case"mouseover":case"mouseout":Yf=null;break;case"pointerover":case"pointerout":J0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(f.pointerId)}}function $0(c,f,g,_,T,D){return c===null||c.nativeEvent!==D?(c={blockedOn:f,domEventName:g,eventSystemFlags:_,nativeEvent:D,targetContainers:[T]},f!==null&&(f=W(f),f!==null&&zR(f)),c):(c.eventSystemFlags|=_,f=c.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),c)}function b6(c,f,g,_,T){switch(f){case"focusin":return Xf=$0(Xf,c,f,g,_,T),!0;case"dragenter":return Wf=$0(Wf,c,f,g,_,T),!0;case"mouseover":return Yf=$0(Yf,c,f,g,_,T),!0;case"pointerover":var D=T.pointerId;return J0.set(D,$0(J0.get(D)||null,c,f,g,_,T)),!0;case"gotpointercapture":return D=T.pointerId,Z0.set(D,$0(Z0.get(D)||null,c,f,g,_,T)),!0}return!1}function VR(c){var f=vt(c.target);if(f!==null){var g=le(f);if(g!==null){if(f=g.tag,f===13){if(f=de(g),f!==null){c.blockedOn=f,Ti(c.priority,function(){if(g.tag===13){var _=ba(),T=cl(g,_);T!==null&&vr(T,g,_),rS(g,_)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function __(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=sS(c.nativeEvent);if(g===null){g=c.nativeEvent;var _=new g.constructor(g.type,g);qs=_,g.target.dispatchEvent(_),qs=null}else return f=W(g),f!==null&&zR(f),c.blockedOn=g,!1;f.shift()}return!0}function jR(c,f,g){__(c)&&g.delete(f)}function A6(){lS=!1,Xf!==null&&__(Xf)&&(Xf=null),Wf!==null&&__(Wf)&&(Wf=null),Yf!==null&&__(Yf)&&(Yf=null),J0.forEach(jR),Z0.forEach(jR)}function x_(c,f){c.blockedOn===f&&(c.blockedOn=null,lS||(lS=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,A6)))}var b_=null;function XR(c){b_!==c&&(b_=c,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){b_===c&&(b_=null);for(var f=0;f<c.length;f+=3){var g=c[f],_=c[f+1],T=c[f+2];if(typeof _!="function"){if(oS(_||g)===null)continue;break}var D=W(g);D!==null&&(c.splice(f,3),f-=3,A0(D,{pending:!0,data:T,method:g.method,action:_},_,T))}}))}function Q0(c){function f(_e){return x_(_e,c)}Xf!==null&&x_(Xf,c),Wf!==null&&x_(Wf,c),Yf!==null&&x_(Yf,c),J0.forEach(f),Z0.forEach(f);for(var g=0;g<qf.length;g++){var _=qf[g];_.blockedOn===c&&(_.blockedOn=null)}for(;0<qf.length&&(g=qf[0],g.blockedOn===null);)VR(g),g.blockedOn===null&&qf.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(_=0;_<g.length;_+=3){var T=g[_],D=g[_+1],k=T[sn]||null;if(typeof D=="function")k||XR(g);else if(k){var te=null;if(D&&D.hasAttribute("formAction")){if(T=D,k=D[sn]||null)te=k.formAction;else if(oS(T)!==null)continue}else te=k.action;typeof te=="function"?g[_+1]=te:(g.splice(_,3),_-=3),XR(g)}}}function cS(c){this._internalRoot=c}A_.prototype.render=cS.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));var g=f.current,_=ba();FR(g,_,c,f,null,null)},A_.prototype.unmount=cS.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;c.tag===0&&Tt(),FR(c.current,2,null,c,null,null),wu(),f[q]=null}};function A_(c){this._internalRoot=c}A_.prototype.unstable_scheduleHydration=function(c){if(c){var f=Xi();c={blockedOn:null,target:c,priority:f};for(var g=0;g<qf.length&&f!==0&&f<qf[g].priority;g++);qf.splice(g,0,c),g===0&&VR(c)}};var WR=e.version;if(WR!=="19.0.0")throw Error(n(527,WR,"19.0.0"));Q.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=K(f),c=c!==null?re(c):null,c=c===null?null:c.stateNode,c};var S6={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S_.isDisabled&&S_.supportsFiber)try{Ze=S_.inject(S6),tt=S_}catch{}}return tv.createRoot=function(c,f){if(!i(c))throw Error(n(299));var g=!1,_="",T=J1,D=Z1,k=$1,te=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(k=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(te=f.unstable_transitionCallbacks)),f=IR(c,1,!1,null,null,g,_,T,D,k,te,null),c[q]=f.current,W2(c.nodeType===8?c.parentNode:c),new cS(f)},tv.hydrateRoot=function(c,f,g){if(!i(c))throw Error(n(299));var _=!1,T="",D=J1,k=Z1,te=$1,_e=null,Oe=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(k=g.onCaughtError),g.onRecoverableError!==void 0&&(te=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(_e=g.unstable_transitionCallbacks),g.formState!==void 0&&(Oe=g.formState)),f=IR(c,1,!0,f,g??null,_,T,D,k,te,_e,Oe),f.context=PR(null),g=f.current,_=ba(),T=ts(_),T.callback=null,ns(g,T,_),f.current.lanes=_,zn(f,_),mi(f),c[q]=f.current,W2(c),new A_(f)},tv.version="19.0.0",tv}var n3;function N6(){if(n3)return dS.exports;n3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dS.exports=O6(),dS.exports}var _U=N6();const U6=ff(_U);/**
 * @remix-run/router v1.0.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jx(){return Jx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jx.apply(this,arguments)}var fd;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(fd||(fd={}));const i3="popstate";function L6(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return _T("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:sC(i)}return F6(e,t,null,r)}function fa(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function I6(){return Math.random().toString(36).substr(2,8)}function r3(r){return{usr:r.state,key:r.key}}function _T(r,e,t,n){return t===void 0&&(t=null),Jx({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Dg(e):e,{state:t,key:e&&e.key||n||I6()})}function sC(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dg(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function P6(r){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,t=typeof r=="string"?r:sC(r);return fa(e,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,e)}function F6(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=fd.Pop,l=null;function u(){o=fd.Pop,l&&l({action:o,location:v.location})}function d(y,x){o=fd.Push;let A=_T(v.location,y,x),S=r3(A),E=v.createHref(A);try{s.pushState(S,"",E)}catch{i.location.assign(E)}a&&l&&l({action:o,location:v.location})}function p(y,x){o=fd.Replace;let A=_T(v.location,y,x),S=r3(A),E=v.createHref(A);s.replaceState(S,"",E),a&&l&&l({action:o,location:v.location})}let v={get action(){return o},get location(){return r(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(i3,u),l=y,()=>{i.removeEventListener(i3,u),l=null}},createHref(y){return e(i,y)},encodeLocation(y){let x=P6(typeof y=="string"?y:sC(y));return{pathname:x.pathname,search:x.search,hash:x.hash}},push:d,replace:p,go(y){return s.go(y)}};return v}var a3;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(a3||(a3={}));function H6(r,e,t){t===void 0&&(t="/");let n=typeof e=="string"?Dg(e):e,i=bU(n.pathname||"/",t);if(i==null)return null;let a=xU(r);z6(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=K6(a[o],$6(i));return s}function xU(r,e,t,n){return e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n=""),r.forEach((i,a)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};s.relativePath.startsWith("/")&&(fa(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let o=ep([n,s.relativePath]),l=t.concat(s);i.children&&i.children.length>0&&(fa(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),xU(i.children,e,l,o)),!(i.path==null&&!i.index)&&e.push({path:o,score:Y6(o,i.index),routesMeta:l})}),e}function z6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:q6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const G6=/^:\w+$/,k6=3,V6=2,j6=1,X6=10,W6=-2,s3=r=>r==="*";function Y6(r,e){let t=r.split("/"),n=t.length;return t.some(s3)&&(n+=W6),e&&(n+=V6),t.filter(i=>!s3(i)).reduce((i,a)=>i+(G6.test(a)?k6:a===""?j6:X6),n)}function q6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function K6(r,e){let{routesMeta:t}=r,n={},i="/",a=[];for(let s=0;s<t.length;++s){let o=t[s],l=s===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=J6({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!d)return null;Object.assign(n,d.params);let p=o.route;a.push({params:n,pathname:ep([i,d.pathname]),pathnameBase:r8(ep([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=ep([i,d.pathnameBase]))}return a}function J6(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Z6(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,p)=>{if(d==="*"){let v=o[p]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}return u[d]=Q6(o[p]||"",d),u},{}),pathname:a,pathnameBase:s,pattern:r}}function Z6(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),oC(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,o)=>(n.push(o),"([^\\/]+)"));return r.endsWith("*")?(n.push("*"),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $6(r){try{return decodeURI(r)}catch(e){return oC(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Q6(r,e){try{return decodeURIComponent(r)}catch(t){return oC(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function bU(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function oC(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e8(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Dg(r):r;return{pathname:t?t.startsWith("/")?t:t8(t,e):e,search:a8(n),hash:s8(i)}}function t8(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function gS(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n8(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i8(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Dg(r):(i=Jx({},r),fa(!i.pathname||!i.pathname.includes("?"),gS("?","pathname","search",i)),fa(!i.pathname||!i.pathname.includes("#"),gS("#","pathname","hash",i)),fa(!i.search||!i.search.includes("#"),gS("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,o;if(n||s==null)o=t;else{let p=e.length-1;if(s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?e[p]:"/"}let l=e8(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ep=r=>r.join("/").replace(/\/\/+/g,"/"),r8=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),a8=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,s8=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class o8{constructor(e,t,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function l8(r){return r instanceof o8}const AU=["post","put","patch","delete"];new Set(AU);const c8=["get",...AU];new Set(c8);/**
 * React Router v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xT(){return xT=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},xT.apply(this,arguments)}const u8=P.createContext(null),f8=P.createContext(null),SU=P.createContext(null),lC=P.createContext(null),pA=P.createContext(null),mA=P.createContext({outlet:null,matches:[]}),EU=P.createContext(null);function gA(){return P.useContext(pA)!=null}function TU(){return gA()||fa(!1),P.useContext(pA).location}function cC(){gA()||fa(!1);let{basename:r,navigator:e}=P.useContext(lC),{matches:t}=P.useContext(mA),{pathname:n}=TU(),i=JSON.stringify(n8(t).map(o=>o.pathnameBase)),a=P.useRef(!1);return P.useEffect(()=>{a.current=!0}),P.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){e.go(o);return}let u=i8(o,JSON.parse(i),n,l.relative==="path");r!=="/"&&(u.pathname=u.pathname==="/"?r:ep([r,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[r,e,i,n])}function d8(r,e){gA()||fa(!1);let{navigator:t}=P.useContext(lC),n=P.useContext(SU),{matches:i}=P.useContext(mA),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=TU(),u;if(e){var d;let A=typeof e=="string"?Dg(e):e;o==="/"||(d=A.pathname)!=null&&d.startsWith(o)||fa(!1),u=A}else u=l;let p=u.pathname||"/",v=o==="/"?p:p.slice(o.length)||"/",y=H6(r,{pathname:v}),x=g8(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},s,A.params),pathname:ep([o,t.encodeLocation?t.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?o:ep([o,t.encodeLocation?t.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n||void 0);return e&&x?P.createElement(pA.Provider,{value:{location:xT({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:fd.Pop}},x):x}function h8(){let r=y8(),e=l8(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unhandled Thrown Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:i},t):null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",P.createElement("code",{style:a},"errorElement")," props on",P.createElement("code",{style:a},"<Route>")))}class p8 extends P.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?P.createElement(EU.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function m8(r){let{routeContext:e,match:t,children:n}=r,i=P.useContext(u8);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),P.createElement(mA.Provider,{value:e},n)}function g8(r,e,t){if(e===void 0&&(e=[]),r==null)if(t!=null&&t.errors)r=t.matches;else return null;let n=r,i=t==null?void 0:t.errors;if(i!=null){let a=n.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));a>=0||fa(!1),n=n.slice(0,Math.min(n.length,a+1))}return n.reduceRight((a,s,o)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=t?s.route.errorElement||P.createElement(h8,null):null,d=()=>P.createElement(m8,{match:s,routeContext:{outlet:a,matches:e.concat(n.slice(0,o+1))}},l?u:s.route.element!==void 0?s.route.element:a);return t&&(s.route.errorElement||o===0)?P.createElement(p8,{location:t.location,component:u,error:l,children:d()}):d()},null)}var o3;(function(r){r.UseRevalidator="useRevalidator"})(o3||(o3={}));var bT;(function(r){r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator"})(bT||(bT={}));function v8(r){let e=P.useContext(SU);return e||fa(!1),e}function y8(){var r;let e=P.useContext(EU),t=v8(bT.UseRouteError),n=P.useContext(mA),i=n.matches[n.matches.length-1];return e||(n||fa(!1),i.route.id||fa(!1),(r=t.errors)==null?void 0:r[i.route.id])}function od(r){fa(!1)}function _8(r){let{basename:e="/",children:t=null,location:n,navigationType:i=fd.Pop,navigator:a,static:s=!1}=r;gA()&&fa(!1);let o=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof n=="string"&&(n=Dg(n));let{pathname:u="/",search:d="",hash:p="",state:v=null,key:y="default"}=n,x=P.useMemo(()=>{let A=bU(u,o);return A==null?null:{pathname:A,search:d,hash:p,state:v,key:y}},[o,u,d,p,v,y]);return x==null?null:P.createElement(lC.Provider,{value:l},P.createElement(pA.Provider,{children:t,value:{location:x,navigationType:i}}))}function x8(r){let{children:e,location:t}=r,n=P.useContext(f8),i=n&&!e?n.router.routes:AT(e);return d8(i,t)}var l3;(function(r){r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error"})(l3||(l3={}));new Promise(()=>{});function AT(r,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(r,(n,i)=>{if(!P.isValidElement(n))return;if(n.type===P.Fragment){t.push.apply(t,AT(n.props.children,e));return}n.type!==od&&fa(!1),!n.props.index||!n.props.children||fa(!1);let a=[...e,i],s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(s.children=AT(n.props.children,a)),t.push(s)}),t}/**
 * React Router DOM v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b8(r){let{basename:e,children:t,window:n}=r,i=P.useRef();i.current==null&&(i.current=L6({window:n,v5Compat:!0}));let a=i.current,[s,o]=P.useState({action:a.action,location:a.location});return P.useLayoutEffect(()=>a.listen(o),[a]),P.createElement(_8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var c3;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmitImpl="useSubmitImpl",r.UseFetcher="useFetcher"})(c3||(c3={}));var u3;(function(r){r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(u3||(u3={}));/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Cy="173",A8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},S8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},MU=0,ST=1,CU=2,E8=3,wU=0,vA=1,Ov=2,Pl=3,kl=0,ps=1,Is=2,kc=0,tp=1,ET=2,TT=3,MT=4,RU=5,ud=100,DU=101,BU=102,OU=103,NU=104,UU=200,LU=201,IU=202,PU=203,Zx=204,$x=205,FU=206,HU=207,zU=208,GU=209,kU=210,VU=211,jU=212,XU=213,WU=214,Qx=0,eb=1,tb=2,hp=3,nb=4,ib=5,rb=6,ab=7,wy=0,YU=1,qU=2,Vc=0,KU=1,JU=2,ZU=3,Bg=4,$U=5,QU=6,eL=7,CT="attached",tL="detached",xd=300,Yc=301,bd=302,gg=303,ty=304,Og=306,Vl=1e3,xr=1001,pp=1002,Gr=1003,Ry=1004,T8=1004,dd=1005,M8=1005,Yn=1006,np=1007,C8=1007,Fs=1008,wT=1008,js=1009,yA=1010,_A=1011,vg=1012,Dy=1013,qc=1014,or=1015,ua=1016,xA=1017,bA=1018,mp=1020,uC=35902,fC=1021,dC=1022,Dr=1023,hC=1024,pC=1025,ip=1026,gp=1027,By=1028,Oy=1029,mC=1030,AA=1031,w8=1032,SA=1033,Nv=33776,Uv=33777,Lv=33778,Iv=33779,sb=35840,ob=35841,lb=35842,cb=35843,ub=36196,fb=37492,db=37496,hb=37808,pb=37809,mb=37810,gb=37811,vb=37812,yb=37813,_b=37814,xb=37815,bb=37816,Ab=37817,Sb=37818,Eb=37819,Tb=37820,Mb=37821,Pv=36492,Cb=36494,wb=36495,gC=36283,Rb=36284,Db=36285,Bb=36286,nL=2200,iL=2201,rL=2202,vp=2300,Ad=2301,Lx=2302,jh=2400,Xh=2401,ny=2402,EA=2500,vC=2501,yC=0,Ny=1,yp=2,aL=3200,_C=3201,R8=3202,D8=3203,Od=0,sL=1,Xu="",Ii="srgb",Or="srgb-linear",iy="linear",gi="srgb",B8=0,Hh=7680,O8=7681,N8=7682,U8=7683,L8=34055,I8=34056,P8=5386,F8=512,H8=513,z8=514,G8=515,k8=516,V8=517,j8=518,RT=519,oL=512,lL=513,cL=514,xC=515,uL=516,fL=517,dL=518,hL=519,ry=35044,X8=35048,W8=35040,Y8=35045,q8=35049,K8=35041,J8=35046,Z8=35050,$8=35042,Q8="100",DT="300 es",Hl=2e3,ay=2001,eH={COMPUTE:"compute",RENDER:"render"};class Qc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const Ha=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let f3=1234567;const rp=Math.PI/180,yg=180/Math.PI;function po(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ha[r&255]+Ha[r>>8&255]+Ha[r>>16&255]+Ha[r>>24&255]+"-"+Ha[e&255]+Ha[e>>8&255]+"-"+Ha[e>>16&15|64]+Ha[e>>24&255]+"-"+Ha[t&63|128]+Ha[t>>8&255]+"-"+Ha[t>>16&255]+Ha[t>>24&255]+Ha[n&255]+Ha[n>>8&255]+Ha[n>>16&255]+Ha[n>>24&255]).toLowerCase()}function xn(r,e,t){return Math.max(e,Math.min(t,r))}function bC(r,e){return(r%e+e)%e}function tH(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function nH(r,e,t){return r!==e?(t-r)/(e-r):0}function Fv(r,e,t){return(1-t)*r+t*e}function iH(r,e,t,n){return Fv(r,e,1-Math.exp(-t*n))}function rH(r,e=1){return e-Math.abs(bC(r,e*2)-e)}function aH(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function sH(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function oH(r,e){return r+Math.floor(Math.random()*(e-r+1))}function lH(r,e){return r+Math.random()*(e-r)}function cH(r){return r*(.5-Math.random())}function uH(r){r!==void 0&&(f3=r);let e=f3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fH(r){return r*rp}function dH(r){return r*yg}function hH(r){return(r&r-1)===0&&r!==0}function pH(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function mH(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function gH(r,e,t,n,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),u=a((e+n)/2),d=s((e+n)/2),p=a((e-n)/2),v=s((e-n)/2),y=a((n-e)/2),x=s((n-e)/2);switch(i){case"XYX":r.set(o*d,l*p,l*v,o*u);break;case"YZY":r.set(l*v,o*d,l*p,o*u);break;case"ZXZ":r.set(l*p,l*v,o*d,o*u);break;case"XZX":r.set(o*d,l*x,l*y,o*u);break;case"YXY":r.set(l*y,o*d,l*x,o*u);break;case"ZYZ":r.set(l*x,l*y,o*d,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function us(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Tn(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const TA={DEG2RAD:rp,RAD2DEG:yg,generateUUID:po,clamp:xn,euclideanModulo:bC,mapLinear:tH,inverseLerp:nH,lerp:Fv,damp:iH,pingpong:rH,smoothstep:aH,smootherstep:sH,randInt:oH,randFloat:lH,randFloatSpread:cH,seededRandom:uH,degToRad:fH,radToDeg:dH,isPowerOfTwo:hH,ceilPowerOfTwo:pH,floorPowerOfTwo:mH,setQuaternionFromProperEuler:gH,normalize:Tn,denormalize:us};class mt{constructor(e=0,t=0){mt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*i+e.x,this.y=a*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _n{constructor(e,t,n,i,a,s,o,l,u){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,l,u)}set(e,t,n,i,a,s,o,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=t,d[4]=a,d[5]=l,d[6]=n,d[7]=s,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[3],l=n[6],u=n[1],d=n[4],p=n[7],v=n[2],y=n[5],x=n[8],A=i[0],S=i[3],E=i[6],M=i[1],R=i[4],w=i[7],I=i[2],U=i[5],H=i[8];return a[0]=s*A+o*M+l*I,a[3]=s*S+o*R+l*U,a[6]=s*E+o*w+l*H,a[1]=u*A+d*M+p*I,a[4]=u*S+d*R+p*U,a[7]=u*E+d*w+p*H,a[2]=v*A+y*M+x*I,a[5]=v*S+y*R+x*U,a[8]=v*E+y*w+x*H,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],d=e[8];return t*s*d-t*o*u-n*a*d+n*o*l+i*a*u-i*s*l}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],d=e[8],p=d*s-o*u,v=o*l-d*a,y=u*a-s*l,x=t*p+n*v+i*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/x;return e[0]=p*A,e[1]=(i*u-d*n)*A,e[2]=(o*n-i*s)*A,e[3]=v*A,e[4]=(d*t-i*l)*A,e[5]=(i*a-o*t)*A,e[6]=y*A,e[7]=(n*l-u*t)*A,e[8]=(s*t-n*a)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,s,o){const l=Math.cos(a),u=Math.sin(a);return this.set(n*l,n*u,-n*(l*s+u*o)+s+e,-i*u,i*l,-i*(-u*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(vS.makeScale(e,t)),this}rotate(e){return this.premultiply(vS.makeRotation(-e)),this}translate(e,t){return this.premultiply(vS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const vS=new _n;function pL(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const vH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $m(r,e){return new vH[r](e)}function sy(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function mL(){const r=sy("canvas");return r.style.display="block",r}const d3={};function Zm(r){r in d3||(d3[r]=!0,console.warn(r))}function yH(r,e,t){return new Promise(function(n,i){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}function _H(r){const e=r.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function xH(r){const e=r.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const h3=new _n().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),p3=new _n().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function bH(){const r={enabled:!0,workingColorSpace:Or,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===gi&&(i.r=Ku(i.r),i.g=Ku(i.g),i.b=Ku(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===gi&&(i.r=og(i.r),i.g=og(i.g),i.b=og(i.b))),i},fromWorkingColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},toWorkingColorSpace:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Xu?iy:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[Or]:{primaries:e,whitePoint:n,transfer:iy,toXYZ:h3,fromXYZ:p3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ii},outputColorSpaceConfig:{drawingBufferColorSpace:Ii}},[Ii]:{primaries:e,whitePoint:n,transfer:gi,toXYZ:h3,fromXYZ:p3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ii}}}),r}const Fn=bH();function Ku(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function og(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Tm;class gL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Tm===void 0&&(Tm=sy("canvas")),Tm.width=e.width,Tm.height=e.height;const n=Tm.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Tm}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sy("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Ku(a[s]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Ku(t[n]/255)*255):t[n]=Ku(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let AH=0;class Wh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:AH++}),this.uuid=po(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(yS(i[s].image)):a.push(yS(i[s]))}else a=yS(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function yS(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?gL.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SH=0;class ni extends Qc{constructor(e=ni.DEFAULT_IMAGE,t=ni.DEFAULT_MAPPING,n=xr,i=xr,a=Yn,s=Fs,o=Dr,l=js,u=ni.DEFAULT_ANISOTROPY,d=Xu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SH++}),this.uuid=po(),this.name="",this.source=new Wh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new mt(0,0),this.repeat=new mt(1,1),this.center=new mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==xd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vl:e.x=e.x-Math.floor(e.x);break;case xr:e.x=e.x<0?0:1;break;case pp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vl:e.y=e.y-Math.floor(e.y);break;case xr:e.y=e.y<0?0:1;break;case pp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ni.DEFAULT_IMAGE=null;ni.DEFAULT_MAPPING=xd;ni.DEFAULT_ANISOTROPY=1;class $n{constructor(e=0,t=0,n=0,i=1){$n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const l=e.elements,u=l[0],d=l[4],p=l[8],v=l[1],y=l[5],x=l[9],A=l[2],S=l[6],E=l[10];if(Math.abs(d-v)<.01&&Math.abs(p-A)<.01&&Math.abs(x-S)<.01){if(Math.abs(d+v)<.1&&Math.abs(p+A)<.1&&Math.abs(x+S)<.1&&Math.abs(u+y+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(u+1)/2,w=(y+1)/2,I=(E+1)/2,U=(d+v)/4,H=(p+A)/4,F=(x+S)/4;return R>w&&R>I?R<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(R),i=U/n,a=H/n):w>I?w<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(w),n=U/i,a=F/i):I<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(I),n=H/a,i=F/a),this.set(n,i,a,t),this}let M=Math.sqrt((S-x)*(S-x)+(p-A)*(p-A)+(v-d)*(v-d));return Math.abs(M)<.001&&(M=1),this.x=(S-x)/M,this.y=(p-A)/M,this.z=(v-d)/M,this.w=Math.acos((u+y+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class MA extends Qc{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $n(0,0,e,t),this.scissorTest=!1,this.viewport=new $n(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const a=new ni(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);a.flipY=!1,a.generateMipmaps=n.generateMipmaps,a.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new Wh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qo extends MA{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Uy extends ni{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class EH extends qo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Uy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class CA extends ni{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TH extends qo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new CA(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class da{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,s,o){let l=n[i+0],u=n[i+1],d=n[i+2],p=n[i+3];const v=a[s+0],y=a[s+1],x=a[s+2],A=a[s+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=p;return}if(o===1){e[t+0]=v,e[t+1]=y,e[t+2]=x,e[t+3]=A;return}if(p!==A||l!==v||u!==y||d!==x){let S=1-o;const E=l*v+u*y+d*x+p*A,M=E>=0?1:-1,R=1-E*E;if(R>Number.EPSILON){const I=Math.sqrt(R),U=Math.atan2(I,E*M);S=Math.sin(S*U)/I,o=Math.sin(o*U)/I}const w=o*M;if(l=l*S+v*w,u=u*S+y*w,d=d*S+x*w,p=p*S+A*w,S===1-o){const I=1/Math.sqrt(l*l+u*u+d*d+p*p);l*=I,u*=I,d*=I,p*=I}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=p}static multiplyQuaternionsFlat(e,t,n,i,a,s){const o=n[i],l=n[i+1],u=n[i+2],d=n[i+3],p=a[s],v=a[s+1],y=a[s+2],x=a[s+3];return e[t]=o*x+d*p+l*y-u*v,e[t+1]=l*x+d*v+u*p-o*y,e[t+2]=u*x+d*y+o*v-l*p,e[t+3]=d*x-o*p-l*v-u*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,u=o(n/2),d=o(i/2),p=o(a/2),v=l(n/2),y=l(i/2),x=l(a/2);switch(s){case"XYZ":this._x=v*d*p+u*y*x,this._y=u*y*p-v*d*x,this._z=u*d*x+v*y*p,this._w=u*d*p-v*y*x;break;case"YXZ":this._x=v*d*p+u*y*x,this._y=u*y*p-v*d*x,this._z=u*d*x-v*y*p,this._w=u*d*p+v*y*x;break;case"ZXY":this._x=v*d*p-u*y*x,this._y=u*y*p+v*d*x,this._z=u*d*x+v*y*p,this._w=u*d*p-v*y*x;break;case"ZYX":this._x=v*d*p-u*y*x,this._y=u*y*p+v*d*x,this._z=u*d*x-v*y*p,this._w=u*d*p+v*y*x;break;case"YZX":this._x=v*d*p+u*y*x,this._y=u*y*p+v*d*x,this._z=u*d*x-v*y*p,this._w=u*d*p-v*y*x;break;case"XZY":this._x=v*d*p-u*y*x,this._y=u*y*p-v*d*x,this._z=u*d*x+v*y*p,this._w=u*d*p+v*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],u=t[2],d=t[6],p=t[10],v=n+o+p;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(d-l)*y,this._y=(a-u)*y,this._z=(s-i)*y}else if(n>o&&n>p){const y=2*Math.sqrt(1+n-o-p);this._w=(d-l)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(a+u)/y}else if(o>p){const y=2*Math.sqrt(1+o-n-p);this._w=(a-u)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(l+d)/y}else{const y=2*Math.sqrt(1+p-n-o);this._w=(s-i)/y,this._x=(a+u)/y,this._y=(l+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,u=t._z,d=t._w;return this._x=n*d+s*o+i*u-a*l,this._y=i*d+s*l+a*o-n*u,this._z=a*d+s*u+n*l-i*o,this._w=s*d-n*o-i*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+n*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*n+t*this._x,this._y=y*i+t*this._y,this._z=y*a+t*this._z,this.normalize(),this}const u=Math.sqrt(l),d=Math.atan2(u,o),p=Math.sin((1-t)*d)/u,v=Math.sin(t*d)/u;return this._w=s*p+this._w*v,this._x=n*p+this._x*v,this._y=i*p+this._y*v,this._z=a*p+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(e=0,t=0,n=0){ue.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(m3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(m3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,u=2*(s*i-o*n),d=2*(o*t-a*i),p=2*(a*n-s*t);return this.x=t+l*u+s*p-o*d,this.y=n+l*d+o*u-a*p,this.z=i+l*p+a*d-s*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-n*l,this.z=n*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return _S.copy(this).projectOnVector(e),this.sub(_S)}reflect(e){return this.sub(_S.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _S=new ue,m3=new da;class kr{constructor(e=new ue(1/0,1/0,1/0),t=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Nl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Nl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Nl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Nl):Nl.fromBufferAttribute(a,s),Nl.applyMatrix4(e.matrixWorld),this.expandByPoint(Nl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),E_.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),E_.copy(n.boundingBox)),E_.applyMatrix4(e.matrixWorld),this.union(E_)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Nl),Nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nv),T_.subVectors(this.max,nv),Mm.subVectors(e.a,nv),Cm.subVectors(e.b,nv),wm.subVectors(e.c,nv),Jf.subVectors(Cm,Mm),Zf.subVectors(wm,Cm),bh.subVectors(Mm,wm);let t=[0,-Jf.z,Jf.y,0,-Zf.z,Zf.y,0,-bh.z,bh.y,Jf.z,0,-Jf.x,Zf.z,0,-Zf.x,bh.z,0,-bh.x,-Jf.y,Jf.x,0,-Zf.y,Zf.x,0,-bh.y,bh.x,0];return!xS(t,Mm,Cm,wm,T_)||(t=[1,0,0,0,1,0,0,0,1],!xS(t,Mm,Cm,wm,T_))?!1:(M_.crossVectors(Jf,Zf),t=[M_.x,M_.y,M_.z],xS(t,Mm,Cm,wm,T_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ou[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ou[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ou[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ou[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ou[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ou[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ou[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ou[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ou),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ou=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],Nl=new ue,E_=new kr,Mm=new ue,Cm=new ue,wm=new ue,Jf=new ue,Zf=new ue,bh=new ue,nv=new ue,T_=new ue,M_=new ue,Ah=new ue;function xS(r,e,t,n,i){for(let a=0,s=r.length-3;a<=s;a+=3){Ah.fromArray(r,a);const o=i.x*Math.abs(Ah.x)+i.y*Math.abs(Ah.y)+i.z*Math.abs(Ah.z),l=e.dot(Ah),u=t.dot(Ah),d=n.dot(Ah);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>o)return!1}return!0}const MH=new kr,iv=new ue,bS=new ue;class Yr{constructor(e=new ue,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):MH.setFromPoints(e).getCenter(n);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;iv.subVectors(e,this.center);const t=iv.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(iv,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(bS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(iv.copy(e.center).add(bS)),this.expandByPoint(iv.copy(e.center).sub(bS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Nu=new ue,AS=new ue,C_=new ue,$f=new ue,SS=new ue,w_=new ue,ES=new ue;class Ng{constructor(e=new ue,t=new ue(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Nu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Nu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Nu.copy(this.origin).addScaledVector(this.direction,t),Nu.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){AS.copy(e).add(t).multiplyScalar(.5),C_.copy(t).sub(e).normalize(),$f.copy(this.origin).sub(AS);const a=e.distanceTo(t)*.5,s=-this.direction.dot(C_),o=$f.dot(this.direction),l=-$f.dot(C_),u=$f.lengthSq(),d=Math.abs(1-s*s);let p,v,y,x;if(d>0)if(p=s*l-o,v=s*o-l,x=a*d,p>=0)if(v>=-x)if(v<=x){const A=1/d;p*=A,v*=A,y=p*(p+s*v+2*o)+v*(s*p+v+2*l)+u}else v=a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*l)+u;else v=-a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*l)+u;else v<=-x?(p=Math.max(0,-(-s*a+o)),v=p>0?-a:Math.min(Math.max(-a,-l),a),y=-p*p+v*(v+2*l)+u):v<=x?(p=0,v=Math.min(Math.max(-a,-l),a),y=v*(v+2*l)+u):(p=Math.max(0,-(s*a+o)),v=p>0?a:Math.min(Math.max(-a,-l),a),y=-p*p+v*(v+2*l)+u);else v=s>0?-a:a,p=Math.max(0,-(s*v+o)),y=-p*p+v*(v+2*l)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(AS).addScaledVector(C_,v),y}intersectSphere(e,t){Nu.subVectors(e.center,this.origin);const n=Nu.dot(this.direction),i=Nu.dot(Nu)-n*n,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=n-s,l=n+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,s,o,l;const u=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,v=this.origin;return u>=0?(n=(e.min.x-v.x)*u,i=(e.max.x-v.x)*u):(n=(e.max.x-v.x)*u,i=(e.min.x-v.x)*u),d>=0?(a=(e.min.y-v.y)*d,s=(e.max.y-v.y)*d):(a=(e.max.y-v.y)*d,s=(e.min.y-v.y)*d),n>s||a>i||((a>n||isNaN(n))&&(n=a),(s<i||isNaN(i))&&(i=s),p>=0?(o=(e.min.z-v.z)*p,l=(e.max.z-v.z)*p):(o=(e.max.z-v.z)*p,l=(e.min.z-v.z)*p),n>l||o>i)||((o>n||n!==n)&&(n=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Nu)!==null}intersectTriangle(e,t,n,i,a){SS.subVectors(t,e),w_.subVectors(n,e),ES.crossVectors(SS,w_);let s=this.direction.dot(ES),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;$f.subVectors(this.origin,e);const l=o*this.direction.dot(w_.crossVectors($f,w_));if(l<0)return null;const u=o*this.direction.dot(SS.cross($f));if(u<0||l+u>s)return null;const d=-o*$f.dot(ES);return d<0?null:this.at(d/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class en{constructor(e,t,n,i,a,s,o,l,u,d,p,v,y,x,A,S){en.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,s,o,l,u,d,p,v,y,x,A,S)}set(e,t,n,i,a,s,o,l,u,d,p,v,y,x,A,S){const E=this.elements;return E[0]=e,E[4]=t,E[8]=n,E[12]=i,E[1]=a,E[5]=s,E[9]=o,E[13]=l,E[2]=u,E[6]=d,E[10]=p,E[14]=v,E[3]=y,E[7]=x,E[11]=A,E[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new en().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Rm.setFromMatrixColumn(e,0).length(),a=1/Rm.setFromMatrixColumn(e,1).length(),s=1/Rm.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),l=Math.cos(i),u=Math.sin(i),d=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const v=s*d,y=s*p,x=o*d,A=o*p;t[0]=l*d,t[4]=-l*p,t[8]=u,t[1]=y+x*u,t[5]=v-A*u,t[9]=-o*l,t[2]=A-v*u,t[6]=x+y*u,t[10]=s*l}else if(e.order==="YXZ"){const v=l*d,y=l*p,x=u*d,A=u*p;t[0]=v+A*o,t[4]=x*o-y,t[8]=s*u,t[1]=s*p,t[5]=s*d,t[9]=-o,t[2]=y*o-x,t[6]=A+v*o,t[10]=s*l}else if(e.order==="ZXY"){const v=l*d,y=l*p,x=u*d,A=u*p;t[0]=v-A*o,t[4]=-s*p,t[8]=x+y*o,t[1]=y+x*o,t[5]=s*d,t[9]=A-v*o,t[2]=-s*u,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const v=s*d,y=s*p,x=o*d,A=o*p;t[0]=l*d,t[4]=x*u-y,t[8]=v*u+A,t[1]=l*p,t[5]=A*u+v,t[9]=y*u-x,t[2]=-u,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const v=s*l,y=s*u,x=o*l,A=o*u;t[0]=l*d,t[4]=A-v*p,t[8]=x*p+y,t[1]=p,t[5]=s*d,t[9]=-o*d,t[2]=-u*d,t[6]=y*p+x,t[10]=v-A*p}else if(e.order==="XZY"){const v=s*l,y=s*u,x=o*l,A=o*u;t[0]=l*d,t[4]=-p,t[8]=u*d,t[1]=v*p+A,t[5]=s*d,t[9]=y*p-x,t[2]=x*p-y,t[6]=o*d,t[10]=A*p+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CH,e,wH)}lookAt(e,t,n){const i=this.elements;return lo.subVectors(e,t),lo.lengthSq()===0&&(lo.z=1),lo.normalize(),Qf.crossVectors(n,lo),Qf.lengthSq()===0&&(Math.abs(n.z)===1?lo.x+=1e-4:lo.z+=1e-4,lo.normalize(),Qf.crossVectors(n,lo)),Qf.normalize(),R_.crossVectors(lo,Qf),i[0]=Qf.x,i[4]=R_.x,i[8]=lo.x,i[1]=Qf.y,i[5]=R_.y,i[9]=lo.y,i[2]=Qf.z,i[6]=R_.z,i[10]=lo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,s=n[0],o=n[4],l=n[8],u=n[12],d=n[1],p=n[5],v=n[9],y=n[13],x=n[2],A=n[6],S=n[10],E=n[14],M=n[3],R=n[7],w=n[11],I=n[15],U=i[0],H=i[4],F=i[8],N=i[12],L=i[1],G=i[5],X=i[9],Y=i[13],J=i[2],ae=i[6],$=i[10],he=i[14],le=i[3],de=i[7],V=i[11],K=i[15];return a[0]=s*U+o*L+l*J+u*le,a[4]=s*H+o*G+l*ae+u*de,a[8]=s*F+o*X+l*$+u*V,a[12]=s*N+o*Y+l*he+u*K,a[1]=d*U+p*L+v*J+y*le,a[5]=d*H+p*G+v*ae+y*de,a[9]=d*F+p*X+v*$+y*V,a[13]=d*N+p*Y+v*he+y*K,a[2]=x*U+A*L+S*J+E*le,a[6]=x*H+A*G+S*ae+E*de,a[10]=x*F+A*X+S*$+E*V,a[14]=x*N+A*Y+S*he+E*K,a[3]=M*U+R*L+w*J+I*le,a[7]=M*H+R*G+w*ae+I*de,a[11]=M*F+R*X+w*$+I*V,a[15]=M*N+R*Y+w*he+I*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],u=e[13],d=e[2],p=e[6],v=e[10],y=e[14],x=e[3],A=e[7],S=e[11],E=e[15];return x*(+a*l*p-i*u*p-a*o*v+n*u*v+i*o*y-n*l*y)+A*(+t*l*y-t*u*v+a*s*v-i*s*y+i*u*d-a*l*d)+S*(+t*u*p-t*o*y-a*s*p+n*s*y+a*o*d-n*u*d)+E*(-i*o*d-t*l*p+t*o*v+i*s*p-n*s*v+n*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],d=e[8],p=e[9],v=e[10],y=e[11],x=e[12],A=e[13],S=e[14],E=e[15],M=p*S*u-A*v*u+A*l*y-o*S*y-p*l*E+o*v*E,R=x*v*u-d*S*u-x*l*y+s*S*y+d*l*E-s*v*E,w=d*A*u-x*p*u+x*o*y-s*A*y-d*o*E+s*p*E,I=x*p*l-d*A*l-x*o*v+s*A*v+d*o*S-s*p*S,U=t*M+n*R+i*w+a*I;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/U;return e[0]=M*H,e[1]=(A*v*a-p*S*a-A*i*y+n*S*y+p*i*E-n*v*E)*H,e[2]=(o*S*a-A*l*a+A*i*u-n*S*u-o*i*E+n*l*E)*H,e[3]=(p*l*a-o*v*a-p*i*u+n*v*u+o*i*y-n*l*y)*H,e[4]=R*H,e[5]=(d*S*a-x*v*a+x*i*y-t*S*y-d*i*E+t*v*E)*H,e[6]=(x*l*a-s*S*a-x*i*u+t*S*u+s*i*E-t*l*E)*H,e[7]=(s*v*a-d*l*a+d*i*u-t*v*u-s*i*y+t*l*y)*H,e[8]=w*H,e[9]=(x*p*a-d*A*a-x*n*y+t*A*y+d*n*E-t*p*E)*H,e[10]=(s*A*a-x*o*a+x*n*u-t*A*u-s*n*E+t*o*E)*H,e[11]=(d*o*a-s*p*a-d*n*u+t*p*u+s*n*y-t*o*y)*H,e[12]=I*H,e[13]=(d*A*i-x*p*i+x*n*v-t*A*v-d*n*S+t*p*S)*H,e[14]=(x*o*i-s*A*i-x*n*l+t*A*l+s*n*S-t*o*S)*H,e[15]=(s*p*i-d*o*i+d*n*l-t*p*l-s*n*v+t*o*v)*H,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,s=e.x,o=e.y,l=e.z,u=a*s,d=a*o;return this.set(u*s+n,u*o-i*l,u*l+i*o,0,u*o+i*l,d*o+n,d*l-i*s,0,u*l-i*o,d*l+i*s,a*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,s){return this.set(1,n,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,u=a+a,d=s+s,p=o+o,v=a*u,y=a*d,x=a*p,A=s*d,S=s*p,E=o*p,M=l*u,R=l*d,w=l*p,I=n.x,U=n.y,H=n.z;return i[0]=(1-(A+E))*I,i[1]=(y+w)*I,i[2]=(x-R)*I,i[3]=0,i[4]=(y-w)*U,i[5]=(1-(v+E))*U,i[6]=(S+M)*U,i[7]=0,i[8]=(x+R)*H,i[9]=(S-M)*H,i[10]=(1-(v+A))*H,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let a=Rm.set(i[0],i[1],i[2]).length();const s=Rm.set(i[4],i[5],i[6]).length(),o=Rm.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ul.copy(this);const u=1/a,d=1/s,p=1/o;return Ul.elements[0]*=u,Ul.elements[1]*=u,Ul.elements[2]*=u,Ul.elements[4]*=d,Ul.elements[5]*=d,Ul.elements[6]*=d,Ul.elements[8]*=p,Ul.elements[9]*=p,Ul.elements[10]*=p,t.setFromRotationMatrix(Ul),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,i,a,s,o=Hl){const l=this.elements,u=2*a/(t-e),d=2*a/(n-i),p=(t+e)/(t-e),v=(n+i)/(n-i);let y,x;if(o===Hl)y=-(s+a)/(s-a),x=-2*s*a/(s-a);else if(o===ay)y=-s/(s-a),x=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=v,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,i,a,s,o=Hl){const l=this.elements,u=1/(t-e),d=1/(n-i),p=1/(s-a),v=(t+e)*u,y=(n+i)*d;let x,A;if(o===Hl)x=(s+a)*p,A=-2*p;else if(o===ay)x=a*p,A=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-v,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=A,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Rm=new ue,Ul=new en,CH=new ue(0,0,0),wH=new ue(1,1,1),Qf=new ue,R_=new ue,lo=new ue,g3=new en,v3=new da;class vo{constructor(e=0,t=0,n=0,i=vo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],u=i[5],d=i[9],p=i[2],v=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,u),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(xn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,y),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-xn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-xn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-d,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return g3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(g3,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return v3.setFromEuler(this),this.setFromQuaternion(v3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vo.DEFAULT_ORDER="XYZ";let _g=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},RH=0;const y3=new ue,Dm=new da,Uu=new en,D_=new ue,rv=new ue,DH=new ue,BH=new da,_3=new ue(1,0,0),x3=new ue(0,1,0),b3=new ue(0,0,1),A3={type:"added"},OH={type:"removed"},Bm={type:"childadded",child:null},TS={type:"childremoved",child:null};class Vn extends Qc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:RH++}),this.uuid=po(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vn.DEFAULT_UP.clone();const e=new ue,t=new vo,n=new da,i=new ue(1,1,1);function a(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new en},normalMatrix:{value:new _n}}),this.matrix=new en,this.matrixWorld=new en,this.matrixAutoUpdate=Vn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _g,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Dm.setFromAxisAngle(e,t),this.quaternion.multiply(Dm),this}rotateOnWorldAxis(e,t){return Dm.setFromAxisAngle(e,t),this.quaternion.premultiply(Dm),this}rotateX(e){return this.rotateOnAxis(_3,e)}rotateY(e){return this.rotateOnAxis(x3,e)}rotateZ(e){return this.rotateOnAxis(b3,e)}translateOnAxis(e,t){return y3.copy(e).applyQuaternion(this.quaternion),this.position.add(y3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(_3,e)}translateY(e){return this.translateOnAxis(x3,e)}translateZ(e){return this.translateOnAxis(b3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?D_.copy(e):D_.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),rv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uu.lookAt(rv,D_,this.up):Uu.lookAt(D_,rv,this.up),this.quaternion.setFromRotationMatrix(Uu),i&&(Uu.extractRotation(i.matrixWorld),Dm.setFromRotationMatrix(Uu),this.quaternion.premultiply(Dm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(A3),Bm.child=e,this.dispatchEvent(Bm),Bm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(OH),TS.child=e,this.dispatchEvent(TS),TS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(A3),Bm.child=e,this.dispatchEvent(Bm),Bm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rv,e,DH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rv,BH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const p=l[u];a(e.shapes,p)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),u=s(e.textures),d=s(e.images),p=s(e.shapes),v=s(e.skeletons),y=s(e.animations),x=s(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),u.length>0&&(n.textures=u),d.length>0&&(n.images=d),p.length>0&&(n.shapes=p),v.length>0&&(n.skeletons=v),y.length>0&&(n.animations=y),x.length>0&&(n.nodes=x)}return n.object=i,n;function s(o){const l=[];for(const u in o){const d=o[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Vn.DEFAULT_UP=new ue(0,1,0);Vn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ll=new ue,Lu=new ue,MS=new ue,Iu=new ue,Om=new ue,Nm=new ue,S3=new ue,CS=new ue,wS=new ue,RS=new ue,DS=new $n,BS=new $n,OS=new $n;class Ps{constructor(e=new ue,t=new ue,n=new ue){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Ll.subVectors(e,t),i.cross(Ll);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Ll.subVectors(i,t),Lu.subVectors(n,t),MS.subVectors(e,t);const s=Ll.dot(Ll),o=Ll.dot(Lu),l=Ll.dot(MS),u=Lu.dot(Lu),d=Lu.dot(MS),p=s*u-o*o;if(p===0)return a.set(0,0,0),null;const v=1/p,y=(u*l-o*d)*v,x=(s*d-o*l)*v;return a.set(1-y-x,x,y)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Iu)===null?!1:Iu.x>=0&&Iu.y>=0&&Iu.x+Iu.y<=1}static getInterpolation(e,t,n,i,a,s,o,l){return this.getBarycoord(e,t,n,i,Iu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Iu.x),l.addScaledVector(s,Iu.y),l.addScaledVector(o,Iu.z),l)}static getInterpolatedAttribute(e,t,n,i,a,s){return DS.setScalar(0),BS.setScalar(0),OS.setScalar(0),DS.fromBufferAttribute(e,t),BS.fromBufferAttribute(e,n),OS.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(DS,a.x),s.addScaledVector(BS,a.y),s.addScaledVector(OS,a.z),s}static isFrontFacing(e,t,n,i){return Ll.subVectors(n,t),Lu.subVectors(e,t),Ll.cross(Lu).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ll.subVectors(this.c,this.b),Lu.subVectors(this.a,this.b),Ll.cross(Lu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ps.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ps.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,a){return Ps.getInterpolation(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return Ps.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ps.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let s,o;Om.subVectors(i,n),Nm.subVectors(a,n),CS.subVectors(e,n);const l=Om.dot(CS),u=Nm.dot(CS);if(l<=0&&u<=0)return t.copy(n);wS.subVectors(e,i);const d=Om.dot(wS),p=Nm.dot(wS);if(d>=0&&p<=d)return t.copy(i);const v=l*p-d*u;if(v<=0&&l>=0&&d<=0)return s=l/(l-d),t.copy(n).addScaledVector(Om,s);RS.subVectors(e,a);const y=Om.dot(RS),x=Nm.dot(RS);if(x>=0&&y<=x)return t.copy(a);const A=y*u-l*x;if(A<=0&&u>=0&&x<=0)return o=u/(u-x),t.copy(n).addScaledVector(Nm,o);const S=d*x-y*p;if(S<=0&&p-d>=0&&y-x>=0)return S3.subVectors(a,i),o=(p-d)/(p-d+(y-x)),t.copy(i).addScaledVector(S3,o);const E=1/(S+A+v);return s=A*E,o=v*E,t.copy(n).addScaledVector(Om,s).addScaledVector(Nm,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const vL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ed={h:0,s:0,l:0},B_={h:0,s:0,l:0};function NS(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}let Rt=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ii){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Fn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Fn.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Fn.workingColorSpace){if(e=bC(e,1),t=xn(t,0,1),n=xn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=NS(s,a,e+1/3),this.g=NS(s,a,e),this.b=NS(s,a,e-1/3)}return Fn.toWorkingColorSpace(this,i),this}setStyle(e,t=Ii){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ii){const n=vL[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ku(e.r),this.g=Ku(e.g),this.b=Ku(e.b),this}copyLinearToSRGB(e){return this.r=og(e.r),this.g=og(e.g),this.b=og(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ii){return Fn.fromWorkingColorSpace(za.copy(this),e),Math.round(xn(za.r*255,0,255))*65536+Math.round(xn(za.g*255,0,255))*256+Math.round(xn(za.b*255,0,255))}getHexString(e=Ii){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Fn.workingColorSpace){Fn.fromWorkingColorSpace(za.copy(this),t);const n=za.r,i=za.g,a=za.b,s=Math.max(n,i,a),o=Math.min(n,i,a);let l,u;const d=(o+s)/2;if(o===s)l=0,u=0;else{const p=s-o;switch(u=d<=.5?p/(s+o):p/(2-s-o),s){case n:l=(i-a)/p+(i<a?6:0);break;case i:l=(a-n)/p+2;break;case a:l=(n-i)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=Fn.workingColorSpace){return Fn.fromWorkingColorSpace(za.copy(this),t),e.r=za.r,e.g=za.g,e.b=za.b,e}getStyle(e=Ii){Fn.fromWorkingColorSpace(za.copy(this),e);const t=za.r,n=za.g,i=za.b;return e!==Ii?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(ed),this.setHSL(ed.h+e,ed.s+t,ed.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ed),e.getHSL(B_);const n=Fv(ed.h,B_.h,t),i=Fv(ed.s,B_.s,t),a=Fv(ed.l,B_.l,t);return this.setHSL(n,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*i,this.g=a[1]*t+a[4]*n+a[7]*i,this.b=a[2]*t+a[5]*n+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const za=new Rt;Rt.NAMES=vL;let NH=0;class Ar extends Qc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NH++}),this.uuid=po(),this.name="",this.type="Material",this.blending=tp,this.side=kl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Zx,this.blendDst=$x,this.blendEquation=ud,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=hp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hh,this.stencilZFail=Hh,this.stencilZPass=Hh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==tp&&(n.blending=this.blending),this.side!==kl&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Zx&&(n.blendSrc=this.blendSrc),this.blendDst!==$x&&(n.blendDst=this.blendDst),this.blendEquation!==ud&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==hp&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==RT&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Hh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Hh&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class zr extends Ar{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=wy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wu=UH();function UH(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(n[l]=0,n[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(n[l]=1024>>-u-14,n[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(n[l]=u+15<<10,n[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(n[l]=31744,n[l|256]=64512,i[l]=24,i[l|256]=24):(n[l]=31744,n[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,a[l]=u|d}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Us(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=xn(r,-65504,65504),Wu.floatView[0]=r;const e=Wu.uint32View[0],t=e>>23&511;return Wu.baseTable[t]+((e&8388607)>>Wu.shiftTable[t])}function Ev(r){const e=r>>10;return Wu.uint32View[0]=Wu.mantissaTable[Wu.offsetTable[e]+(r&1023)]+Wu.exponentTable[e],Wu.floatView[0]}const Yh={toHalfFloat:Us,fromHalfFloat:Ev},Ir=new ue,O_=new mt;let LH=0;class Hn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:LH++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=ry,this.updateRanges=[],this.gpuType=or,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)O_.fromBufferAttribute(this,t),O_.applyMatrix3(e),this.setXY(t,O_.x,O_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix3(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=us(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Tn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=us(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=us(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=us(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=us(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ry&&(e.usage=this.usage),e}}class IH extends Hn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class PH extends Hn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class FH extends Hn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class HH extends Hn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class AC extends Hn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class zH extends Hn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class SC extends Hn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class GH extends Hn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Ev(this.array[e*this.itemSize]);return this.normalized&&(t=us(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=Us(t),this}getY(e){let t=Ev(this.array[e*this.itemSize+1]);return this.normalized&&(t=us(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=Us(t),this}getZ(e){let t=Ev(this.array[e*this.itemSize+2]);return this.normalized&&(t=us(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=Us(t),this}getW(e){let t=Ev(this.array[e*this.itemSize+3]);return this.normalized&&(t=us(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=Us(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(i),this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(i),this.array[e+3]=Us(a),this}}class qt extends Hn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let kH=0;const Ho=new en,US=new Vn,Um=new ue,co=new kr,av=new kr,la=new ue;class vn extends Qc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kH++}),this.uuid=po(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(pL(e)?SC:AC)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new _n().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ho.makeRotationFromQuaternion(e),this.applyMatrix4(Ho),this}rotateX(e){return Ho.makeRotationX(e),this.applyMatrix4(Ho),this}rotateY(e){return Ho.makeRotationY(e),this.applyMatrix4(Ho),this}rotateZ(e){return Ho.makeRotationZ(e),this.applyMatrix4(Ho),this}translate(e,t,n){return Ho.makeTranslation(e,t,n),this.applyMatrix4(Ho),this}scale(e,t,n){return Ho.makeScale(e,t,n),this.applyMatrix4(Ho),this}lookAt(e){return US.lookAt(e),US.updateMatrix(),this.applyMatrix4(US.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Um).negate(),this.translate(Um.x,Um.y,Um.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new qt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new kr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];co.setFromBufferAttribute(a),this.morphTargetsRelative?(la.addVectors(this.boundingBox.min,co.min),this.boundingBox.expandByPoint(la),la.addVectors(this.boundingBox.max,co.max),this.boundingBox.expandByPoint(la)):(this.boundingBox.expandByPoint(co.min),this.boundingBox.expandByPoint(co.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ue,1/0);return}if(e){const n=this.boundingSphere.center;if(co.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];av.setFromBufferAttribute(o),this.morphTargetsRelative?(la.addVectors(co.min,av.min),co.expandByPoint(la),la.addVectors(co.max,av.max),co.expandByPoint(la)):(co.expandByPoint(av.min),co.expandByPoint(av.max))}co.getCenter(n);let i=0;for(let a=0,s=e.count;a<s;a++)la.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(la));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)la.fromBufferAttribute(o,u),l&&(Um.fromBufferAttribute(e,u),la.add(Um)),i=Math.max(i,n.distanceToSquared(la))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hn(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let F=0;F<n.count;F++)o[F]=new ue,l[F]=new ue;const u=new ue,d=new ue,p=new ue,v=new mt,y=new mt,x=new mt,A=new ue,S=new ue;function E(F,N,L){u.fromBufferAttribute(n,F),d.fromBufferAttribute(n,N),p.fromBufferAttribute(n,L),v.fromBufferAttribute(a,F),y.fromBufferAttribute(a,N),x.fromBufferAttribute(a,L),d.sub(u),p.sub(u),y.sub(v),x.sub(v);const G=1/(y.x*x.y-x.x*y.y);isFinite(G)&&(A.copy(d).multiplyScalar(x.y).addScaledVector(p,-y.y).multiplyScalar(G),S.copy(p).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(G),o[F].add(A),o[N].add(A),o[L].add(A),l[F].add(S),l[N].add(S),l[L].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let F=0,N=M.length;F<N;++F){const L=M[F],G=L.start,X=L.count;for(let Y=G,J=G+X;Y<J;Y+=3)E(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const R=new ue,w=new ue,I=new ue,U=new ue;function H(F){I.fromBufferAttribute(i,F),U.copy(I);const N=o[F];R.copy(N),R.sub(I.multiplyScalar(I.dot(N))).normalize(),w.crossVectors(U,N);const G=w.dot(l[F])<0?-1:1;s.setXYZW(F,R.x,R.y,R.z,G)}for(let F=0,N=M.length;F<N;++F){const L=M[F],G=L.start,X=L.count;for(let Y=G,J=G+X;Y<J;Y+=3)H(e.getX(Y+0)),H(e.getX(Y+1)),H(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Hn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,y=n.count;v<y;v++)n.setXYZ(v,0,0,0);const i=new ue,a=new ue,s=new ue,o=new ue,l=new ue,u=new ue,d=new ue,p=new ue;if(e)for(let v=0,y=e.count;v<y;v+=3){const x=e.getX(v+0),A=e.getX(v+1),S=e.getX(v+2);i.fromBufferAttribute(t,x),a.fromBufferAttribute(t,A),s.fromBufferAttribute(t,S),d.subVectors(s,a),p.subVectors(i,a),d.cross(p),o.fromBufferAttribute(n,x),l.fromBufferAttribute(n,A),u.fromBufferAttribute(n,S),o.add(d),l.add(d),u.add(d),n.setXYZ(x,o.x,o.y,o.z),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(S,u.x,u.y,u.z)}else for(let v=0,y=t.count;v<y;v+=3)i.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),d.subVectors(s,a),p.subVectors(i,a),d.cross(p),n.setXYZ(v+0,d.x,d.y,d.z),n.setXYZ(v+1,d.x,d.y,d.z),n.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)la.fromBufferAttribute(e,t),la.normalize(),e.setXYZ(t,la.x,la.y,la.z)}toNonIndexed(){function e(o,l){const u=o.array,d=o.itemSize,p=o.normalized,v=new u.constructor(l.length*d);let y=0,x=0;for(let A=0,S=l.length;A<S;A++){o.isInterleavedBufferAttribute?y=l[A]*o.data.stride+o.offset:y=l[A]*d;for(let E=0;E<d;E++)v[x++]=u[y++]}return new Hn(v,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new vn,n=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,n);t.setAttribute(o,u)}const a=this.morphAttributes;for(const o in a){const l=[],u=a[o];for(let d=0,p=u.length;d<p;d++){const v=u[d],y=e(v,n);l.push(y)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const u=n[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let p=0,v=u.length;p<v;p++){const y=u[p];d.push(y.toJSON(e.data))}d.length>0&&(i[l]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const a=e.morphAttributes;for(const u in a){const d=[],p=a[u];for(let v=0,y=p.length;v<y;v++)d.push(p[v].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,d=s.length;u<d;u++){const p=s[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const E3=new en,Sh=new Ng,N_=new Yr,T3=new ue,U_=new ue,L_=new ue,I_=new ue,LS=new ue,P_=new ue,M3=new ue,F_=new ue;class Ai extends Vn{constructor(e=new vn,t=new zr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){P_.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const d=o[l],p=a[l];d!==0&&(LS.fromBufferAttribute(p,e),s?P_.addScaledVector(LS,d):P_.addScaledVector(LS.sub(t),d))}t.add(P_)}return t}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),N_.copy(n.boundingSphere),N_.applyMatrix4(a),Sh.copy(e.ray).recast(e.near),!(N_.containsPoint(Sh.origin)===!1&&(Sh.intersectSphere(N_,T3)===null||Sh.origin.distanceToSquared(T3)>(e.far-e.near)**2))&&(E3.copy(a).invert(),Sh.copy(e.ray).applyMatrix4(E3),!(n.boundingBox!==null&&Sh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Sh)))}_computeIntersections(e,t,n){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,u=a.attributes.uv,d=a.attributes.uv1,p=a.attributes.normal,v=a.groups,y=a.drawRange;if(o!==null)if(Array.isArray(s))for(let x=0,A=v.length;x<A;x++){const S=v[x],E=s[S.materialIndex],M=Math.max(S.start,y.start),R=Math.min(o.count,Math.min(S.start+S.count,y.start+y.count));for(let w=M,I=R;w<I;w+=3){const U=o.getX(w),H=o.getX(w+1),F=o.getX(w+2);i=H_(this,E,e,n,u,d,p,U,H,F),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),A=Math.min(o.count,y.start+y.count);for(let S=x,E=A;S<E;S+=3){const M=o.getX(S),R=o.getX(S+1),w=o.getX(S+2);i=H_(this,s,e,n,u,d,p,M,R,w),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let x=0,A=v.length;x<A;x++){const S=v[x],E=s[S.materialIndex],M=Math.max(S.start,y.start),R=Math.min(l.count,Math.min(S.start+S.count,y.start+y.count));for(let w=M,I=R;w<I;w+=3){const U=w,H=w+1,F=w+2;i=H_(this,E,e,n,u,d,p,U,H,F),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const x=Math.max(0,y.start),A=Math.min(l.count,y.start+y.count);for(let S=x,E=A;S<E;S+=3){const M=S,R=S+1,w=S+2;i=H_(this,s,e,n,u,d,p,M,R,w),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}}}function VH(r,e,t,n,i,a,s,o){let l;if(e.side===ps?l=n.intersectTriangle(s,a,i,!0,o):l=n.intersectTriangle(i,a,s,e.side===kl,o),l===null)return null;F_.copy(o),F_.applyMatrix4(r.matrixWorld);const u=t.ray.origin.distanceTo(F_);return u<t.near||u>t.far?null:{distance:u,point:F_.clone(),object:r}}function H_(r,e,t,n,i,a,s,o,l,u){r.getVertexPosition(o,U_),r.getVertexPosition(l,L_),r.getVertexPosition(u,I_);const d=VH(r,e,t,n,U_,L_,I_,M3);if(d){const p=new ue;Ps.getBarycoord(M3,U_,L_,I_,p),i&&(d.uv=Ps.getInterpolatedAttribute(i,o,l,u,p,new mt)),a&&(d.uv1=Ps.getInterpolatedAttribute(a,o,l,u,p,new mt)),s&&(d.normal=Ps.getInterpolatedAttribute(s,o,l,u,p,new ue),d.normal.dot(n.direction)>0&&d.normal.multiplyScalar(-1));const v={a:o,b:l,c:u,normal:new ue,materialIndex:0};Ps.getNormal(U_,L_,I_,v.normal),d.face=v,d.barycoord=p}return d}class Rp extends vn{constructor(e=1,t=1,n=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],u=[],d=[],p=[];let v=0,y=0;x("z","y","x",-1,-1,n,t,e,s,a,0),x("z","y","x",1,-1,n,t,-e,s,a,1),x("x","z","y",1,1,e,n,t,i,s,2),x("x","z","y",1,-1,e,n,-t,i,s,3),x("x","y","z",1,-1,e,t,n,i,a,4),x("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(l),this.setAttribute("position",new qt(u,3)),this.setAttribute("normal",new qt(d,3)),this.setAttribute("uv",new qt(p,2));function x(A,S,E,M,R,w,I,U,H,F,N){const L=w/H,G=I/F,X=w/2,Y=I/2,J=U/2,ae=H+1,$=F+1;let he=0,le=0;const de=new ue;for(let V=0;V<$;V++){const K=V*G-Y;for(let re=0;re<ae;re++){const pe=re*L-X;de[A]=pe*M,de[S]=K*R,de[E]=J,u.push(de.x,de.y,de.z),de[A]=0,de[S]=0,de[E]=U>0?1:-1,d.push(de.x,de.y,de.z),p.push(re/H),p.push(1-V/F),he+=1}}for(let V=0;V<F;V++)for(let K=0;K<H;K++){const re=v+K+ae*V,pe=v+K+ae*(V+1),Q=v+(K+1)+ae*(V+1),ce=v+(K+1)+ae*V;l.push(re,pe,ce),l.push(pe,Q,ce),le+=6}o.addGroup(y,le,N),y+=le,v+=he}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xg(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function os(r){const e={};for(let t=0;t<r.length;t++){const n=xg(r[t]);for(const i in n)e[i]=n[i]}return e}function jH(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function yL(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Fn.workingColorSpace}const EC={clone:xg,merge:os};var XH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,WH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xs extends Ar{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XH,this.fragmentShader=WH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xg(e.uniforms),this.uniformsGroups=jH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class wA extends Vn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new en,this.projectionMatrix=new en,this.projectionMatrixInverse=new en,this.coordinateSystem=Hl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const td=new ue,C3=new mt,w3=new mt;class Hr extends wA{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=yg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yg*2*Math.atan(Math.tan(rp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){td.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(td.x,td.y).multiplyScalar(-e/td.z),td.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(td.x,td.y).multiplyScalar(-e/td.z)}getViewSize(e,t){return this.getViewBounds(e,C3,w3),t.subVectors(w3,C3)}setViewOffset(e,t,n,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rp*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*n/u,i*=s.width/l,n*=s.height/u}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Lm=-90,Im=1;class _L extends Vn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hr(Lm,Im,e,t);i.layers=this.layers,this.add(i);const a=new Hr(Lm,Im,e,t);a.layers=this.layers,this.add(a);const s=new Hr(Lm,Im,e,t);s.layers=this.layers,this.add(s);const o=new Hr(Lm,Im,e,t);o.layers=this.layers,this.add(o);const l=new Hr(Lm,Im,e,t);l.layers=this.layers,this.add(l);const u=new Hr(Lm,Im,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,a,s,o,l]=t;for(const u of t)this.remove(u);if(e===Hl)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ay)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,u,d]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,a),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,l),e.setRenderTarget(n,4,i),e.render(t,u),n.texture.generateMipmaps=A,e.setRenderTarget(n,5,i),e.render(t,d),e.setRenderTarget(p,v,y),e.xr.enabled=x,n.texture.needsPMREMUpdate=!0}}class Ly extends ni{constructor(e,t,n,i,a,s,o,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:Yc,super(e,t,n,i,a,s,o,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class TC extends qo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Ly(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Rp(5,5,5),a=new Xs({name:"CubemapFromEquirect",uniforms:xg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ps,blending:kc});a.uniforms.tEquirect.value=t;const s=new Ai(i,a),o=t.minFilter;return t.minFilter===Fs&&(t.minFilter=Yn),new _L(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,i);e.setRenderTarget(a)}}class Xo extends Vn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const YH={type:"move"};class Ix{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const A of e.hand.values()){const S=t.getJointPose(A,n),E=this._getHandJoint(u,A);S!==null&&(E.matrix.fromArray(S.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=S.radius),E.visible=S!==null}const d=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],v=d.position.distanceTo(p.position),y=.02,x=.005;u.inputState.pinching&&v>y+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=y-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(YH)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Xo;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class RA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=t}clone(){return new RA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class DA{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=t,this.far=n}clone(){return new DA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Iy=class extends Vn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new vo,this.environmentIntensity=1,this.environmentRotation=new vo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class Ug{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ry,this.updateRanges=[],this.version=0,this.uuid=po()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const as=new ue;class ef{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)as.fromBufferAttribute(this,t),as.applyMatrix4(e),this.setXYZ(t,as.x,as.y,as.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)as.fromBufferAttribute(this,t),as.applyNormalMatrix(e),this.setXYZ(t,as.x,as.y,as.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)as.fromBufferAttribute(this,t),as.transformDirection(e),this.setXYZ(t,as.x,as.y,as.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=us(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Tn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=us(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=us(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=us(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=us(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Hn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ef(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MC extends Ar{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Pm;const sv=new ue,Fm=new ue,Hm=new ue,zm=new mt,ov=new mt,xL=new en,z_=new ue,lv=new ue,G_=new ue,R3=new mt,IS=new mt,D3=new mt;class bL extends Vn{constructor(e=new MC){if(super(),this.isSprite=!0,this.type="Sprite",Pm===void 0){Pm=new vn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ug(t,5);Pm.setIndex([0,1,2,0,2,3]),Pm.setAttribute("position",new ef(n,3,0,!1)),Pm.setAttribute("uv",new ef(n,2,3,!1))}this.geometry=Pm,this.material=e,this.center=new mt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fm.setFromMatrixScale(this.matrixWorld),xL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fm.multiplyScalar(-Hm.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const s=this.center;k_(z_.set(-.5,-.5,0),Hm,s,Fm,i,a),k_(lv.set(.5,-.5,0),Hm,s,Fm,i,a),k_(G_.set(.5,.5,0),Hm,s,Fm,i,a),R3.set(0,0),IS.set(1,0),D3.set(1,1);let o=e.ray.intersectTriangle(z_,lv,G_,!1,sv);if(o===null&&(k_(lv.set(-.5,.5,0),Hm,s,Fm,i,a),IS.set(0,1),o=e.ray.intersectTriangle(z_,G_,lv,!1,sv),o===null))return;const l=e.ray.origin.distanceTo(sv);l<e.near||l>e.far||t.push({distance:l,point:sv.clone(),uv:Ps.getInterpolation(sv,z_,lv,G_,R3,IS,D3,new mt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function k_(r,e,t,n,i,a){zm.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(ov.x=a*zm.x-i*zm.y,ov.y=i*zm.x+a*zm.y):ov.copy(zm),r.copy(e),r.x+=ov.x,r.y+=ov.y,r.applyMatrix4(xL)}const V_=new ue,B3=new ue;class AL extends Vn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){V_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(V_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){V_.setFromMatrixPosition(e.matrixWorld),B3.setFromMatrixPosition(this.matrixWorld);const n=V_.distanceTo(B3)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),n>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const O3=new ue,N3=new $n,U3=new $n,qH=new ue,L3=new en,j_=new ue,PS=new Yr,I3=new en,FS=new Ng;class BA extends Ai{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=CT,this.bindMatrix=new en,this.bindMatrixInverse=new en,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new kr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,j_),this.boundingBox.expandByPoint(j_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Yr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,j_),this.boundingSphere.expandByPoint(j_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),PS.copy(this.boundingSphere),PS.applyMatrix4(i),e.ray.intersectsSphere(PS)!==!1&&(I3.copy(i).invert(),FS.copy(e.ray).applyMatrix4(I3),!(this.boundingBox!==null&&FS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,FS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $n,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===CT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===tL?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;N3.fromBufferAttribute(i.attributes.skinIndex,e),U3.fromBufferAttribute(i.attributes.skinWeight,e),O3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=U3.getComponent(a);if(s!==0){const o=N3.getComponent(a);L3.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(qH.copy(O3).applyMatrix4(L3),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Py extends Vn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class zl extends ni{constructor(e=null,t=1,n=1,i,a,s,o,l,u=Gr,d=Gr,p,v){super(null,s,o,l,u,d,i,a,p,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const P3=new en,KH=new en;class Lg{constructor(e=[],t=[]){this.uuid=po(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new en)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new en;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:KH;P3.multiplyMatrices(o,t[a]),P3.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Lg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new zl(t,e,e,Dr,or);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new Py),this.bones.push(s),this.boneInverses.push(new en().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class tf extends Hn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Gm=new en,F3=new en,X_=[],H3=new kr,JH=new en,cv=new Ai,uv=new Yr;class OA extends Ai{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new tf(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,JH)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new kr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Gm),H3.copy(e.boundingBox).applyMatrix4(Gm),this.boundingBox.union(H3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Yr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Gm),uv.copy(e.boundingSphere).applyMatrix4(Gm),this.boundingSphere.union(uv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=n.length+1,s=e*a+1;for(let o=0;o<n.length;o++)n[o]=i[s+o]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(cv.geometry=this.geometry,cv.material=this.material,cv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uv.copy(this.boundingSphere),uv.applyMatrix4(n),e.ray.intersectsSphere(uv)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Gm),F3.multiplyMatrices(n,Gm),cv.matrixWorld=F3,cv.raycast(e,X_);for(let s=0,o=X_.length;s<o;s++){const l=X_[s];l.instanceId=a,l.object=this,t.push(l)}X_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new tf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new zl(new Float32Array(i*this.count),i,this.count,By,or));const a=this.morphTexture.source.data.data;let s=0;for(let u=0;u<n.length;u++)s+=n[u];const o=this.geometry.morphTargetsRelative?1:1-s,l=i*e;a[l]=o,a.set(n,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const HS=new ue,ZH=new ue,$H=new _n;class cd{constructor(e=new ue(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=HS.subVectors(n,t).cross(ZH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(HS),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||$H.getNormalMatrix(e),i=this.coplanarPoint(HS).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Eh=new Yr,W_=new ue;class Fy{constructor(e=new cd,t=new cd,n=new cd,i=new cd,a=new cd,s=new cd){this.planes=[e,t,n,i,a,s]}set(e,t,n,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Hl){const n=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],d=i[5],p=i[6],v=i[7],y=i[8],x=i[9],A=i[10],S=i[11],E=i[12],M=i[13],R=i[14],w=i[15];if(n[0].setComponents(l-a,v-u,S-y,w-E).normalize(),n[1].setComponents(l+a,v+u,S+y,w+E).normalize(),n[2].setComponents(l+s,v+d,S+x,w+M).normalize(),n[3].setComponents(l-s,v-d,S-x,w-M).normalize(),n[4].setComponents(l-o,v-p,S-A,w-R).normalize(),t===Hl)n[5].setComponents(l+o,v+p,S+A,w+R).normalize();else if(t===ay)n[5].setComponents(o,p,A,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Eh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Eh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Eh)}intersectsSprite(e){return Eh.center.set(0,0,0),Eh.radius=.7071067811865476,Eh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eh)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(W_.x=i.normal.x>0?e.max.x:e.min.x,W_.y=i.normal.y>0?e.max.y:e.min.y,W_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(W_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zS(r,e){return r-e}function QH(r,e){return r.z-e.z}function ez(r,e){return e.z-r.z}class tz{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=i}reset(){this.list.length=0,this.index=0}}const Ns=new en,nz=new Rt(1,1,1),GS=new Fy,Y_=new kr,Th=new Yr,fv=new ue,z3=new ue,iz=new ue,kS=new tz,Ga=new Ai,q_=[];function rz(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let a=0;a<i;a++)for(let s=0;s<n;s++)e.setComponent(a+t,s,r.getComponent(a,s))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function Mh(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class SL extends Ai{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=t*2,i){super(new vn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new zl(t,e,e,Dr,or);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new zl(t,e,e,Oy,qc);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new zl(t,e,e,Dr,or);n.colorSpace=Fn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:u}=s,d=new o.constructor(n*l),p=new Hn(d,l,u);t.setAttribute(a,p)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Hn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),a=t.getAttribute(n);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new kr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ns),this.getBoundingBoxAt(a,Y_).applyMatrix4(Ns),e.union(Y_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ns),this.getBoundingSphereAt(a,Th).applyMatrix4(Ns),e.union(Th)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(zS),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;Ns.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(nz.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?s.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(zS),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,a=n.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in n.attributes){const p=t.getAttribute(d),v=n.getAttribute(d);rz(p,v,l);const y=p.itemSize;for(let x=p.count,A=u;x<A;x++){const S=l+x;for(let E=0;E<y;E++)v.setComponent(S,E,0)}v.needsUpdate=!0,v.addUpdateRange(l*y,u*y)}if(i){const d=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let v=0;v<s.count;v++)a.setX(d+v,l+s.getX(v));for(let v=s.count,y=p;v<y;v++)a.setX(d+v,l);a.needsUpdate=!0,a.addUpdateRange(d,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,a=n.length;i<a;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((s,o)=>o).sort((s,o)=>n[s].vertexStart-n[o].vertexStart),a=this.geometry;for(let s=0,o=n.length;s<o;s++){const l=i[s],u=n[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:p,reservedIndexCount:v}=u,y=a.index,x=y.array,A=e-p;for(let S=d;S<d+v;S++)x[S]=x[S]+A;y.array.copyWithin(t,d,d+v),y.addUpdateRange(t,v),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:p}=u,v=a.attributes;for(const y in v){const x=v[y],{array:A,itemSize:S}=x;A.copyWithin(e*S,d*S,(d+p)*S),x.addUpdateRange(e*S,p*S)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new kr,s=n.index,o=n.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let d=l;s&&(d=s.getX(d)),a.expandByPoint(fv.fromBufferAttribute(o,d))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new Yr;this.getBoundingBoxAt(e,Y_),Y_.getCenter(a.center);const s=n.index,o=n.attributes.position;let l=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let p=u;s&&(p=s.getX(p)),fv.fromBufferAttribute(o,p),l=Math.max(l,a.center.distanceToSquared(fv))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(zS);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Mh(this._multiDrawCounts,i),Mh(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Mh(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Mh(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Mh(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...n.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new vn,this._initializeGeometry(a));const s=this.geometry;a.index&&Mh(a.index.array,s.index.array);for(const o in a.attributes)Mh(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Ga.material=this.material,Ga.geometry.index=s.index,Ga.geometry.attributes=s.attributes,Ga.geometry.boundingBox===null&&(Ga.geometry.boundingBox=new kr),Ga.geometry.boundingSphere===null&&(Ga.geometry.boundingSphere=new Yr);for(let o=0,l=n.length;o<l;o++){if(!n[o].visible||!n[o].active)continue;const u=n[o].geometryIndex,d=i[u];Ga.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,Ga.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Ga.geometry.boundingBox),this.getBoundingSphereAt(u,Ga.geometry.boundingSphere),Ga.raycast(e,q_);for(let p=0,v=q_.length;p<v;p++){const y=q_[p];y.object=this,y.batchId=o,t.push(y)}q_.length=0}Ga.material=null,Ga.geometry.index=null,Ga.geometry.attributes={},Ga.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,p=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data;v&&(Ns.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),GS.setFromProjectionMatrix(Ns,e.coordinateSystem));let A=0;if(this.sortObjects){Ns.copy(this.matrixWorld).invert(),fv.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ns),z3.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ns);for(let M=0,R=l.length;M<R;M++)if(l[M].visible&&l[M].active){const w=l[M].geometryIndex;this.getMatrixAt(M,Ns),this.getBoundingSphereAt(w,Th).applyMatrix4(Ns);let I=!1;if(v&&(I=!GS.intersectsSphere(Th)),!I){const U=p[w],H=iz.subVectors(Th.center,fv).dot(z3);kS.push(U.start,U.count,H,M)}}const S=kS.list,E=this.customSort;E===null?S.sort(a.transparent?ez:QH):E.call(this,S,n);for(let M=0,R=S.length;M<R;M++){const w=S[M];u[A]=w.start*o,d[A]=w.count,x[A]=w.index,A++}kS.reset()}else for(let S=0,E=l.length;S<E;S++)if(l[S].visible&&l[S].active){const M=l[S].geometryIndex;let R=!1;if(v&&(this.getMatrixAt(S,Ns),this.getBoundingSphereAt(M,Th).applyMatrix4(Ns),R=!GS.intersectsSphere(Th)),!R){const w=p[M];u[A]=w.start*o,d[A]=w.count,x[A]=S,A++}}y.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class Ta extends Ar{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ob=new ue,Nb=new ue,G3=new en,dv=new Ng,K_=new Yr,VS=new ue,k3=new ue;class Kc extends Vn{constructor(e=new vn,t=new Ta){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)Ob.fromBufferAttribute(t,i-1),Nb.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Ob.distanceTo(Nb);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),K_.copy(n.boundingSphere),K_.applyMatrix4(i),K_.radius+=a,e.ray.intersectsSphere(K_)===!1)return;G3.copy(i).invert(),dv.copy(e.ray).applyMatrix4(G3);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,d=n.index,v=n.attributes.position;if(d!==null){const y=Math.max(0,s.start),x=Math.min(d.count,s.start+s.count);for(let A=y,S=x-1;A<S;A+=u){const E=d.getX(A),M=d.getX(A+1),R=J_(this,e,dv,l,E,M,A);R&&t.push(R)}if(this.isLineLoop){const A=d.getX(x-1),S=d.getX(y),E=J_(this,e,dv,l,A,S,x-1);E&&t.push(E)}}else{const y=Math.max(0,s.start),x=Math.min(v.count,s.start+s.count);for(let A=y,S=x-1;A<S;A+=u){const E=J_(this,e,dv,l,A,A+1,A);E&&t.push(E)}if(this.isLineLoop){const A=J_(this,e,dv,l,x-1,y,x-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function J_(r,e,t,n,i,a,s){const o=r.geometry.attributes.position;if(Ob.fromBufferAttribute(o,i),Nb.fromBufferAttribute(o,a),t.distanceSqToSegment(Ob,Nb,VS,k3)>n)return;VS.applyMatrix4(r.matrixWorld);const u=e.ray.origin.distanceTo(VS);if(!(u<e.near||u>e.far))return{distance:u,point:k3.clone().applyMatrix4(r.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:r}}const V3=new ue,j3=new ue;class Ko extends Kc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)V3.fromBufferAttribute(t,i),j3.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+V3.distanceTo(j3);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class NA extends Kc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Hy extends Ar{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const X3=new en,BT=new Ng,Z_=new Yr,$_=new ue;class UA extends Vn{constructor(e=new vn,t=new Hy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Z_.copy(n.boundingSphere),Z_.applyMatrix4(i),Z_.radius+=a,e.ray.intersectsSphere(Z_)===!1)return;X3.copy(i).invert(),BT.copy(e.ray).applyMatrix4(X3);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=n.index,p=n.attributes.position;if(u!==null){const v=Math.max(0,s.start),y=Math.min(u.count,s.start+s.count);for(let x=v,A=y;x<A;x++){const S=u.getX(x);$_.fromBufferAttribute(p,S),W3($_,S,l,i,e,t,this)}}else{const v=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let x=v,A=y;x<A;x++)$_.fromBufferAttribute(p,x),W3($_,x,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function W3(r,e,t,n,i,a,s){const o=BT.distanceSqToPoint(r);if(o<t){const l=new ue;BT.closestPointToPoint(r,l),l.applyMatrix4(n);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class EL extends ni{constructor(e,t,n,i,a,s,o,l,u){super(e,t,n,i,a,s,o,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Yn,this.magFilter=a!==void 0?a:Yn,this.generateMipmaps=!1;const d=this;function p(){d.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class az extends EL{constructor(e,t,n,i,a,s,o,l){super({},e,t,n,i,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class sz extends ni{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Gr,this.minFilter=Gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class LA extends ni{constructor(e,t,n,i,a,s,o,l,u,d,p,v){super(null,s,o,l,u,d,i,a,p,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oz extends LA{constructor(e,t,n,i,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=xr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lz extends LA{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Yc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cz extends ni{constructor(e,t,n,i,a,s,o,l,u){super(e,t,n,i,a,s,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class CC extends ni{constructor(e,t,n,i,a,s,o,l,u,d=ip){if(d!==ip&&d!==gp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&d===ip&&(n=qc),n===void 0&&d===gp&&(n=mp),super(null,i,a,s,o,l,d,n,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Gr,this.minFilter=l!==void 0?l:Gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Wl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const a=n.length;let s;t?s=t:s=e*n[a-1];let o=0,l=a-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=n[i]-s,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,n[i]===s)return i/(a-1);const d=n[i],v=n[i+1]-d,y=(s-d)/v;return(i+y)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new mt:new ue);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ue,i=[],a=[],s=[],o=new ue,l=new en;for(let y=0;y<=e;y++){const x=y/e;i[y]=this.getTangentAt(x,new ue)}a[0]=new ue,s[0]=new ue;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),p=Math.abs(i[0].y),v=Math.abs(i[0].z);d<=u&&(u=d,n.set(1,0,0)),p<=u&&(u=p,n.set(0,1,0)),v<=u&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),o.crossVectors(i[y-1],i[y]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(xn(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(l.makeRotationAxis(o,x))}s[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(xn(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(y=-y);for(let x=1;x<=e;x++)a[x].applyMatrix4(l.makeRotationAxis(i[x],y*x)),s[x].crossVectors(i[x],a[x])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class IA extends Wl{constructor(e=0,t=0,n=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new mt){const n=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),v=l-this.aX,y=u-this.aY;l=v*d-y*p+this.aX,u=v*p+y*d+this.aY}return n.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class TL extends IA{constructor(e,t,n,i,a,s){super(e,t,n,n,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function wC(){let r=0,e=0,t=0,n=0;function i(a,s,o,l){r=a,e=o,t=-3*a+3*s-2*o-l,n=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,u){i(s,o,u*(o-a),u*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,u,d,p){let v=(s-a)/u-(o-a)/(u+d)+(o-s)/d,y=(o-s)/d-(l-s)/(d+p)+(l-o)/p;v*=d,y*=d,i(s,o,v,y)},calc:function(a){const s=a*a,o=s*a;return r+e*a+t*s+n*o}}}const Q_=new ue,jS=new wC,XS=new wC,WS=new wC;class ML extends Wl{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ue){const n=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let u,d;this.closed||o>0?u=i[(o-1)%a]:(Q_.subVectors(i[0],i[1]).add(i[0]),u=Q_);const p=i[o%a],v=i[(o+1)%a];if(this.closed||o+2<a?d=i[(o+2)%a]:(Q_.subVectors(i[a-1],i[a-2]).add(i[a-1]),d=Q_),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(p),y),A=Math.pow(p.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(d),y);A<1e-4&&(A=1),x<1e-4&&(x=A),S<1e-4&&(S=A),jS.initNonuniformCatmullRom(u.x,p.x,v.x,d.x,x,A,S),XS.initNonuniformCatmullRom(u.y,p.y,v.y,d.y,x,A,S),WS.initNonuniformCatmullRom(u.z,p.z,v.z,d.z,x,A,S)}else this.curveType==="catmullrom"&&(jS.initCatmullRom(u.x,p.x,v.x,d.x,this.tension),XS.initCatmullRom(u.y,p.y,v.y,d.y,this.tension),WS.initCatmullRom(u.z,p.z,v.z,d.z,this.tension));return n.set(jS.calc(l),XS.calc(l),WS.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ue().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Y3(r,e,t,n,i){const a=(n-e)*.5,s=(i-t)*.5,o=r*r,l=r*o;return(2*t-2*n+a+s)*l+(-3*t+3*n-2*a-s)*o+a*r+t}function uz(r,e){const t=1-r;return t*t*e}function fz(r,e){return 2*(1-r)*r*e}function dz(r,e){return r*r*e}function Hv(r,e,t,n){return uz(r,e)+fz(r,t)+dz(r,n)}function hz(r,e){const t=1-r;return t*t*t*e}function pz(r,e){const t=1-r;return 3*t*t*r*e}function mz(r,e){return 3*(1-r)*r*r*e}function gz(r,e){return r*r*r*e}function zv(r,e,t,n,i){return hz(r,e)+pz(r,t)+mz(r,n)+gz(r,i)}class RC extends Wl{constructor(e=new mt,t=new mt,n=new mt,i=new mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new mt){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(zv(e,i.x,a.x,s.x,o.x),zv(e,i.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CL extends Wl{constructor(e=new ue,t=new ue,n=new ue,i=new ue){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ue){const n=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(zv(e,i.x,a.x,s.x,o.x),zv(e,i.y,a.y,s.y,o.y),zv(e,i.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DC extends Wl{constructor(e=new mt,t=new mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new mt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new mt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wL extends Wl{constructor(e=new ue,t=new ue){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ue){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ue){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BC extends Wl{constructor(e=new mt,t=new mt,n=new mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new mt){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(Hv(e,i.x,a.x,s.x),Hv(e,i.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OC extends Wl{constructor(e=new ue,t=new ue,n=new ue){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ue){const n=t,i=this.v0,a=this.v1,s=this.v2;return n.set(Hv(e,i.x,a.x,s.x),Hv(e,i.y,a.y,s.y),Hv(e,i.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NC extends Wl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new mt){const n=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],u=i[s],d=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return n.set(Y3(o,l.x,u.x,d.x,p.x),Y3(o,l.y,u.y,d.y,p.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new mt().fromArray(i))}return this}}var Ub=Object.freeze({__proto__:null,ArcCurve:TL,CatmullRomCurve3:ML,CubicBezierCurve:RC,CubicBezierCurve3:CL,EllipseCurve:IA,LineCurve:DC,LineCurve3:wL,QuadraticBezierCurve:BC,QuadraticBezierCurve3:OC,SplineCurve:NC});class RL extends Wl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ub[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=n){const s=i[a]-n,o=this.curves[a],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let u=0;u<l.length;u++){const d=l[u];n&&n.equals(d)||(t.push(d),n=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Ub[i.type]().fromJSON(i))}return this}}class oy extends RL{constructor(e){super(),this.type="Path",this.currentPoint=new mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new DC(this.currentPoint.clone(),new mt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const a=new BC(this.currentPoint.clone(),new mt(e,t),new mt(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,s){const o=new RC(this.currentPoint.clone(),new mt(e,t),new mt(n,i),new mt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new NC(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,n,i,a,s),this}absarc(e,t,n,i,a,s){return this.absellipse(e,t,n,n,i,a,s),this}ellipse(e,t,n,i,a,s,o,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,n,i,a,s,o,l),this}absellipse(e,t,n,i,a,s,o,l){const u=new IA(e,t,n,i,a,s,o,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class zy extends vn{constructor(e=[new mt(0,-.5),new mt(.5,0),new mt(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=xn(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],u=[],d=1/t,p=new ue,v=new mt,y=new ue,x=new ue,A=new ue;let S=0,E=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:S=e[M+1].x-e[M].x,E=e[M+1].y-e[M].y,y.x=E*1,y.y=-S,y.z=E*0,A.copy(y),y.normalize(),l.push(y.x,y.y,y.z);break;case e.length-1:l.push(A.x,A.y,A.z);break;default:S=e[M+1].x-e[M].x,E=e[M+1].y-e[M].y,y.x=E*1,y.y=-S,y.z=E*0,x.copy(y),y.x+=A.x,y.y+=A.y,y.z+=A.z,y.normalize(),l.push(y.x,y.y,y.z),A.copy(x)}for(let M=0;M<=t;M++){const R=n+M*d*i,w=Math.sin(R),I=Math.cos(R);for(let U=0;U<=e.length-1;U++){p.x=e[U].x*w,p.y=e[U].y,p.z=e[U].x*I,s.push(p.x,p.y,p.z),v.x=M/t,v.y=U/(e.length-1),o.push(v.x,v.y);const H=l[3*U+0]*w,F=l[3*U+1],N=l[3*U+0]*I;u.push(H,F,N)}}for(let M=0;M<t;M++)for(let R=0;R<e.length-1;R++){const w=R+M*e.length,I=w,U=w+e.length,H=w+e.length+1,F=w+1;a.push(I,U,F),a.push(H,F,U)}this.setIndex(a),this.setAttribute("position",new qt(s,3)),this.setAttribute("uv",new qt(o,2)),this.setAttribute("normal",new qt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zy(e.points,e.segments,e.phiStart,e.phiLength)}}class PA extends zy{constructor(e=1,t=1,n=4,i=8){const a=new oy;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new PA(e.radius,e.length,e.capSegments,e.radialSegments)}}class FA extends vn{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],u=new ue,d=new mt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,v=3;p<=t;p++,v+=3){const y=n+p/t*i;u.x=e*Math.cos(y),u.y=e*Math.sin(y),s.push(u.x,u.y,u.z),o.push(0,0,1),d.x=(s[v]/e+1)/2,d.y=(s[v+1]/e+1)/2,l.push(d.x,d.y)}for(let p=1;p<=t;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new qt(s,3)),this.setAttribute("normal",new qt(o,3)),this.setAttribute("uv",new qt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ig extends vn{constructor(e=1,t=1,n=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const d=[],p=[],v=[],y=[];let x=0;const A=[],S=n/2;let E=0;M(),s===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(d),this.setAttribute("position",new qt(p,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(y,2));function M(){const w=new ue,I=new ue;let U=0;const H=(t-e)/n;for(let F=0;F<=a;F++){const N=[],L=F/a,G=L*(t-e)+e;for(let X=0;X<=i;X++){const Y=X/i,J=Y*l+o,ae=Math.sin(J),$=Math.cos(J);I.x=G*ae,I.y=-L*n+S,I.z=G*$,p.push(I.x,I.y,I.z),w.set(ae,H,$).normalize(),v.push(w.x,w.y,w.z),y.push(Y,1-L),N.push(x++)}A.push(N)}for(let F=0;F<i;F++)for(let N=0;N<a;N++){const L=A[N][F],G=A[N+1][F],X=A[N+1][F+1],Y=A[N][F+1];(e>0||N!==0)&&(d.push(L,G,Y),U+=3),(t>0||N!==a-1)&&(d.push(G,X,Y),U+=3)}u.addGroup(E,U,0),E+=U}function R(w){const I=x,U=new mt,H=new ue;let F=0;const N=w===!0?e:t,L=w===!0?1:-1;for(let X=1;X<=i;X++)p.push(0,S*L,0),v.push(0,L,0),y.push(.5,.5),x++;const G=x;for(let X=0;X<=i;X++){const J=X/i*l+o,ae=Math.cos(J),$=Math.sin(J);H.x=N*$,H.y=S*L,H.z=N*ae,p.push(H.x,H.y,H.z),v.push(0,L,0),U.x=ae*.5+.5,U.y=$*.5*L+.5,y.push(U.x,U.y),x++}for(let X=0;X<i;X++){const Y=I+X,J=G+X;w===!0?d.push(J,J+1,Y):d.push(J+1,J,Y),F+=3}u.addGroup(E,F,w===!0?1:2),E+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ig(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class HA extends Ig{constructor(e=1,t=1,n=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new HA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Nd extends vn{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],s=[];o(i),u(n),d(),this.setAttribute("position",new qt(a,3)),this.setAttribute("normal",new qt(a.slice(),3)),this.setAttribute("uv",new qt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(M){const R=new ue,w=new ue,I=new ue;for(let U=0;U<t.length;U+=3)y(t[U+0],R),y(t[U+1],w),y(t[U+2],I),l(R,w,I,M)}function l(M,R,w,I){const U=I+1,H=[];for(let F=0;F<=U;F++){H[F]=[];const N=M.clone().lerp(w,F/U),L=R.clone().lerp(w,F/U),G=U-F;for(let X=0;X<=G;X++)X===0&&F===U?H[F][X]=N:H[F][X]=N.clone().lerp(L,X/G)}for(let F=0;F<U;F++)for(let N=0;N<2*(U-F)-1;N++){const L=Math.floor(N/2);N%2===0?(v(H[F][L+1]),v(H[F+1][L]),v(H[F][L])):(v(H[F][L+1]),v(H[F+1][L+1]),v(H[F+1][L]))}}function u(M){const R=new ue;for(let w=0;w<a.length;w+=3)R.x=a[w+0],R.y=a[w+1],R.z=a[w+2],R.normalize().multiplyScalar(M),a[w+0]=R.x,a[w+1]=R.y,a[w+2]=R.z}function d(){const M=new ue;for(let R=0;R<a.length;R+=3){M.x=a[R+0],M.y=a[R+1],M.z=a[R+2];const w=S(M)/2/Math.PI+.5,I=E(M)/Math.PI+.5;s.push(w,1-I)}x(),p()}function p(){for(let M=0;M<s.length;M+=6){const R=s[M+0],w=s[M+2],I=s[M+4],U=Math.max(R,w,I),H=Math.min(R,w,I);U>.9&&H<.1&&(R<.2&&(s[M+0]+=1),w<.2&&(s[M+2]+=1),I<.2&&(s[M+4]+=1))}}function v(M){a.push(M.x,M.y,M.z)}function y(M,R){const w=M*3;R.x=e[w+0],R.y=e[w+1],R.z=e[w+2]}function x(){const M=new ue,R=new ue,w=new ue,I=new ue,U=new mt,H=new mt,F=new mt;for(let N=0,L=0;N<a.length;N+=9,L+=6){M.set(a[N+0],a[N+1],a[N+2]),R.set(a[N+3],a[N+4],a[N+5]),w.set(a[N+6],a[N+7],a[N+8]),U.set(s[L+0],s[L+1]),H.set(s[L+2],s[L+3]),F.set(s[L+4],s[L+5]),I.copy(M).add(R).add(w).divideScalar(3);const G=S(I);A(U,L+0,M,G),A(H,L+2,R,G),A(F,L+4,w,G)}}function A(M,R,w,I){I<0&&M.x===1&&(s[R]=M.x-1),w.x===0&&w.z===0&&(s[R]=I/2/Math.PI+.5)}function S(M){return Math.atan2(M.z,-M.x)}function E(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nd(e.vertices,e.indices,e.radius,e.details)}}class zA extends Nd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zA(e.radius,e.detail)}}const ex=new ue,tx=new ue,YS=new ue,nx=new Ps;class DL extends vn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(rp*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,u=[0,0,0],d=["a","b","c"],p=new Array(3),v={},y=[];for(let x=0;x<l;x+=3){s?(u[0]=s.getX(x),u[1]=s.getX(x+1),u[2]=s.getX(x+2)):(u[0]=x,u[1]=x+1,u[2]=x+2);const{a:A,b:S,c:E}=nx;if(A.fromBufferAttribute(o,u[0]),S.fromBufferAttribute(o,u[1]),E.fromBufferAttribute(o,u[2]),nx.getNormal(YS),p[0]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,p[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[2]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let M=0;M<3;M++){const R=(M+1)%3,w=p[M],I=p[R],U=nx[d[M]],H=nx[d[R]],F=`${w}_${I}`,N=`${I}_${w}`;N in v&&v[N]?(YS.dot(v[N].normal)<=a&&(y.push(U.x,U.y,U.z),y.push(H.x,H.y,H.z)),v[N]=null):F in v||(v[F]={index0:u[M],index1:u[R],normal:YS.clone()})}}for(const x in v)if(v[x]){const{index0:A,index1:S}=v[x];ex.fromBufferAttribute(o,A),tx.fromBufferAttribute(o,S),y.push(ex.x,ex.y,ex.z),y.push(tx.x,tx.y,tx.z)}this.setAttribute("position",new qt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ap extends oy{constructor(e){super(e),this.uuid=po(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new oy().fromJSON(i))}return this}}const vz={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let a=BL(r,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,u,d,p,v,y;if(n&&(a=Az(r,e,a,t)),r.length>80*t){o=u=r[0],l=d=r[1];for(let x=t;x<i;x+=t)p=r[x],v=r[x+1],p<o&&(o=p),v<l&&(l=v),p>u&&(u=p),v>d&&(d=v);y=Math.max(u-o,d-l),y=y!==0?32767/y:0}return ly(a,s,t,o,l,y,0),s}};function BL(r,e,t,n,i){let a,s;if(i===Nz(r,e,t,n)>0)for(a=e;a<t;a+=n)s=q3(a,r[a],r[a+1],s);else for(a=t-n;a>=e;a-=n)s=q3(a,r[a],r[a+1],s);return s&&GA(s,s.next)&&(uy(s),s=s.next),s}function _p(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(GA(t,t.next)||ar(t.prev,t,t.next)===0)){if(uy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function ly(r,e,t,n,i,a,s){if(!r)return;!s&&a&&Cz(r,n,i,a);let o=r,l,u;for(;r.prev!==r.next;){if(l=r.prev,u=r.next,a?_z(r,n,i,a):yz(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(u.i/t|0),uy(r),r=u.next,o=u.next;continue}if(r=u,r===o){s?s===1?(r=xz(_p(r),e,t),ly(r,e,t,n,i,a,2)):s===2&&bz(r,e,t,n,i,a):ly(_p(r),e,t,n,i,a,1);break}}}function yz(r){const e=r.prev,t=r,n=r.next;if(ar(e,t,n)>=0)return!1;const i=e.x,a=t.x,s=n.x,o=e.y,l=t.y,u=n.y,d=i<a?i<s?i:s:a<s?a:s,p=o<l?o<u?o:u:l<u?l:u,v=i>a?i>s?i:s:a>s?a:s,y=o>l?o>u?o:u:l>u?l:u;let x=n.next;for(;x!==e;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=y&&Qm(i,o,a,l,s,u,x.x,x.y)&&ar(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function _z(r,e,t,n){const i=r.prev,a=r,s=r.next;if(ar(i,a,s)>=0)return!1;const o=i.x,l=a.x,u=s.x,d=i.y,p=a.y,v=s.y,y=o<l?o<u?o:u:l<u?l:u,x=d<p?d<v?d:v:p<v?p:v,A=o>l?o>u?o:u:l>u?l:u,S=d>p?d>v?d:v:p>v?p:v,E=OT(y,x,e,t,n),M=OT(A,S,e,t,n);let R=r.prevZ,w=r.nextZ;for(;R&&R.z>=E&&w&&w.z<=M;){if(R.x>=y&&R.x<=A&&R.y>=x&&R.y<=S&&R!==i&&R!==s&&Qm(o,d,l,p,u,v,R.x,R.y)&&ar(R.prev,R,R.next)>=0||(R=R.prevZ,w.x>=y&&w.x<=A&&w.y>=x&&w.y<=S&&w!==i&&w!==s&&Qm(o,d,l,p,u,v,w.x,w.y)&&ar(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;R&&R.z>=E;){if(R.x>=y&&R.x<=A&&R.y>=x&&R.y<=S&&R!==i&&R!==s&&Qm(o,d,l,p,u,v,R.x,R.y)&&ar(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;w&&w.z<=M;){if(w.x>=y&&w.x<=A&&w.y>=x&&w.y<=S&&w!==i&&w!==s&&Qm(o,d,l,p,u,v,w.x,w.y)&&ar(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function xz(r,e,t){let n=r;do{const i=n.prev,a=n.next.next;!GA(i,a)&&OL(i,n,n.next,a)&&cy(i,a)&&cy(a,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(a.i/t|0),uy(n),uy(n.next),n=r=a),n=n.next}while(n!==r);return _p(n)}function bz(r,e,t,n,i,a){let s=r;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&Dz(s,o)){let l=NL(s,o);s=_p(s,s.next),l=_p(l,l.next),ly(s,e,t,n,i,a,0),ly(l,e,t,n,i,a,0);return}o=o.next}s=s.next}while(s!==r)}function Az(r,e,t,n){const i=[];let a,s,o,l,u;for(a=0,s=e.length;a<s;a++)o=e[a]*n,l=a<s-1?e[a+1]*n:r.length,u=BL(r,o,l,n,!1),u===u.next&&(u.steiner=!0),i.push(Rz(u));for(i.sort(Sz),a=0;a<i.length;a++)t=Ez(i[a],t);return t}function Sz(r,e){return r.x-e.x}function Ez(r,e){const t=Tz(r,e);if(!t)return e;const n=NL(t,r);return _p(n,n.next),_p(t,t.next)}function Tz(r,e){let t=e,n=-1/0,i;const a=r.x,s=r.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const v=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=a&&v>n&&(n=v,i=t.x<t.next.x?t:t.next,v===a))return i}t=t.next}while(t!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let d=1/0,p;t=i;do a>=t.x&&t.x>=l&&a!==t.x&&Qm(s<u?a:n,s,l,u,s<u?n:a,s,t.x,t.y)&&(p=Math.abs(s-t.y)/(a-t.x),cy(t,r)&&(p<d||p===d&&(t.x>i.x||t.x===i.x&&Mz(i,t)))&&(i=t,d=p)),t=t.next;while(t!==o);return i}function Mz(r,e){return ar(r.prev,r,e.prev)<0&&ar(e.next,r,r.next)<0}function Cz(r,e,t,n){let i=r;do i.z===0&&(i.z=OT(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,wz(i)}function wz(r){let e,t,n,i,a,s,o,l,u=1;do{for(t=r,r=null,a=null,s=0;t;){for(s++,n=t,o=0,e=0;e<u&&(o++,n=n.nextZ,!!n);e++);for(l=u;o>0||l>0&&n;)o!==0&&(l===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,o--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;t=n}a.nextZ=null,u*=2}while(s>1);return r}function OT(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function Rz(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Qm(r,e,t,n,i,a,s,o){return(i-s)*(e-o)>=(r-s)*(a-o)&&(r-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(i-s)*(n-o)}function Dz(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!Bz(r,e)&&(cy(r,e)&&cy(e,r)&&Oz(r,e)&&(ar(r.prev,r,e.prev)||ar(r,e.prev,e))||GA(r,e)&&ar(r.prev,r,r.next)>0&&ar(e.prev,e,e.next)>0)}function ar(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function GA(r,e){return r.x===e.x&&r.y===e.y}function OL(r,e,t,n){const i=rx(ar(r,e,t)),a=rx(ar(r,e,n)),s=rx(ar(t,n,r)),o=rx(ar(t,n,e));return!!(i!==a&&s!==o||i===0&&ix(r,t,e)||a===0&&ix(r,n,e)||s===0&&ix(t,r,n)||o===0&&ix(t,e,n))}function ix(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function rx(r){return r>0?1:r<0?-1:0}function Bz(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&OL(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function cy(r,e){return ar(r.prev,r,r.next)<0?ar(r,e,r.next)>=0&&ar(r,r.prev,e)>=0:ar(r,e,r.prev)<0||ar(r,r.next,e)<0}function Oz(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function NL(r,e){const t=new NT(r.i,r.x,r.y),n=new NT(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function q3(r,e,t,n){const i=new NT(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function uy(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function NT(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nz(r,e,t,n){let i=0;for(let a=e,s=t-n;a<t;a+=n)i+=(r[s]-r[a])*(r[a+1]+r[s+1]),s=a;return i}class jc{static area(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return jc.area(e)<0}static triangulateShape(e,t){const n=[],i=[],a=[];K3(e),J3(n,e);let s=e.length;t.forEach(K3);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,J3(n,t[l]);const o=vz.triangulate(n,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function K3(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function J3(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class kA extends vn{constructor(e=new ap([new mt(.5,.5),new mt(-.5,.5),new mt(-.5,-.5),new mt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];s(u)}this.setAttribute("position",new qt(i,3)),this.setAttribute("uv",new qt(a,2)),this.computeVertexNormals();function s(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:y-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:Uz;let R,w=!1,I,U,H,F;E&&(R=E.getSpacedPoints(d),w=!0,v=!1,I=E.computeFrenetFrames(d,!1),U=new ue,H=new ue,F=new ue),v||(S=0,y=0,x=0,A=0);const N=o.extractPoints(u);let L=N.shape;const G=N.holes;if(!jc.isClockWise(L)){L=L.reverse();for(let ye=0,we=G.length;ye<we;ye++){const ee=G[ye];jc.isClockWise(ee)&&(G[ye]=ee.reverse())}}const Y=jc.triangulateShape(L,G),J=L;for(let ye=0,we=G.length;ye<we;ye++){const ee=G[ye];L=L.concat(ee)}function ae(ye,we,ee){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().addScaledVector(we,ee)}const $=L.length,he=Y.length;function le(ye,we,ee){let Je,Ne,Xe;const Be=ye.x-we.x,st=ye.y-we.y,Ge=ee.x-ye.x,Z=ee.y-ye.y,j=Be*Be+st*st,se=Be*Z-st*Ge;if(Math.abs(se)>Number.EPSILON){const ve=Math.sqrt(j),Me=Math.sqrt(Ge*Ge+Z*Z),Le=we.x-st/ve,Ye=we.y+Be/ve,et=ee.x-Z/Me,at=ee.y+Ge/Me,Ct=((et-Le)*Z-(at-Ye)*Ge)/(Be*Z-st*Ge);Je=Le+Be*Ct-ye.x,Ne=Ye+st*Ct-ye.y;const ot=Je*Je+Ne*Ne;if(ot<=2)return new mt(Je,Ne);Xe=Math.sqrt(ot/2)}else{let ve=!1;Be>Number.EPSILON?Ge>Number.EPSILON&&(ve=!0):Be<-Number.EPSILON?Ge<-Number.EPSILON&&(ve=!0):Math.sign(st)===Math.sign(Z)&&(ve=!0),ve?(Je=-st,Ne=Be,Xe=Math.sqrt(j)):(Je=Be,Ne=st,Xe=Math.sqrt(j/2))}return new mt(Je/Xe,Ne/Xe)}const de=[];for(let ye=0,we=J.length,ee=we-1,Je=ye+1;ye<we;ye++,ee++,Je++)ee===we&&(ee=0),Je===we&&(Je=0),de[ye]=le(J[ye],J[ee],J[Je]);const V=[];let K,re=de.concat();for(let ye=0,we=G.length;ye<we;ye++){const ee=G[ye];K=[];for(let Je=0,Ne=ee.length,Xe=Ne-1,Be=Je+1;Je<Ne;Je++,Xe++,Be++)Xe===Ne&&(Xe=0),Be===Ne&&(Be=0),K[Je]=le(ee[Je],ee[Xe],ee[Be]);V.push(K),re=re.concat(K)}for(let ye=0;ye<S;ye++){const we=ye/S,ee=y*Math.cos(we*Math.PI/2),Je=x*Math.sin(we*Math.PI/2)+A;for(let Ne=0,Xe=J.length;Ne<Xe;Ne++){const Be=ae(J[Ne],de[Ne],Je);ge(Be.x,Be.y,-ee)}for(let Ne=0,Xe=G.length;Ne<Xe;Ne++){const Be=G[Ne];K=V[Ne];for(let st=0,Ge=Be.length;st<Ge;st++){const Z=ae(Be[st],K[st],Je);ge(Z.x,Z.y,-ee)}}}const pe=x+A;for(let ye=0;ye<$;ye++){const we=v?ae(L[ye],re[ye],pe):L[ye];w?(H.copy(I.normals[0]).multiplyScalar(we.x),U.copy(I.binormals[0]).multiplyScalar(we.y),F.copy(R[0]).add(H).add(U),ge(F.x,F.y,F.z)):ge(we.x,we.y,0)}for(let ye=1;ye<=d;ye++)for(let we=0;we<$;we++){const ee=v?ae(L[we],re[we],pe):L[we];w?(H.copy(I.normals[ye]).multiplyScalar(ee.x),U.copy(I.binormals[ye]).multiplyScalar(ee.y),F.copy(R[ye]).add(H).add(U),ge(F.x,F.y,F.z)):ge(ee.x,ee.y,p/d*ye)}for(let ye=S-1;ye>=0;ye--){const we=ye/S,ee=y*Math.cos(we*Math.PI/2),Je=x*Math.sin(we*Math.PI/2)+A;for(let Ne=0,Xe=J.length;Ne<Xe;Ne++){const Be=ae(J[Ne],de[Ne],Je);ge(Be.x,Be.y,p+ee)}for(let Ne=0,Xe=G.length;Ne<Xe;Ne++){const Be=G[Ne];K=V[Ne];for(let st=0,Ge=Be.length;st<Ge;st++){const Z=ae(Be[st],K[st],Je);w?ge(Z.x,Z.y+R[d-1].y,R[d-1].x+ee):ge(Z.x,Z.y,p+ee)}}}Q(),ce();function Q(){const ye=i.length/3;if(v){let we=0,ee=$*we;for(let Je=0;Je<he;Je++){const Ne=Y[Je];be(Ne[2]+ee,Ne[1]+ee,Ne[0]+ee)}we=d+S*2,ee=$*we;for(let Je=0;Je<he;Je++){const Ne=Y[Je];be(Ne[0]+ee,Ne[1]+ee,Ne[2]+ee)}}else{for(let we=0;we<he;we++){const ee=Y[we];be(ee[2],ee[1],ee[0])}for(let we=0;we<he;we++){const ee=Y[we];be(ee[0]+$*d,ee[1]+$*d,ee[2]+$*d)}}n.addGroup(ye,i.length/3-ye,0)}function ce(){const ye=i.length/3;let we=0;me(J,we),we+=J.length;for(let ee=0,Je=G.length;ee<Je;ee++){const Ne=G[ee];me(Ne,we),we+=Ne.length}n.addGroup(ye,i.length/3-ye,1)}function me(ye,we){let ee=ye.length;for(;--ee>=0;){const Je=ee;let Ne=ee-1;Ne<0&&(Ne=ye.length-1);for(let Xe=0,Be=d+S*2;Xe<Be;Xe++){const st=$*Xe,Ge=$*(Xe+1),Z=we+Je+st,j=we+Ne+st,se=we+Ne+Ge,ve=we+Je+Ge;je(Z,j,se,ve)}}}function ge(ye,we,ee){l.push(ye),l.push(we),l.push(ee)}function be(ye,we,ee){ze(ye),ze(we),ze(ee);const Je=i.length/3,Ne=M.generateTopUV(n,i,Je-3,Je-2,Je-1);Ie(Ne[0]),Ie(Ne[1]),Ie(Ne[2])}function je(ye,we,ee,Je){ze(ye),ze(we),ze(Je),ze(we),ze(ee),ze(Je);const Ne=i.length/3,Xe=M.generateSideWallUV(n,i,Ne-6,Ne-3,Ne-2,Ne-1);Ie(Xe[0]),Ie(Xe[1]),Ie(Xe[3]),Ie(Xe[1]),Ie(Xe[2]),Ie(Xe[3])}function ze(ye){i.push(l[ye*3+0]),i.push(l[ye*3+1]),i.push(l[ye*3+2])}function Ie(ye){a.push(ye.x),a.push(ye.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Lz(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];n.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ub[i.type]().fromJSON(i)),new kA(n,e.options)}}const Uz={generateTopUV:function(r,e,t,n,i){const a=e[t*3],s=e[t*3+1],o=e[n*3],l=e[n*3+1],u=e[i*3],d=e[i*3+1];return[new mt(a,s),new mt(o,l),new mt(u,d)]},generateSideWallUV:function(r,e,t,n,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[n*3],d=e[n*3+1],p=e[n*3+2],v=e[i*3],y=e[i*3+1],x=e[i*3+2],A=e[a*3],S=e[a*3+1],E=e[a*3+2];return Math.abs(o-d)<Math.abs(s-u)?[new mt(s,1-l),new mt(u,1-p),new mt(v,1-x),new mt(A,1-E)]:[new mt(o,1-l),new mt(d,1-p),new mt(y,1-x),new mt(S,1-E)]}};function Lz(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Gy extends Nd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gy(e.radius,e.detail)}}class ky extends Nd{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ky(e.radius,e.detail)}}class Yl extends vn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(n),l=Math.floor(i),u=o+1,d=l+1,p=e/o,v=t/l,y=[],x=[],A=[],S=[];for(let E=0;E<d;E++){const M=E*v-s;for(let R=0;R<u;R++){const w=R*p-a;x.push(w,-M,0),A.push(0,0,1),S.push(R/o),S.push(1-E/l)}}for(let E=0;E<l;E++)for(let M=0;M<o;M++){const R=M+u*E,w=M+u*(E+1),I=M+1+u*(E+1),U=M+1+u*E;y.push(R,w,U),y.push(w,I,U)}this.setIndex(y),this.setAttribute("position",new qt(x,3)),this.setAttribute("normal",new qt(A,3)),this.setAttribute("uv",new qt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yl(e.width,e.height,e.widthSegments,e.heightSegments)}}class VA extends vn{constructor(e=.5,t=1,n=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:s},n=Math.max(3,n),i=Math.max(1,i);const o=[],l=[],u=[],d=[];let p=e;const v=(t-e)/i,y=new ue,x=new mt;for(let A=0;A<=i;A++){for(let S=0;S<=n;S++){const E=a+S/n*s;y.x=p*Math.cos(E),y.y=p*Math.sin(E),l.push(y.x,y.y,y.z),u.push(0,0,1),x.x=(y.x/t+1)/2,x.y=(y.y/t+1)/2,d.push(x.x,x.y)}p+=v}for(let A=0;A<i;A++){const S=A*(n+1);for(let E=0;E<n;E++){const M=E+S,R=M,w=M+n+1,I=M+n+2,U=M+1;o.push(R,w,U),o.push(w,I,U)}}this.setIndex(o),this.setAttribute("position",new qt(l,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jA extends vn{constructor(e=new ap([new mt(0,.5),new mt(-.5,-.5),new mt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(n),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(a,3)),this.setAttribute("uv",new qt(s,2));function u(d){const p=i.length/3,v=d.extractPoints(t);let y=v.shape;const x=v.holes;jc.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,E=x.length;S<E;S++){const M=x[S];jc.isClockWise(M)===!0&&(x[S]=M.reverse())}const A=jc.triangulateShape(y,x);for(let S=0,E=x.length;S<E;S++){const M=x[S];y=y.concat(M)}for(let S=0,E=y.length;S<E;S++){const M=y[S];i.push(M.x,M.y,0),a.push(0,0,1),s.push(M.x,M.y)}for(let S=0,E=A.length;S<E;S++){const M=A[S],R=M[0]+p,w=M[1]+p,I=M[2]+p;n.push(R,w,I),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Iz(t,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];n.push(s)}return new jA(n,e.curveSegments)}}function Iz(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class Vy extends vn{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(s+o,Math.PI);let u=0;const d=[],p=new ue,v=new ue,y=[],x=[],A=[],S=[];for(let E=0;E<=n;E++){const M=[],R=E/n;let w=0;E===0&&s===0?w=.5/t:E===n&&l===Math.PI&&(w=-.5/t);for(let I=0;I<=t;I++){const U=I/t;p.x=-e*Math.cos(i+U*a)*Math.sin(s+R*o),p.y=e*Math.cos(s+R*o),p.z=e*Math.sin(i+U*a)*Math.sin(s+R*o),x.push(p.x,p.y,p.z),v.copy(p).normalize(),A.push(v.x,v.y,v.z),S.push(U+w,1-R),M.push(u++)}d.push(M)}for(let E=0;E<n;E++)for(let M=0;M<t;M++){const R=d[E][M+1],w=d[E][M],I=d[E+1][M],U=d[E+1][M+1];(E!==0||s>0)&&y.push(R,w,U),(E!==n-1||l<Math.PI)&&y.push(w,I,U)}this.setIndex(y),this.setAttribute("position",new qt(x,3)),this.setAttribute("normal",new qt(A,3)),this.setAttribute("uv",new qt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class XA extends Nd{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XA(e.radius,e.detail)}}class WA extends vn{constructor(e=1,t=.4,n=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);const s=[],o=[],l=[],u=[],d=new ue,p=new ue,v=new ue;for(let y=0;y<=n;y++)for(let x=0;x<=i;x++){const A=x/i*a,S=y/n*Math.PI*2;p.x=(e+t*Math.cos(S))*Math.cos(A),p.y=(e+t*Math.cos(S))*Math.sin(A),p.z=t*Math.sin(S),o.push(p.x,p.y,p.z),d.x=e*Math.cos(A),d.y=e*Math.sin(A),v.subVectors(p,d).normalize(),l.push(v.x,v.y,v.z),u.push(x/i),u.push(y/n)}for(let y=1;y<=n;y++)for(let x=1;x<=i;x++){const A=(i+1)*y+x-1,S=(i+1)*(y-1)+x-1,E=(i+1)*(y-1)+x,M=(i+1)*y+x;s.push(A,S,M),s.push(S,E,M)}this.setIndex(s),this.setAttribute("position",new qt(o,3)),this.setAttribute("normal",new qt(l,3)),this.setAttribute("uv",new qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class YA extends vn{constructor(e=1,t=.4,n=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:s},n=Math.floor(n),i=Math.floor(i);const o=[],l=[],u=[],d=[],p=new ue,v=new ue,y=new ue,x=new ue,A=new ue,S=new ue,E=new ue;for(let R=0;R<=n;++R){const w=R/n*a*Math.PI*2;M(w,a,s,e,y),M(w+.01,a,s,e,x),S.subVectors(x,y),E.addVectors(x,y),A.crossVectors(S,E),E.crossVectors(A,S),A.normalize(),E.normalize();for(let I=0;I<=i;++I){const U=I/i*Math.PI*2,H=-t*Math.cos(U),F=t*Math.sin(U);p.x=y.x+(H*E.x+F*A.x),p.y=y.y+(H*E.y+F*A.y),p.z=y.z+(H*E.z+F*A.z),l.push(p.x,p.y,p.z),v.subVectors(p,y).normalize(),u.push(v.x,v.y,v.z),d.push(R/n),d.push(I/i)}}for(let R=1;R<=n;R++)for(let w=1;w<=i;w++){const I=(i+1)*(R-1)+(w-1),U=(i+1)*R+(w-1),H=(i+1)*R+w,F=(i+1)*(R-1)+w;o.push(I,U,F),o.push(U,H,F)}this.setIndex(o),this.setAttribute("position",new qt(l,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(d,2));function M(R,w,I,U,H){const F=Math.cos(R),N=Math.sin(R),L=I/w*R,G=Math.cos(L);H.x=U*(2+G)*.5*F,H.y=U*(2+G)*N*.5,H.z=U*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qA extends vn{constructor(e=new OC(new ue(-1,-1,0),new ue(-1,1,0),new ue(1,1,0)),t=64,n=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new ue,l=new ue,u=new mt;let d=new ue;const p=[],v=[],y=[],x=[];A(),this.setIndex(x),this.setAttribute("position",new qt(p,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(y,2));function A(){for(let R=0;R<t;R++)S(R);S(a===!1?t:0),M(),E()}function S(R){d=e.getPointAt(R/t,d);const w=s.normals[R],I=s.binormals[R];for(let U=0;U<=i;U++){const H=U/i*Math.PI*2,F=Math.sin(H),N=-Math.cos(H);l.x=N*w.x+F*I.x,l.y=N*w.y+F*I.y,l.z=N*w.z+F*I.z,l.normalize(),v.push(l.x,l.y,l.z),o.x=d.x+n*l.x,o.y=d.y+n*l.y,o.z=d.z+n*l.z,p.push(o.x,o.y,o.z)}}function E(){for(let R=1;R<=t;R++)for(let w=1;w<=i;w++){const I=(i+1)*(R-1)+(w-1),U=(i+1)*R+(w-1),H=(i+1)*R+w,F=(i+1)*(R-1)+w;x.push(I,U,F),x.push(U,H,F)}}function M(){for(let R=0;R<=t;R++)for(let w=0;w<=i;w++)u.x=R/t,u.y=w/i,y.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qA(new Ub[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class UL extends vn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new ue,a=new ue;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const p=l[u],v=p.start,y=p.count;for(let x=v,A=v+y;x<A;x+=3)for(let S=0;S<3;S++){const E=o.getX(x+S),M=o.getX(x+(S+1)%3);i.fromBufferAttribute(s,E),a.fromBufferAttribute(s,M),Z3(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let u=0;u<3;u++){const d=3*o+u,p=3*o+(u+1)%3;i.fromBufferAttribute(s,d),a.fromBufferAttribute(s,p),Z3(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Z3(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var $3=Object.freeze({__proto__:null,BoxGeometry:Rp,CapsuleGeometry:PA,CircleGeometry:FA,ConeGeometry:HA,CylinderGeometry:Ig,DodecahedronGeometry:zA,EdgesGeometry:DL,ExtrudeGeometry:kA,IcosahedronGeometry:Gy,LatheGeometry:zy,OctahedronGeometry:ky,PlaneGeometry:Yl,PolyhedronGeometry:Nd,RingGeometry:VA,ShapeGeometry:jA,SphereGeometry:Vy,TetrahedronGeometry:XA,TorusGeometry:WA,TorusKnotGeometry:YA,TubeGeometry:qA,WireframeGeometry:UL});class LL extends Ar{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class IL extends Xs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Dp extends Ar{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Er extends Dp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class PL extends Ar{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=wy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FL extends Ar{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HL extends Ar{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class zL extends Ar{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vo,this.combine=wy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KA extends Ar{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=aL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class JA extends Ar{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class GL extends Ar{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kL extends Ta{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function qh(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function VL(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function jL(r){function e(i,a){return r[i]-r[a]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function UT(r,e,t){const n=r.length,i=new r.constructor(n);for(let a=0,s=0;s!==n;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=r[o+l]}return i}function UC(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=r[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=r[i++];while(a!==void 0)}function Pz(r,e,t,n,i=30){const a=r.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],d=u.getValueSize(),p=[],v=[];for(let y=0;y<u.times.length;++y){const x=u.times[y]*i;if(!(x<t||x>=n)){p.push(u.times[y]);for(let A=0;A<d;++A)v.push(u.values[y*d+A])}}p.length!==0&&(u.times=qh(p,u.times.constructor),u.values=qh(v,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function Fz(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,a=e/n;for(let s=0;s<i;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=r.tracks.find(function(E){return E.name===o.name&&E.ValueTypeName===l});if(u===void 0)continue;let d=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let v=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const x=o.times.length-1;let A;if(a<=o.times[0]){const E=d,M=p-d;A=o.values.slice(E,M)}else if(a>=o.times[x]){const E=x*p+d,M=E+p-d;A=o.values.slice(E,M)}else{const E=o.createInterpolant(),M=d,R=p-d;E.evaluate(a),A=E.resultBuffer.slice(M,R)}l==="quaternion"&&new da().fromArray(A).normalize().conjugate().toArray(A);const S=u.times.length;for(let E=0;E<S;++E){const M=E*y+v;if(l==="quaternion")da.multiplyQuaternionsFlat(u.values,M,A,0,u.values,M);else{const R=y-v*2;for(let w=0;w<R;++w)u.values[M+w]-=A[w]}}}return r.blendMode=vC,r}const Hz={convertArray:qh,isTypedArray:VL,getKeyframeOrder:jL,sortedArray:UT,flattenJSON:UC,subclip:Pz,makeClipAdditive:Fz};class Bp{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(n=2,a=o);for(let l=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=a,a=t[--n-1],e>=a)break t}s=n,n=0;break n}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class XL extends Bp{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jh,endingEnd:jh}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Xh:a=e,o=2*t-n;break;case ny:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=n}if(l===void 0)switch(this.getSettings_().endingEnd){case Xh:s=e,l=2*n-t;break;case ny:s=1,l=n+i[1]-i[0];break;default:s=e-1,l=t}const u=(n-t)*.5,d=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-n),this._offsetPrev=a*d,this._offsetNext=s*d}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=this._offsetPrev,p=this._offsetNext,v=this._weightPrev,y=this._weightNext,x=(n-t)/(i-t),A=x*x,S=A*x,E=-v*S+2*v*A-v*x,M=(1+v)*S+(-1.5-2*v)*A+(-.5+v)*x+1,R=(-1-y)*S+(1.5+y)*A+.5*x,w=y*S-y*A;for(let I=0;I!==o;++I)a[I]=E*s[d+I]+M*s[u+I]+R*s[l+I]+w*s[p+I];return a}}class LC extends Bp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=(n-t)/(i-t),p=1-d;for(let v=0;v!==o;++v)a[v]=s[u+v]*p+s[l+v]*d;return a}}class WL extends Bp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ql{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qh(t,this.TimeBufferType),this.values=qh(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:qh(e.times,Array),values:qh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new WL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new XL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case vp:t=this.InterpolantFactoryMethodDiscrete;break;case Ad:t=this.InterpolantFactoryMethodLinear;break;case Lx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return vp;case this.InterpolantFactoryMethodLinear:return Ad;case this.InterpolantFactoryMethodSmooth:return Lx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,s=i-1;for(;a!==i&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=n.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=n[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&VL(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Lx,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(i)l=!0;else{const p=o*n,v=p-n,y=p+n;for(let x=0;x!==n;++x){const A=t[p+x];if(A!==t[v+x]||A!==t[y+x]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const p=o*n,v=s*n;for(let y=0;y!==n;++y)t[v+y]=t[p+y]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,l=s*n,u=0;u!==n;++u)t[l+u]=t[o+u];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ql.prototype.TimeBufferType=Float32Array;ql.prototype.ValueBufferType=Float32Array;ql.prototype.DefaultInterpolation=Ad;class Op extends ql{constructor(e,t,n){super(e,t,n)}}Op.prototype.ValueTypeName="bool";Op.prototype.ValueBufferType=Array;Op.prototype.DefaultInterpolation=vp;Op.prototype.InterpolantFactoryMethodLinear=void 0;Op.prototype.InterpolantFactoryMethodSmooth=void 0;class IC extends ql{}IC.prototype.ValueTypeName="color";class nf extends ql{}nf.prototype.ValueTypeName="number";class YL extends Bp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(n-t)/(i-t);let u=e*o;for(let d=u+o;u!==d;u+=4)da.slerpFlat(a,0,s,u-o,s,u,l);return a}}class rf extends ql{InterpolantFactoryMethodLinear(e){return new YL(this.times,this.values,this.getValueSize(),e)}}rf.prototype.ValueTypeName="quaternion";rf.prototype.InterpolantFactoryMethodSmooth=void 0;class Np extends ql{constructor(e,t,n){super(e,t,n)}}Np.prototype.ValueTypeName="string";Np.prototype.ValueBufferType=Array;Np.prototype.DefaultInterpolation=vp;Np.prototype.InterpolantFactoryMethodLinear=void 0;Np.prototype.InterpolantFactoryMethodSmooth=void 0;class af extends ql{}af.prototype.ValueTypeName="vector";class xp{constructor(e="",t=-1,n=[],i=EA){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=po(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(Gz(n[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=n.length;a!==s;++a)t.push(ql.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],u=[];l.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);const d=jL(l);l=UT(l,1,d),u=UT(u,1,d),!i&&l[0]===0&&(l.push(a),u.push(u[0])),s.push(new nf(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],d=u.name.match(a);if(d&&d.length>1){const p=d[1];let v=i[p];v||(i[p]=v=[]),v.push(u)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(p,v,y,x,A){if(y.length!==0){const S=[],E=[];UC(y,S,E,x),S.length!==0&&A.push(new p(v,S,E))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const v=u[p].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let x;for(x=0;x<v.length;x++)if(v[x].morphTargets)for(let A=0;A<v[x].morphTargets.length;A++)y[v[x].morphTargets[A]]=-1;for(const A in y){const S=[],E=[];for(let M=0;M!==v[x].morphTargets.length;++M){const R=v[x];S.push(R.time),E.push(R.morphTarget===A?1:0)}i.push(new nf(".morphTargetInfluence["+A+"]",S,E))}l=y.length*s}else{const y=".bones["+t[p].name+"]";n(af,y+".position",v,"pos",i),n(rf,y+".quaternion",v,"rot",i),n(af,y+".scale",v,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zz(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nf;case"vector":case"vector2":case"vector3":case"vector4":return af;case"color":return IC;case"quaternion":return rf;case"bool":case"boolean":return Op;case"string":return Np}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function Gz(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zz(r.type);if(r.times===void 0){const t=[],n=[];UC(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const qu={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class ZA{constructor(e,t,n){const i=this;let a=!1,s=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(d){o++,a===!1&&i.onStart!==void 0&&i.onStart(d,s,o),a=!0},this.itemEnd=function(d){s++,i.onProgress!==void 0&&i.onProgress(d,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,p){return u.push(d,p),this},this.removeHandler=function(d){const p=u.indexOf(d);return p!==-1&&u.splice(p,2),this},this.getHandler=function(d){for(let p=0,v=u.length;p<v;p+=2){const y=u[p],x=u[p+1];if(y.global&&(y.lastIndex=0),y.test(d))return x}return null}}}const eg=new ZA;let Jr=class{constructor(e){this.manager=e!==void 0?e:eg,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Jr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Pu={};class kz extends Error{constructor(e,t){super(e),this.response=t}}class Br extends Jr{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=qu.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Pu[e]!==void 0){Pu[e].push({onLoad:t,onProgress:n,onError:i});return}Pu[e]=[],Pu[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Pu[e],p=u.body.getReader(),v=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),y=v?parseInt(v):0,x=y!==0;let A=0;const S=new ReadableStream({start(E){M();function M(){p.read().then(({done:R,value:w})=>{if(R)E.close();else{A+=w.byteLength;const I=new ProgressEvent("progress",{lengthComputable:x,loaded:A,total:y});for(let U=0,H=d.length;U<H;U++){const F=d[U];F.onProgress&&F.onProgress(I)}E.enqueue(w),M()}},R=>{E.error(R)})}}});return new Response(S)}else throw new kz(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return u.json();default:if(o===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),v=p&&p[1]?p[1].toLowerCase():void 0,y=new TextDecoder(v);return u.arrayBuffer().then(x=>y.decode(x))}}}).then(u=>{qu.add(e,u);const d=Pu[e];delete Pu[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onLoad&&y.onLoad(u)}}).catch(u=>{const d=Pu[e];if(d===void 0)throw this.manager.itemError(e),u;delete Pu[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onError&&y.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Vz extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Br(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=xp.parse(e[n]);t.push(i)}return t}}class jz extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=[],o=new LA,l=new Br(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function d(p){l.load(e[p],function(v){const y=a.parse(v,!0);s[p]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},u+=1,u===6&&(y.mipmapCount===1&&(o.minFilter=Yn),o.image=s,o.format=y.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let p=0,v=e.length;p<v;++p)d(p);else l.load(e,function(p){const v=a.parse(p,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let x=0;x<y;x++){s[x]={mipmaps:[]};for(let A=0;A<v.mipmapCount;A++)s[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+A]),s[x].format=v.format,s[x].width=v.width,s[x].height=v.height}o.image=s}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=Yn),o.format=v.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}}class fy extends Jr{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=qu.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=sy("img");function l(){d(),qu.add(e,this),t&&t(this),a.manager.itemEnd(e)}function u(p){d(),i&&i(p),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class qL extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=new Ly;a.colorSpace=Ii;const s=new fy(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(u){s.load(e[u],function(d){a.images[u]=d,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class PC extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new zl,o=new Br(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let u;try{u=a.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:xr,s.wrapT=u.wrapT!==void 0?u.wrapT:xr,s.magFilter=u.magFilter!==void 0?u.magFilter:Yn,s.minFilter=u.minFilter!==void 0?u.minFilter:Yn,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(s.colorSpace=u.colorSpace),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Fs),u.mipmapCount===1&&(s.minFilter=Yn),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u)},n,i),s}}class FC extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=new ni,s=new fy(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}}class Ud extends Vn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class KL extends Ud{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const qS=new en,Q3=new ue,eD=new ue;class HC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mt(512,512),this.map=null,this.mapPass=null,this.matrix=new en,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fy,this._frameExtents=new mt(1,1),this._viewportCount=1,this._viewports=[new $n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Q3.setFromMatrixPosition(e.matrixWorld),t.position.copy(Q3),eD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eD),t.updateMatrixWorld(),qS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qS),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(qS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Xz extends HC{constructor(){super(new Hr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=yg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class $A extends Ud{constructor(e,t,n=0,i=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vn.DEFAULT_UP),this.updateMatrix(),this.target=new Vn,this.distance=n,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Xz}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tD=new en,hv=new ue,KS=new ue;class Wz extends HC{constructor(){super(new Hr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mt(4,2),this._viewportCount=6,this._viewports=[new $n(2,1,1,1),new $n(0,1,1,1),new $n(3,1,1,1),new $n(1,1,1,1),new $n(3,0,1,1),new $n(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),hv.setFromMatrixPosition(e.matrixWorld),n.position.copy(hv),KS.copy(n.position),KS.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(KS),n.updateMatrixWorld(),i.makeTranslation(-hv.x,-hv.y,-hv.z),tD.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tD)}}class QA extends Ud{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Wz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ld extends wA{constructor(e=-1,t=1,n=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,s=n+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Yz extends HC{constructor(){super(new Ld(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class e2 extends Ud{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vn.DEFAULT_UP),this.updateMatrix(),this.target=new Vn,this.shadow=new Yz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class JL extends Ud{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ZL extends Ud{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class $L{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ue)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}}class QL extends Ud{constructor(e=new $L,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class t2 extends Jr{constructor(e){super(e),this.textures={}}load(e,t,n,i){const a=this,s=new Br(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=n(s.value);break;case"c":i.uniforms[a].value=new Rt().setHex(s.value);break;case"v2":i.uniforms[a].value=new mt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new ue().fromArray(s.value);break;case"v4":i.uniforms[a].value=new $n().fromArray(s.value);break;case"m3":i.uniforms[a].value=new _n().fromArray(s.value);break;case"m4":i.uniforms[a].value=new en().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new mt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new mt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return t2.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:LL,SpriteMaterial:MC,RawShaderMaterial:IL,ShaderMaterial:Xs,PointsMaterial:Hy,MeshPhysicalMaterial:Er,MeshStandardMaterial:Dp,MeshPhongMaterial:PL,MeshToonMaterial:FL,MeshNormalMaterial:HL,MeshLambertMaterial:zL,MeshDepthMaterial:KA,MeshDistanceMaterial:JA,MeshBasicMaterial:zr,MeshMatcapMaterial:GL,LineDashedMaterial:kL,LineBasicMaterial:Ta,Material:Ar};return new t[e]}}class mo{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class zC extends vn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class eI extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Br(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(y,x){if(t[x]!==void 0)return t[x];const S=y.interleavedBuffers[x],E=a(y,S.buffer),M=$m(S.type,E),R=new Ug(M,S.stride);return R.uuid=S.uuid,t[x]=R,R}function a(y,x){if(n[x]!==void 0)return n[x];const S=y.arrayBuffers[x],E=new Uint32Array(S).buffer;return n[x]=E,E}const s=e.isInstancedBufferGeometry?new zC:new vn,o=e.data.index;if(o!==void 0){const y=$m(o.type,o.array);s.setIndex(new Hn(y,1))}const l=e.data.attributes;for(const y in l){const x=l[y];let A;if(x.isInterleavedBufferAttribute){const S=i(e.data,x.data);A=new ef(S,x.itemSize,x.offset,x.normalized)}else{const S=$m(x.type,x.array),E=x.isInstancedBufferAttribute?tf:Hn;A=new E(S,x.itemSize,x.normalized)}x.name!==void 0&&(A.name=x.name),x.usage!==void 0&&A.setUsage(x.usage),s.setAttribute(y,A)}const u=e.data.morphAttributes;if(u)for(const y in u){const x=u[y],A=[];for(let S=0,E=x.length;S<E;S++){const M=x[S];let R;if(M.isInterleavedBufferAttribute){const w=i(e.data,M.data);R=new ef(w,M.itemSize,M.offset,M.normalized)}else{const w=$m(M.type,M.array);R=new Hn(w,M.itemSize,M.normalized)}M.name!==void 0&&(R.name=M.name),A.push(R)}s.morphAttributes[y]=A}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let y=0,x=p.length;y!==x;++y){const A=p[y];s.addGroup(A.start,A.count,A.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const y=new ue;v.center!==void 0&&y.fromArray(v.center),s.boundingSphere=new Yr(y,v.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class qz extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=this.path===""?mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Br(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Br(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,l,o,n),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let p=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const a=new ap().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new Lg().fromJSON(e[a],i);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new eI;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in $3?o=$3[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),n[l.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const a=new t2;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];n[l.uuid]===void 0&&(n[l.uuid]=a.parse(l)),i[l.uuid]=n[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],a=xp.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const n=this,i={};let a;function s(l){return n.manager.itemStart(l),a.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return s(d)}else return l.data?{data:$m(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ZA(t);a=new fy(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const p=e[u],v=p.url;if(Array.isArray(v)){const y=[];for(let x=0,A=v.length;x<A;x++){const S=v[x],E=o(S);E!==null&&(E instanceof HTMLImageElement?y.push(E):y.push(new zl(E.data,E.width,E.height)))}i[p.uuid]=new Wh(y)}else{const y=o(p.url);i[p.uuid]=new Wh(y)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:$m(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new fy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const d=[];for(let p=0,v=u.length;p<v;p++){const y=u[p],x=await a(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new zl(x.data,x.width,x.height)))}n[l.uuid]=new Wh(d)}else{const d=await a(l.url);n[l.uuid]=new Wh(d)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let d;Array.isArray(u)?(d=new Ly,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new zl:d=new ni,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=n(o.mapping,Kz)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=n(o.wrap[0],nD),d.wrapT=n(o.wrap[1],nD)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=n(o.minFilter,iD)),o.magFilter!==void 0&&(d.magFilter=n(o.magFilter,iD)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),i[o.uuid]=d}return i}parseObject(e,t,n,i,a){let s;function o(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function l(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let x=0,A=v.length;x<A;x++){const S=v[x];n[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),y.push(n[S])}return y}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function u(v){return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),i[v]}let d,p;switch(e.type){case"Scene":s=new Iy,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Rt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new DA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new RA(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Hr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ld(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new JL(e.color,e.intensity);break;case"DirectionalLight":s=new e2(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new QA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new ZL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new $A(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new KL(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new QL().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),p=l(e.material),s=new BA(d,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),p=l(e.material),s=new Ai(d,p);break;case"InstancedMesh":d=o(e.geometry),p=l(e.material);const v=e.count,y=e.instanceMatrix,x=e.instanceColor;s=new OA(d,p,v),s.instanceMatrix=new tf(new Float32Array(y.array),16),x!==void 0&&(s.instanceColor=new tf(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":d=o(e.geometry),p=l(e.material),s=new SL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),s.geometry=d,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(A=>{const S=new kr;S.min.fromArray(A.boxMin),S.max.fromArray(A.boxMax);const E=new Yr;return E.radius=A.sphereRadius,E.center.fromArray(A.sphereCenter),{boxInitialized:A.boxInitialized,box:S,sphereInitialized:A.sphereInitialized,sphere:E}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new AL;break;case"Line":s=new Kc(o(e.geometry),l(e.material));break;case"LineLoop":s=new NA(o(e.geometry),l(e.material));break;case"LineSegments":s=new Ko(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new UA(o(e.geometry),l(e.material));break;case"Sprite":s=new bL(l(e.material));break;case"Group":s=new Xo;break;case"Bone":s=new Py;break;default:s=new Vn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)s.add(this.parseObject(v[y],t,n,i,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const x=v[y];s.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const x=v[y],A=s.getObjectByProperty("uuid",x.object);A!==void 0&&s.addLevel(A,x.distance,x.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Vn}})}}const Kz={UVMapping:xd,CubeReflectionMapping:Yc,CubeRefractionMapping:bd,EquirectangularReflectionMapping:gg,EquirectangularRefractionMapping:ty,CubeUVReflectionMapping:Og},nD={RepeatWrapping:Vl,ClampToEdgeWrapping:xr,MirroredRepeatWrapping:pp},iD={NearestFilter:Gr,NearestMipmapNearestFilter:Ry,NearestMipmapLinearFilter:dd,LinearFilter:Yn,LinearMipmapNearestFilter:np,LinearMipmapLinearFilter:Fs};class GC extends Jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=qu.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(u=>{t&&t(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return qu.add(e,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),qu.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});qu.add(e,l),a.manager.itemStart(e)}}let ax;class kC{static getContext(){return ax===void 0&&(ax=new(window.AudioContext||window.webkitAudioContext)),ax}static setContext(e){ax=e}}class Jz extends Jr{constructor(e){super(e)}load(e,t,n,i){const a=this,s=new Br(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);kC.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},n,i);function o(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const rD=new en,aD=new en,Ch=new en;class Zz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ch.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,s=t.near*Math.tan(rp*t.fov*.5)/t.zoom;let o,l;aD.elements[12]=-i,rD.elements[12]=i,o=-s*t.aspect+a,l=s*t.aspect+a,Ch.elements[0]=2*t.near/(l-o),Ch.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Ch),o=-s*t.aspect-a,l=s*t.aspect-a,Ch.elements[0]=2*t.near/(l-o),Ch.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Ch)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rD)}}class tI extends Hr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class VC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=sD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function sD(){return performance.now()}const wh=new ue,oD=new da,$z=new ue,Rh=new ue;class Qz extends Vn{constructor(){super(),this.type="AudioListener",this.context=kC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new VC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wh,oD,$z),Rh.set(0,0,-1).applyQuaternion(oD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wh.x,i),t.positionY.linearRampToValueAtTime(wh.y,i),t.positionZ.linearRampToValueAtTime(wh.z,i),t.forwardX.linearRampToValueAtTime(Rh.x,i),t.forwardY.linearRampToValueAtTime(Rh.y,i),t.forwardZ.linearRampToValueAtTime(Rh.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(wh.x,wh.y,wh.z),t.setOrientation(Rh.x,Rh.y,Rh.z,n.x,n.y,n.z)}}class nI extends Vn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Dh=new ue,lD=new da,e9=new ue,Bh=new ue;class t9 extends nI{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dh,lD,e9),Bh.set(0,0,1).applyQuaternion(lD);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dh.x,n),t.positionY.linearRampToValueAtTime(Dh.y,n),t.positionZ.linearRampToValueAtTime(Dh.z,n),t.orientationX.linearRampToValueAtTime(Bh.x,n),t.orientationY.linearRampToValueAtTime(Bh.y,n),t.orientationZ.linearRampToValueAtTime(Bh.z,n)}else t.setPosition(Dh.x,Dh.y,Dh.z),t.setOrientation(Bh.x,Bh.y,Bh.z)}}class n9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class iI{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)n[a+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(n,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,s=i;a!==s;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,i){da.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){const s=this._workIndex*a;da.multiplyQuaternionsFlat(e,s,e,t,e,n),da.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[n+o]*i}}_lerpAdditive(e,t,n,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[n+s]*i}}}const jC="\\[\\]\\.:\\/",i9=new RegExp("["+jC+"]","g"),XC="[^"+jC+"]",r9="[^"+jC.replace("\\.","")+"]",a9=/((?:WC+[\/:])*)/.source.replace("WC",XC),s9=/(WCOD+)?/.source.replace("WCOD",r9),o9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XC),l9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XC),c9=new RegExp("^"+a9+s9+o9+l9+"$"),u9=["material","materials","bones","map"];class f9{constructor(e,t,n){const i=n||Zn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Zn{constructor(e,t,n){this.path=t,this.parsedPath=n||Zn.parseTrackName(t),this.node=Zn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Zn.Composite(e,t,n):new Zn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(i9,"")}static parseTrackName(e){const t=c9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);u9.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=n(o.children);if(l)return l}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Zn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let u=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zn.Composite=f9;Zn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zn.prototype.GetterByBindingType=[Zn.prototype._getValue_direct,Zn.prototype._getValue_array,Zn.prototype._getValue_arrayElement,Zn.prototype._getValue_toArray];Zn.prototype.SetterByBindingTypeAndVersioning=[[Zn.prototype._setValue_direct,Zn.prototype._setValue_direct_setNeedsUpdate,Zn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zn.prototype._setValue_array,Zn.prototype._setValue_array_setNeedsUpdate,Zn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zn.prototype._setValue_arrayElement,Zn.prototype._setValue_arrayElement_setNeedsUpdate,Zn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zn.prototype._setValue_fromArray,Zn.prototype._setValue_fromArray_setNeedsUpdate,Zn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class d9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=po(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,u=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const v=arguments[d],y=v.uuid;let x=t[y];if(x===void 0){x=l++,t[y]=x,e.push(v);for(let A=0,S=s;A!==S;++A)a[A].push(new Zn(v,n[A],i[A]))}else if(x<u){o=e[x];const A=--u,S=e[A];t[S.uuid]=x,e[x]=S,t[y]=A,e[A]=v;for(let E=0,M=s;E!==M;++E){const R=a[E],w=R[A];let I=R[x];R[x]=w,I===void 0&&(I=new Zn(v,n[E],i[E])),R[A]=I}}else e[x]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],u=l.uuid,d=t[u];if(d!==void 0&&d>=a){const p=a++,v=e[p];t[v.uuid]=d,e[d]=v,t[u]=p,e[p]=l;for(let y=0,x=i;y!==x;++y){const A=n[y],S=A[p],E=A[d];A[d]=S,A[p]=E}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],d=u.uuid,p=t[d];if(p!==void 0)if(delete t[d],p<a){const v=--a,y=e[v],x=--s,A=e[x];t[y.uuid]=p,e[p]=y,t[A.uuid]=v,e[v]=A,e.pop();for(let S=0,E=i;S!==E;++S){const M=n[S],R=M[v],w=M[x];M[p]=R,M[v]=w,M.pop()}}else{const v=--s,y=e[v];v>0&&(t[y.uuid]=p),e[p]=y,e.pop();for(let x=0,A=i;x!==A;++x){const S=n[x];S[p]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,p=new Array(u);i=a.length,n[e]=i,s.push(e),o.push(t),a.push(p);for(let v=d,y=l.length;v!==y;++v){const x=l[v];p[v]=new Zn(x,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],u=e[o];t[u]=n,s[n]=l,s.pop(),a[n]=a[o],a.pop(),i[n]=i[o],i.pop()}}}class rI{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:jh,endingEnd:jh};for(let u=0;u!==s;++u){const d=a[u].createInterpolant(null);o[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=iL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,l[1]=a+n,u[0]=e/s,u[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case vC:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(s),u[d].accumulateAdditive(o);break;case EA:default:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(s),u[d].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,a=this._loopCount;const s=n===rL;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(n===nL){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Xh,i.endingEnd=Xh):(e?i.endingStart=this.zeroSlopeAtStart?Xh:jh:i.endingStart=ny,t?i.endingEnd=this.zeroSlopeAtEnd?Xh:jh:i.endingEnd=ny)}_scheduleFading(e,t,n){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=n,this}}const h9=new Float32Array(1);class p9 extends Qc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=n.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let p=0;p!==a;++p){const v=i[p],y=v.name;let x=d[y];if(x!==void 0)++x.referenceCount,s[p]=x;else{if(x=s[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,y));continue}const A=t&&t._propertyBindings[p].binding.parsedPath;x=new iI(Zn.create(n,y,A),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,y),s[p]=x}o[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete p[v],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new LC(new Float32Array(2),new Float32Array(2),1,h9),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?xp.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let u=null;if(n===void 0&&(s!==null?n=s.blendMode:n=EA),l!==void 0){const p=l.actionByRoot[a];if(p!==void 0&&p.blendMode===n)return p;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const d=new rI(this,s,t,n);return this._bindAction(d,u),this._addInactiveAction(d,o,a),d}existingAction(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?xp.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==n;++u)t[u]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const u=s[o];this._deactivateAction(u);const d=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=d,t[d]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class m9 extends MA{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new CA(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class g9 extends MA{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new Uy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class WC{constructor(e){this.value=e}clone(){return new WC(this.value.clone===void 0?this.value:this.value.clone())}}let v9=0;class y9 extends Qc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:v9++}),this.name="",this.usage=ry,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class _9 extends Ug{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class x9{constructor(e,t,n,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const cD=new en;class YC{constructor(e,t,n=0,i=1/0){this.ray=new Ng(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new _g,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return cD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(cD),this}intersectObject(e,t=!0,n=[]){return LT(e,this,n,t),n.sort(uD),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)LT(e[i],this,n,t);return n.sort(uD),n}}function uD(r,e){return r.distance-e.distance}function LT(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const a=r.children;for(let s=0,o=a.length;s<o;s++)LT(a[s],e,t,!0)}}class b9{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class A9{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class qC{constructor(e,t,n,i){qC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=i,this}}const fD=new mt;class S9{constructor(e=new mt(1/0,1/0),t=new mt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=fD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dD=new ue,sx=new ue;class E9{constructor(e=new ue,t=new ue){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){dD.subVectors(e,this.start),sx.subVectors(this.end,this.start);const n=sx.dot(sx);let a=sx.dot(dD)/n;return t&&(a=xn(a,0,1)),a}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hD=new ue;class T9 extends Vn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new vn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const u=s/l*Math.PI*2,d=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}n.setAttribute("position",new qt(i,3));const a=new Ta({fog:!1,toneMapped:!1});this.cone=new Ko(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nd=new ue,ox=new en,JS=new en;class M9 extends Ko{constructor(e){const t=aI(e),n=new vn,i=[],a=[],s=new Rt(0,0,1),o=new Rt(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}n.setAttribute("position",new qt(i,3)),n.setAttribute("color",new qt(a,3));const l=new Ta({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");JS.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(ox.multiplyMatrices(JS,o.matrixWorld),nd.setFromMatrixPosition(ox),i.setXYZ(s,nd.x,nd.y,nd.z),ox.multiplyMatrices(JS,o.parent.matrixWorld),nd.setFromMatrixPosition(ox),i.setXYZ(s+1,nd.x,nd.y,nd.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function aI(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,aI(r.children[t]));return e}class C9 extends Ai{constructor(e,t,n){const i=new Vy(t,4,2),a=new zr({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const w9=new ue,pD=new Rt,mD=new Rt;class R9 extends Vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new ky(t);i.rotateY(Math.PI*.5),this.material=new zr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Hn(s,3)),this.add(new Ai(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pD.copy(this.light.color),mD.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const a=n<i/2?pD:mD;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(w9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class D9 extends Ko{constructor(e=10,t=10,n=4473924,i=8947848){n=new Rt(n),i=new Rt(i);const a=t/2,s=e/t,o=e/2,l=[],u=[];for(let v=0,y=0,x=-o;v<=t;v++,x+=s){l.push(-o,0,x,o,0,x),l.push(x,0,-o,x,0,o);const A=v===a?n:i;A.toArray(u,y),y+=3,A.toArray(u,y),y+=3,A.toArray(u,y),y+=3,A.toArray(u,y),y+=3}const d=new vn;d.setAttribute("position",new qt(l,3)),d.setAttribute("color",new qt(u,3));const p=new Ta({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class B9 extends Ko{constructor(e=10,t=16,n=8,i=64,a=4473924,s=8947848){a=new Rt(a),s=new Rt(s);const o=[],l=[];if(t>1)for(let p=0;p<t;p++){const v=p/t*(Math.PI*2),y=Math.sin(v)*e,x=Math.cos(v)*e;o.push(0,0,0),o.push(y,0,x);const A=p&1?a:s;l.push(A.r,A.g,A.b),l.push(A.r,A.g,A.b)}for(let p=0;p<n;p++){const v=p&1?a:s,y=e-e/n*p;for(let x=0;x<i;x++){let A=x/i*(Math.PI*2),S=Math.sin(A)*y,E=Math.cos(A)*y;o.push(S,0,E),l.push(v.r,v.g,v.b),A=(x+1)/i*(Math.PI*2),S=Math.sin(A)*y,E=Math.cos(A)*y,o.push(S,0,E),l.push(v.r,v.g,v.b)}}const u=new vn;u.setAttribute("position",new qt(o,3)),u.setAttribute("color",new qt(l,3));const d=new Ta({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gD=new ue,lx=new ue,vD=new ue;class O9 extends Vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new vn;i.setAttribute("position",new qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Ta({fog:!1,toneMapped:!1});this.lightPlane=new Kc(i,a),this.add(this.lightPlane),i=new vn,i.setAttribute("position",new qt([0,0,0,0,0,1],3)),this.targetLine=new Kc(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gD.setFromMatrixPosition(this.light.matrixWorld),lx.setFromMatrixPosition(this.light.target.matrixWorld),vD.subVectors(lx,gD),this.lightPlane.lookAt(lx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lx),this.targetLine.scale.z=vD.length()}}const cx=new ue,_r=new wA;class N9 extends Ko{constructor(e){const t=new vn,n=new Ta({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,A){l(x),l(A)}function l(x){i.push(0,0,0),a.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}t.setAttribute("position",new qt(i,3)),t.setAttribute("color",new qt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new Rt(16755200),d=new Rt(16711680),p=new Rt(43775),v=new Rt(16777215),y=new Rt(3355443);this.setColors(u,d,p,v,y)}setColors(e,t,n,i,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;_r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Hl?-1:0;wr("c",t,e,_r,0,0,a),wr("t",t,e,_r,0,0,1),wr("n1",t,e,_r,-1,-1,a),wr("n2",t,e,_r,n,-1,a),wr("n3",t,e,_r,-1,i,a),wr("n4",t,e,_r,n,i,a),wr("f1",t,e,_r,-1,-1,1),wr("f2",t,e,_r,n,-1,1),wr("f3",t,e,_r,-1,i,1),wr("f4",t,e,_r,n,i,1),wr("u1",t,e,_r,n*.7,i*1.1,a),wr("u2",t,e,_r,-1*.7,i*1.1,a),wr("u3",t,e,_r,0,i*2,a),wr("cf1",t,e,_r,-1,0,1),wr("cf2",t,e,_r,n,0,1),wr("cf3",t,e,_r,0,-1,1),wr("cf4",t,e,_r,0,i,1),wr("cn1",t,e,_r,-1,0,a),wr("cn2",t,e,_r,n,0,a),wr("cn3",t,e,_r,0,-1,a),wr("cn4",t,e,_r,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function wr(r,e,t,n,i,a,s){cx.set(i,a,s).unproject(n);const o=e[r];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,d=o.length;u<d;u++)l.setXYZ(o[u],cx.x,cx.y,cx.z)}}const ux=new kr;class U9 extends Ko{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new vn;a.setIndex(new Hn(n,1)),a.setAttribute("position",new Hn(i,3)),super(a,new Ta({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ux.setFromObject(this.object),ux.isEmpty())return;const t=ux.min,n=ux.max,i=this.geometry.attributes.position,a=i.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class L9 extends Ko{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new vn;a.setIndex(new Hn(n,1)),a.setAttribute("position",new qt(i,3)),super(a,new Ta({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class I9 extends Kc{constructor(e,t=1,n=16776960){const i=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new vn;s.setAttribute("position",new qt(a,3)),s.computeBoundingSphere(),super(s,new Ta({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new vn;l.setAttribute("position",new qt(o,3)),l.computeBoundingSphere(),this.add(new Ai(l,new zr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yD=new ue;let fx,ZS;class P9 extends Vn{constructor(e=new ue(0,0,1),t=new ue(0,0,0),n=1,i=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",fx===void 0&&(fx=new vn,fx.setAttribute("position",new qt([0,0,0,0,1,0],3)),ZS=new Ig(0,.5,1,5,1),ZS.translate(0,-.5,0)),this.position.copy(t),this.line=new Kc(fx,new Ta({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ai(ZS,new zr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yD,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class F9 extends Ko{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new vn;i.setAttribute("position",new qt(t,3)),i.setAttribute("color",new qt(n,3));const a=new Ta({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,n){const i=new Rt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class H9{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new oy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,s){return this.currentPath.bezierCurveTo(e,t,n,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const M=[];for(let R=0,w=E.length;R<w;R++){const I=E[R],U=new ap;U.curves=I.curves,M.push(U)}return M}function n(E,M){const R=M.length;let w=!1;for(let I=R-1,U=0;U<R;I=U++){let H=M[I],F=M[U],N=F.x-H.x,L=F.y-H.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(H=M[U],N=-N,F=M[I],L=-L),E.y<H.y||E.y>F.y)continue;if(E.y===H.y){if(E.x===H.x)return!0}else{const G=L*(E.x-H.x)-N*(E.y-H.y);if(G===0)return!0;if(G<0)continue;w=!w}}else{if(E.y!==H.y)continue;if(F.x<=E.x&&E.x<=H.x||H.x<=E.x&&E.x<=F.x)return!0}}return w}const i=jc.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const u=[];if(a.length===1)return o=a[0],l=new ap,l.curves=o.curves,u.push(l),u;let d=!i(a[0].getPoints());d=e?!d:d;const p=[],v=[];let y=[],x=0,A;v[x]=void 0,y[x]=[];for(let E=0,M=a.length;E<M;E++)o=a[E],A=o.getPoints(),s=i(A),s=e?!s:s,s?(!d&&v[x]&&x++,v[x]={s:new ap,p:A},v[x].s.curves=o.curves,d&&x++,y[x]=[]):y[x].push({h:o,p:A[0]});if(!v[0])return t(a);if(v.length>1){let E=!1,M=0;for(let R=0,w=v.length;R<w;R++)p[R]=[];for(let R=0,w=v.length;R<w;R++){const I=y[R];for(let U=0;U<I.length;U++){const H=I[U];let F=!0;for(let N=0;N<v.length;N++)n(H.p,v[N].p)&&(R!==N&&M++,F?(F=!1,p[N].push(H)):E=!0);F&&p[R].push(H)}}M>0&&E===!1&&(y=p)}let S;for(let E=0,M=v.length;E<M;E++){l=v[E].s,u.push(l),S=y[E];for(let R=0,w=S.length;R<w;R++)l.holes.push(S[R].h)}return u}}class z9 extends Qc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function G9(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function k9(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function V9(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function IT(r,e,t,n){const i=j9(n);switch(t){case fC:return r*e;case hC:return r*e;case pC:return r*e*2;case By:return r*e/i.components*i.byteLength;case Oy:return r*e/i.components*i.byteLength;case mC:return r*e*2/i.components*i.byteLength;case AA:return r*e*2/i.components*i.byteLength;case dC:return r*e*3/i.components*i.byteLength;case Dr:return r*e*4/i.components*i.byteLength;case SA:return r*e*4/i.components*i.byteLength;case Nv:case Uv:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Lv:case Iv:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case ob:case cb:return Math.max(r,16)*Math.max(e,8)/4;case sb:case lb:return Math.max(r,8)*Math.max(e,8)/2;case ub:case fb:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case db:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case hb:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case pb:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case mb:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case gb:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case vb:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case yb:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case _b:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case xb:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case bb:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case Ab:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case Sb:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case Eb:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case Tb:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case Mb:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case Pv:case Cb:case wb:return Math.ceil(r/4)*Math.ceil(e/4)*16;case gC:case Rb:return Math.ceil(r/4)*Math.ceil(e/4)*8;case Db:case Bb:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function j9(r){switch(r){case js:case yA:return{byteLength:1,components:1};case vg:case _A:case ua:return{byteLength:2,components:1};case xA:case bA:return{byteLength:2,components:4};case qc:case Dy:case or:return{byteLength:4,components:1};case uC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}const X9={contain:G9,cover:k9,fill:V9,getByteLength:IT};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function sI(){let r=null,e=!1,t=null,n=null;function i(a,s){t(a,s),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function W9(r){const e=new WeakMap;function t(o,l){const u=o.array,d=o.usage,p=u.byteLength,v=r.createBuffer();r.bindBuffer(l,v),r.bufferData(l,u,d),o.onUploadCallback();let y;if(u instanceof Float32Array)y=r.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?y=r.HALF_FLOAT:y=r.UNSIGNED_SHORT;else if(u instanceof Int16Array)y=r.SHORT;else if(u instanceof Uint32Array)y=r.UNSIGNED_INT;else if(u instanceof Int32Array)y=r.INT;else if(u instanceof Int8Array)y=r.BYTE;else if(u instanceof Uint8Array)y=r.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)y=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:v,type:y,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function n(o,l,u){const d=l.array,p=l.updateRanges;if(r.bindBuffer(u,o),p.length===0)r.bufferSubData(u,0,d);else{p.sort((y,x)=>y.start-x.start);let v=0;for(let y=1;y<p.length;y++){const x=p[v],A=p[y];A.start<=x.start+x.count+1?x.count=Math.max(x.count,A.start+A.count-x.start):(++v,p[v]=A)}p.length=v+1;for(let y=0,x=p.length;y<x;y++){const A=p[y];r.bufferSubData(u,A.start*d.BYTES_PER_ELEMENT,d,A.start,A.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(r.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(u.buffer,o,l),u.version=o.version}}return{get:i,remove:a,update:s}}var Y9=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,q9=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,K9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,J9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z9=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$9=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Q9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tG=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,nG=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,iG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,rG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,sG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,oG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,cG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,hG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,pG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,mG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,gG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,vG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_G=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,xG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,AG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SG="gl_FragColor = linearToOutputTexel( gl_FragColor );",EG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,TG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,CG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,BG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,OG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,NG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,UG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,LG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,IG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,PG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,FG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,zG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,GG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,kG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,VG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,XG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,WG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,YG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,qG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,KG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JG=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$G=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,QG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ek=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,tk=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,nk=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ik=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rk=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ak=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,sk=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ok=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,lk=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,ck=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,uk=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,fk=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,dk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pk=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,mk=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,gk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,vk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,yk=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,_k=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,xk=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Ak=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Sk=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ek=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Tk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Mk=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ck=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Rk=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Dk=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Bk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ok=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Nk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Uk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Lk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ik=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Pk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Fk=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Hk=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Gk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,kk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Vk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Xk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Yk=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Kk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Jk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Zk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$k=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,e7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,t7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,n7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,i7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,r7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,a7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,s7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,o7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,f7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,h7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,p7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,m7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,v7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,b7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,A7=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,E7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,T7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,En={alphahash_fragment:Y9,alphahash_pars_fragment:q9,alphamap_fragment:K9,alphamap_pars_fragment:J9,alphatest_fragment:Z9,alphatest_pars_fragment:$9,aomap_fragment:Q9,aomap_pars_fragment:eG,batching_pars_vertex:tG,batching_vertex:nG,begin_vertex:iG,beginnormal_vertex:rG,bsdfs:aG,iridescence_fragment:sG,bumpmap_pars_fragment:oG,clipping_planes_fragment:lG,clipping_planes_pars_fragment:cG,clipping_planes_pars_vertex:uG,clipping_planes_vertex:fG,color_fragment:dG,color_pars_fragment:hG,color_pars_vertex:pG,color_vertex:mG,common:gG,cube_uv_reflection_fragment:vG,defaultnormal_vertex:yG,displacementmap_pars_vertex:_G,displacementmap_vertex:xG,emissivemap_fragment:bG,emissivemap_pars_fragment:AG,colorspace_fragment:SG,colorspace_pars_fragment:EG,envmap_fragment:TG,envmap_common_pars_fragment:MG,envmap_pars_fragment:CG,envmap_pars_vertex:wG,envmap_physical_pars_fragment:HG,envmap_vertex:RG,fog_vertex:DG,fog_pars_vertex:BG,fog_fragment:OG,fog_pars_fragment:NG,gradientmap_pars_fragment:UG,lightmap_pars_fragment:LG,lights_lambert_fragment:IG,lights_lambert_pars_fragment:PG,lights_pars_begin:FG,lights_toon_fragment:zG,lights_toon_pars_fragment:GG,lights_phong_fragment:kG,lights_phong_pars_fragment:VG,lights_physical_fragment:jG,lights_physical_pars_fragment:XG,lights_fragment_begin:WG,lights_fragment_maps:YG,lights_fragment_end:qG,logdepthbuf_fragment:KG,logdepthbuf_pars_fragment:JG,logdepthbuf_pars_vertex:ZG,logdepthbuf_vertex:$G,map_fragment:QG,map_pars_fragment:ek,map_particle_fragment:tk,map_particle_pars_fragment:nk,metalnessmap_fragment:ik,metalnessmap_pars_fragment:rk,morphinstance_vertex:ak,morphcolor_vertex:sk,morphnormal_vertex:ok,morphtarget_pars_vertex:lk,morphtarget_vertex:ck,normal_fragment_begin:uk,normal_fragment_maps:fk,normal_pars_fragment:dk,normal_pars_vertex:hk,normal_vertex:pk,normalmap_pars_fragment:mk,clearcoat_normal_fragment_begin:gk,clearcoat_normal_fragment_maps:vk,clearcoat_pars_fragment:yk,iridescence_pars_fragment:_k,opaque_fragment:xk,packing:bk,premultiplied_alpha_fragment:Ak,project_vertex:Sk,dithering_fragment:Ek,dithering_pars_fragment:Tk,roughnessmap_fragment:Mk,roughnessmap_pars_fragment:Ck,shadowmap_pars_fragment:wk,shadowmap_pars_vertex:Rk,shadowmap_vertex:Dk,shadowmask_pars_fragment:Bk,skinbase_vertex:Ok,skinning_pars_vertex:Nk,skinning_vertex:Uk,skinnormal_vertex:Lk,specularmap_fragment:Ik,specularmap_pars_fragment:Pk,tonemapping_fragment:Fk,tonemapping_pars_fragment:Hk,transmission_fragment:zk,transmission_pars_fragment:Gk,uv_pars_fragment:kk,uv_pars_vertex:Vk,uv_vertex:jk,worldpos_vertex:Xk,background_vert:Wk,background_frag:Yk,backgroundCube_vert:qk,backgroundCube_frag:Kk,cube_vert:Jk,cube_frag:Zk,depth_vert:$k,depth_frag:Qk,distanceRGBA_vert:e7,distanceRGBA_frag:t7,equirect_vert:n7,equirect_frag:i7,linedashed_vert:r7,linedashed_frag:a7,meshbasic_vert:s7,meshbasic_frag:o7,meshlambert_vert:l7,meshlambert_frag:c7,meshmatcap_vert:u7,meshmatcap_frag:f7,meshnormal_vert:d7,meshnormal_frag:h7,meshphong_vert:p7,meshphong_frag:m7,meshphysical_vert:g7,meshphysical_frag:v7,meshtoon_vert:y7,meshtoon_frag:_7,points_vert:x7,points_frag:b7,shadow_vert:A7,shadow_frag:S7,sprite_vert:E7,sprite_frag:T7},Lt={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},envMapRotation:{value:new _n},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},Fl={basic:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.fog]),vertexShader:En.meshbasic_vert,fragmentShader:En.meshbasic_frag},lambert:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:En.meshlambert_vert,fragmentShader:En.meshlambert_frag},phong:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:En.meshphong_vert,fragmentShader:En.meshphong_frag},standard:{uniforms:os([Lt.common,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.roughnessmap,Lt.metalnessmap,Lt.fog,Lt.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag},toon:{uniforms:os([Lt.common,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.gradientmap,Lt.fog,Lt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:En.meshtoon_vert,fragmentShader:En.meshtoon_frag},matcap:{uniforms:os([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,{matcap:{value:null}}]),vertexShader:En.meshmatcap_vert,fragmentShader:En.meshmatcap_frag},points:{uniforms:os([Lt.points,Lt.fog]),vertexShader:En.points_vert,fragmentShader:En.points_frag},dashed:{uniforms:os([Lt.common,Lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:En.linedashed_vert,fragmentShader:En.linedashed_frag},depth:{uniforms:os([Lt.common,Lt.displacementmap]),vertexShader:En.depth_vert,fragmentShader:En.depth_frag},normal:{uniforms:os([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,{opacity:{value:1}}]),vertexShader:En.meshnormal_vert,fragmentShader:En.meshnormal_frag},sprite:{uniforms:os([Lt.sprite,Lt.fog]),vertexShader:En.sprite_vert,fragmentShader:En.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:En.background_vert,fragmentShader:En.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _n}},vertexShader:En.backgroundCube_vert,fragmentShader:En.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:En.cube_vert,fragmentShader:En.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:En.equirect_vert,fragmentShader:En.equirect_frag},distanceRGBA:{uniforms:os([Lt.common,Lt.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:En.distanceRGBA_vert,fragmentShader:En.distanceRGBA_frag},shadow:{uniforms:os([Lt.lights,Lt.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:En.shadow_vert,fragmentShader:En.shadow_frag}};Fl.physical={uniforms:os([Fl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:En.meshphysical_vert,fragmentShader:En.meshphysical_frag};const dx={r:0,b:0,g:0},Oh=new vo,M7=new en;function C7(r,e,t,n,i,a,s){const o=new Rt(0);let l=a===!0?0:1,u,d,p=null,v=0,y=null;function x(R){let w=R.isScene===!0?R.background:null;return w&&w.isTexture&&(w=(R.backgroundBlurriness>0?t:e).get(w)),w}function A(R){let w=!1;const I=x(R);I===null?E(o,l):I&&I.isColor&&(E(I,1),w=!0);const U=r.xr.getEnvironmentBlendMode();U==="additive"?n.buffers.color.setClear(0,0,0,1,s):U==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(r.autoClear||w)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function S(R,w){const I=x(w);I&&(I.isCubeTexture||I.mapping===Og)?(d===void 0&&(d=new Ai(new Rp(1,1,1),new Xs({name:"BackgroundCubeMaterial",uniforms:xg(Fl.backgroundCube.uniforms),vertexShader:Fl.backgroundCube.vertexShader,fragmentShader:Fl.backgroundCube.fragmentShader,side:ps,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(U,H,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),Oh.copy(w.backgroundRotation),Oh.x*=-1,Oh.y*=-1,Oh.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Oh.y*=-1,Oh.z*=-1),d.material.uniforms.envMap.value=I,d.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(M7.makeRotationFromEuler(Oh)),d.material.toneMapped=Fn.getTransfer(I.colorSpace)!==gi,(p!==I||v!==I.version||y!==r.toneMapping)&&(d.material.needsUpdate=!0,p=I,v=I.version,y=r.toneMapping),d.layers.enableAll(),R.unshift(d,d.geometry,d.material,0,0,null)):I&&I.isTexture&&(u===void 0&&(u=new Ai(new Yl(2,2),new Xs({name:"BackgroundMaterial",uniforms:xg(Fl.background.uniforms),vertexShader:Fl.background.vertexShader,fragmentShader:Fl.background.fragmentShader,side:kl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=I,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=Fn.getTransfer(I.colorSpace)!==gi,I.matrixAutoUpdate===!0&&I.updateMatrix(),u.material.uniforms.uvTransform.value.copy(I.matrix),(p!==I||v!==I.version||y!==r.toneMapping)&&(u.material.needsUpdate=!0,p=I,v=I.version,y=r.toneMapping),u.layers.enableAll(),R.unshift(u,u.geometry,u.material,0,0,null))}function E(R,w){R.getRGB(dx,yL(r)),n.buffers.color.setClear(dx.r,dx.g,dx.b,w,s)}function M(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(R,w=1){o.set(R),l=w,E(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(R){l=R,E(o,l)},render:A,addToRenderList:S,dispose:M}}function w7(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=v(null);let a=i,s=!1;function o(L,G,X,Y,J){let ae=!1;const $=p(Y,X,G);a!==$&&(a=$,u(a.object)),ae=y(L,Y,X,J),ae&&x(L,Y,X,J),J!==null&&e.update(J,r.ELEMENT_ARRAY_BUFFER),(ae||s)&&(s=!1,w(L,G,X,Y),J!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function l(){return r.createVertexArray()}function u(L){return r.bindVertexArray(L)}function d(L){return r.deleteVertexArray(L)}function p(L,G,X){const Y=X.wireframe===!0;let J=n[L.id];J===void 0&&(J={},n[L.id]=J);let ae=J[G.id];ae===void 0&&(ae={},J[G.id]=ae);let $=ae[Y];return $===void 0&&($=v(l()),ae[Y]=$),$}function v(L){const G=[],X=[],Y=[];for(let J=0;J<t;J++)G[J]=0,X[J]=0,Y[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:X,attributeDivisors:Y,object:L,attributes:{},index:null}}function y(L,G,X,Y){const J=a.attributes,ae=G.attributes;let $=0;const he=X.getAttributes();for(const le in he)if(he[le].location>=0){const V=J[le];let K=ae[le];if(K===void 0&&(le==="instanceMatrix"&&L.instanceMatrix&&(K=L.instanceMatrix),le==="instanceColor"&&L.instanceColor&&(K=L.instanceColor)),V===void 0||V.attribute!==K||K&&V.data!==K.data)return!0;$++}return a.attributesNum!==$||a.index!==Y}function x(L,G,X,Y){const J={},ae=G.attributes;let $=0;const he=X.getAttributes();for(const le in he)if(he[le].location>=0){let V=ae[le];V===void 0&&(le==="instanceMatrix"&&L.instanceMatrix&&(V=L.instanceMatrix),le==="instanceColor"&&L.instanceColor&&(V=L.instanceColor));const K={};K.attribute=V,V&&V.data&&(K.data=V.data),J[le]=K,$++}a.attributes=J,a.attributesNum=$,a.index=Y}function A(){const L=a.newAttributes;for(let G=0,X=L.length;G<X;G++)L[G]=0}function S(L){E(L,0)}function E(L,G){const X=a.newAttributes,Y=a.enabledAttributes,J=a.attributeDivisors;X[L]=1,Y[L]===0&&(r.enableVertexAttribArray(L),Y[L]=1),J[L]!==G&&(r.vertexAttribDivisor(L,G),J[L]=G)}function M(){const L=a.newAttributes,G=a.enabledAttributes;for(let X=0,Y=G.length;X<Y;X++)G[X]!==L[X]&&(r.disableVertexAttribArray(X),G[X]=0)}function R(L,G,X,Y,J,ae,$){$===!0?r.vertexAttribIPointer(L,G,X,J,ae):r.vertexAttribPointer(L,G,X,Y,J,ae)}function w(L,G,X,Y){A();const J=Y.attributes,ae=X.getAttributes(),$=G.defaultAttributeValues;for(const he in ae){const le=ae[he];if(le.location>=0){let de=J[he];if(de===void 0&&(he==="instanceMatrix"&&L.instanceMatrix&&(de=L.instanceMatrix),he==="instanceColor"&&L.instanceColor&&(de=L.instanceColor)),de!==void 0){const V=de.normalized,K=de.itemSize,re=e.get(de);if(re===void 0)continue;const pe=re.buffer,Q=re.type,ce=re.bytesPerElement,me=Q===r.INT||Q===r.UNSIGNED_INT||de.gpuType===Dy;if(de.isInterleavedBufferAttribute){const ge=de.data,be=ge.stride,je=de.offset;if(ge.isInstancedInterleavedBuffer){for(let ze=0;ze<le.locationSize;ze++)E(le.location+ze,ge.meshPerAttribute);L.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let ze=0;ze<le.locationSize;ze++)S(le.location+ze);r.bindBuffer(r.ARRAY_BUFFER,pe);for(let ze=0;ze<le.locationSize;ze++)R(le.location+ze,K/le.locationSize,Q,V,be*ce,(je+K/le.locationSize*ze)*ce,me)}else{if(de.isInstancedBufferAttribute){for(let ge=0;ge<le.locationSize;ge++)E(le.location+ge,de.meshPerAttribute);L.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let ge=0;ge<le.locationSize;ge++)S(le.location+ge);r.bindBuffer(r.ARRAY_BUFFER,pe);for(let ge=0;ge<le.locationSize;ge++)R(le.location+ge,K/le.locationSize,Q,V,K*ce,K/le.locationSize*ge*ce,me)}}else if($!==void 0){const V=$[he];if(V!==void 0)switch(V.length){case 2:r.vertexAttrib2fv(le.location,V);break;case 3:r.vertexAttrib3fv(le.location,V);break;case 4:r.vertexAttrib4fv(le.location,V);break;default:r.vertexAttrib1fv(le.location,V)}}}}M()}function I(){F();for(const L in n){const G=n[L];for(const X in G){const Y=G[X];for(const J in Y)d(Y[J].object),delete Y[J];delete G[X]}delete n[L]}}function U(L){if(n[L.id]===void 0)return;const G=n[L.id];for(const X in G){const Y=G[X];for(const J in Y)d(Y[J].object),delete Y[J];delete G[X]}delete n[L.id]}function H(L){for(const G in n){const X=n[G];if(X[L.id]===void 0)continue;const Y=X[L.id];for(const J in Y)d(Y[J].object),delete Y[J];delete X[L.id]}}function F(){N(),s=!0,a!==i&&(a=i,u(a.object))}function N(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:F,resetDefaultState:N,dispose:I,releaseStatesOfGeometry:U,releaseStatesOfProgram:H,initAttributes:A,enableAttribute:S,disableUnusedAttributes:M}}function R7(r,e,t){let n;function i(u){n=u}function a(u,d){r.drawArrays(n,u,d),t.update(d,n,1)}function s(u,d,p){p!==0&&(r.drawArraysInstanced(n,u,d,p),t.update(d,n,p))}function o(u,d,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,u,0,d,0,p);let y=0;for(let x=0;x<p;x++)y+=d[x];t.update(y,n,1)}function l(u,d,p,v){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<u.length;x++)s(u[x],d[x],v[x]);else{y.multiDrawArraysInstancedWEBGL(n,u,0,d,0,v,0,p);let x=0;for(let A=0;A<p;A++)x+=d[A]*v[A];t.update(x,n,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function D7(r,e,t,n){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const H=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(H){return!(H!==Dr&&n.convert(H)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(H){const F=H===ua&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(H!==js&&n.convert(H)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&H!==or&&!F)}function l(H){if(H==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return H==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const p=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),y=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),x=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=r.getParameter(r.MAX_TEXTURE_SIZE),S=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),E=r.getParameter(r.MAX_VERTEX_ATTRIBS),M=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),R=r.getParameter(r.MAX_VARYING_VECTORS),w=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),I=x>0,U=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:v,maxTextures:y,maxVertexTextures:x,maxTextureSize:A,maxCubemapSize:S,maxAttributes:E,maxVertexUniforms:M,maxVaryings:R,maxFragmentUniforms:w,vertexTextures:I,maxSamples:U}}function B7(r){const e=this;let t=null,n=0,i=!1,a=!1;const s=new cd,o=new _n,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const y=p.length!==0||v||n!==0||i;return i=v,n=p.length,y},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,v){t=d(p,v,0)},this.setState=function(p,v,y){const x=p.clippingPlanes,A=p.clipIntersection,S=p.clipShadows,E=r.get(p);if(!i||x===null||x.length===0||a&&!S)a?d(null):u();else{const M=a?0:n,R=M*4;let w=E.clippingState||null;l.value=w,w=d(x,v,R,y);for(let I=0;I!==R;++I)w[I]=t[I];E.clippingState=w,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function d(p,v,y,x){const A=p!==null?p.length:0;let S=null;if(A!==0){if(S=l.value,x!==!0||S===null){const E=y+A*4,M=v.matrixWorldInverse;o.getNormalMatrix(M),(S===null||S.length<E)&&(S=new Float32Array(E));for(let R=0,w=y;R!==A;++R,w+=4)s.copy(p[R]).applyMatrix4(M,o),s.normal.toArray(S,w),S[w+3]=s.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,S}}function O7(r){let e=new WeakMap;function t(s,o){return o===gg?s.mapping=Yc:o===ty&&(s.mapping=bd),s}function n(s){if(s&&s.isTexture){const o=s.mapping;if(o===gg||o===ty)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new TC(l.height);return u.fromEquirectangularTexture(r,s),e.set(s,u),s.addEventListener("dispose",i),t(u.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const tg=4,_D=[.125,.215,.35,.446,.526,.582],Vh=20,$S=new Ld,xD=new Rt;let QS=null,eE=0,tE=0,nE=!1;const zh=(1+Math.sqrt(5))/2,km=1/zh,bD=[new ue(-zh,km,0),new ue(zh,km,0),new ue(-km,0,zh),new ue(km,0,zh),new ue(0,zh,-km),new ue(0,zh,km),new ue(-1,1,-1),new ue(1,1,-1),new ue(-1,1,1),new ue(1,1,1)];class PT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){QS=this._renderer.getRenderTarget(),eE=this._renderer.getActiveCubeFace(),tE=this._renderer.getActiveMipmapLevel(),nE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ED(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(QS,eE,tE),this._renderer.xr.enabled=nE,e.scissorTest=!1,hx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yc||e.mapping===bd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),QS=this._renderer.getRenderTarget(),eE=this._renderer.getActiveCubeFace(),tE=this._renderer.getActiveMipmapLevel(),nE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Yn,minFilter:Yn,generateMipmaps:!1,type:ua,format:Dr,colorSpace:Or,depthBuffer:!1},i=AD(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=AD(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=N7(a)),this._blurMaterial=U7(a,e,t)}return i}_compileMaterial(e){const t=new Ai(this._lodPlanes[0],e);this._renderer.compile(t,$S)}_sceneToCubeUV(e,t,n,i){const o=new Hr(90,1,t,n),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,v=d.toneMapping;d.getClearColor(xD),d.toneMapping=Vc,d.autoClear=!1;const y=new zr({name:"PMREM.Background",side:ps,depthWrite:!1,depthTest:!1}),x=new Ai(new Rp,y);let A=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,A=!0):(y.color.copy(xD),A=!0);for(let E=0;E<6;E++){const M=E%3;M===0?(o.up.set(0,l[E],0),o.lookAt(u[E],0,0)):M===1?(o.up.set(0,0,l[E]),o.lookAt(0,u[E],0)):(o.up.set(0,l[E],0),o.lookAt(0,0,u[E]));const R=this._cubeSize;hx(i,M*R,E>2?R:0,R,R),d.setRenderTarget(i),A&&d.render(x,o),d.render(e,o)}x.geometry.dispose(),x.material.dispose(),d.toneMapping=v,d.autoClear=p,e.background=S}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Yc||e.mapping===bd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ED()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SD());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Ai(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;hx(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(s,$S)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=bD[(i-a-1)%bD.length];this._blur(e,a-1,a,s,o)}t.autoClear=n}_blur(e,t,n,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",a),this._halfBlur(s,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,s,o){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new Ai(this._lodPlanes[i],u),v=u.uniforms,y=this._sizeLods[n]-1,x=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*Vh-1),A=a/x,S=isFinite(a)?1+Math.floor(d*A):Vh;S>Vh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Vh}`);const E=[];let M=0;for(let H=0;H<Vh;++H){const F=H/A,N=Math.exp(-F*F/2);E.push(N),H===0?M+=N:H<S&&(M+=2*N)}for(let H=0;H<E.length;H++)E[H]=E[H]/M;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=E,v.latitudinal.value=s==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:R}=this;v.dTheta.value=x,v.mipInt.value=R-n;const w=this._sizeLods[i],I=3*w*(i>R-tg?i-R+tg:0),U=4*(this._cubeSize-w);hx(t,I,U,3*w,2*w),l.setRenderTarget(t),l.render(p,$S)}}function N7(r){const e=[],t=[],n=[];let i=r;const a=r-tg+1+_D.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>r-tg?l=_D[s-r+tg-1]:s===0&&(l=0),n.push(l);const u=1/(o-2),d=-u,p=1+u,v=[d,d,p,d,p,p,d,d,p,p,d,p],y=6,x=6,A=3,S=2,E=1,M=new Float32Array(A*x*y),R=new Float32Array(S*x*y),w=new Float32Array(E*x*y);for(let U=0;U<y;U++){const H=U%3*2/3-1,F=U>2?0:-1,N=[H,F,0,H+2/3,F,0,H+2/3,F+1,0,H,F,0,H+2/3,F+1,0,H,F+1,0];M.set(N,A*x*U),R.set(v,S*x*U);const L=[U,U,U,U,U,U];w.set(L,E*x*U)}const I=new vn;I.setAttribute("position",new Hn(M,A)),I.setAttribute("uv",new Hn(R,S)),I.setAttribute("faceIndex",new Hn(w,E)),e.push(I),i>tg&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function AD(r,e,t){const n=new qo(r,e,t);return n.texture.mapping=Og,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function hx(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function U7(r,e,t){const n=new Float32Array(Vh),i=new ue(0,1,0);return new Xs({name:"SphericalGaussianBlur",defines:{n:Vh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:kc,depthTest:!1,depthWrite:!1})}function SD(){return new Xs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:kc,depthTest:!1,depthWrite:!1})}function ED(){return new Xs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:kc,depthTest:!1,depthWrite:!1})}function KC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function L7(r){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,u=l===gg||l===ty,d=l===Yc||l===bd;if(u||d){let p=e.get(o);const v=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return t===null&&(t=new PT(r)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const y=o.image;return u&&y&&y.height>0||d&&y&&i(y)?(t===null&&(t=new PT(r)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",a),p.texture):null}}}return o}function i(o){let l=0;const u=6;for(let d=0;d<u;d++)o[d]!==void 0&&l++;return l===u}function a(o){const l=o.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function I7(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&Zm("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function P7(r,e,t,n){const i={},a=new WeakMap;function s(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const x in v.attributes)e.remove(v.attributes[x]);v.removeEventListener("dispose",s),delete i[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(p,v){return i[v.id]===!0||(v.addEventListener("dispose",s),i[v.id]=!0,t.memory.geometries++),v}function l(p){const v=p.attributes;for(const y in v)e.update(v[y],r.ARRAY_BUFFER)}function u(p){const v=[],y=p.index,x=p.attributes.position;let A=0;if(y!==null){const M=y.array;A=y.version;for(let R=0,w=M.length;R<w;R+=3){const I=M[R+0],U=M[R+1],H=M[R+2];v.push(I,U,U,H,H,I)}}else if(x!==void 0){const M=x.array;A=x.version;for(let R=0,w=M.length/3-1;R<w;R+=3){const I=R+0,U=R+1,H=R+2;v.push(I,U,U,H,H,I)}}else return;const S=new(pL(v)?SC:AC)(v,1);S.version=A;const E=a.get(p);E&&e.remove(E),a.set(p,S)}function d(p){const v=a.get(p);if(v){const y=p.index;y!==null&&v.version<y.version&&u(p)}else u(p);return a.get(p)}return{get:o,update:l,getWireframeAttribute:d}}function F7(r,e,t){let n;function i(v){n=v}let a,s;function o(v){a=v.type,s=v.bytesPerElement}function l(v,y){r.drawElements(n,y,a,v*s),t.update(y,n,1)}function u(v,y,x){x!==0&&(r.drawElementsInstanced(n,y,a,v*s,x),t.update(y,n,x))}function d(v,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,y,0,a,v,0,x);let S=0;for(let E=0;E<x;E++)S+=y[E];t.update(S,n,1)}function p(v,y,x,A){if(x===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let E=0;E<v.length;E++)u(v[E]/s,y[E],A[E]);else{S.multiDrawElementsInstancedWEBGL(n,y,0,a,v,0,A,0,x);let E=0;for(let M=0;M<x;M++)E+=y[M]*A[M];t.update(E,n,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=p}function H7(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=o*(a/3);break;case r.LINES:t.lines+=o*(a/2);break;case r.LINE_STRIP:t.lines+=o*(a-1);break;case r.LINE_LOOP:t.lines+=o*a;break;case r.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function z7(r,e,t){const n=new WeakMap,i=new $n;function a(s,o,l){const u=s.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=d!==void 0?d.length:0;let v=n.get(o);if(v===void 0||v.count!==p){let N=function(){H.dispose(),n.delete(o),o.removeEventListener("dispose",N)};v!==void 0&&v.texture.dispose();const y=o.morphAttributes.position!==void 0,x=o.morphAttributes.normal!==void 0,A=o.morphAttributes.color!==void 0,S=o.morphAttributes.position||[],E=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let R=0;y===!0&&(R=1),x===!0&&(R=2),A===!0&&(R=3);let w=o.attributes.position.count*R,I=1;w>e.maxTextureSize&&(I=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const U=new Float32Array(w*I*4*p),H=new Uy(U,w,I,p);H.type=or,H.needsUpdate=!0;const F=R*4;for(let L=0;L<p;L++){const G=S[L],X=E[L],Y=M[L],J=w*I*4*L;for(let ae=0;ae<G.count;ae++){const $=ae*F;y===!0&&(i.fromBufferAttribute(G,ae),U[J+$+0]=i.x,U[J+$+1]=i.y,U[J+$+2]=i.z,U[J+$+3]=0),x===!0&&(i.fromBufferAttribute(X,ae),U[J+$+4]=i.x,U[J+$+5]=i.y,U[J+$+6]=i.z,U[J+$+7]=0),A===!0&&(i.fromBufferAttribute(Y,ae),U[J+$+8]=i.x,U[J+$+9]=i.y,U[J+$+10]=i.z,U[J+$+11]=Y.itemSize===4?i.w:1)}}v={count:p,texture:H,size:new mt(w,I)},n.set(o,v),o.addEventListener("dispose",N)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let y=0;for(let A=0;A<u.length;A++)y+=u[A];const x=o.morphTargetsRelative?1:1-y;l.getUniforms().setValue(r,"morphTargetBaseInfluence",x),l.getUniforms().setValue(r,"morphTargetInfluences",u)}l.getUniforms().setValue(r,"morphTargetsTexture",v.texture,t),l.getUniforms().setValue(r,"morphTargetsTextureSize",v.size)}return{update:a}}function G7(r,e,t,n){let i=new WeakMap;function a(l){const u=n.render.frame,d=l.geometry,p=e.get(l,d);if(i.get(p)!==u&&(e.update(p),i.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,r.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const v=l.skeleton;i.get(v)!==u&&(v.update(),i.set(v,u))}return p}function s(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:s}}const oI=new ni,TD=new CC(1,1),lI=new Uy,cI=new CA,uI=new Ly,MD=[],CD=[],wD=new Float32Array(16),RD=new Float32Array(9),DD=new Float32Array(4);function Pg(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let a=MD[i];if(a===void 0&&(a=new Float32Array(i),MD[i]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,r[s].toArray(a,o)}return a}function qr(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function Kr(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function n2(r,e){let t=CD[e];t===void 0&&(t=new Int32Array(e),CD[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function k7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function V7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;r.uniform2fv(this.addr,e),Kr(t,e)}}function j7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qr(t,e))return;r.uniform3fv(this.addr,e),Kr(t,e)}}function X7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;r.uniform4fv(this.addr,e),Kr(t,e)}}function W7(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Kr(t,e)}else{if(qr(t,n))return;DD.set(n),r.uniformMatrix2fv(this.addr,!1,DD),Kr(t,n)}}function Y7(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Kr(t,e)}else{if(qr(t,n))return;RD.set(n),r.uniformMatrix3fv(this.addr,!1,RD),Kr(t,n)}}function q7(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Kr(t,e)}else{if(qr(t,n))return;wD.set(n),r.uniformMatrix4fv(this.addr,!1,wD),Kr(t,n)}}function K7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function J7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;r.uniform2iv(this.addr,e),Kr(t,e)}}function Z7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;r.uniform3iv(this.addr,e),Kr(t,e)}}function $7(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;r.uniform4iv(this.addr,e),Kr(t,e)}}function Q7(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function eV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;r.uniform2uiv(this.addr,e),Kr(t,e)}}function tV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;r.uniform3uiv(this.addr,e),Kr(t,e)}}function nV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;r.uniform4uiv(this.addr,e),Kr(t,e)}}function iV(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let a;this.type===r.SAMPLER_2D_SHADOW?(TD.compareFunction=xC,a=TD):a=oI,t.setTexture2D(e||a,i)}function rV(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||cI,i)}function aV(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||uI,i)}function sV(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||lI,i)}function oV(r){switch(r){case 5126:return k7;case 35664:return V7;case 35665:return j7;case 35666:return X7;case 35674:return W7;case 35675:return Y7;case 35676:return q7;case 5124:case 35670:return K7;case 35667:case 35671:return J7;case 35668:case 35672:return Z7;case 35669:case 35673:return $7;case 5125:return Q7;case 36294:return eV;case 36295:return tV;case 36296:return nV;case 35678:case 36198:case 36298:case 36306:case 35682:return iV;case 35679:case 36299:case 36307:return rV;case 35680:case 36300:case 36308:case 36293:return aV;case 36289:case 36303:case 36311:case 36292:return sV}}function lV(r,e){r.uniform1fv(this.addr,e)}function cV(r,e){const t=Pg(e,this.size,2);r.uniform2fv(this.addr,t)}function uV(r,e){const t=Pg(e,this.size,3);r.uniform3fv(this.addr,t)}function fV(r,e){const t=Pg(e,this.size,4);r.uniform4fv(this.addr,t)}function dV(r,e){const t=Pg(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function hV(r,e){const t=Pg(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function pV(r,e){const t=Pg(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function mV(r,e){r.uniform1iv(this.addr,e)}function gV(r,e){r.uniform2iv(this.addr,e)}function vV(r,e){r.uniform3iv(this.addr,e)}function yV(r,e){r.uniform4iv(this.addr,e)}function _V(r,e){r.uniform1uiv(this.addr,e)}function xV(r,e){r.uniform2uiv(this.addr,e)}function bV(r,e){r.uniform3uiv(this.addr,e)}function AV(r,e){r.uniform4uiv(this.addr,e)}function SV(r,e,t){const n=this.cache,i=e.length,a=n2(t,i);qr(n,a)||(r.uniform1iv(this.addr,a),Kr(n,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||oI,a[s])}function EV(r,e,t){const n=this.cache,i=e.length,a=n2(t,i);qr(n,a)||(r.uniform1iv(this.addr,a),Kr(n,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||cI,a[s])}function TV(r,e,t){const n=this.cache,i=e.length,a=n2(t,i);qr(n,a)||(r.uniform1iv(this.addr,a),Kr(n,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||uI,a[s])}function MV(r,e,t){const n=this.cache,i=e.length,a=n2(t,i);qr(n,a)||(r.uniform1iv(this.addr,a),Kr(n,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||lI,a[s])}function CV(r){switch(r){case 5126:return lV;case 35664:return cV;case 35665:return uV;case 35666:return fV;case 35674:return dV;case 35675:return hV;case 35676:return pV;case 5124:case 35670:return mV;case 35667:case 35671:return gV;case 35668:case 35672:return vV;case 35669:case 35673:return yV;case 5125:return _V;case 36294:return xV;case 36295:return bV;case 36296:return AV;case 35678:case 36198:case 36298:case 36306:case 35682:return SV;case 35679:case 36299:case 36307:return EV;case 35680:case 36300:case 36308:case 36293:return TV;case 36289:case 36303:case 36311:case 36292:return MV}}class wV{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=oV(t.type)}}class RV{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=CV(t.type)}}class DV{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],n)}}}const iE=/(\w+)(\])?(\[|\.)?/g;function BD(r,e){r.seq.push(e),r.map[e.id]=e}function BV(r,e,t){const n=r.name,i=n.length;for(iE.lastIndex=0;;){const a=iE.exec(n),s=iE.lastIndex;let o=a[1];const l=a[2]==="]",u=a[3];if(l&&(o=o|0),u===void 0||u==="["&&s+2===i){BD(t,u===void 0?new wV(o,r,e):new RV(o,r,e));break}else{let p=t.map[o];p===void 0&&(p=new DV(o),BD(t,p)),t=p}}}class Px{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);BV(a,s,this)}}setValue(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&n.push(s)}return n}}function OD(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const OV=37297;let NV=0;function UV(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}const ND=new _n;function LV(r){Fn._getMatrix(ND,Fn.workingColorSpace,r);const e=`mat3( ${ND.elements.map(t=>t.toFixed(4))} )`;switch(Fn.getTransfer(r)){case iy:return[e,"LinearTransferOETF"];case gi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function UD(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+UV(r.getShaderSource(e),s)}else return i}function IV(r,e){const t=LV(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function PV(r,e){let t;switch(e){case KU:t="Linear";break;case JU:t="Reinhard";break;case ZU:t="Cineon";break;case Bg:t="ACESFilmic";break;case QU:t="AgX";break;case eL:t="Neutral";break;case $U:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const px=new ue;function FV(){Fn.getLuminanceCoefficients(px);const r=px.x.toFixed(4),e=px.y.toFixed(4),t=px.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function HV(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Tv).join(`
`)}function zV(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function GV(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=r.getActiveAttrib(e,i),s=a.name;let o=1;a.type===r.FLOAT_MAT2&&(o=2),a.type===r.FLOAT_MAT3&&(o=3),a.type===r.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:r.getAttribLocation(e,s),locationSize:o}}return t}function Tv(r){return r!==""}function LD(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ID(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const kV=/^[ \t]*#include +<([\w\d./]+)>/gm;function FT(r){return r.replace(kV,jV)}const VV=new Map;function jV(r,e){let t=En[e];if(t===void 0){const n=VV.get(e);if(n!==void 0)t=En[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return FT(t)}const XV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function PD(r){return r.replace(XV,WV)}function WV(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function FD(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function YV(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===vA?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Ov?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Pl&&(e="SHADOWMAP_TYPE_VSM"),e}function qV(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Yc:case bd:e="ENVMAP_TYPE_CUBE";break;case Og:e="ENVMAP_TYPE_CUBE_UV";break}return e}function KV(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case bd:e="ENVMAP_MODE_REFRACTION";break}return e}function JV(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case wy:e="ENVMAP_BLENDING_MULTIPLY";break;case YU:e="ENVMAP_BLENDING_MIX";break;case qU:e="ENVMAP_BLENDING_ADD";break}return e}function ZV(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function $V(r,e,t,n){const i=r.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=YV(t),u=qV(t),d=KV(t),p=JV(t),v=ZV(t),y=HV(t),x=zV(a),A=i.createProgram();let S,E,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Tv).join(`
`),S.length>0&&(S+=`
`),E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Tv).join(`
`),E.length>0&&(E+=`
`)):(S=[FD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Tv).join(`
`),E=[FD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Vc?"#define TONE_MAPPING":"",t.toneMapping!==Vc?En.tonemapping_pars_fragment:"",t.toneMapping!==Vc?PV("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",En.colorspace_pars_fragment,IV("linearToOutputTexel",t.outputColorSpace),FV(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Tv).join(`
`)),s=FT(s),s=LD(s,t),s=ID(s,t),o=FT(o),o=LD(o,t),o=ID(o,t),s=PD(s),o=PD(o),t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,E=["#define varying in",t.glslVersion===DT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===DT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const R=M+S+s,w=M+E+o,I=OD(i,i.VERTEX_SHADER,R),U=OD(i,i.FRAGMENT_SHADER,w);i.attachShader(A,I),i.attachShader(A,U),t.index0AttributeName!==void 0?i.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(A,0,"position"),i.linkProgram(A);function H(G){if(r.debug.checkShaderErrors){const X=i.getProgramInfoLog(A).trim(),Y=i.getShaderInfoLog(I).trim(),J=i.getShaderInfoLog(U).trim();let ae=!0,$=!0;if(i.getProgramParameter(A,i.LINK_STATUS)===!1)if(ae=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,A,I,U);else{const he=UD(i,I,"vertex"),le=UD(i,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(A,i.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+X+`
`+he+`
`+le)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(Y===""||J==="")&&($=!1);$&&(G.diagnostics={runnable:ae,programLog:X,vertexShader:{log:Y,prefix:S},fragmentShader:{log:J,prefix:E}})}i.deleteShader(I),i.deleteShader(U),F=new Px(i,A),N=GV(i,A)}let F;this.getUniforms=function(){return F===void 0&&H(this),F};let N;this.getAttributes=function(){return N===void 0&&H(this),N};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(A,OV)),L},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=NV++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=I,this.fragmentShader=U,this}let QV=0;class ej{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new tj(e),t.set(e,n)),n}}class tj{constructor(e){this.id=QV++,this.code=e,this.usedTimes=0}}function nj(r,e,t,n,i,a,s){const o=new _g,l=new ej,u=new Set,d=[],p=i.logarithmicDepthBuffer,v=i.vertexTextures;let y=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(N){return u.add(N),N===0?"uv":`uv${N}`}function S(N,L,G,X,Y){const J=X.fog,ae=Y.geometry,$=N.isMeshStandardMaterial?X.environment:null,he=(N.isMeshStandardMaterial?t:e).get(N.envMap||$),le=he&&he.mapping===Og?he.image.height:null,de=x[N.type];N.precision!==null&&(y=i.getMaxPrecision(N.precision),y!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",y,"instead."));const V=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,K=V!==void 0?V.length:0;let re=0;ae.morphAttributes.position!==void 0&&(re=1),ae.morphAttributes.normal!==void 0&&(re=2),ae.morphAttributes.color!==void 0&&(re=3);let pe,Q,ce,me;if(de){const Xt=Fl[de];pe=Xt.vertexShader,Q=Xt.fragmentShader}else pe=N.vertexShader,Q=N.fragmentShader,l.update(N),ce=l.getVertexShaderID(N),me=l.getFragmentShaderID(N);const ge=r.getRenderTarget(),be=r.state.buffers.depth.getReversed(),je=Y.isInstancedMesh===!0,ze=Y.isBatchedMesh===!0,Ie=!!N.map,ye=!!N.matcap,we=!!he,ee=!!N.aoMap,Je=!!N.lightMap,Ne=!!N.bumpMap,Xe=!!N.normalMap,Be=!!N.displacementMap,st=!!N.emissiveMap,Ge=!!N.metalnessMap,Z=!!N.roughnessMap,j=N.anisotropy>0,se=N.clearcoat>0,ve=N.dispersion>0,Me=N.iridescence>0,Le=N.sheen>0,Ye=N.transmission>0,et=j&&!!N.anisotropyMap,at=se&&!!N.clearcoatMap,Ct=se&&!!N.clearcoatNormalMap,ot=se&&!!N.clearcoatRoughnessMap,_t=Me&&!!N.iridescenceMap,Ze=Me&&!!N.iridescenceThicknessMap,tt=Le&&!!N.sheenColorMap,Ke=Le&&!!N.sheenRoughnessMap,wt=!!N.specularMap,xt=!!N.specularColorMap,It=!!N.specularIntensityMap,Ee=Ye&&!!N.transmissionMap,De=Ye&&!!N.thicknessMap,Pe=!!N.gradientMap,lt=!!N.alphaMap,gt=N.alphaTest>0,pt=!!N.alphaHash,Pt=!!N.extensions;let tn=Vc;N.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(tn=r.toneMapping);const Gt={shaderID:de,shaderType:N.type,shaderName:N.name,vertexShader:pe,fragmentShader:Q,defines:N.defines,customVertexShaderID:ce,customFragmentShaderID:me,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:y,batching:ze,batchingColor:ze&&Y._colorsTexture!==null,instancing:je,instancingColor:je&&Y.instanceColor!==null,instancingMorph:je&&Y.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:ge===null?r.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Or,alphaToCoverage:!!N.alphaToCoverage,map:Ie,matcap:ye,envMap:we,envMapMode:we&&he.mapping,envMapCubeUVHeight:le,aoMap:ee,lightMap:Je,bumpMap:Ne,normalMap:Xe,displacementMap:v&&Be,emissiveMap:st,normalMapObjectSpace:Xe&&N.normalMapType===sL,normalMapTangentSpace:Xe&&N.normalMapType===Od,metalnessMap:Ge,roughnessMap:Z,anisotropy:j,anisotropyMap:et,clearcoat:se,clearcoatMap:at,clearcoatNormalMap:Ct,clearcoatRoughnessMap:ot,dispersion:ve,iridescence:Me,iridescenceMap:_t,iridescenceThicknessMap:Ze,sheen:Le,sheenColorMap:tt,sheenRoughnessMap:Ke,specularMap:wt,specularColorMap:xt,specularIntensityMap:It,transmission:Ye,transmissionMap:Ee,thicknessMap:De,gradientMap:Pe,opaque:N.transparent===!1&&N.blending===tp&&N.alphaToCoverage===!1,alphaMap:lt,alphaTest:gt,alphaHash:pt,combine:N.combine,mapUv:Ie&&A(N.map.channel),aoMapUv:ee&&A(N.aoMap.channel),lightMapUv:Je&&A(N.lightMap.channel),bumpMapUv:Ne&&A(N.bumpMap.channel),normalMapUv:Xe&&A(N.normalMap.channel),displacementMapUv:Be&&A(N.displacementMap.channel),emissiveMapUv:st&&A(N.emissiveMap.channel),metalnessMapUv:Ge&&A(N.metalnessMap.channel),roughnessMapUv:Z&&A(N.roughnessMap.channel),anisotropyMapUv:et&&A(N.anisotropyMap.channel),clearcoatMapUv:at&&A(N.clearcoatMap.channel),clearcoatNormalMapUv:Ct&&A(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&A(N.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&A(N.iridescenceMap.channel),iridescenceThicknessMapUv:Ze&&A(N.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&A(N.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&A(N.sheenRoughnessMap.channel),specularMapUv:wt&&A(N.specularMap.channel),specularColorMapUv:xt&&A(N.specularColorMap.channel),specularIntensityMapUv:It&&A(N.specularIntensityMap.channel),transmissionMapUv:Ee&&A(N.transmissionMap.channel),thicknessMapUv:De&&A(N.thicknessMap.channel),alphaMapUv:lt&&A(N.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(Xe||j),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!ae.attributes.uv&&(Ie||lt),fog:!!J,useFog:N.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:be,skinning:Y.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:re,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:N.dithering,shadowMapEnabled:r.shadowMap.enabled&&G.length>0,shadowMapType:r.shadowMap.type,toneMapping:tn,decodeVideoTexture:Ie&&N.map.isVideoTexture===!0&&Fn.getTransfer(N.map.colorSpace)===gi,decodeVideoTextureEmissive:st&&N.emissiveMap.isVideoTexture===!0&&Fn.getTransfer(N.emissiveMap.colorSpace)===gi,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Is,flipSided:N.side===ps,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:Pt&&N.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Pt&&N.extensions.multiDraw===!0||ze)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Gt.vertexUv1s=u.has(1),Gt.vertexUv2s=u.has(2),Gt.vertexUv3s=u.has(3),u.clear(),Gt}function E(N){const L=[];if(N.shaderID?L.push(N.shaderID):(L.push(N.customVertexShaderID),L.push(N.customFragmentShaderID)),N.defines!==void 0)for(const G in N.defines)L.push(G),L.push(N.defines[G]);return N.isRawShaderMaterial===!1&&(M(L,N),R(L,N),L.push(r.outputColorSpace)),L.push(N.customProgramCacheKey),L.join()}function M(N,L){N.push(L.precision),N.push(L.outputColorSpace),N.push(L.envMapMode),N.push(L.envMapCubeUVHeight),N.push(L.mapUv),N.push(L.alphaMapUv),N.push(L.lightMapUv),N.push(L.aoMapUv),N.push(L.bumpMapUv),N.push(L.normalMapUv),N.push(L.displacementMapUv),N.push(L.emissiveMapUv),N.push(L.metalnessMapUv),N.push(L.roughnessMapUv),N.push(L.anisotropyMapUv),N.push(L.clearcoatMapUv),N.push(L.clearcoatNormalMapUv),N.push(L.clearcoatRoughnessMapUv),N.push(L.iridescenceMapUv),N.push(L.iridescenceThicknessMapUv),N.push(L.sheenColorMapUv),N.push(L.sheenRoughnessMapUv),N.push(L.specularMapUv),N.push(L.specularColorMapUv),N.push(L.specularIntensityMapUv),N.push(L.transmissionMapUv),N.push(L.thicknessMapUv),N.push(L.combine),N.push(L.fogExp2),N.push(L.sizeAttenuation),N.push(L.morphTargetsCount),N.push(L.morphAttributeCount),N.push(L.numDirLights),N.push(L.numPointLights),N.push(L.numSpotLights),N.push(L.numSpotLightMaps),N.push(L.numHemiLights),N.push(L.numRectAreaLights),N.push(L.numDirLightShadows),N.push(L.numPointLightShadows),N.push(L.numSpotLightShadows),N.push(L.numSpotLightShadowsWithMaps),N.push(L.numLightProbes),N.push(L.shadowMapType),N.push(L.toneMapping),N.push(L.numClippingPlanes),N.push(L.numClipIntersection),N.push(L.depthPacking)}function R(N,L){o.disableAll(),L.supportsVertexTextures&&o.enable(0),L.instancing&&o.enable(1),L.instancingColor&&o.enable(2),L.instancingMorph&&o.enable(3),L.matcap&&o.enable(4),L.envMap&&o.enable(5),L.normalMapObjectSpace&&o.enable(6),L.normalMapTangentSpace&&o.enable(7),L.clearcoat&&o.enable(8),L.iridescence&&o.enable(9),L.alphaTest&&o.enable(10),L.vertexColors&&o.enable(11),L.vertexAlphas&&o.enable(12),L.vertexUv1s&&o.enable(13),L.vertexUv2s&&o.enable(14),L.vertexUv3s&&o.enable(15),L.vertexTangents&&o.enable(16),L.anisotropy&&o.enable(17),L.alphaHash&&o.enable(18),L.batching&&o.enable(19),L.dispersion&&o.enable(20),L.batchingColor&&o.enable(21),N.push(o.mask),o.disableAll(),L.fog&&o.enable(0),L.useFog&&o.enable(1),L.flatShading&&o.enable(2),L.logarithmicDepthBuffer&&o.enable(3),L.reverseDepthBuffer&&o.enable(4),L.skinning&&o.enable(5),L.morphTargets&&o.enable(6),L.morphNormals&&o.enable(7),L.morphColors&&o.enable(8),L.premultipliedAlpha&&o.enable(9),L.shadowMapEnabled&&o.enable(10),L.doubleSided&&o.enable(11),L.flipSided&&o.enable(12),L.useDepthPacking&&o.enable(13),L.dithering&&o.enable(14),L.transmission&&o.enable(15),L.sheen&&o.enable(16),L.opaque&&o.enable(17),L.pointsUvs&&o.enable(18),L.decodeVideoTexture&&o.enable(19),L.decodeVideoTextureEmissive&&o.enable(20),L.alphaToCoverage&&o.enable(21),N.push(o.mask)}function w(N){const L=x[N.type];let G;if(L){const X=Fl[L];G=EC.clone(X.uniforms)}else G=N.uniforms;return G}function I(N,L){let G;for(let X=0,Y=d.length;X<Y;X++){const J=d[X];if(J.cacheKey===L){G=J,++G.usedTimes;break}}return G===void 0&&(G=new $V(r,L,N,a),d.push(G)),G}function U(N){if(--N.usedTimes===0){const L=d.indexOf(N);d[L]=d[d.length-1],d.pop(),N.destroy()}}function H(N){l.remove(N)}function F(){l.dispose()}return{getParameters:S,getProgramCacheKey:E,getUniforms:w,acquireProgram:I,releaseProgram:U,releaseShaderCache:H,programs:d,dispose:F}}function ij(){let r=new WeakMap;function e(s){return r.has(s)}function t(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function n(s){r.delete(s)}function i(s,o,l){r.get(s)[o]=l}function a(){r=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:a}}function rj(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function HD(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function zD(){const r=[];let e=0;const t=[],n=[],i=[];function a(){e=0,t.length=0,n.length=0,i.length=0}function s(p,v,y,x,A,S){let E=r[e];return E===void 0?(E={id:p.id,object:p,geometry:v,material:y,groupOrder:x,renderOrder:p.renderOrder,z:A,group:S},r[e]=E):(E.id=p.id,E.object=p,E.geometry=v,E.material=y,E.groupOrder=x,E.renderOrder=p.renderOrder,E.z=A,E.group=S),e++,E}function o(p,v,y,x,A,S){const E=s(p,v,y,x,A,S);y.transmission>0?n.push(E):y.transparent===!0?i.push(E):t.push(E)}function l(p,v,y,x,A,S){const E=s(p,v,y,x,A,S);y.transmission>0?n.unshift(E):y.transparent===!0?i.unshift(E):t.unshift(E)}function u(p,v){t.length>1&&t.sort(p||rj),n.length>1&&n.sort(v||HD),i.length>1&&i.sort(v||HD)}function d(){for(let p=e,v=r.length;p<v;p++){const y=r[p];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:i,init:a,push:o,unshift:l,finish:d,sort:u}}function aj(){let r=new WeakMap;function e(n,i){const a=r.get(n);let s;return a===void 0?(s=new zD,r.set(n,[s])):i>=a.length?(s=new zD,a.push(s)):s=a[i],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function sj(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ue,color:new Rt};break;case"SpotLight":t={position:new ue,direction:new ue,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ue,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ue,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":t={color:new Rt,position:new ue,halfWidth:new ue,halfHeight:new ue};break}return r[e.id]=t,t}}}function oj(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let lj=0;function cj(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function uj(r){const e=new sj,t=oj(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)n.probe.push(new ue);const i=new ue,a=new en,s=new en;function o(u){let d=0,p=0,v=0;for(let N=0;N<9;N++)n.probe[N].set(0,0,0);let y=0,x=0,A=0,S=0,E=0,M=0,R=0,w=0,I=0,U=0,H=0;u.sort(cj);for(let N=0,L=u.length;N<L;N++){const G=u[N],X=G.color,Y=G.intensity,J=G.distance,ae=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)d+=X.r*Y,p+=X.g*Y,v+=X.b*Y;else if(G.isLightProbe){for(let $=0;$<9;$++)n.probe[$].addScaledVector(G.sh.coefficients[$],Y);H++}else if(G.isDirectionalLight){const $=e.get(G);if($.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const he=G.shadow,le=t.get(G);le.shadowIntensity=he.intensity,le.shadowBias=he.bias,le.shadowNormalBias=he.normalBias,le.shadowRadius=he.radius,le.shadowMapSize=he.mapSize,n.directionalShadow[y]=le,n.directionalShadowMap[y]=ae,n.directionalShadowMatrix[y]=G.shadow.matrix,M++}n.directional[y]=$,y++}else if(G.isSpotLight){const $=e.get(G);$.position.setFromMatrixPosition(G.matrixWorld),$.color.copy(X).multiplyScalar(Y),$.distance=J,$.coneCos=Math.cos(G.angle),$.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),$.decay=G.decay,n.spot[A]=$;const he=G.shadow;if(G.map&&(n.spotLightMap[I]=G.map,I++,he.updateMatrices(G),G.castShadow&&U++),n.spotLightMatrix[A]=he.matrix,G.castShadow){const le=t.get(G);le.shadowIntensity=he.intensity,le.shadowBias=he.bias,le.shadowNormalBias=he.normalBias,le.shadowRadius=he.radius,le.shadowMapSize=he.mapSize,n.spotShadow[A]=le,n.spotShadowMap[A]=ae,w++}A++}else if(G.isRectAreaLight){const $=e.get(G);$.color.copy(X).multiplyScalar(Y),$.halfWidth.set(G.width*.5,0,0),$.halfHeight.set(0,G.height*.5,0),n.rectArea[S]=$,S++}else if(G.isPointLight){const $=e.get(G);if($.color.copy(G.color).multiplyScalar(G.intensity),$.distance=G.distance,$.decay=G.decay,G.castShadow){const he=G.shadow,le=t.get(G);le.shadowIntensity=he.intensity,le.shadowBias=he.bias,le.shadowNormalBias=he.normalBias,le.shadowRadius=he.radius,le.shadowMapSize=he.mapSize,le.shadowCameraNear=he.camera.near,le.shadowCameraFar=he.camera.far,n.pointShadow[x]=le,n.pointShadowMap[x]=ae,n.pointShadowMatrix[x]=G.shadow.matrix,R++}n.point[x]=$,x++}else if(G.isHemisphereLight){const $=e.get(G);$.skyColor.copy(G.color).multiplyScalar(Y),$.groundColor.copy(G.groundColor).multiplyScalar(Y),n.hemi[E]=$,E++}}S>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Lt.LTC_FLOAT_1,n.rectAreaLTC2=Lt.LTC_FLOAT_2):(n.rectAreaLTC1=Lt.LTC_HALF_1,n.rectAreaLTC2=Lt.LTC_HALF_2)),n.ambient[0]=d,n.ambient[1]=p,n.ambient[2]=v;const F=n.hash;(F.directionalLength!==y||F.pointLength!==x||F.spotLength!==A||F.rectAreaLength!==S||F.hemiLength!==E||F.numDirectionalShadows!==M||F.numPointShadows!==R||F.numSpotShadows!==w||F.numSpotMaps!==I||F.numLightProbes!==H)&&(n.directional.length=y,n.spot.length=A,n.rectArea.length=S,n.point.length=x,n.hemi.length=E,n.directionalShadow.length=M,n.directionalShadowMap.length=M,n.pointShadow.length=R,n.pointShadowMap.length=R,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=M,n.pointShadowMatrix.length=R,n.spotLightMatrix.length=w+I-U,n.spotLightMap.length=I,n.numSpotLightShadowsWithMaps=U,n.numLightProbes=H,F.directionalLength=y,F.pointLength=x,F.spotLength=A,F.rectAreaLength=S,F.hemiLength=E,F.numDirectionalShadows=M,F.numPointShadows=R,F.numSpotShadows=w,F.numSpotMaps=I,F.numLightProbes=H,n.version=lj++)}function l(u,d){let p=0,v=0,y=0,x=0,A=0;const S=d.matrixWorldInverse;for(let E=0,M=u.length;E<M;E++){const R=u[E];if(R.isDirectionalLight){const w=n.directional[p];w.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(S),p++}else if(R.isSpotLight){const w=n.spot[y];w.position.setFromMatrixPosition(R.matrixWorld),w.position.applyMatrix4(S),w.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(S),y++}else if(R.isRectAreaLight){const w=n.rectArea[x];w.position.setFromMatrixPosition(R.matrixWorld),w.position.applyMatrix4(S),s.identity(),a.copy(R.matrixWorld),a.premultiply(S),s.extractRotation(a),w.halfWidth.set(R.width*.5,0,0),w.halfHeight.set(0,R.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),x++}else if(R.isPointLight){const w=n.point[v];w.position.setFromMatrixPosition(R.matrixWorld),w.position.applyMatrix4(S),v++}else if(R.isHemisphereLight){const w=n.hemi[A];w.direction.setFromMatrixPosition(R.matrixWorld),w.direction.transformDirection(S),A++}}}return{setup:o,setupView:l,state:n}}function GD(r){const e=new uj(r),t=[],n=[];function i(d){u.camera=d,t.length=0,n.length=0}function a(d){t.push(d)}function s(d){n.push(d)}function o(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function fj(r){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new GD(r),e.set(i,[o])):a>=s.length?(o=new GD(r),s.push(o)):o=s[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const dj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pj(r,e,t){let n=new Fy;const i=new mt,a=new mt,s=new $n,o=new KA({depthPacking:_C}),l=new JA,u={},d=t.maxTextureSize,p={[kl]:ps,[ps]:kl,[Is]:Is},v=new Xs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mt},radius:{value:4}},vertexShader:dj,fragmentShader:hj}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const x=new vn;x.setAttribute("position",new Hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Ai(x,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vA;let E=this.type;this.render=function(U,H,F){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||U.length===0)return;const N=r.getRenderTarget(),L=r.getActiveCubeFace(),G=r.getActiveMipmapLevel(),X=r.state;X.setBlending(kc),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const Y=E!==Pl&&this.type===Pl,J=E===Pl&&this.type!==Pl;for(let ae=0,$=U.length;ae<$;ae++){const he=U[ae],le=he.shadow;if(le===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(le.autoUpdate===!1&&le.needsUpdate===!1)continue;i.copy(le.mapSize);const de=le.getFrameExtents();if(i.multiply(de),a.copy(le.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/de.x),i.x=a.x*de.x,le.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/de.y),i.y=a.y*de.y,le.mapSize.y=a.y)),le.map===null||Y===!0||J===!0){const K=this.type!==Pl?{minFilter:Gr,magFilter:Gr}:{};le.map!==null&&le.map.dispose(),le.map=new qo(i.x,i.y,K),le.map.texture.name=he.name+".shadowMap",le.camera.updateProjectionMatrix()}r.setRenderTarget(le.map),r.clear();const V=le.getViewportCount();for(let K=0;K<V;K++){const re=le.getViewport(K);s.set(a.x*re.x,a.y*re.y,a.x*re.z,a.y*re.w),X.viewport(s),le.updateMatrices(he,K),n=le.getFrustum(),w(H,F,le.camera,he,this.type)}le.isPointLightShadow!==!0&&this.type===Pl&&M(le,F),le.needsUpdate=!1}E=this.type,S.needsUpdate=!1,r.setRenderTarget(N,L,G)};function M(U,H){const F=e.update(A);v.defines.VSM_SAMPLES!==U.blurSamples&&(v.defines.VSM_SAMPLES=U.blurSamples,y.defines.VSM_SAMPLES=U.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new qo(i.x,i.y)),v.uniforms.shadow_pass.value=U.map.texture,v.uniforms.resolution.value=U.mapSize,v.uniforms.radius.value=U.radius,r.setRenderTarget(U.mapPass),r.clear(),r.renderBufferDirect(H,null,F,v,A,null),y.uniforms.shadow_pass.value=U.mapPass.texture,y.uniforms.resolution.value=U.mapSize,y.uniforms.radius.value=U.radius,r.setRenderTarget(U.map),r.clear(),r.renderBufferDirect(H,null,F,y,A,null)}function R(U,H,F,N){let L=null;const G=F.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(G!==void 0)L=G;else if(L=F.isPointLight===!0?l:o,r.localClippingEnabled&&H.clipShadows===!0&&Array.isArray(H.clippingPlanes)&&H.clippingPlanes.length!==0||H.displacementMap&&H.displacementScale!==0||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0){const X=L.uuid,Y=H.uuid;let J=u[X];J===void 0&&(J={},u[X]=J);let ae=J[Y];ae===void 0&&(ae=L.clone(),J[Y]=ae,H.addEventListener("dispose",I)),L=ae}if(L.visible=H.visible,L.wireframe=H.wireframe,N===Pl?L.side=H.shadowSide!==null?H.shadowSide:H.side:L.side=H.shadowSide!==null?H.shadowSide:p[H.side],L.alphaMap=H.alphaMap,L.alphaTest=H.alphaTest,L.map=H.map,L.clipShadows=H.clipShadows,L.clippingPlanes=H.clippingPlanes,L.clipIntersection=H.clipIntersection,L.displacementMap=H.displacementMap,L.displacementScale=H.displacementScale,L.displacementBias=H.displacementBias,L.wireframeLinewidth=H.wireframeLinewidth,L.linewidth=H.linewidth,F.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const X=r.properties.get(L);X.light=F}return L}function w(U,H,F,N,L){if(U.visible===!1)return;if(U.layers.test(H.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&L===Pl)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,U.matrixWorld);const Y=e.update(U),J=U.material;if(Array.isArray(J)){const ae=Y.groups;for(let $=0,he=ae.length;$<he;$++){const le=ae[$],de=J[le.materialIndex];if(de&&de.visible){const V=R(U,de,N,L);U.onBeforeShadow(r,U,H,F,Y,V,le),r.renderBufferDirect(F,null,Y,V,U,le),U.onAfterShadow(r,U,H,F,Y,V,le)}}}else if(J.visible){const ae=R(U,J,N,L);U.onBeforeShadow(r,U,H,F,Y,ae,null),r.renderBufferDirect(F,null,Y,ae,U,null),U.onAfterShadow(r,U,H,F,Y,ae,null)}}const X=U.children;for(let Y=0,J=X.length;Y<J;Y++)w(X[Y],H,F,N,L)}function I(U){U.target.removeEventListener("dispose",I);for(const F in u){const N=u[F],L=U.target.uuid;L in N&&(N[L].dispose(),delete N[L])}}}const mj={[Qx]:eb,[tb]:rb,[nb]:ab,[hp]:ib,[eb]:Qx,[rb]:tb,[ab]:nb,[ib]:hp};function gj(r,e){function t(){let Ee=!1;const De=new $n;let Pe=null;const lt=new $n(0,0,0,0);return{setMask:function(gt){Pe!==gt&&!Ee&&(r.colorMask(gt,gt,gt,gt),Pe=gt)},setLocked:function(gt){Ee=gt},setClear:function(gt,pt,Pt,tn,Gt){Gt===!0&&(gt*=tn,pt*=tn,Pt*=tn),De.set(gt,pt,Pt,tn),lt.equals(De)===!1&&(r.clearColor(gt,pt,Pt,tn),lt.copy(De))},reset:function(){Ee=!1,Pe=null,lt.set(-1,0,0,0)}}}function n(){let Ee=!1,De=!1,Pe=null,lt=null,gt=null;return{setReversed:function(pt){if(De!==pt){const Pt=e.get("EXT_clip_control");De?Pt.clipControlEXT(Pt.LOWER_LEFT_EXT,Pt.ZERO_TO_ONE_EXT):Pt.clipControlEXT(Pt.LOWER_LEFT_EXT,Pt.NEGATIVE_ONE_TO_ONE_EXT);const tn=gt;gt=null,this.setClear(tn)}De=pt},getReversed:function(){return De},setTest:function(pt){pt?ge(r.DEPTH_TEST):be(r.DEPTH_TEST)},setMask:function(pt){Pe!==pt&&!Ee&&(r.depthMask(pt),Pe=pt)},setFunc:function(pt){if(De&&(pt=mj[pt]),lt!==pt){switch(pt){case Qx:r.depthFunc(r.NEVER);break;case eb:r.depthFunc(r.ALWAYS);break;case tb:r.depthFunc(r.LESS);break;case hp:r.depthFunc(r.LEQUAL);break;case nb:r.depthFunc(r.EQUAL);break;case ib:r.depthFunc(r.GEQUAL);break;case rb:r.depthFunc(r.GREATER);break;case ab:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}lt=pt}},setLocked:function(pt){Ee=pt},setClear:function(pt){gt!==pt&&(De&&(pt=1-pt),r.clearDepth(pt),gt=pt)},reset:function(){Ee=!1,Pe=null,lt=null,gt=null,De=!1}}}function i(){let Ee=!1,De=null,Pe=null,lt=null,gt=null,pt=null,Pt=null,tn=null,Gt=null;return{setTest:function(Xt){Ee||(Xt?ge(r.STENCIL_TEST):be(r.STENCIL_TEST))},setMask:function(Xt){De!==Xt&&!Ee&&(r.stencilMask(Xt),De=Xt)},setFunc:function(Xt,jn,zn){(Pe!==Xt||lt!==jn||gt!==zn)&&(r.stencilFunc(Xt,jn,zn),Pe=Xt,lt=jn,gt=zn)},setOp:function(Xt,jn,zn){(pt!==Xt||Pt!==jn||tn!==zn)&&(r.stencilOp(Xt,jn,zn),pt=Xt,Pt=jn,tn=zn)},setLocked:function(Xt){Ee=Xt},setClear:function(Xt){Gt!==Xt&&(r.clearStencil(Xt),Gt=Xt)},reset:function(){Ee=!1,De=null,Pe=null,lt=null,gt=null,pt=null,Pt=null,tn=null,Gt=null}}}const a=new t,s=new n,o=new i,l=new WeakMap,u=new WeakMap;let d={},p={},v=new WeakMap,y=[],x=null,A=!1,S=null,E=null,M=null,R=null,w=null,I=null,U=null,H=new Rt(0,0,0),F=0,N=!1,L=null,G=null,X=null,Y=null,J=null;const ae=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,he=0;const le=r.getParameter(r.VERSION);le.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(le)[1]),$=he>=1):le.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(le)[1]),$=he>=2);let de=null,V={};const K=r.getParameter(r.SCISSOR_BOX),re=r.getParameter(r.VIEWPORT),pe=new $n().fromArray(K),Q=new $n().fromArray(re);function ce(Ee,De,Pe,lt){const gt=new Uint8Array(4),pt=r.createTexture();r.bindTexture(Ee,pt),r.texParameteri(Ee,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(Ee,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Pt=0;Pt<Pe;Pt++)Ee===r.TEXTURE_3D||Ee===r.TEXTURE_2D_ARRAY?r.texImage3D(De,0,r.RGBA,1,1,lt,0,r.RGBA,r.UNSIGNED_BYTE,gt):r.texImage2D(De+Pt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,gt);return pt}const me={};me[r.TEXTURE_2D]=ce(r.TEXTURE_2D,r.TEXTURE_2D,1),me[r.TEXTURE_CUBE_MAP]=ce(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[r.TEXTURE_2D_ARRAY]=ce(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),me[r.TEXTURE_3D]=ce(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ge(r.DEPTH_TEST),s.setFunc(hp),Ne(!1),Xe(ST),ge(r.CULL_FACE),ee(kc);function ge(Ee){d[Ee]!==!0&&(r.enable(Ee),d[Ee]=!0)}function be(Ee){d[Ee]!==!1&&(r.disable(Ee),d[Ee]=!1)}function je(Ee,De){return p[Ee]!==De?(r.bindFramebuffer(Ee,De),p[Ee]=De,Ee===r.DRAW_FRAMEBUFFER&&(p[r.FRAMEBUFFER]=De),Ee===r.FRAMEBUFFER&&(p[r.DRAW_FRAMEBUFFER]=De),!0):!1}function ze(Ee,De){let Pe=y,lt=!1;if(Ee){Pe=v.get(De),Pe===void 0&&(Pe=[],v.set(De,Pe));const gt=Ee.textures;if(Pe.length!==gt.length||Pe[0]!==r.COLOR_ATTACHMENT0){for(let pt=0,Pt=gt.length;pt<Pt;pt++)Pe[pt]=r.COLOR_ATTACHMENT0+pt;Pe.length=gt.length,lt=!0}}else Pe[0]!==r.BACK&&(Pe[0]=r.BACK,lt=!0);lt&&r.drawBuffers(Pe)}function Ie(Ee){return x!==Ee?(r.useProgram(Ee),x=Ee,!0):!1}const ye={[ud]:r.FUNC_ADD,[DU]:r.FUNC_SUBTRACT,[BU]:r.FUNC_REVERSE_SUBTRACT};ye[OU]=r.MIN,ye[NU]=r.MAX;const we={[UU]:r.ZERO,[LU]:r.ONE,[IU]:r.SRC_COLOR,[Zx]:r.SRC_ALPHA,[kU]:r.SRC_ALPHA_SATURATE,[zU]:r.DST_COLOR,[FU]:r.DST_ALPHA,[PU]:r.ONE_MINUS_SRC_COLOR,[$x]:r.ONE_MINUS_SRC_ALPHA,[GU]:r.ONE_MINUS_DST_COLOR,[HU]:r.ONE_MINUS_DST_ALPHA,[VU]:r.CONSTANT_COLOR,[jU]:r.ONE_MINUS_CONSTANT_COLOR,[XU]:r.CONSTANT_ALPHA,[WU]:r.ONE_MINUS_CONSTANT_ALPHA};function ee(Ee,De,Pe,lt,gt,pt,Pt,tn,Gt,Xt){if(Ee===kc){A===!0&&(be(r.BLEND),A=!1);return}if(A===!1&&(ge(r.BLEND),A=!0),Ee!==RU){if(Ee!==S||Xt!==N){if((E!==ud||w!==ud)&&(r.blendEquation(r.FUNC_ADD),E=ud,w=ud),Xt)switch(Ee){case tp:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case ET:r.blendFunc(r.ONE,r.ONE);break;case TT:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case MT:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}else switch(Ee){case tp:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case ET:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case TT:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case MT:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}M=null,R=null,I=null,U=null,H.set(0,0,0),F=0,S=Ee,N=Xt}return}gt=gt||De,pt=pt||Pe,Pt=Pt||lt,(De!==E||gt!==w)&&(r.blendEquationSeparate(ye[De],ye[gt]),E=De,w=gt),(Pe!==M||lt!==R||pt!==I||Pt!==U)&&(r.blendFuncSeparate(we[Pe],we[lt],we[pt],we[Pt]),M=Pe,R=lt,I=pt,U=Pt),(tn.equals(H)===!1||Gt!==F)&&(r.blendColor(tn.r,tn.g,tn.b,Gt),H.copy(tn),F=Gt),S=Ee,N=!1}function Je(Ee,De){Ee.side===Is?be(r.CULL_FACE):ge(r.CULL_FACE);let Pe=Ee.side===ps;De&&(Pe=!Pe),Ne(Pe),Ee.blending===tp&&Ee.transparent===!1?ee(kc):ee(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),s.setFunc(Ee.depthFunc),s.setTest(Ee.depthTest),s.setMask(Ee.depthWrite),a.setMask(Ee.colorWrite);const lt=Ee.stencilWrite;o.setTest(lt),lt&&(o.setMask(Ee.stencilWriteMask),o.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),o.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),st(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),Ee.alphaToCoverage===!0?ge(r.SAMPLE_ALPHA_TO_COVERAGE):be(r.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(Ee){L!==Ee&&(Ee?r.frontFace(r.CW):r.frontFace(r.CCW),L=Ee)}function Xe(Ee){Ee!==MU?(ge(r.CULL_FACE),Ee!==G&&(Ee===ST?r.cullFace(r.BACK):Ee===CU?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):be(r.CULL_FACE),G=Ee}function Be(Ee){Ee!==X&&($&&r.lineWidth(Ee),X=Ee)}function st(Ee,De,Pe){Ee?(ge(r.POLYGON_OFFSET_FILL),(Y!==De||J!==Pe)&&(r.polygonOffset(De,Pe),Y=De,J=Pe)):be(r.POLYGON_OFFSET_FILL)}function Ge(Ee){Ee?ge(r.SCISSOR_TEST):be(r.SCISSOR_TEST)}function Z(Ee){Ee===void 0&&(Ee=r.TEXTURE0+ae-1),de!==Ee&&(r.activeTexture(Ee),de=Ee)}function j(Ee,De,Pe){Pe===void 0&&(de===null?Pe=r.TEXTURE0+ae-1:Pe=de);let lt=V[Pe];lt===void 0&&(lt={type:void 0,texture:void 0},V[Pe]=lt),(lt.type!==Ee||lt.texture!==De)&&(de!==Pe&&(r.activeTexture(Pe),de=Pe),r.bindTexture(Ee,De||me[Ee]),lt.type=Ee,lt.texture=De)}function se(){const Ee=V[de];Ee!==void 0&&Ee.type!==void 0&&(r.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)}function ve(){try{r.compressedTexImage2D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Me(){try{r.compressedTexImage3D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Le(){try{r.texSubImage2D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ye(){try{r.texSubImage3D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function et(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function at(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ct(){try{r.texStorage2D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ot(){try{r.texStorage3D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function _t(){try{r.texImage2D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ze(){try{r.texImage3D.apply(r,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function tt(Ee){pe.equals(Ee)===!1&&(r.scissor(Ee.x,Ee.y,Ee.z,Ee.w),pe.copy(Ee))}function Ke(Ee){Q.equals(Ee)===!1&&(r.viewport(Ee.x,Ee.y,Ee.z,Ee.w),Q.copy(Ee))}function wt(Ee,De){let Pe=u.get(De);Pe===void 0&&(Pe=new WeakMap,u.set(De,Pe));let lt=Pe.get(Ee);lt===void 0&&(lt=r.getUniformBlockIndex(De,Ee.name),Pe.set(Ee,lt))}function xt(Ee,De){const lt=u.get(De).get(Ee);l.get(De)!==lt&&(r.uniformBlockBinding(De,lt,Ee.__bindingPointIndex),l.set(De,lt))}function It(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),s.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),d={},de=null,V={},p={},v=new WeakMap,y=[],x=null,A=!1,S=null,E=null,M=null,R=null,w=null,I=null,U=null,H=new Rt(0,0,0),F=0,N=!1,L=null,G=null,X=null,Y=null,J=null,pe.set(0,0,r.canvas.width,r.canvas.height),Q.set(0,0,r.canvas.width,r.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ge,disable:be,bindFramebuffer:je,drawBuffers:ze,useProgram:Ie,setBlending:ee,setMaterial:Je,setFlipSided:Ne,setCullFace:Xe,setLineWidth:Be,setPolygonOffset:st,setScissorTest:Ge,activeTexture:Z,bindTexture:j,unbindTexture:se,compressedTexImage2D:ve,compressedTexImage3D:Me,texImage2D:_t,texImage3D:Ze,updateUBOMapping:wt,uniformBlockBinding:xt,texStorage2D:Ct,texStorage3D:ot,texSubImage2D:Le,texSubImage3D:Ye,compressedTexSubImage2D:et,compressedTexSubImage3D:at,scissor:tt,viewport:Ke,reset:It}}function vj(r,e,t,n,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new mt,d=new WeakMap;let p;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Z,j){return y?new OffscreenCanvas(Z,j):sy("canvas")}function A(Z,j,se){let ve=1;const Me=Ge(Z);if((Me.width>se||Me.height>se)&&(ve=se/Math.max(Me.width,Me.height)),ve<1)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||typeof VideoFrame<"u"&&Z instanceof VideoFrame){const Le=Math.floor(ve*Me.width),Ye=Math.floor(ve*Me.height);p===void 0&&(p=x(Le,Ye));const et=j?x(Le,Ye):p;return et.width=Le,et.height=Ye,et.getContext("2d").drawImage(Z,0,0,Le,Ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+Le+"x"+Ye+")."),et}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),Z;return Z}function S(Z){return Z.generateMipmaps}function E(Z){r.generateMipmap(Z)}function M(Z){return Z.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:Z.isWebGL3DRenderTarget?r.TEXTURE_3D:Z.isWebGLArrayRenderTarget||Z.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function R(Z,j,se,ve,Me=!1){if(Z!==null){if(r[Z]!==void 0)return r[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Le=j;if(j===r.RED&&(se===r.FLOAT&&(Le=r.R32F),se===r.HALF_FLOAT&&(Le=r.R16F),se===r.UNSIGNED_BYTE&&(Le=r.R8)),j===r.RED_INTEGER&&(se===r.UNSIGNED_BYTE&&(Le=r.R8UI),se===r.UNSIGNED_SHORT&&(Le=r.R16UI),se===r.UNSIGNED_INT&&(Le=r.R32UI),se===r.BYTE&&(Le=r.R8I),se===r.SHORT&&(Le=r.R16I),se===r.INT&&(Le=r.R32I)),j===r.RG&&(se===r.FLOAT&&(Le=r.RG32F),se===r.HALF_FLOAT&&(Le=r.RG16F),se===r.UNSIGNED_BYTE&&(Le=r.RG8)),j===r.RG_INTEGER&&(se===r.UNSIGNED_BYTE&&(Le=r.RG8UI),se===r.UNSIGNED_SHORT&&(Le=r.RG16UI),se===r.UNSIGNED_INT&&(Le=r.RG32UI),se===r.BYTE&&(Le=r.RG8I),se===r.SHORT&&(Le=r.RG16I),se===r.INT&&(Le=r.RG32I)),j===r.RGB_INTEGER&&(se===r.UNSIGNED_BYTE&&(Le=r.RGB8UI),se===r.UNSIGNED_SHORT&&(Le=r.RGB16UI),se===r.UNSIGNED_INT&&(Le=r.RGB32UI),se===r.BYTE&&(Le=r.RGB8I),se===r.SHORT&&(Le=r.RGB16I),se===r.INT&&(Le=r.RGB32I)),j===r.RGBA_INTEGER&&(se===r.UNSIGNED_BYTE&&(Le=r.RGBA8UI),se===r.UNSIGNED_SHORT&&(Le=r.RGBA16UI),se===r.UNSIGNED_INT&&(Le=r.RGBA32UI),se===r.BYTE&&(Le=r.RGBA8I),se===r.SHORT&&(Le=r.RGBA16I),se===r.INT&&(Le=r.RGBA32I)),j===r.RGB&&se===r.UNSIGNED_INT_5_9_9_9_REV&&(Le=r.RGB9_E5),j===r.RGBA){const Ye=Me?iy:Fn.getTransfer(ve);se===r.FLOAT&&(Le=r.RGBA32F),se===r.HALF_FLOAT&&(Le=r.RGBA16F),se===r.UNSIGNED_BYTE&&(Le=Ye===gi?r.SRGB8_ALPHA8:r.RGBA8),se===r.UNSIGNED_SHORT_4_4_4_4&&(Le=r.RGBA4),se===r.UNSIGNED_SHORT_5_5_5_1&&(Le=r.RGB5_A1)}return(Le===r.R16F||Le===r.R32F||Le===r.RG16F||Le===r.RG32F||Le===r.RGBA16F||Le===r.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function w(Z,j){let se;return Z?j===null||j===qc||j===mp?se=r.DEPTH24_STENCIL8:j===or?se=r.DEPTH32F_STENCIL8:j===vg&&(se=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===qc||j===mp?se=r.DEPTH_COMPONENT24:j===or?se=r.DEPTH_COMPONENT32F:j===vg&&(se=r.DEPTH_COMPONENT16),se}function I(Z,j){return S(Z)===!0||Z.isFramebufferTexture&&Z.minFilter!==Gr&&Z.minFilter!==Yn?Math.log2(Math.max(j.width,j.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?j.mipmaps.length:1}function U(Z){const j=Z.target;j.removeEventListener("dispose",U),F(j),j.isVideoTexture&&d.delete(j)}function H(Z){const j=Z.target;j.removeEventListener("dispose",H),L(j)}function F(Z){const j=n.get(Z);if(j.__webglInit===void 0)return;const se=Z.source,ve=v.get(se);if(ve){const Me=ve[j.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&N(Z),Object.keys(ve).length===0&&v.delete(se)}n.remove(Z)}function N(Z){const j=n.get(Z);r.deleteTexture(j.__webglTexture);const se=Z.source,ve=v.get(se);delete ve[j.__cacheKey],s.memory.textures--}function L(Z){const j=n.get(Z);if(Z.depthTexture&&(Z.depthTexture.dispose(),n.remove(Z.depthTexture)),Z.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++){if(Array.isArray(j.__webglFramebuffer[ve]))for(let Me=0;Me<j.__webglFramebuffer[ve].length;Me++)r.deleteFramebuffer(j.__webglFramebuffer[ve][Me]);else r.deleteFramebuffer(j.__webglFramebuffer[ve]);j.__webglDepthbuffer&&r.deleteRenderbuffer(j.__webglDepthbuffer[ve])}else{if(Array.isArray(j.__webglFramebuffer))for(let ve=0;ve<j.__webglFramebuffer.length;ve++)r.deleteFramebuffer(j.__webglFramebuffer[ve]);else r.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&r.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&r.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let ve=0;ve<j.__webglColorRenderbuffer.length;ve++)j.__webglColorRenderbuffer[ve]&&r.deleteRenderbuffer(j.__webglColorRenderbuffer[ve]);j.__webglDepthRenderbuffer&&r.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const se=Z.textures;for(let ve=0,Me=se.length;ve<Me;ve++){const Le=n.get(se[ve]);Le.__webglTexture&&(r.deleteTexture(Le.__webglTexture),s.memory.textures--),n.remove(se[ve])}n.remove(Z)}let G=0;function X(){G=0}function Y(){const Z=G;return Z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+i.maxTextures),G+=1,Z}function J(Z){const j=[];return j.push(Z.wrapS),j.push(Z.wrapT),j.push(Z.wrapR||0),j.push(Z.magFilter),j.push(Z.minFilter),j.push(Z.anisotropy),j.push(Z.internalFormat),j.push(Z.format),j.push(Z.type),j.push(Z.generateMipmaps),j.push(Z.premultiplyAlpha),j.push(Z.flipY),j.push(Z.unpackAlignment),j.push(Z.colorSpace),j.join()}function ae(Z,j){const se=n.get(Z);if(Z.isVideoTexture&&Be(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&se.__version!==Z.version){const ve=Z.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Q(se,Z,j);return}}t.bindTexture(r.TEXTURE_2D,se.__webglTexture,r.TEXTURE0+j)}function $(Z,j){const se=n.get(Z);if(Z.version>0&&se.__version!==Z.version){Q(se,Z,j);return}t.bindTexture(r.TEXTURE_2D_ARRAY,se.__webglTexture,r.TEXTURE0+j)}function he(Z,j){const se=n.get(Z);if(Z.version>0&&se.__version!==Z.version){Q(se,Z,j);return}t.bindTexture(r.TEXTURE_3D,se.__webglTexture,r.TEXTURE0+j)}function le(Z,j){const se=n.get(Z);if(Z.version>0&&se.__version!==Z.version){ce(se,Z,j);return}t.bindTexture(r.TEXTURE_CUBE_MAP,se.__webglTexture,r.TEXTURE0+j)}const de={[Vl]:r.REPEAT,[xr]:r.CLAMP_TO_EDGE,[pp]:r.MIRRORED_REPEAT},V={[Gr]:r.NEAREST,[Ry]:r.NEAREST_MIPMAP_NEAREST,[dd]:r.NEAREST_MIPMAP_LINEAR,[Yn]:r.LINEAR,[np]:r.LINEAR_MIPMAP_NEAREST,[Fs]:r.LINEAR_MIPMAP_LINEAR},K={[oL]:r.NEVER,[hL]:r.ALWAYS,[lL]:r.LESS,[xC]:r.LEQUAL,[cL]:r.EQUAL,[dL]:r.GEQUAL,[uL]:r.GREATER,[fL]:r.NOTEQUAL};function re(Z,j){if(j.type===or&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Yn||j.magFilter===np||j.magFilter===dd||j.magFilter===Fs||j.minFilter===Yn||j.minFilter===np||j.minFilter===dd||j.minFilter===Fs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(Z,r.TEXTURE_WRAP_S,de[j.wrapS]),r.texParameteri(Z,r.TEXTURE_WRAP_T,de[j.wrapT]),(Z===r.TEXTURE_3D||Z===r.TEXTURE_2D_ARRAY)&&r.texParameteri(Z,r.TEXTURE_WRAP_R,de[j.wrapR]),r.texParameteri(Z,r.TEXTURE_MAG_FILTER,V[j.magFilter]),r.texParameteri(Z,r.TEXTURE_MIN_FILTER,V[j.minFilter]),j.compareFunction&&(r.texParameteri(Z,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(Z,r.TEXTURE_COMPARE_FUNC,K[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===Gr||j.minFilter!==dd&&j.minFilter!==Fs||j.type===or&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||n.get(j).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");r.texParameterf(Z,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),n.get(j).__currentAnisotropy=j.anisotropy}}}function pe(Z,j){let se=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,j.addEventListener("dispose",U));const ve=j.source;let Me=v.get(ve);Me===void 0&&(Me={},v.set(ve,Me));const Le=J(j);if(Le!==Z.__cacheKey){Me[Le]===void 0&&(Me[Le]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,se=!0),Me[Le].usedTimes++;const Ye=Me[Z.__cacheKey];Ye!==void 0&&(Me[Z.__cacheKey].usedTimes--,Ye.usedTimes===0&&N(j)),Z.__cacheKey=Le,Z.__webglTexture=Me[Le].texture}return se}function Q(Z,j,se){let ve=r.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(ve=r.TEXTURE_2D_ARRAY),j.isData3DTexture&&(ve=r.TEXTURE_3D);const Me=pe(Z,j),Le=j.source;t.bindTexture(ve,Z.__webglTexture,r.TEXTURE0+se);const Ye=n.get(Le);if(Le.version!==Ye.__version||Me===!0){t.activeTexture(r.TEXTURE0+se);const et=Fn.getPrimaries(Fn.workingColorSpace),at=j.colorSpace===Xu?null:Fn.getPrimaries(j.colorSpace),Ct=j.colorSpace===Xu||et===at?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,j.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,j.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);let ot=A(j.image,!1,i.maxTextureSize);ot=st(j,ot);const _t=a.convert(j.format,j.colorSpace),Ze=a.convert(j.type);let tt=R(j.internalFormat,_t,Ze,j.colorSpace,j.isVideoTexture);re(ve,j);let Ke;const wt=j.mipmaps,xt=j.isVideoTexture!==!0,It=Ye.__version===void 0||Me===!0,Ee=Le.dataReady,De=I(j,ot);if(j.isDepthTexture)tt=w(j.format===gp,j.type),It&&(xt?t.texStorage2D(r.TEXTURE_2D,1,tt,ot.width,ot.height):t.texImage2D(r.TEXTURE_2D,0,tt,ot.width,ot.height,0,_t,Ze,null));else if(j.isDataTexture)if(wt.length>0){xt&&It&&t.texStorage2D(r.TEXTURE_2D,De,tt,wt[0].width,wt[0].height);for(let Pe=0,lt=wt.length;Pe<lt;Pe++)Ke=wt[Pe],xt?Ee&&t.texSubImage2D(r.TEXTURE_2D,Pe,0,0,Ke.width,Ke.height,_t,Ze,Ke.data):t.texImage2D(r.TEXTURE_2D,Pe,tt,Ke.width,Ke.height,0,_t,Ze,Ke.data);j.generateMipmaps=!1}else xt?(It&&t.texStorage2D(r.TEXTURE_2D,De,tt,ot.width,ot.height),Ee&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,ot.width,ot.height,_t,Ze,ot.data)):t.texImage2D(r.TEXTURE_2D,0,tt,ot.width,ot.height,0,_t,Ze,ot.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){xt&&It&&t.texStorage3D(r.TEXTURE_2D_ARRAY,De,tt,wt[0].width,wt[0].height,ot.depth);for(let Pe=0,lt=wt.length;Pe<lt;Pe++)if(Ke=wt[Pe],j.format!==Dr)if(_t!==null)if(xt){if(Ee)if(j.layerUpdates.size>0){const gt=IT(Ke.width,Ke.height,j.format,j.type);for(const pt of j.layerUpdates){const Pt=Ke.data.subarray(pt*gt/Ke.data.BYTES_PER_ELEMENT,(pt+1)*gt/Ke.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Pe,0,0,pt,Ke.width,Ke.height,1,_t,Pt)}j.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Pe,0,0,0,Ke.width,Ke.height,ot.depth,_t,Ke.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Pe,tt,Ke.width,Ke.height,ot.depth,0,Ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else xt?Ee&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,Pe,0,0,0,Ke.width,Ke.height,ot.depth,_t,Ze,Ke.data):t.texImage3D(r.TEXTURE_2D_ARRAY,Pe,tt,Ke.width,Ke.height,ot.depth,0,_t,Ze,Ke.data)}else{xt&&It&&t.texStorage2D(r.TEXTURE_2D,De,tt,wt[0].width,wt[0].height);for(let Pe=0,lt=wt.length;Pe<lt;Pe++)Ke=wt[Pe],j.format!==Dr?_t!==null?xt?Ee&&t.compressedTexSubImage2D(r.TEXTURE_2D,Pe,0,0,Ke.width,Ke.height,_t,Ke.data):t.compressedTexImage2D(r.TEXTURE_2D,Pe,tt,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?Ee&&t.texSubImage2D(r.TEXTURE_2D,Pe,0,0,Ke.width,Ke.height,_t,Ze,Ke.data):t.texImage2D(r.TEXTURE_2D,Pe,tt,Ke.width,Ke.height,0,_t,Ze,Ke.data)}else if(j.isDataArrayTexture)if(xt){if(It&&t.texStorage3D(r.TEXTURE_2D_ARRAY,De,tt,ot.width,ot.height,ot.depth),Ee)if(j.layerUpdates.size>0){const Pe=IT(ot.width,ot.height,j.format,j.type);for(const lt of j.layerUpdates){const gt=ot.data.subarray(lt*Pe/ot.data.BYTES_PER_ELEMENT,(lt+1)*Pe/ot.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,lt,ot.width,ot.height,1,_t,Ze,gt)}j.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ze,ot.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,tt,ot.width,ot.height,ot.depth,0,_t,Ze,ot.data);else if(j.isData3DTexture)xt?(It&&t.texStorage3D(r.TEXTURE_3D,De,tt,ot.width,ot.height,ot.depth),Ee&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ze,ot.data)):t.texImage3D(r.TEXTURE_3D,0,tt,ot.width,ot.height,ot.depth,0,_t,Ze,ot.data);else if(j.isFramebufferTexture){if(It)if(xt)t.texStorage2D(r.TEXTURE_2D,De,tt,ot.width,ot.height);else{let Pe=ot.width,lt=ot.height;for(let gt=0;gt<De;gt++)t.texImage2D(r.TEXTURE_2D,gt,tt,Pe,lt,0,_t,Ze,null),Pe>>=1,lt>>=1}}else if(wt.length>0){if(xt&&It){const Pe=Ge(wt[0]);t.texStorage2D(r.TEXTURE_2D,De,tt,Pe.width,Pe.height)}for(let Pe=0,lt=wt.length;Pe<lt;Pe++)Ke=wt[Pe],xt?Ee&&t.texSubImage2D(r.TEXTURE_2D,Pe,0,0,_t,Ze,Ke):t.texImage2D(r.TEXTURE_2D,Pe,tt,_t,Ze,Ke);j.generateMipmaps=!1}else if(xt){if(It){const Pe=Ge(ot);t.texStorage2D(r.TEXTURE_2D,De,tt,Pe.width,Pe.height)}Ee&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,_t,Ze,ot)}else t.texImage2D(r.TEXTURE_2D,0,tt,_t,Ze,ot);S(j)&&E(ve),Ye.__version=Le.version,j.onUpdate&&j.onUpdate(j)}Z.__version=j.version}function ce(Z,j,se){if(j.image.length!==6)return;const ve=pe(Z,j),Me=j.source;t.bindTexture(r.TEXTURE_CUBE_MAP,Z.__webglTexture,r.TEXTURE0+se);const Le=n.get(Me);if(Me.version!==Le.__version||ve===!0){t.activeTexture(r.TEXTURE0+se);const Ye=Fn.getPrimaries(Fn.workingColorSpace),et=j.colorSpace===Xu?null:Fn.getPrimaries(j.colorSpace),at=j.colorSpace===Xu||Ye===et?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,j.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,j.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,at);const Ct=j.isCompressedTexture||j.image[0].isCompressedTexture,ot=j.image[0]&&j.image[0].isDataTexture,_t=[];for(let lt=0;lt<6;lt++)!Ct&&!ot?_t[lt]=A(j.image[lt],!0,i.maxCubemapSize):_t[lt]=ot?j.image[lt].image:j.image[lt],_t[lt]=st(j,_t[lt]);const Ze=_t[0],tt=a.convert(j.format,j.colorSpace),Ke=a.convert(j.type),wt=R(j.internalFormat,tt,Ke,j.colorSpace),xt=j.isVideoTexture!==!0,It=Le.__version===void 0||ve===!0,Ee=Me.dataReady;let De=I(j,Ze);re(r.TEXTURE_CUBE_MAP,j);let Pe;if(Ct){xt&&It&&t.texStorage2D(r.TEXTURE_CUBE_MAP,De,wt,Ze.width,Ze.height);for(let lt=0;lt<6;lt++){Pe=_t[lt].mipmaps;for(let gt=0;gt<Pe.length;gt++){const pt=Pe[gt];j.format!==Dr?tt!==null?xt?Ee&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt,0,0,pt.width,pt.height,tt,pt.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt,wt,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xt?Ee&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt,0,0,pt.width,pt.height,tt,Ke,pt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt,wt,pt.width,pt.height,0,tt,Ke,pt.data)}}}else{if(Pe=j.mipmaps,xt&&It){Pe.length>0&&De++;const lt=Ge(_t[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,De,wt,lt.width,lt.height)}for(let lt=0;lt<6;lt++)if(ot){xt?Ee&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,_t[lt].width,_t[lt].height,tt,Ke,_t[lt].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,wt,_t[lt].width,_t[lt].height,0,tt,Ke,_t[lt].data);for(let gt=0;gt<Pe.length;gt++){const Pt=Pe[gt].image[lt].image;xt?Ee&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt+1,0,0,Pt.width,Pt.height,tt,Ke,Pt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt+1,wt,Pt.width,Pt.height,0,tt,Ke,Pt.data)}}else{xt?Ee&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,tt,Ke,_t[lt]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,wt,tt,Ke,_t[lt]);for(let gt=0;gt<Pe.length;gt++){const pt=Pe[gt];xt?Ee&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt+1,0,0,tt,Ke,pt.image[lt]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+lt,gt+1,wt,tt,Ke,pt.image[lt])}}}S(j)&&E(r.TEXTURE_CUBE_MAP),Le.__version=Me.version,j.onUpdate&&j.onUpdate(j)}Z.__version=j.version}function me(Z,j,se,ve,Me,Le){const Ye=a.convert(se.format,se.colorSpace),et=a.convert(se.type),at=R(se.internalFormat,Ye,et,se.colorSpace),Ct=n.get(j),ot=n.get(se);if(ot.__renderTarget=j,!Ct.__hasExternalTextures){const _t=Math.max(1,j.width>>Le),Ze=Math.max(1,j.height>>Le);Me===r.TEXTURE_3D||Me===r.TEXTURE_2D_ARRAY?t.texImage3D(Me,Le,at,_t,Ze,j.depth,0,Ye,et,null):t.texImage2D(Me,Le,at,_t,Ze,0,Ye,et,null)}t.bindFramebuffer(r.FRAMEBUFFER,Z),Xe(j)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,ve,Me,ot.__webglTexture,0,Ne(j)):(Me===r.TEXTURE_2D||Me>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,ve,Me,ot.__webglTexture,Le),t.bindFramebuffer(r.FRAMEBUFFER,null)}function ge(Z,j,se){if(r.bindRenderbuffer(r.RENDERBUFFER,Z),j.depthBuffer){const ve=j.depthTexture,Me=ve&&ve.isDepthTexture?ve.type:null,Le=w(j.stencilBuffer,Me),Ye=j.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,et=Ne(j);Xe(j)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,et,Le,j.width,j.height):se?r.renderbufferStorageMultisample(r.RENDERBUFFER,et,Le,j.width,j.height):r.renderbufferStorage(r.RENDERBUFFER,Le,j.width,j.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ye,r.RENDERBUFFER,Z)}else{const ve=j.textures;for(let Me=0;Me<ve.length;Me++){const Le=ve[Me],Ye=a.convert(Le.format,Le.colorSpace),et=a.convert(Le.type),at=R(Le.internalFormat,Ye,et,Le.colorSpace),Ct=Ne(j);se&&Xe(j)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ct,at,j.width,j.height):Xe(j)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ct,at,j.width,j.height):r.renderbufferStorage(r.RENDERBUFFER,at,j.width,j.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function be(Z,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,Z),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ve=n.get(j.depthTexture);ve.__renderTarget=j,(!ve.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ae(j.depthTexture,0);const Me=ve.__webglTexture,Le=Ne(j);if(j.depthTexture.format===ip)Xe(j)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Me,0,Le):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Me,0);else if(j.depthTexture.format===gp)Xe(j)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Me,0,Le):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function je(Z){const j=n.get(Z),se=Z.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==Z.depthTexture){const ve=Z.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),ve){const Me=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,ve.removeEventListener("dispose",Me)};ve.addEventListener("dispose",Me),j.__depthDisposeCallback=Me}j.__boundDepthTexture=ve}if(Z.depthTexture&&!j.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");be(j.__webglFramebuffer,Z)}else if(se){j.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)if(t.bindFramebuffer(r.FRAMEBUFFER,j.__webglFramebuffer[ve]),j.__webglDepthbuffer[ve]===void 0)j.__webglDepthbuffer[ve]=r.createRenderbuffer(),ge(j.__webglDepthbuffer[ve],Z,!1);else{const Me=Z.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Le=j.__webglDepthbuffer[ve];r.bindRenderbuffer(r.RENDERBUFFER,Le),r.framebufferRenderbuffer(r.FRAMEBUFFER,Me,r.RENDERBUFFER,Le)}}else if(t.bindFramebuffer(r.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=r.createRenderbuffer(),ge(j.__webglDepthbuffer,Z,!1);else{const ve=Z.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Me=j.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Me),r.framebufferRenderbuffer(r.FRAMEBUFFER,ve,r.RENDERBUFFER,Me)}t.bindFramebuffer(r.FRAMEBUFFER,null)}function ze(Z,j,se){const ve=n.get(Z);j!==void 0&&me(ve.__webglFramebuffer,Z,Z.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),se!==void 0&&je(Z)}function Ie(Z){const j=Z.texture,se=n.get(Z),ve=n.get(j);Z.addEventListener("dispose",H);const Me=Z.textures,Le=Z.isWebGLCubeRenderTarget===!0,Ye=Me.length>1;if(Ye||(ve.__webglTexture===void 0&&(ve.__webglTexture=r.createTexture()),ve.__version=j.version,s.memory.textures++),Le){se.__webglFramebuffer=[];for(let et=0;et<6;et++)if(j.mipmaps&&j.mipmaps.length>0){se.__webglFramebuffer[et]=[];for(let at=0;at<j.mipmaps.length;at++)se.__webglFramebuffer[et][at]=r.createFramebuffer()}else se.__webglFramebuffer[et]=r.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){se.__webglFramebuffer=[];for(let et=0;et<j.mipmaps.length;et++)se.__webglFramebuffer[et]=r.createFramebuffer()}else se.__webglFramebuffer=r.createFramebuffer();if(Ye)for(let et=0,at=Me.length;et<at;et++){const Ct=n.get(Me[et]);Ct.__webglTexture===void 0&&(Ct.__webglTexture=r.createTexture(),s.memory.textures++)}if(Z.samples>0&&Xe(Z)===!1){se.__webglMultisampledFramebuffer=r.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let et=0;et<Me.length;et++){const at=Me[et];se.__webglColorRenderbuffer[et]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,se.__webglColorRenderbuffer[et]);const Ct=a.convert(at.format,at.colorSpace),ot=a.convert(at.type),_t=R(at.internalFormat,Ct,ot,at.colorSpace,Z.isXRRenderTarget===!0),Ze=Ne(Z);r.renderbufferStorageMultisample(r.RENDERBUFFER,Ze,_t,Z.width,Z.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+et,r.RENDERBUFFER,se.__webglColorRenderbuffer[et])}r.bindRenderbuffer(r.RENDERBUFFER,null),Z.depthBuffer&&(se.__webglDepthRenderbuffer=r.createRenderbuffer(),ge(se.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Le){t.bindTexture(r.TEXTURE_CUBE_MAP,ve.__webglTexture),re(r.TEXTURE_CUBE_MAP,j);for(let et=0;et<6;et++)if(j.mipmaps&&j.mipmaps.length>0)for(let at=0;at<j.mipmaps.length;at++)me(se.__webglFramebuffer[et][at],Z,j,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+et,at);else me(se.__webglFramebuffer[et],Z,j,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+et,0);S(j)&&E(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ye){for(let et=0,at=Me.length;et<at;et++){const Ct=Me[et],ot=n.get(Ct);t.bindTexture(r.TEXTURE_2D,ot.__webglTexture),re(r.TEXTURE_2D,Ct),me(se.__webglFramebuffer,Z,Ct,r.COLOR_ATTACHMENT0+et,r.TEXTURE_2D,0),S(Ct)&&E(r.TEXTURE_2D)}t.unbindTexture()}else{let et=r.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(et=Z.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(et,ve.__webglTexture),re(et,j),j.mipmaps&&j.mipmaps.length>0)for(let at=0;at<j.mipmaps.length;at++)me(se.__webglFramebuffer[at],Z,j,r.COLOR_ATTACHMENT0,et,at);else me(se.__webglFramebuffer,Z,j,r.COLOR_ATTACHMENT0,et,0);S(j)&&E(et),t.unbindTexture()}Z.depthBuffer&&je(Z)}function ye(Z){const j=Z.textures;for(let se=0,ve=j.length;se<ve;se++){const Me=j[se];if(S(Me)){const Le=M(Z),Ye=n.get(Me).__webglTexture;t.bindTexture(Le,Ye),E(Le),t.unbindTexture()}}}const we=[],ee=[];function Je(Z){if(Z.samples>0){if(Xe(Z)===!1){const j=Z.textures,se=Z.width,ve=Z.height;let Me=r.COLOR_BUFFER_BIT;const Le=Z.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ye=n.get(Z),et=j.length>1;if(et)for(let at=0;at<j.length;at++)t.bindFramebuffer(r.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+at,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Ye.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+at,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer);for(let at=0;at<j.length;at++){if(Z.resolveDepthBuffer&&(Z.depthBuffer&&(Me|=r.DEPTH_BUFFER_BIT),Z.stencilBuffer&&Z.resolveStencilBuffer&&(Me|=r.STENCIL_BUFFER_BIT)),et){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ye.__webglColorRenderbuffer[at]);const Ct=n.get(j[at]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,Ct,0)}r.blitFramebuffer(0,0,se,ve,0,0,se,ve,Me,r.NEAREST),l===!0&&(we.length=0,ee.length=0,we.push(r.COLOR_ATTACHMENT0+at),Z.depthBuffer&&Z.resolveDepthBuffer===!1&&(we.push(Le),ee.push(Le),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,ee)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,we))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),et)for(let at=0;at<j.length;at++){t.bindFramebuffer(r.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+at,r.RENDERBUFFER,Ye.__webglColorRenderbuffer[at]);const Ct=n.get(j[at]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Ye.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+at,r.TEXTURE_2D,Ct,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer)}else if(Z.depthBuffer&&Z.resolveDepthBuffer===!1&&l){const j=Z.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[j])}}}function Ne(Z){return Math.min(i.maxSamples,Z.samples)}function Xe(Z){const j=n.get(Z);return Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function Be(Z){const j=s.render.frame;d.get(Z)!==j&&(d.set(Z,j),Z.update())}function st(Z,j){const se=Z.colorSpace,ve=Z.format,Me=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||se!==Or&&se!==Xu&&(Fn.getTransfer(se)===gi?(ve!==Dr||Me!==js)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),j}function Ge(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement?(u.width=Z.naturalWidth||Z.width,u.height=Z.naturalHeight||Z.height):typeof VideoFrame<"u"&&Z instanceof VideoFrame?(u.width=Z.displayWidth,u.height=Z.displayHeight):(u.width=Z.width,u.height=Z.height),u}this.allocateTextureUnit=Y,this.resetTextureUnits=X,this.setTexture2D=ae,this.setTexture2DArray=$,this.setTexture3D=he,this.setTextureCube=le,this.rebindTextures=ze,this.setupRenderTarget=Ie,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=je,this.setupFrameBufferTexture=me,this.useMultisampledRTT=Xe}function fI(r,e){function t(n,i=Xu){let a;const s=Fn.getTransfer(i);if(n===js)return r.UNSIGNED_BYTE;if(n===xA)return r.UNSIGNED_SHORT_4_4_4_4;if(n===bA)return r.UNSIGNED_SHORT_5_5_5_1;if(n===uC)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===yA)return r.BYTE;if(n===_A)return r.SHORT;if(n===vg)return r.UNSIGNED_SHORT;if(n===Dy)return r.INT;if(n===qc)return r.UNSIGNED_INT;if(n===or)return r.FLOAT;if(n===ua)return r.HALF_FLOAT;if(n===fC)return r.ALPHA;if(n===dC)return r.RGB;if(n===Dr)return r.RGBA;if(n===hC)return r.LUMINANCE;if(n===pC)return r.LUMINANCE_ALPHA;if(n===ip)return r.DEPTH_COMPONENT;if(n===gp)return r.DEPTH_STENCIL;if(n===By)return r.RED;if(n===Oy)return r.RED_INTEGER;if(n===mC)return r.RG;if(n===AA)return r.RG_INTEGER;if(n===SA)return r.RGBA_INTEGER;if(n===Nv||n===Uv||n===Lv||n===Iv)if(s===gi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Nv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Uv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Lv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Iv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Nv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Uv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Lv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Iv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===sb||n===ob||n===lb||n===cb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===sb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ob)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===lb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===cb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===ub||n===fb||n===db)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===ub||n===fb)return s===gi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===db)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===hb||n===pb||n===mb||n===gb||n===vb||n===yb||n===_b||n===xb||n===bb||n===Ab||n===Sb||n===Eb||n===Tb||n===Mb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===hb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===pb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===mb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===gb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===vb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===yb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===_b)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===xb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===bb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ab)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Sb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Eb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Tb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Mb)return s===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Pv||n===Cb||n===wb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Pv)return s===gi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Cb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===wb)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===gC||n===Rb||n===Db||n===Bb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Pv)return a.COMPRESSED_RED_RGTC1_EXT;if(n===Rb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Db)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Bb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===mp?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}const yj=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_j=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class xj{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const i=new ni,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Xs({vertexShader:yj,fragmentShader:_j,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ai(new Yl(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class bj extends Qc{constructor(e,t){super();const n=this;let i=null,a=1,s=null,o="local-floor",l=1,u=null,d=null,p=null,v=null,y=null,x=null;const A=new xj,S=t.getContextAttributes();let E=null,M=null;const R=[],w=[],I=new mt;let U=null;const H=new Hr;H.viewport=new $n;const F=new Hr;F.viewport=new $n;const N=[H,F],L=new tI;let G=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let ce=R[Q];return ce===void 0&&(ce=new Ix,R[Q]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(Q){let ce=R[Q];return ce===void 0&&(ce=new Ix,R[Q]=ce),ce.getGripSpace()},this.getHand=function(Q){let ce=R[Q];return ce===void 0&&(ce=new Ix,R[Q]=ce),ce.getHandSpace()};function Y(Q){const ce=w.indexOf(Q.inputSource);if(ce===-1)return;const me=R[ce];me!==void 0&&(me.update(Q.inputSource,Q.frame,u||s),me.dispatchEvent({type:Q.type,data:Q.inputSource}))}function J(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",J),i.removeEventListener("inputsourceschange",ae);for(let Q=0;Q<R.length;Q++){const ce=w[Q];ce!==null&&(w[Q]=null,R[Q].disconnect(ce))}G=null,X=null,A.reset(),e.setRenderTarget(E),y=null,v=null,p=null,i=null,M=null,pe.stop(),n.isPresenting=!1,e.setPixelRatio(U),e.setSize(I.width,I.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){a=Q,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){o=Q,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(Q){u=Q},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(Q){if(i=Q,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",J),i.addEventListener("inputsourceschange",ae),S.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(I),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let me=null,ge=null,be=null;S.depth&&(be=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,me=S.stencil?gp:ip,ge=S.stencil?mp:qc);const je={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:a};p=new XRWebGLBinding(i,t),v=p.createProjectionLayer(je),i.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),M=new qo(v.textureWidth,v.textureHeight,{format:Dr,type:js,depthTexture:new CC(v.textureWidth,v.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,me),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1})}else{const me={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,t,me),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),M=new qo(y.framebufferWidth,y.framebufferHeight,{format:Dr,type:js,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(o),pe.setContext(i),pe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function ae(Q){for(let ce=0;ce<Q.removed.length;ce++){const me=Q.removed[ce],ge=w.indexOf(me);ge>=0&&(w[ge]=null,R[ge].disconnect(me))}for(let ce=0;ce<Q.added.length;ce++){const me=Q.added[ce];let ge=w.indexOf(me);if(ge===-1){for(let je=0;je<R.length;je++)if(je>=w.length){w.push(me),ge=je;break}else if(w[je]===null){w[je]=me,ge=je;break}if(ge===-1)break}const be=R[ge];be&&be.connect(me)}}const $=new ue,he=new ue;function le(Q,ce,me){$.setFromMatrixPosition(ce.matrixWorld),he.setFromMatrixPosition(me.matrixWorld);const ge=$.distanceTo(he),be=ce.projectionMatrix.elements,je=me.projectionMatrix.elements,ze=be[14]/(be[10]-1),Ie=be[14]/(be[10]+1),ye=(be[9]+1)/be[5],we=(be[9]-1)/be[5],ee=(be[8]-1)/be[0],Je=(je[8]+1)/je[0],Ne=ze*ee,Xe=ze*Je,Be=ge/(-ee+Je),st=Be*-ee;if(ce.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(st),Q.translateZ(Be),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert(),be[10]===-1)Q.projectionMatrix.copy(ce.projectionMatrix),Q.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const Ge=ze+Be,Z=Ie+Be,j=Ne-st,se=Xe+(ge-st),ve=ye*Ie/Z*Ge,Me=we*Ie/Z*Ge;Q.projectionMatrix.makePerspective(j,se,ve,Me,Ge,Z),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}}function de(Q,ce){ce===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(ce.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(i===null)return;let ce=Q.near,me=Q.far;A.texture!==null&&(A.depthNear>0&&(ce=A.depthNear),A.depthFar>0&&(me=A.depthFar)),L.near=F.near=H.near=ce,L.far=F.far=H.far=me,(G!==L.near||X!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),G=L.near,X=L.far),H.layers.mask=Q.layers.mask|2,F.layers.mask=Q.layers.mask|4,L.layers.mask=H.layers.mask|F.layers.mask;const ge=Q.parent,be=L.cameras;de(L,ge);for(let je=0;je<be.length;je++)de(be[je],ge);be.length===2?le(L,H,F):L.projectionMatrix.copy(H.projectionMatrix),V(Q,L,ge)};function V(Q,ce,me){me===null?Q.matrix.copy(ce.matrixWorld):(Q.matrix.copy(me.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(ce.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(ce.projectionMatrix),Q.projectionMatrixInverse.copy(ce.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=yg*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(v===null&&y===null))return l},this.setFoveation=function(Q){l=Q,v!==null&&(v.fixedFoveation=Q),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=Q)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(L)};let K=null;function re(Q,ce){if(d=ce.getViewerPose(u||s),x=ce,d!==null){const me=d.views;y!==null&&(e.setRenderTargetFramebuffer(M,y.framebuffer),e.setRenderTarget(M));let ge=!1;me.length!==L.cameras.length&&(L.cameras.length=0,ge=!0);for(let ze=0;ze<me.length;ze++){const Ie=me[ze];let ye=null;if(y!==null)ye=y.getViewport(Ie);else{const ee=p.getViewSubImage(v,Ie);ye=ee.viewport,ze===0&&(e.setRenderTargetTextures(M,ee.colorTexture,v.ignoreDepthValues?void 0:ee.depthStencilTexture),e.setRenderTarget(M))}let we=N[ze];we===void 0&&(we=new Hr,we.layers.enable(ze),we.viewport=new $n,N[ze]=we),we.matrix.fromArray(Ie.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Ie.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ye.x,ye.y,ye.width,ye.height),ze===0&&(L.matrix.copy(we.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),ge===!0&&L.cameras.push(we)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&p){const ze=p.getDepthInformation(me[0]);ze&&ze.isValid&&ze.texture&&A.init(e,ze,i.renderState)}}for(let me=0;me<R.length;me++){const ge=w[me],be=R[me];ge!==null&&be!==void 0&&be.update(ge,ce,u||s)}K&&K(Q,ce),ce.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ce}),x=null}const pe=new sI;pe.setAnimationLoop(re),this.setAnimationLoop=function(Q){K=Q},this.dispose=function(){}}}const Nh=new vo,Aj=new en;function Sj(r,e){function t(S,E){S.matrixAutoUpdate===!0&&S.updateMatrix(),E.value.copy(S.matrix)}function n(S,E){E.color.getRGB(S.fogColor.value,yL(r)),E.isFog?(S.fogNear.value=E.near,S.fogFar.value=E.far):E.isFogExp2&&(S.fogDensity.value=E.density)}function i(S,E,M,R,w){E.isMeshBasicMaterial||E.isMeshLambertMaterial?a(S,E):E.isMeshToonMaterial?(a(S,E),p(S,E)):E.isMeshPhongMaterial?(a(S,E),d(S,E)):E.isMeshStandardMaterial?(a(S,E),v(S,E),E.isMeshPhysicalMaterial&&y(S,E,w)):E.isMeshMatcapMaterial?(a(S,E),x(S,E)):E.isMeshDepthMaterial?a(S,E):E.isMeshDistanceMaterial?(a(S,E),A(S,E)):E.isMeshNormalMaterial?a(S,E):E.isLineBasicMaterial?(s(S,E),E.isLineDashedMaterial&&o(S,E)):E.isPointsMaterial?l(S,E,M,R):E.isSpriteMaterial?u(S,E):E.isShadowMaterial?(S.color.value.copy(E.color),S.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function a(S,E){S.opacity.value=E.opacity,E.color&&S.diffuse.value.copy(E.color),E.emissive&&S.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(S.map.value=E.map,t(E.map,S.mapTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.bumpMap&&(S.bumpMap.value=E.bumpMap,t(E.bumpMap,S.bumpMapTransform),S.bumpScale.value=E.bumpScale,E.side===ps&&(S.bumpScale.value*=-1)),E.normalMap&&(S.normalMap.value=E.normalMap,t(E.normalMap,S.normalMapTransform),S.normalScale.value.copy(E.normalScale),E.side===ps&&S.normalScale.value.negate()),E.displacementMap&&(S.displacementMap.value=E.displacementMap,t(E.displacementMap,S.displacementMapTransform),S.displacementScale.value=E.displacementScale,S.displacementBias.value=E.displacementBias),E.emissiveMap&&(S.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,S.emissiveMapTransform)),E.specularMap&&(S.specularMap.value=E.specularMap,t(E.specularMap,S.specularMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest);const M=e.get(E),R=M.envMap,w=M.envMapRotation;R&&(S.envMap.value=R,Nh.copy(w),Nh.x*=-1,Nh.y*=-1,Nh.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Nh.y*=-1,Nh.z*=-1),S.envMapRotation.value.setFromMatrix4(Aj.makeRotationFromEuler(Nh)),S.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=E.reflectivity,S.ior.value=E.ior,S.refractionRatio.value=E.refractionRatio),E.lightMap&&(S.lightMap.value=E.lightMap,S.lightMapIntensity.value=E.lightMapIntensity,t(E.lightMap,S.lightMapTransform)),E.aoMap&&(S.aoMap.value=E.aoMap,S.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,S.aoMapTransform))}function s(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,E.map&&(S.map.value=E.map,t(E.map,S.mapTransform))}function o(S,E){S.dashSize.value=E.dashSize,S.totalSize.value=E.dashSize+E.gapSize,S.scale.value=E.scale}function l(S,E,M,R){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.size.value=E.size*M,S.scale.value=R*.5,E.map&&(S.map.value=E.map,t(E.map,S.uvTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest)}function u(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.rotation.value=E.rotation,E.map&&(S.map.value=E.map,t(E.map,S.mapTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest)}function d(S,E){S.specular.value.copy(E.specular),S.shininess.value=Math.max(E.shininess,1e-4)}function p(S,E){E.gradientMap&&(S.gradientMap.value=E.gradientMap)}function v(S,E){S.metalness.value=E.metalness,E.metalnessMap&&(S.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,S.metalnessMapTransform)),S.roughness.value=E.roughness,E.roughnessMap&&(S.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,S.roughnessMapTransform)),E.envMap&&(S.envMapIntensity.value=E.envMapIntensity)}function y(S,E,M){S.ior.value=E.ior,E.sheen>0&&(S.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),S.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(S.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,S.sheenColorMapTransform)),E.sheenRoughnessMap&&(S.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,S.sheenRoughnessMapTransform))),E.clearcoat>0&&(S.clearcoat.value=E.clearcoat,S.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(S.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,S.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(S.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===ps&&S.clearcoatNormalScale.value.negate())),E.dispersion>0&&(S.dispersion.value=E.dispersion),E.iridescence>0&&(S.iridescence.value=E.iridescence,S.iridescenceIOR.value=E.iridescenceIOR,S.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(S.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,S.iridescenceMapTransform)),E.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),E.transmission>0&&(S.transmission.value=E.transmission,S.transmissionSamplerMap.value=M.texture,S.transmissionSamplerSize.value.set(M.width,M.height),E.transmissionMap&&(S.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,S.transmissionMapTransform)),S.thickness.value=E.thickness,E.thicknessMap&&(S.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=E.attenuationDistance,S.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(S.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(S.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=E.specularIntensity,S.specularColor.value.copy(E.specularColor),E.specularColorMap&&(S.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,S.specularColorMapTransform)),E.specularIntensityMap&&(S.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,S.specularIntensityMapTransform))}function x(S,E){E.matcap&&(S.matcap.value=E.matcap)}function A(S,E){const M=e.get(E).light;S.referencePosition.value.setFromMatrixPosition(M.matrixWorld),S.nearDistance.value=M.shadow.camera.near,S.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function Ej(r,e,t,n){let i={},a={},s=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function l(M,R){const w=R.program;n.uniformBlockBinding(M,w)}function u(M,R){let w=i[M.id];w===void 0&&(x(M),w=d(M),i[M.id]=w,M.addEventListener("dispose",S));const I=R.program;n.updateUBOMapping(M,I);const U=e.render.frame;a[M.id]!==U&&(v(M),a[M.id]=U)}function d(M){const R=p();M.__bindingPointIndex=R;const w=r.createBuffer(),I=M.__size,U=M.usage;return r.bindBuffer(r.UNIFORM_BUFFER,w),r.bufferData(r.UNIFORM_BUFFER,I,U),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,R,w),w}function p(){for(let M=0;M<o;M++)if(s.indexOf(M)===-1)return s.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(M){const R=i[M.id],w=M.uniforms,I=M.__cache;r.bindBuffer(r.UNIFORM_BUFFER,R);for(let U=0,H=w.length;U<H;U++){const F=Array.isArray(w[U])?w[U]:[w[U]];for(let N=0,L=F.length;N<L;N++){const G=F[N];if(y(G,U,N,I)===!0){const X=G.__offset,Y=Array.isArray(G.value)?G.value:[G.value];let J=0;for(let ae=0;ae<Y.length;ae++){const $=Y[ae],he=A($);typeof $=="number"||typeof $=="boolean"?(G.__data[0]=$,r.bufferSubData(r.UNIFORM_BUFFER,X+J,G.__data)):$.isMatrix3?(G.__data[0]=$.elements[0],G.__data[1]=$.elements[1],G.__data[2]=$.elements[2],G.__data[3]=0,G.__data[4]=$.elements[3],G.__data[5]=$.elements[4],G.__data[6]=$.elements[5],G.__data[7]=0,G.__data[8]=$.elements[6],G.__data[9]=$.elements[7],G.__data[10]=$.elements[8],G.__data[11]=0):($.toArray(G.__data,J),J+=he.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,X,G.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function y(M,R,w,I){const U=M.value,H=R+"_"+w;if(I[H]===void 0)return typeof U=="number"||typeof U=="boolean"?I[H]=U:I[H]=U.clone(),!0;{const F=I[H];if(typeof U=="number"||typeof U=="boolean"){if(F!==U)return I[H]=U,!0}else if(F.equals(U)===!1)return F.copy(U),!0}return!1}function x(M){const R=M.uniforms;let w=0;const I=16;for(let H=0,F=R.length;H<F;H++){const N=Array.isArray(R[H])?R[H]:[R[H]];for(let L=0,G=N.length;L<G;L++){const X=N[L],Y=Array.isArray(X.value)?X.value:[X.value];for(let J=0,ae=Y.length;J<ae;J++){const $=Y[J],he=A($),le=w%I,de=le%he.boundary,V=le+de;w+=de,V!==0&&I-V<he.storage&&(w+=I-V),X.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=w,w+=he.storage}}}const U=w%I;return U>0&&(w+=I-U),M.__size=w,M.__cache={},this}function A(M){const R={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(R.boundary=4,R.storage=4):M.isVector2?(R.boundary=8,R.storage=8):M.isVector3||M.isColor?(R.boundary=16,R.storage=12):M.isVector4?(R.boundary=16,R.storage=16):M.isMatrix3?(R.boundary=48,R.storage=48):M.isMatrix4?(R.boundary=64,R.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),R}function S(M){const R=M.target;R.removeEventListener("dispose",S);const w=s.indexOf(R.__bindingPointIndex);s.splice(w,1),r.deleteBuffer(i[R.id]),delete i[R.id],delete a[R.id]}function E(){for(const M in i)r.deleteBuffer(i[M]);s=[],i={},a={}}return{bind:l,update:u,dispose:E}}class JC{constructor(e={}){const{canvas:t=mL(),context:n=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=n.getContextAttributes().alpha}else y=s;const x=new Uint32Array(4),A=new Int32Array(4);let S=null,E=null;const M=[],R=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ii,this.toneMapping=Vc,this.toneMappingExposure=1;const w=this;let I=!1,U=0,H=0,F=null,N=-1,L=null;const G=new $n,X=new $n;let Y=null;const J=new Rt(0);let ae=0,$=t.width,he=t.height,le=1,de=null,V=null;const K=new $n(0,0,$,he),re=new $n(0,0,$,he);let pe=!1;const Q=new Fy;let ce=!1,me=!1;this.transmissionResolutionScale=1;const ge=new en,be=new en,je=new ue,ze=new $n,Ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ye=!1;function we(){return F===null?le:1}let ee=n;function Je(W,fe){return t.getContext(W,fe)}try{const W={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Cy}`),t.addEventListener("webglcontextlost",lt,!1),t.addEventListener("webglcontextrestored",gt,!1),t.addEventListener("webglcontextcreationerror",pt,!1),ee===null){const fe="webgl2";if(ee=Je(fe,W),ee===null)throw Je(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}let Ne,Xe,Be,st,Ge,Z,j,se,ve,Me,Le,Ye,et,at,Ct,ot,_t,Ze,tt,Ke,wt,xt,It,Ee;function De(){Ne=new I7(ee),Ne.init(),xt=new fI(ee,Ne),Xe=new D7(ee,Ne,e,xt),Be=new gj(ee,Ne),Xe.reverseDepthBuffer&&v&&Be.buffers.depth.setReversed(!0),st=new H7(ee),Ge=new ij,Z=new vj(ee,Ne,Be,Ge,Xe,xt,st),j=new O7(w),se=new L7(w),ve=new W9(ee),It=new w7(ee,ve),Me=new P7(ee,ve,st,It),Le=new G7(ee,Me,ve,st),tt=new z7(ee,Xe,Z),ot=new B7(Ge),Ye=new nj(w,j,se,Ne,Xe,It,ot),et=new Sj(w,Ge),at=new aj,Ct=new fj(Ne),Ze=new C7(w,j,se,Be,Le,y,l),_t=new pj(w,Le,Xe),Ee=new Ej(ee,st,Xe,Be),Ke=new R7(ee,Ne,st),wt=new F7(ee,Ne,st),st.programs=Ye.programs,w.capabilities=Xe,w.extensions=Ne,w.properties=Ge,w.renderLists=at,w.shadowMap=_t,w.state=Be,w.info=st}De();const Pe=new bj(w,ee);this.xr=Pe,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const W=Ne.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=Ne.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(W){W!==void 0&&(le=W,this.setSize($,he,!1))},this.getSize=function(W){return W.set($,he)},this.setSize=function(W,fe,xe=!0){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=W,he=fe,t.width=Math.floor(W*le),t.height=Math.floor(fe*le),xe===!0&&(t.style.width=W+"px",t.style.height=fe+"px"),this.setViewport(0,0,W,fe)},this.getDrawingBufferSize=function(W){return W.set($*le,he*le).floor()},this.setDrawingBufferSize=function(W,fe,xe){$=W,he=fe,le=xe,t.width=Math.floor(W*xe),t.height=Math.floor(fe*xe),this.setViewport(0,0,W,fe)},this.getCurrentViewport=function(W){return W.copy(G)},this.getViewport=function(W){return W.copy(K)},this.setViewport=function(W,fe,xe,oe){W.isVector4?K.set(W.x,W.y,W.z,W.w):K.set(W,fe,xe,oe),Be.viewport(G.copy(K).multiplyScalar(le).round())},this.getScissor=function(W){return W.copy(re)},this.setScissor=function(W,fe,xe,oe){W.isVector4?re.set(W.x,W.y,W.z,W.w):re.set(W,fe,xe,oe),Be.scissor(X.copy(re).multiplyScalar(le).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(W){Be.setScissorTest(pe=W)},this.setOpaqueSort=function(W){de=W},this.setTransparentSort=function(W){V=W},this.getClearColor=function(W){return W.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(W=!0,fe=!0,xe=!0){let oe=0;if(W){let Ce=!1;if(F!==null){const ke=F.texture.format;Ce=ke===SA||ke===AA||ke===Oy}if(Ce){const ke=F.texture.type,nt=ke===js||ke===qc||ke===vg||ke===mp||ke===xA||ke===bA,ut=Ze.getClearColor(),ht=Ze.getClearAlpha(),Ot=ut.r,Nt=ut.g,Bt=ut.b;nt?(x[0]=Ot,x[1]=Nt,x[2]=Bt,x[3]=ht,ee.clearBufferuiv(ee.COLOR,0,x)):(A[0]=Ot,A[1]=Nt,A[2]=Bt,A[3]=ht,ee.clearBufferiv(ee.COLOR,0,A))}else oe|=ee.COLOR_BUFFER_BIT}fe&&(oe|=ee.DEPTH_BUFFER_BIT),xe&&(oe|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",lt,!1),t.removeEventListener("webglcontextrestored",gt,!1),t.removeEventListener("webglcontextcreationerror",pt,!1),Ze.dispose(),at.dispose(),Ct.dispose(),Ge.dispose(),j.dispose(),se.dispose(),Le.dispose(),It.dispose(),Ee.dispose(),Ye.dispose(),Pe.dispose(),Pe.removeEventListener("sessionstart",hi),Pe.removeEventListener("sessionend",ji),vi.stop()};function lt(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const W=st.autoReset,fe=_t.enabled,xe=_t.autoUpdate,oe=_t.needsUpdate,Ce=_t.type;De(),st.autoReset=W,_t.enabled=fe,_t.autoUpdate=xe,_t.needsUpdate=oe,_t.type=Ce}function pt(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function Pt(W){const fe=W.target;fe.removeEventListener("dispose",Pt),tn(fe)}function tn(W){Gt(W),Ge.remove(W)}function Gt(W){const fe=Ge.get(W).programs;fe!==void 0&&(fe.forEach(function(xe){Ye.releaseProgram(xe)}),W.isShaderMaterial&&Ye.releaseShaderCache(W))}this.renderBufferDirect=function(W,fe,xe,oe,Ce,ke){fe===null&&(fe=Ie);const nt=Ce.isMesh&&Ce.matrixWorld.determinant()<0,ut=Te(W,fe,xe,oe,Ce);Be.setMaterial(oe,nt);let ht=xe.index,Ot=1;if(oe.wireframe===!0){if(ht=Me.getWireframeAttribute(xe),ht===void 0)return;Ot=2}const Nt=xe.drawRange,Bt=xe.attributes.position;let Qt=Nt.start*Ot,Ht=(Nt.start+Nt.count)*Ot;ke!==null&&(Qt=Math.max(Qt,ke.start*Ot),Ht=Math.min(Ht,(ke.start+ke.count)*Ot)),ht!==null?(Qt=Math.max(Qt,0),Ht=Math.min(Ht,ht.count)):Bt!=null&&(Qt=Math.max(Qt,0),Ht=Math.min(Ht,Bt.count));const Sn=Ht-Qt;if(Sn<0||Sn===1/0)return;It.setup(Ce,oe,ut,xe,ht);let Vt,zt=Ke;if(ht!==null&&(Vt=ve.get(ht),zt=wt,zt.setIndex(Vt)),Ce.isMesh)oe.wireframe===!0?(Be.setLineWidth(oe.wireframeLinewidth*we()),zt.setMode(ee.LINES)):zt.setMode(ee.TRIANGLES);else if(Ce.isLine){let Ft=oe.linewidth;Ft===void 0&&(Ft=1),Be.setLineWidth(Ft*we()),Ce.isLineSegments?zt.setMode(ee.LINES):Ce.isLineLoop?zt.setMode(ee.LINE_LOOP):zt.setMode(ee.LINE_STRIP)}else Ce.isPoints?zt.setMode(ee.POINTS):Ce.isSprite&&zt.setMode(ee.TRIANGLES);if(Ce.isBatchedMesh)if(Ce._multiDrawInstances!==null)zt.renderMultiDrawInstances(Ce._multiDrawStarts,Ce._multiDrawCounts,Ce._multiDrawCount,Ce._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))zt.renderMultiDraw(Ce._multiDrawStarts,Ce._multiDrawCounts,Ce._multiDrawCount);else{const Ft=Ce._multiDrawStarts,ii=Ce._multiDrawCounts,Zt=Ce._multiDrawCount,un=ht?ve.get(ht).bytesPerElement:1,Xn=Ge.get(oe).currentProgram.getUniforms();for(let dn=0;dn<Zt;dn++)Xn.setValue(ee,"_gl_DrawID",dn),zt.render(Ft[dn]/un,ii[dn])}else if(Ce.isInstancedMesh)zt.renderInstances(Qt,Sn,Ce.count);else if(xe.isInstancedBufferGeometry){const Ft=xe._maxInstanceCount!==void 0?xe._maxInstanceCount:1/0,ii=Math.min(xe.instanceCount,Ft);zt.renderInstances(Qt,Sn,ii)}else zt.render(Qt,Sn)};function Xt(W,fe,xe){W.transparent===!0&&W.side===Is&&W.forceSinglePass===!1?(W.side=ps,W.needsUpdate=!0,sn(W,fe,xe),W.side=kl,W.needsUpdate=!0,sn(W,fe,xe),W.side=Is):sn(W,fe,xe)}this.compile=function(W,fe,xe=null){xe===null&&(xe=W),E=Ct.get(xe),E.init(fe),R.push(E),xe.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(fe.layers)&&(E.pushLight(Ce),Ce.castShadow&&E.pushShadow(Ce))}),W!==xe&&W.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(fe.layers)&&(E.pushLight(Ce),Ce.castShadow&&E.pushShadow(Ce))}),E.setupLights();const oe=new Set;return W.traverse(function(Ce){if(!(Ce.isMesh||Ce.isPoints||Ce.isLine||Ce.isSprite))return;const ke=Ce.material;if(ke)if(Array.isArray(ke))for(let nt=0;nt<ke.length;nt++){const ut=ke[nt];Xt(ut,xe,Ce),oe.add(ut)}else Xt(ke,xe,Ce),oe.add(ke)}),R.pop(),E=null,oe},this.compileAsync=function(W,fe,xe=null){const oe=this.compile(W,fe,xe);return new Promise(Ce=>{function ke(){if(oe.forEach(function(nt){Ge.get(nt).currentProgram.isReady()&&oe.delete(nt)}),oe.size===0){Ce(W);return}setTimeout(ke,10)}Ne.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let jn=null;function zn(W){jn&&jn(W)}function hi(){vi.stop()}function ji(){vi.start()}const vi=new sI;vi.setAnimationLoop(zn),typeof self<"u"&&vi.setContext(self),this.setAnimationLoop=function(W){jn=W,Pe.setAnimationLoop(W),W===null?vi.stop():vi.start()},Pe.addEventListener("sessionstart",hi),Pe.addEventListener("sessionend",ji),this.render=function(W,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(Pe.cameraAutoUpdate===!0&&Pe.updateCamera(fe),fe=Pe.getCamera()),W.isScene===!0&&W.onBeforeRender(w,W,fe,F),E=Ct.get(W,R.length),E.init(fe),R.push(E),be.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),Q.setFromProjectionMatrix(be),me=this.localClippingEnabled,ce=ot.init(this.clippingPlanes,me),S=at.get(W,M.length),S.init(),M.push(S),Pe.enabled===!0&&Pe.isPresenting===!0){const ke=w.xr.getDepthSensingMesh();ke!==null&&Ei(ke,fe,-1/0,w.sortObjects)}Ei(W,fe,0,w.sortObjects),S.finish(),w.sortObjects===!0&&S.sort(de,V),ye=Pe.enabled===!1||Pe.isPresenting===!1||Pe.hasDepthSensing()===!1,ye&&Ze.addToRenderList(S,W),this.info.render.frame++,ce===!0&&ot.beginShadows();const xe=E.state.shadowsArray;_t.render(xe,W,fe),ce===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset();const oe=S.opaque,Ce=S.transmissive;if(E.setupLights(),fe.isArrayCamera){const ke=fe.cameras;if(Ce.length>0)for(let nt=0,ut=ke.length;nt<ut;nt++){const ht=ke[nt];Ti(oe,Ce,W,ht)}ye&&Ze.render(W);for(let nt=0,ut=ke.length;nt<ut;nt++){const ht=ke[nt];Xi(S,W,ht,ht.viewport)}}else Ce.length>0&&Ti(oe,Ce,W,fe),ye&&Ze.render(W),Xi(S,W,fe);F!==null&&H===0&&(Z.updateMultisampleRenderTarget(F),Z.updateRenderTargetMipmap(F)),W.isScene===!0&&W.onAfterRender(w,W,fe),It.resetDefaultState(),N=-1,L=null,R.pop(),R.length>0?(E=R[R.length-1],ce===!0&&ot.setGlobalState(w.clippingPlanes,E.state.camera)):E=null,M.pop(),M.length>0?S=M[M.length-1]:S=null};function Ei(W,fe,xe,oe){if(W.visible===!1)return;if(W.layers.test(fe.layers)){if(W.isGroup)xe=W.renderOrder;else if(W.isLOD)W.autoUpdate===!0&&W.update(fe);else if(W.isLight)E.pushLight(W),W.castShadow&&E.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||Q.intersectsSprite(W)){oe&&ze.setFromMatrixPosition(W.matrixWorld).applyMatrix4(be);const nt=Le.update(W),ut=W.material;ut.visible&&S.push(W,nt,ut,xe,ze.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(!W.frustumCulled||Q.intersectsObject(W))){const nt=Le.update(W),ut=W.material;if(oe&&(W.boundingSphere!==void 0?(W.boundingSphere===null&&W.computeBoundingSphere(),ze.copy(W.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),ze.copy(nt.boundingSphere.center)),ze.applyMatrix4(W.matrixWorld).applyMatrix4(be)),Array.isArray(ut)){const ht=nt.groups;for(let Ot=0,Nt=ht.length;Ot<Nt;Ot++){const Bt=ht[Ot],Qt=ut[Bt.materialIndex];Qt&&Qt.visible&&S.push(W,nt,Qt,xe,ze.z,Bt)}}else ut.visible&&S.push(W,nt,ut,xe,ze.z,null)}}const ke=W.children;for(let nt=0,ut=ke.length;nt<ut;nt++)Ei(ke[nt],fe,xe,oe)}function Xi(W,fe,xe,oe){const Ce=W.opaque,ke=W.transmissive,nt=W.transparent;E.setupLightsView(xe),ce===!0&&ot.setGlobalState(w.clippingPlanes,xe),oe&&Be.viewport(G.copy(oe)),Ce.length>0&&kt(Ce,fe,xe),ke.length>0&&kt(ke,fe,xe),nt.length>0&&kt(nt,fe,xe),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Ti(W,fe,xe,oe){if((xe.isScene===!0?xe.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[oe.id]===void 0&&(E.state.transmissionRenderTarget[oe.id]=new qo(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?ua:js,minFilter:Fs,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Fn.workingColorSpace}));const ke=E.state.transmissionRenderTarget[oe.id],nt=oe.viewport||G;ke.setSize(nt.z*w.transmissionResolutionScale,nt.w*w.transmissionResolutionScale);const ut=w.getRenderTarget();w.setRenderTarget(ke),w.getClearColor(J),ae=w.getClearAlpha(),ae<1&&w.setClearColor(16777215,.5),w.clear(),ye&&Ze.render(xe);const ht=w.toneMapping;w.toneMapping=Vc;const Ot=oe.viewport;if(oe.viewport!==void 0&&(oe.viewport=void 0),E.setupLightsView(oe),ce===!0&&ot.setGlobalState(w.clippingPlanes,oe),kt(W,xe,oe),Z.updateMultisampleRenderTarget(ke),Z.updateRenderTargetMipmap(ke),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let Nt=!1;for(let Bt=0,Qt=fe.length;Bt<Qt;Bt++){const Ht=fe[Bt],Sn=Ht.object,Vt=Ht.geometry,zt=Ht.material,Ft=Ht.group;if(zt.side===Is&&Sn.layers.test(oe.layers)){const ii=zt.side;zt.side=ps,zt.needsUpdate=!0,bn(Sn,xe,oe,Vt,zt,Ft),zt.side=ii,zt.needsUpdate=!0,Nt=!0}}Nt===!0&&(Z.updateMultisampleRenderTarget(ke),Z.updateRenderTargetMipmap(ke))}w.setRenderTarget(ut),w.setClearColor(J,ae),Ot!==void 0&&(oe.viewport=Ot),w.toneMapping=ht}function kt(W,fe,xe){const oe=fe.isScene===!0?fe.overrideMaterial:null;for(let Ce=0,ke=W.length;Ce<ke;Ce++){const nt=W[Ce],ut=nt.object,ht=nt.geometry,Ot=oe===null?nt.material:oe,Nt=nt.group;ut.layers.test(xe.layers)&&bn(ut,fe,xe,ht,Ot,Nt)}}function bn(W,fe,xe,oe,Ce,ke){W.onBeforeRender(w,fe,xe,oe,Ce,ke),W.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),Ce.onBeforeRender(w,fe,xe,oe,W,ke),Ce.transparent===!0&&Ce.side===Is&&Ce.forceSinglePass===!1?(Ce.side=ps,Ce.needsUpdate=!0,w.renderBufferDirect(xe,fe,oe,Ce,W,ke),Ce.side=kl,Ce.needsUpdate=!0,w.renderBufferDirect(xe,fe,oe,Ce,W,ke),Ce.side=Is):w.renderBufferDirect(xe,fe,oe,Ce,W,ke),W.onAfterRender(w,fe,xe,oe,Ce,ke)}function sn(W,fe,xe){fe.isScene!==!0&&(fe=Ie);const oe=Ge.get(W),Ce=E.state.lights,ke=E.state.shadowsArray,nt=Ce.state.version,ut=Ye.getParameters(W,Ce.state,ke,fe,xe),ht=Ye.getProgramCacheKey(ut);let Ot=oe.programs;oe.environment=W.isMeshStandardMaterial?fe.environment:null,oe.fog=fe.fog,oe.envMap=(W.isMeshStandardMaterial?se:j).get(W.envMap||oe.environment),oe.envMapRotation=oe.environment!==null&&W.envMap===null?fe.environmentRotation:W.envMapRotation,Ot===void 0&&(W.addEventListener("dispose",Pt),Ot=new Map,oe.programs=Ot);let Nt=Ot.get(ht);if(Nt!==void 0){if(oe.currentProgram===Nt&&oe.lightsStateVersion===nt)return ie(W,ut),Nt}else ut.uniforms=Ye.getUniforms(W),W.onBeforeCompile(ut,w),Nt=Ye.acquireProgram(ut,ht),Ot.set(ht,Nt),oe.uniforms=ut.uniforms;const Bt=oe.uniforms;return(!W.isShaderMaterial&&!W.isRawShaderMaterial||W.clipping===!0)&&(Bt.clippingPlanes=ot.uniform),ie(W,ut),oe.needsLights=rt(W),oe.lightsStateVersion=nt,oe.needsLights&&(Bt.ambientLightColor.value=Ce.state.ambient,Bt.lightProbe.value=Ce.state.probe,Bt.directionalLights.value=Ce.state.directional,Bt.directionalLightShadows.value=Ce.state.directionalShadow,Bt.spotLights.value=Ce.state.spot,Bt.spotLightShadows.value=Ce.state.spotShadow,Bt.rectAreaLights.value=Ce.state.rectArea,Bt.ltc_1.value=Ce.state.rectAreaLTC1,Bt.ltc_2.value=Ce.state.rectAreaLTC2,Bt.pointLights.value=Ce.state.point,Bt.pointLightShadows.value=Ce.state.pointShadow,Bt.hemisphereLights.value=Ce.state.hemi,Bt.directionalShadowMap.value=Ce.state.directionalShadowMap,Bt.directionalShadowMatrix.value=Ce.state.directionalShadowMatrix,Bt.spotShadowMap.value=Ce.state.spotShadowMap,Bt.spotLightMatrix.value=Ce.state.spotLightMatrix,Bt.spotLightMap.value=Ce.state.spotLightMap,Bt.pointShadowMap.value=Ce.state.pointShadowMap,Bt.pointShadowMatrix.value=Ce.state.pointShadowMatrix),oe.currentProgram=Nt,oe.uniformsList=null,Nt}function q(W){if(W.uniformsList===null){const fe=W.currentProgram.getUniforms();W.uniformsList=Px.seqWithValue(fe.seq,W.uniforms)}return W.uniformsList}function ie(W,fe){const xe=Ge.get(W);xe.outputColorSpace=fe.outputColorSpace,xe.batching=fe.batching,xe.batchingColor=fe.batchingColor,xe.instancing=fe.instancing,xe.instancingColor=fe.instancingColor,xe.instancingMorph=fe.instancingMorph,xe.skinning=fe.skinning,xe.morphTargets=fe.morphTargets,xe.morphNormals=fe.morphNormals,xe.morphColors=fe.morphColors,xe.morphTargetsCount=fe.morphTargetsCount,xe.numClippingPlanes=fe.numClippingPlanes,xe.numIntersection=fe.numClipIntersection,xe.vertexAlphas=fe.vertexAlphas,xe.vertexTangents=fe.vertexTangents,xe.toneMapping=fe.toneMapping}function Te(W,fe,xe,oe,Ce){fe.isScene!==!0&&(fe=Ie),Z.resetTextureUnits();const ke=fe.fog,nt=oe.isMeshStandardMaterial?fe.environment:null,ut=F===null?w.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Or,ht=(oe.isMeshStandardMaterial?se:j).get(oe.envMap||nt),Ot=oe.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,Nt=!!xe.attributes.tangent&&(!!oe.normalMap||oe.anisotropy>0),Bt=!!xe.morphAttributes.position,Qt=!!xe.morphAttributes.normal,Ht=!!xe.morphAttributes.color;let Sn=Vc;oe.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Sn=w.toneMapping);const Vt=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,zt=Vt!==void 0?Vt.length:0,Ft=Ge.get(oe),ii=E.state.lights;if(ce===!0&&(me===!0||W!==L)){const Wn=W===L&&oe.id===N;ot.setState(oe,W,Wn)}let Zt=!1;oe.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==ii.state.version||Ft.outputColorSpace!==ut||Ce.isBatchedMesh&&Ft.batching===!1||!Ce.isBatchedMesh&&Ft.batching===!0||Ce.isBatchedMesh&&Ft.batchingColor===!0&&Ce.colorTexture===null||Ce.isBatchedMesh&&Ft.batchingColor===!1&&Ce.colorTexture!==null||Ce.isInstancedMesh&&Ft.instancing===!1||!Ce.isInstancedMesh&&Ft.instancing===!0||Ce.isSkinnedMesh&&Ft.skinning===!1||!Ce.isSkinnedMesh&&Ft.skinning===!0||Ce.isInstancedMesh&&Ft.instancingColor===!0&&Ce.instanceColor===null||Ce.isInstancedMesh&&Ft.instancingColor===!1&&Ce.instanceColor!==null||Ce.isInstancedMesh&&Ft.instancingMorph===!0&&Ce.morphTexture===null||Ce.isInstancedMesh&&Ft.instancingMorph===!1&&Ce.morphTexture!==null||Ft.envMap!==ht||oe.fog===!0&&Ft.fog!==ke||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==ot.numPlanes||Ft.numIntersection!==ot.numIntersection)||Ft.vertexAlphas!==Ot||Ft.vertexTangents!==Nt||Ft.morphTargets!==Bt||Ft.morphNormals!==Qt||Ft.morphColors!==Ht||Ft.toneMapping!==Sn||Ft.morphTargetsCount!==zt)&&(Zt=!0):(Zt=!0,Ft.__version=oe.version);let un=Ft.currentProgram;Zt===!0&&(un=sn(oe,fe,Ce));let Xn=!1,dn=!1,Yt=!1;const hn=un.getUniforms(),si=Ft.uniforms;if(Be.useProgram(un.program)&&(Xn=!0,dn=!0,Yt=!0),oe.id!==N&&(N=oe.id,dn=!0),Xn||L!==W){Be.buffers.depth.getReversed()?(ge.copy(W.projectionMatrix),_H(ge),xH(ge),hn.setValue(ee,"projectionMatrix",ge)):hn.setValue(ee,"projectionMatrix",W.projectionMatrix),hn.setValue(ee,"viewMatrix",W.matrixWorldInverse);const Ui=hn.map.cameraPosition;Ui!==void 0&&Ui.setValue(ee,je.setFromMatrixPosition(W.matrixWorld)),Xe.logarithmicDepthBuffer&&hn.setValue(ee,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&hn.setValue(ee,"isOrthographic",W.isOrthographicCamera===!0),L!==W&&(L=W,dn=!0,Yt=!0)}if(Ce.isSkinnedMesh){hn.setOptional(ee,Ce,"bindMatrix"),hn.setOptional(ee,Ce,"bindMatrixInverse");const Wn=Ce.skeleton;Wn&&(Wn.boneTexture===null&&Wn.computeBoneTexture(),hn.setValue(ee,"boneTexture",Wn.boneTexture,Z))}Ce.isBatchedMesh&&(hn.setOptional(ee,Ce,"batchingTexture"),hn.setValue(ee,"batchingTexture",Ce._matricesTexture,Z),hn.setOptional(ee,Ce,"batchingIdTexture"),hn.setValue(ee,"batchingIdTexture",Ce._indirectTexture,Z),hn.setOptional(ee,Ce,"batchingColorTexture"),Ce._colorsTexture!==null&&hn.setValue(ee,"batchingColorTexture",Ce._colorsTexture,Z));const On=xe.morphAttributes;if((On.position!==void 0||On.normal!==void 0||On.color!==void 0)&&tt.update(Ce,xe,un),(dn||Ft.receiveShadow!==Ce.receiveShadow)&&(Ft.receiveShadow=Ce.receiveShadow,hn.setValue(ee,"receiveShadow",Ce.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(si.envMap.value=ht,si.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),oe.isMeshStandardMaterial&&oe.envMap===null&&fe.environment!==null&&(si.envMapIntensity.value=fe.environmentIntensity),dn&&(hn.setValue(ee,"toneMappingExposure",w.toneMappingExposure),Ft.needsLights&&We(si,Yt),ke&&oe.fog===!0&&et.refreshFogUniforms(si,ke),et.refreshMaterialUniforms(si,oe,le,he,E.state.transmissionRenderTarget[W.id]),Px.upload(ee,q(Ft),si,Z)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(Px.upload(ee,q(Ft),si,Z),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&hn.setValue(ee,"center",Ce.center),hn.setValue(ee,"modelViewMatrix",Ce.modelViewMatrix),hn.setValue(ee,"normalMatrix",Ce.normalMatrix),hn.setValue(ee,"modelMatrix",Ce.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const Wn=oe.uniformsGroups;for(let Ui=0,Zr=Wn.length;Ui<Zr;Ui++){const Tr=Wn[Ui];Ee.update(Tr,un),Ee.bind(Tr,un)}}return un}function We(W,fe){W.ambientLightColor.needsUpdate=fe,W.lightProbe.needsUpdate=fe,W.directionalLights.needsUpdate=fe,W.directionalLightShadows.needsUpdate=fe,W.pointLights.needsUpdate=fe,W.pointLightShadows.needsUpdate=fe,W.spotLights.needsUpdate=fe,W.spotLightShadows.needsUpdate=fe,W.rectAreaLights.needsUpdate=fe,W.hemisphereLights.needsUpdate=fe}function rt(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&W.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(W,fe,xe){Ge.get(W.texture).__webglTexture=fe,Ge.get(W.depthTexture).__webglTexture=xe;const oe=Ge.get(W);oe.__hasExternalTextures=!0,oe.__autoAllocateDepthBuffer=xe===void 0,oe.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(W,fe){const xe=Ge.get(W);xe.__webglFramebuffer=fe,xe.__useDefaultFramebuffer=fe===void 0};const it=ee.createFramebuffer();this.setRenderTarget=function(W,fe=0,xe=0){F=W,U=fe,H=xe;let oe=!0,Ce=null,ke=!1,nt=!1;if(W){const ht=Ge.get(W);if(ht.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(ee.FRAMEBUFFER,null),oe=!1;else if(ht.__webglFramebuffer===void 0)Z.setupRenderTarget(W);else if(ht.__hasExternalTextures)Z.rebindTextures(W,Ge.get(W.texture).__webglTexture,Ge.get(W.depthTexture).__webglTexture);else if(W.depthBuffer){const Bt=W.depthTexture;if(ht.__boundDepthTexture!==Bt){if(Bt!==null&&Ge.has(Bt)&&(W.width!==Bt.image.width||W.height!==Bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Z.setupDepthRenderbuffer(W)}}const Ot=W.texture;(Ot.isData3DTexture||Ot.isDataArrayTexture||Ot.isCompressedArrayTexture)&&(nt=!0);const Nt=Ge.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?(Array.isArray(Nt[fe])?Ce=Nt[fe][xe]:Ce=Nt[fe],ke=!0):W.samples>0&&Z.useMultisampledRTT(W)===!1?Ce=Ge.get(W).__webglMultisampledFramebuffer:Array.isArray(Nt)?Ce=Nt[xe]:Ce=Nt,G.copy(W.viewport),X.copy(W.scissor),Y=W.scissorTest}else G.copy(K).multiplyScalar(le).floor(),X.copy(re).multiplyScalar(le).floor(),Y=pe;if(xe!==0&&(Ce=it),Be.bindFramebuffer(ee.FRAMEBUFFER,Ce)&&oe&&Be.drawBuffers(W,Ce),Be.viewport(G),Be.scissor(X),Be.setScissorTest(Y),ke){const ht=Ge.get(W.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+fe,ht.__webglTexture,xe)}else if(nt){const ht=Ge.get(W.texture),Ot=fe;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ht.__webglTexture,xe,Ot)}else if(W!==null&&xe!==0){const ht=Ge.get(W.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ht.__webglTexture,xe)}N=-1},this.readRenderTargetPixels=function(W,fe,xe,oe,Ce,ke,nt){if(!(W&&W.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=Ge.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&nt!==void 0&&(ut=ut[nt]),ut){Be.bindFramebuffer(ee.FRAMEBUFFER,ut);try{const ht=W.texture,Ot=ht.format,Nt=ht.type;if(!Xe.textureFormatReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xe.textureTypeReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=W.width-oe&&xe>=0&&xe<=W.height-Ce&&ee.readPixels(fe,xe,oe,Ce,xt.convert(Ot),xt.convert(Nt),ke)}finally{const ht=F!==null?Ge.get(F).__webglFramebuffer:null;Be.bindFramebuffer(ee.FRAMEBUFFER,ht)}}},this.readRenderTargetPixelsAsync=async function(W,fe,xe,oe,Ce,ke,nt){if(!(W&&W.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ut=Ge.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&nt!==void 0&&(ut=ut[nt]),ut){const ht=W.texture,Ot=ht.format,Nt=ht.type;if(!Xe.textureFormatReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xe.textureTypeReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(fe>=0&&fe<=W.width-oe&&xe>=0&&xe<=W.height-Ce){Be.bindFramebuffer(ee.FRAMEBUFFER,ut);const Bt=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Bt),ee.bufferData(ee.PIXEL_PACK_BUFFER,ke.byteLength,ee.STREAM_READ),ee.readPixels(fe,xe,oe,Ce,xt.convert(Ot),xt.convert(Nt),0);const Qt=F!==null?Ge.get(F).__webglFramebuffer:null;Be.bindFramebuffer(ee.FRAMEBUFFER,Qt);const Ht=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await yH(ee,Ht,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Bt),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,ke),ee.deleteBuffer(Bt),ee.deleteSync(Ht),ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(W,fe=null,xe=0){W.isTexture!==!0&&(Zm("WebGLRenderer: copyFramebufferToTexture function signature has changed."),fe=arguments[0]||null,W=arguments[1]);const oe=Math.pow(2,-xe),Ce=Math.floor(W.image.width*oe),ke=Math.floor(W.image.height*oe),nt=fe!==null?fe.x:0,ut=fe!==null?fe.y:0;Z.setTexture2D(W,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,xe,0,0,nt,ut,Ce,ke),Be.unbindTexture()};const At=ee.createFramebuffer(),vt=ee.createFramebuffer();this.copyTextureToTexture=function(W,fe,xe=null,oe=null,Ce=0,ke=null){W.isTexture!==!0&&(Zm("WebGLRenderer: copyTextureToTexture function signature has changed."),oe=arguments[0]||null,W=arguments[1],fe=arguments[2],ke=arguments[3]||0,xe=null),ke===null&&(Ce!==0?(Zm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ke=Ce,Ce=0):ke=0);let nt,ut,ht,Ot,Nt,Bt,Qt,Ht,Sn;const Vt=W.isCompressedTexture?W.mipmaps[ke]:W.image;if(xe!==null)nt=xe.max.x-xe.min.x,ut=xe.max.y-xe.min.y,ht=xe.isBox3?xe.max.z-xe.min.z:1,Ot=xe.min.x,Nt=xe.min.y,Bt=xe.isBox3?xe.min.z:0;else{const On=Math.pow(2,-Ce);nt=Math.floor(Vt.width*On),ut=Math.floor(Vt.height*On),W.isDataArrayTexture?ht=Vt.depth:W.isData3DTexture?ht=Math.floor(Vt.depth*On):ht=1,Ot=0,Nt=0,Bt=0}oe!==null?(Qt=oe.x,Ht=oe.y,Sn=oe.z):(Qt=0,Ht=0,Sn=0);const zt=xt.convert(fe.format),Ft=xt.convert(fe.type);let ii;fe.isData3DTexture?(Z.setTexture3D(fe,0),ii=ee.TEXTURE_3D):fe.isDataArrayTexture||fe.isCompressedArrayTexture?(Z.setTexture2DArray(fe,0),ii=ee.TEXTURE_2D_ARRAY):(Z.setTexture2D(fe,0),ii=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,fe.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,fe.unpackAlignment);const Zt=ee.getParameter(ee.UNPACK_ROW_LENGTH),un=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Xn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),dn=ee.getParameter(ee.UNPACK_SKIP_ROWS),Yt=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Vt.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Vt.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Ot),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Nt),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Bt);const hn=W.isDataArrayTexture||W.isData3DTexture,si=fe.isDataArrayTexture||fe.isData3DTexture;if(W.isDepthTexture){const On=Ge.get(W),Wn=Ge.get(fe),Ui=Ge.get(On.__renderTarget),Zr=Ge.get(Wn.__renderTarget);Be.bindFramebuffer(ee.READ_FRAMEBUFFER,Ui.__webglFramebuffer),Be.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Zr.__webglFramebuffer);for(let Tr=0;Tr<ht;Tr++)hn&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Ge.get(W).__webglTexture,Ce,Bt+Tr),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Ge.get(fe).__webglTexture,ke,Sn+Tr)),ee.blitFramebuffer(Ot,Nt,nt,ut,Qt,Ht,nt,ut,ee.DEPTH_BUFFER_BIT,ee.NEAREST);Be.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(Ce!==0||W.isRenderTargetTexture||Ge.has(W)){const On=Ge.get(W),Wn=Ge.get(fe);Be.bindFramebuffer(ee.READ_FRAMEBUFFER,At),Be.bindFramebuffer(ee.DRAW_FRAMEBUFFER,vt);for(let Ui=0;Ui<ht;Ui++)hn?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,On.__webglTexture,Ce,Bt+Ui):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,On.__webglTexture,Ce),si?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Wn.__webglTexture,ke,Sn+Ui):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,Wn.__webglTexture,ke),Ce!==0?ee.blitFramebuffer(Ot,Nt,nt,ut,Qt,Ht,nt,ut,ee.COLOR_BUFFER_BIT,ee.NEAREST):si?ee.copyTexSubImage3D(ii,ke,Qt,Ht,Sn+Ui,Ot,Nt,nt,ut):ee.copyTexSubImage2D(ii,ke,Qt,Ht,Ot,Nt,nt,ut);Be.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else si?W.isDataTexture||W.isData3DTexture?ee.texSubImage3D(ii,ke,Qt,Ht,Sn,nt,ut,ht,zt,Ft,Vt.data):fe.isCompressedArrayTexture?ee.compressedTexSubImage3D(ii,ke,Qt,Ht,Sn,nt,ut,ht,zt,Vt.data):ee.texSubImage3D(ii,ke,Qt,Ht,Sn,nt,ut,ht,zt,Ft,Vt):W.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,ke,Qt,Ht,nt,ut,zt,Ft,Vt.data):W.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,ke,Qt,Ht,Vt.width,Vt.height,zt,Vt.data):ee.texSubImage2D(ee.TEXTURE_2D,ke,Qt,Ht,nt,ut,zt,Ft,Vt);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Zt),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,un),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Xn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,dn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Yt),ke===0&&fe.generateMipmaps&&ee.generateMipmap(ii),Be.unbindTexture()},this.copyTextureToTexture3D=function(W,fe,xe=null,oe=null,Ce=0){return W.isTexture!==!0&&(Zm("WebGLRenderer: copyTextureToTexture3D function signature has changed."),xe=arguments[0]||null,oe=arguments[1]||null,W=arguments[2],fe=arguments[3],Ce=arguments[4]||0),Zm('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(W,fe,xe,oe,Ce)},this.initRenderTarget=function(W){Ge.get(W).__webglFramebuffer===void 0&&Z.setupRenderTarget(W)},this.initTexture=function(W){W.isCubeTexture?Z.setTextureCube(W,0):W.isData3DTexture?Z.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?Z.setTexture2DArray(W,0):Z.setTexture2D(W,0),Be.unbindTexture()},this.resetState=function(){U=0,H=0,F=null,Be.reset(),It.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Hl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Fn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Fn._getUnpackColorSpace()}}const dI=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Bg,AddEquation:ud,AddOperation:qU,AdditiveAnimationBlendMode:vC,AdditiveBlending:ET,AgXToneMapping:QU,AlphaFormat:fC,AlwaysCompare:hL,AlwaysDepth:eb,AlwaysStencilFunc:RT,AmbientLight:JL,AnimationAction:rI,AnimationClip:xp,AnimationLoader:Vz,AnimationMixer:p9,AnimationObjectGroup:d9,AnimationUtils:Hz,ArcCurve:TL,ArrayCamera:tI,ArrowHelper:P9,AttachedBindMode:CT,Audio:nI,AudioAnalyser:n9,AudioContext:kC,AudioListener:Qz,AudioLoader:Jz,AxesHelper:F9,BackSide:ps,BasicDepthPacking:aL,BasicShadowMap:wU,BatchedMesh:SL,Bone:Py,BooleanKeyframeTrack:Op,Box2:S9,Box3:kr,Box3Helper:L9,BoxGeometry:Rp,BoxHelper:U9,BufferAttribute:Hn,BufferGeometry:vn,BufferGeometryLoader:eI,ByteType:yA,Cache:qu,Camera:wA,CameraHelper:N9,CanvasTexture:cz,CapsuleGeometry:PA,CatmullRomCurve3:ML,CineonToneMapping:ZU,CircleGeometry:FA,ClampToEdgeWrapping:xr,Clock:VC,Color:Rt,ColorKeyframeTrack:IC,ColorManagement:Fn,CompressedArrayTexture:oz,CompressedCubeTexture:lz,CompressedTexture:LA,CompressedTextureLoader:jz,ConeGeometry:HA,ConstantAlphaFactor:XU,ConstantColorFactor:VU,Controls:z9,CubeCamera:_L,CubeReflectionMapping:Yc,CubeRefractionMapping:bd,CubeTexture:Ly,CubeTextureLoader:qL,CubeUVReflectionMapping:Og,CubicBezierCurve:RC,CubicBezierCurve3:CL,CubicInterpolant:XL,CullFaceBack:ST,CullFaceFront:CU,CullFaceFrontBack:E8,CullFaceNone:MU,Curve:Wl,CurvePath:RL,CustomBlending:RU,CustomToneMapping:$U,CylinderGeometry:Ig,Cylindrical:A9,Data3DTexture:CA,DataArrayTexture:Uy,DataTexture:zl,DataTextureLoader:PC,DataUtils:Yh,DecrementStencilOp:U8,DecrementWrapStencilOp:I8,DefaultLoadingManager:eg,DepthFormat:ip,DepthStencilFormat:gp,DepthTexture:CC,DetachedBindMode:tL,DirectionalLight:e2,DirectionalLightHelper:O9,DiscreteInterpolant:WL,DodecahedronGeometry:zA,DoubleSide:Is,DstAlphaFactor:FU,DstColorFactor:zU,DynamicCopyUsage:Z8,DynamicDrawUsage:X8,DynamicReadUsage:q8,EdgesGeometry:DL,EllipseCurve:IA,EqualCompare:cL,EqualDepth:nb,EqualStencilFunc:z8,EquirectangularReflectionMapping:gg,EquirectangularRefractionMapping:ty,Euler:vo,EventDispatcher:Qc,ExtrudeGeometry:kA,FileLoader:Br,Float16BufferAttribute:GH,Float32BufferAttribute:qt,FloatType:or,Fog:DA,FogExp2:RA,FramebufferTexture:sz,FrontSide:kl,Frustum:Fy,GLBufferAttribute:x9,GLSL1:Q8,GLSL3:DT,GreaterCompare:uL,GreaterDepth:rb,GreaterEqualCompare:dL,GreaterEqualDepth:ib,GreaterEqualStencilFunc:j8,GreaterStencilFunc:k8,GridHelper:D9,Group:Xo,HalfFloatType:ua,HemisphereLight:KL,HemisphereLightHelper:R9,IcosahedronGeometry:Gy,ImageBitmapLoader:GC,ImageLoader:fy,ImageUtils:gL,IncrementStencilOp:N8,IncrementWrapStencilOp:L8,InstancedBufferAttribute:tf,InstancedBufferGeometry:zC,InstancedInterleavedBuffer:_9,InstancedMesh:OA,Int16BufferAttribute:HH,Int32BufferAttribute:zH,Int8BufferAttribute:IH,IntType:Dy,InterleavedBuffer:Ug,InterleavedBufferAttribute:ef,Interpolant:Bp,InterpolateDiscrete:vp,InterpolateLinear:Ad,InterpolateSmooth:Lx,InvertStencilOp:P8,KeepStencilOp:Hh,KeyframeTrack:ql,LOD:AL,LatheGeometry:zy,Layers:_g,LessCompare:lL,LessDepth:tb,LessEqualCompare:xC,LessEqualDepth:hp,LessEqualStencilFunc:G8,LessStencilFunc:H8,Light:Ud,LightProbe:QL,Line:Kc,Line3:E9,LineBasicMaterial:Ta,LineCurve:DC,LineCurve3:wL,LineDashedMaterial:kL,LineLoop:NA,LineSegments:Ko,LinearFilter:Yn,LinearInterpolant:LC,LinearMipMapLinearFilter:wT,LinearMipMapNearestFilter:C8,LinearMipmapLinearFilter:Fs,LinearMipmapNearestFilter:np,LinearSRGBColorSpace:Or,LinearToneMapping:KU,LinearTransfer:iy,Loader:Jr,LoaderUtils:mo,LoadingManager:ZA,LoopOnce:nL,LoopPingPong:rL,LoopRepeat:iL,LuminanceAlphaFormat:pC,LuminanceFormat:hC,MOUSE:A8,Material:Ar,MaterialLoader:t2,MathUtils:TA,Matrix2:qC,Matrix3:_n,Matrix4:en,MaxEquation:NU,Mesh:Ai,MeshBasicMaterial:zr,MeshDepthMaterial:KA,MeshDistanceMaterial:JA,MeshLambertMaterial:zL,MeshMatcapMaterial:GL,MeshNormalMaterial:HL,MeshPhongMaterial:PL,MeshPhysicalMaterial:Er,MeshStandardMaterial:Dp,MeshToonMaterial:FL,MinEquation:OU,MirroredRepeatWrapping:pp,MixOperation:YU,MultiplyBlending:MT,MultiplyOperation:wy,NearestFilter:Gr,NearestMipMapLinearFilter:M8,NearestMipMapNearestFilter:T8,NearestMipmapLinearFilter:dd,NearestMipmapNearestFilter:Ry,NeutralToneMapping:eL,NeverCompare:oL,NeverDepth:Qx,NeverStencilFunc:F8,NoBlending:kc,NoColorSpace:Xu,NoToneMapping:Vc,NormalAnimationBlendMode:EA,NormalBlending:tp,NotEqualCompare:fL,NotEqualDepth:ab,NotEqualStencilFunc:V8,NumberKeyframeTrack:nf,Object3D:Vn,ObjectLoader:qz,ObjectSpaceNormalMap:sL,OctahedronGeometry:ky,OneFactor:LU,OneMinusConstantAlphaFactor:WU,OneMinusConstantColorFactor:jU,OneMinusDstAlphaFactor:HU,OneMinusDstColorFactor:GU,OneMinusSrcAlphaFactor:$x,OneMinusSrcColorFactor:PU,OrthographicCamera:Ld,PCFShadowMap:vA,PCFSoftShadowMap:Ov,PMREMGenerator:PT,Path:oy,PerspectiveCamera:Hr,Plane:cd,PlaneGeometry:Yl,PlaneHelper:I9,PointLight:QA,PointLightHelper:C9,Points:UA,PointsMaterial:Hy,PolarGridHelper:B9,PolyhedronGeometry:Nd,PositionalAudio:t9,PropertyBinding:Zn,PropertyMixer:iI,QuadraticBezierCurve:BC,QuadraticBezierCurve3:OC,Quaternion:da,QuaternionKeyframeTrack:rf,QuaternionLinearInterpolant:YL,RED_GREEN_RGTC2_Format:Db,RED_RGTC1_Format:gC,REVISION:Cy,RGBADepthPacking:_C,RGBAFormat:Dr,RGBAIntegerFormat:SA,RGBA_ASTC_10x10_Format:Eb,RGBA_ASTC_10x5_Format:bb,RGBA_ASTC_10x6_Format:Ab,RGBA_ASTC_10x8_Format:Sb,RGBA_ASTC_12x10_Format:Tb,RGBA_ASTC_12x12_Format:Mb,RGBA_ASTC_4x4_Format:hb,RGBA_ASTC_5x4_Format:pb,RGBA_ASTC_5x5_Format:mb,RGBA_ASTC_6x5_Format:gb,RGBA_ASTC_6x6_Format:vb,RGBA_ASTC_8x5_Format:yb,RGBA_ASTC_8x6_Format:_b,RGBA_ASTC_8x8_Format:xb,RGBA_BPTC_Format:Pv,RGBA_ETC2_EAC_Format:db,RGBA_PVRTC_2BPPV1_Format:cb,RGBA_PVRTC_4BPPV1_Format:lb,RGBA_S3TC_DXT1_Format:Uv,RGBA_S3TC_DXT3_Format:Lv,RGBA_S3TC_DXT5_Format:Iv,RGBDepthPacking:R8,RGBFormat:dC,RGBIntegerFormat:w8,RGB_BPTC_SIGNED_Format:Cb,RGB_BPTC_UNSIGNED_Format:wb,RGB_ETC1_Format:ub,RGB_ETC2_Format:fb,RGB_PVRTC_2BPPV1_Format:ob,RGB_PVRTC_4BPPV1_Format:sb,RGB_S3TC_DXT1_Format:Nv,RGDepthPacking:D8,RGFormat:mC,RGIntegerFormat:AA,RawShaderMaterial:IL,Ray:Ng,Raycaster:YC,RectAreaLight:ZL,RedFormat:By,RedIntegerFormat:Oy,ReinhardToneMapping:JU,RenderTarget:MA,RenderTarget3D:m9,RenderTargetArray:g9,RepeatWrapping:Vl,ReplaceStencilOp:O8,ReverseSubtractEquation:BU,RingGeometry:VA,SIGNED_RED_GREEN_RGTC2_Format:Bb,SIGNED_RED_RGTC1_Format:Rb,SRGBColorSpace:Ii,SRGBTransfer:gi,Scene:Iy,ShaderChunk:En,ShaderLib:Fl,ShaderMaterial:Xs,ShadowMaterial:LL,Shape:ap,ShapeGeometry:jA,ShapePath:H9,ShapeUtils:jc,ShortType:_A,Skeleton:Lg,SkeletonHelper:M9,SkinnedMesh:BA,Source:Wh,Sphere:Yr,SphereGeometry:Vy,Spherical:b9,SphericalHarmonics3:$L,SplineCurve:NC,SpotLight:$A,SpotLightHelper:T9,Sprite:bL,SpriteMaterial:MC,SrcAlphaFactor:Zx,SrcAlphaSaturateFactor:kU,SrcColorFactor:IU,StaticCopyUsage:J8,StaticDrawUsage:ry,StaticReadUsage:Y8,StereoCamera:Zz,StreamCopyUsage:$8,StreamDrawUsage:W8,StreamReadUsage:K8,StringKeyframeTrack:Np,SubtractEquation:DU,SubtractiveBlending:TT,TOUCH:S8,TangentSpaceNormalMap:Od,TetrahedronGeometry:XA,Texture:ni,TextureLoader:FC,TextureUtils:X9,TimestampQuery:eH,TorusGeometry:WA,TorusKnotGeometry:YA,Triangle:Ps,TriangleFanDrawMode:yp,TriangleStripDrawMode:Ny,TrianglesDrawMode:yC,TubeGeometry:qA,UVMapping:xd,Uint16BufferAttribute:AC,Uint32BufferAttribute:SC,Uint8BufferAttribute:PH,Uint8ClampedBufferAttribute:FH,Uniform:WC,UniformsGroup:y9,UniformsLib:Lt,UniformsUtils:EC,UnsignedByteType:js,UnsignedInt248Type:mp,UnsignedInt5999Type:uC,UnsignedIntType:qc,UnsignedShort4444Type:xA,UnsignedShort5551Type:bA,UnsignedShortType:vg,VSMShadowMap:Pl,Vector2:mt,Vector3:ue,Vector4:$n,VectorKeyframeTrack:af,VideoFrameTexture:az,VideoTexture:EL,WebGL3DRenderTarget:TH,WebGLArrayRenderTarget:EH,WebGLCoordinateSystem:Hl,WebGLCubeRenderTarget:TC,WebGLRenderTarget:qo,WebGLRenderer:JC,WebGLUtils:fI,WebGPUCoordinateSystem:ay,WebXRController:Ix,WireframeGeometry:UL,WrapAroundEnding:ny,ZeroCurvatureEnding:jh,ZeroFactor:UU,ZeroSlopeEnding:Xh,ZeroStencilOp:B8,createCanvasElement:mL},Symbol.toStringTag,{value:"Module"}));var rE={exports:{}},Fu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function Tj(){return kD||(kD=1,Fu.ConcurrentRoot=1,Fu.ContinuousEventPriority=8,Fu.DefaultEventPriority=32,Fu.DiscreteEventPriority=2,Fu.IdleEventPriority=268435456,Fu.LegacyRoot=0,Fu.NoEventPriority=0),Fu}var VD;function Mj(){return VD||(VD=1,rE.exports=Tj()),rE.exports}var Fx=Mj(),aE={exports:{}},sE={},oE={exports:{}},lE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD;function Cj(){if(jD)return lE;jD=1;var r=wp();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function o(p,v){var y=v(),x=n({inst:{value:y,getSnapshot:v}}),A=x[0].inst,S=x[1];return a(function(){A.value=y,A.getSnapshot=v,l(A)&&S({inst:A})},[p,y,v]),i(function(){return l(A)&&S({inst:A}),p(function(){l(A)&&S({inst:A})})},[p]),s(y),y}function l(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!t(p,y)}catch{return!0}}function u(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return lE.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,lE}var XD;function wj(){return XD||(XD=1,oE.exports=Cj()),oE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WD;function Rj(){if(WD)return sE;WD=1;var r=wp(),e=wj();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return sE.useSyncExternalStoreWithSelector=function(u,d,p,v,y){var x=a(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=o(function(){function E(U){if(!M){if(M=!0,R=U,U=v(U),y!==void 0&&A.hasValue){var H=A.value;if(y(H,U))return w=H}return w=U}if(H=w,n(R,U))return H;var F=v(U);return y!==void 0&&y(H,F)?(R=U,H):(R=U,w=F)}var M=!1,R,w,I=p===void 0?null:p;return[function(){return E(d())},I===null?void 0:function(){return E(I())}]},[d,p,v,y]);var S=i(u,x[0],x[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),l(S),S},sE}var YD;function Dj(){return YD||(YD=1,aE.exports=Rj()),aE.exports}var Bj=Dj();const Oj=ff(Bj),qD=r=>{let e;const t=new Set,n=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,v))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=r(n,i,o);return o},hI=r=>r?qD(r):qD,{useSyncExternalStoreWithSelector:Nj}=Oj,Uj=r=>r;function Lj(r,e=Uj,t){const n=Nj(r.subscribe,r.getState,r.getInitialState,e,t);return Ae.useDebugValue(n),n}const KD=(r,e)=>{const t=hI(r),n=(i,a=e)=>Lj(t,i,a);return Object.assign(n,t),n},pI=(r,e)=>r?KD(r,e):KD;var cE={exports:{}},uE={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function Ij(){return JD||(JD=1,function(r){r.exports=function(e){function t(h,m,b,C){return new y1(h,m,b,C)}function n(){}function i(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=oi&&h[oi]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===hr?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case hc:return"Fragment";case wo:return"Portal";case pc:return"Profiler";case gu:return"StrictMode";case gl:return"Suspense";case oh:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case mc:return(h.displayName||"Context")+".Provider";case p0:return(h._context.displayName||"Context")+".Consumer";case $p:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Cf:return m=h.displayName||null,m!==null?m:s(h.type)||"Memo";case vl:m=h._payload,h=h._init;try{return s(h(m))}catch{}}return null}function o(h){if(gc===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);gc=m&&m[1]||"",vc=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gc+h+vc}function l(h,m){if(!h||wf)return"";wf=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(gn){var Et=gn}Reflect.construct(h,[],Ut)}else{try{Ut.call()}catch(gn){Et=gn}h.call(Ut.prototype)}}else{try{throw Error()}catch(gn){Et=gn}(Ut=h())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(gn){if(gn&&Et&&typeof gn.stack=="string")return[gn.stack,Et.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=C.DetermineComponentFrameRoot(),ne=z[0],Se=z[1];if(ne&&Se){var He=ne.split(`
`),ft=Se.split(`
`);for(O=C=0;C<He.length&&!He[C].includes("DetermineComponentFrameRoot");)C++;for(;O<ft.length&&!ft[O].includes("DetermineComponentFrameRoot");)O++;if(C===He.length||O===ft.length)for(C=He.length-1,O=ft.length-1;1<=C&&0<=O&&He[C]!==ft[O];)O--;for(;1<=C&&0<=O;C--,O--)if(He[C]!==ft[O]){if(C!==1||O!==1)do if(C--,O--,0>O||He[C]!==ft[O]){var Tt=`
`+He[C].replace(" at new "," at ");return h.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",h.displayName)),Tt}while(1<=C&&0<=O);break}}}finally{wf=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?o(b):""}function u(h){switch(h.tag){case 26:case 27:case 5:return o(h.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return h=l(h.type,!1),h;case 11:return h=l(h.type.render,!1),h;case 1:return h=l(h.type,!0),h;default:return""}}function d(h){try{var m="";do m+=u(h),h=h.return;while(h);return m}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function p(h){var m=h,b=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(b=m.return),h=m.return;while(h)}return m.tag===3?b:null}function v(h){if(p(h)!==h)throw Error(i(188))}function y(h){var m=h.alternate;if(!m){if(m=p(h),m===null)throw Error(i(188));return m!==h?null:h}for(var b=h,C=m;;){var O=b.return;if(O===null)break;var z=O.alternate;if(z===null){if(C=O.return,C!==null){b=C;continue}break}if(O.child===z.child){for(z=O.child;z;){if(z===b)return v(O),h;if(z===C)return v(O),m;z=z.sibling}throw Error(i(188))}if(b.return!==C.return)b=O,C=z;else{for(var ne=!1,Se=O.child;Se;){if(Se===b){ne=!0,b=O,C=z;break}if(Se===C){ne=!0,C=O,b=z;break}Se=Se.sibling}if(!ne){for(Se=z.child;Se;){if(Se===b){ne=!0,b=z,C=O;break}if(Se===C){ne=!0,C=z,b=O;break}Se=Se.sibling}if(!ne)throw Error(i(189))}}if(b.alternate!==C)throw Error(i(190))}if(b.tag!==3)throw Error(i(188));return b.stateNode.current===b?h:m}function x(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=x(h),m!==null)return m;h=h.sibling}return null}function A(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(m=A(h),m!==null))return m;h=h.sibling}return null}function S(h){return{current:h}}function E(h){0>bc||(h.current=fm[bc],fm[bc]=null,bc--)}function M(h,m){bc++,fm[bc]=h.current,h.current=m}function R(h){return h>>>=0,h===0?32:31-(F0(h)/z2|0)|0}function w(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function I(h,m){var b=h.pendingLanes;if(b===0)return 0;var C=0,O=h.suspendedLanes,z=h.pingedLanes,ne=h.warmLanes;h=h.finishedLanes!==0;var Se=b&134217727;return Se!==0?(b=Se&~O,b!==0?C=w(b):(z&=Se,z!==0?C=w(z):h||(ne=Se&~ne,ne!==0&&(C=w(ne))))):(Se=b&~O,Se!==0?C=w(Se):z!==0?C=w(z):h||(ne=b&~ne,ne!==0&&(C=w(ne)))),C===0?0:m!==0&&m!==C&&(m&O)===0&&(O=C&-C,ne=m&-m,O>=ne||O===32&&(ne&4194176)!==0)?m:C}function U(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function H(h,m){switch(h){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var h=fh;return fh<<=1,(fh&4194176)===0&&(fh=128),h}function N(){var h=Nf;return Nf<<=1,(Nf&62914560)===0&&(Nf=4194304),h}function L(h){for(var m=[],b=0;31>b;b++)m.push(h);return m}function G(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function X(h,m,b,C,O,z){var ne=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var Se=h.entanglements,He=h.expirationTimes,ft=h.hiddenUpdates;for(b=ne&~b;0<b;){var Tt=31-Ji(b),Ut=1<<Tt;Se[Tt]=0,He[Tt]=-1;var Et=ft[Tt];if(Et!==null)for(ft[Tt]=null,Tt=0;Tt<Et.length;Tt++){var gn=Et[Tt];gn!==null&&(gn.lane&=-536870913)}b&=~Ut}C!==0&&Y(h,C,0),z!==0&&O===0&&h.tag!==0&&(h.suspendedLanes|=z&~(ne&~m))}function Y(h,m,b){h.pendingLanes|=m,h.suspendedLanes&=~m;var C=31-Ji(m);h.entangledLanes|=m,h.entanglements[C]=h.entanglements[C]|1073741824|b&4194218}function J(h,m){var b=h.entangledLanes|=m;for(h=h.entanglements;b;){var C=31-Ji(b),O=1<<C;O&m|h[C]&m&&(h[C]|=m),b&=~O}}function ae(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function $(h){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Lf,h,void 0,(h.current.flags&128)===128)}catch{}}function he(h){if(typeof ta=="function"&&hm(h),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(Lf,h)}catch{}}function le(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}function de(h,m){if(typeof h=="object"&&h!==null){var b=pm.get(h);return b!==void 0?b:(m={value:h,source:m,stack:d(m)},pm.set(h,m),m)}return{value:h,source:m,stack:d(m)}}function V(h,m){ts[ns++]=If,ts[ns++]=Sc,Sc=h,If=m}function K(h,m,b){La[na++]=Oo,La[na++]=No,La[na++]=to,to=h;var C=Oo;h=No;var O=32-Ji(C)-1;C&=~(1<<O),b+=1;var z=32-Ji(m)+O;if(30<z){var ne=O-O%5;z=(C&(1<<ne)-1).toString(32),C>>=ne,O-=ne,Oo=1<<32-Ji(m)+O|b<<O|C,No=z+h}else Oo=1<<z|b<<O|C,No=h}function re(h){h.return!==null&&(V(h,1),K(h,1,0))}function pe(h){for(;h===Sc;)Sc=ts[--ns],ts[ns]=null,If=ts[--ns],ts[ns]=null;for(;h===to;)to=La[--na],La[na]=null,No=La[--na],La[na]=null,Oo=La[--na],La[na]=null}function Q(h,m){M(Al,m),M(Ss,h),M(Zi,null),h=m0(m),E(Zi),M(Zi,h)}function ce(){E(Zi),E(Ss),E(Al)}function me(h){h.memoizedState!==null&&M(hh,h);var m=Zi.current,b=_1(m,h.type);m!==b&&(M(Ss,h),M(Zi,b))}function ge(h){Ss.current===h&&(E(Zi),E(Ss)),hh.current===h&&(E(hh),$s?_l._currentValue=yu:_l._currentValue2=yu)}function be(h){var m=Error(i(418,""));throw we(de(m,h)),ph}function je(h,m){if(!Ua)throw Error(i(175));bu(h.stateNode,h.type,h.memoizedProps,m,h)||be(h)}function ze(h){for($i=h.return;$i;)switch($i.tag){case 3:case 27:no=!0;return;case 5:case 13:no=!1;return;default:$i=$i.return}}function Ie(h){if(!Ua||h!==$i)return!1;if(!Kn)return ze(h),Kn=!0,!1;var m=!1;if(Ur?h.tag!==3&&h.tag!==27&&(h.tag!==5||w0(h.type)&&!Wr(h.type,h.memoizedProps))&&(m=!0):h.tag!==3&&(h.tag!==5||w0(h.type)&&!Wr(h.type,h.memoizedProps))&&(m=!0),m&&ci&&be(h),ze(h),h.tag===13){if(!Ua)throw Error(i(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));ci=Z1(h)}else ci=$i?xc(h.stateNode):null;return!0}function ye(){Ua&&(ci=$i=null,Kn=!1)}function we(h){Es===null?Es=[h]:Es.push(h)}function ee(){for(var h=Sl,m=io=Sl=0;m<h;){var b=Ia[m];Ia[m++]=null;var C=Ia[m];Ia[m++]=null;var O=Ia[m];Ia[m++]=null;var z=Ia[m];if(Ia[m++]=null,C!==null&&O!==null){var ne=C.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),C.pending=O}z!==0&&Be(b,O,z)}}function Je(h,m,b,C){Ia[Sl++]=h,Ia[Sl++]=m,Ia[Sl++]=b,Ia[Sl++]=C,io|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function Ne(h,m,b,C){return Je(h,m,b,C),st(h)}function Xe(h,m){return Je(h,null,null,m),st(h)}function Be(h,m,b){h.lanes|=b;var C=h.alternate;C!==null&&(C.lanes|=b);for(var O=!1,z=h.return;z!==null;)z.childLanes|=b,C=z.alternate,C!==null&&(C.childLanes|=b),z.tag===22&&(h=z.stateNode,h===null||h._visibility&1||(O=!0)),h=z,z=z.return;O&&m!==null&&h.tag===3&&(z=h.stateNode,O=31-Ji(b),z=z.hiddenUpdates,h=z[O],h===null?z[O]=[m]:h.push(m),m.lane=b|536870912)}function st(h){if(50<Ru)throw Ru=0,V0=null,Error(i(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}function Ge(h){h!==Ec&&h.next===null&&(Ec===null?Mi=Ec=h:Ec=Ec.next=h),Qi=!0,mm||(mm=!0,Le(j))}function Z(h,m){if(!gm&&Qi){gm=!0;do for(var b=!1,C=Mi;C!==null;){if(h!==0){var O=C.pendingLanes;if(O===0)var z=0;else{var ne=C.suspendedLanes,Se=C.pingedLanes;z=(1<<31-Ji(42|h)+1)-1,z&=O&~(ne&~Se),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(b=!0,Me(C,z))}else z=Ln,z=I(C,C===fi?z:0),(z&3)===0||U(C,z)||(b=!0,Me(C,z));C=C.next}while(b);gm=!1}}function j(){Qi=mm=!1;var h=0;Pf!==0&&(S1()&&(h=Pf),Pf=0);for(var m=es(),b=null,C=Mi;C!==null;){var O=C.next,z=se(C,m);z===0?(C.next=null,b===null?Mi=O:b.next=O,O===null&&(Ec=b)):(b=C,(h!==0||(z&3)!==0)&&(Qi=!0)),C=O}Z(h)}function se(h,m){for(var b=h.suspendedLanes,C=h.pingedLanes,O=h.expirationTimes,z=h.pendingLanes&-62914561;0<z;){var ne=31-Ji(z),Se=1<<ne,He=O[ne];He===-1?((Se&b)===0||(Se&C)!==0)&&(O[ne]=H(Se,m)):He<=m&&(h.expiredLanes|=Se),z&=~Se}if(m=fi,b=Ln,b=I(h,h===m?b:0),C=h.callbackNode,b===0||h===m&&li===2||h.cancelPendingCommit!==null)return C!==null&&C!==null&&eo(C),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||U(h,b)){if(m=b&-b,m===h.callbackPriority)return m;switch(C!==null&&eo(C),ae(b)){case 2:case 8:b=dh;break;case 32:b=Uf;break;case 268435456:b=Su;break;default:b=Uf}return C=ve.bind(null,h),b=Bo(b,C),h.callbackPriority=m,h.callbackNode=b,m}return C!==null&&C!==null&&eo(C),h.callbackPriority=2,h.callbackNode=null,2}function ve(h,m){var b=h.callbackNode;if(cc()&&h.callbackNode!==b)return null;var C=Ln;return C=I(h,h===fi?C:0),C===0?null:(Za(h,C,m),se(h,es()),h.callbackNode!=null&&h.callbackNode===b?ve.bind(null,h):null)}function Me(h,m){if(cc())return null;Za(h,m,!0)}function Le(h){C1?w1(function(){(Un&6)!==0?Bo(dm,h):h()}):Bo(dm,h)}function Ye(){return Pf===0&&(Pf=F()),Pf}function et(h,m){if(Ff===null){var b=Ff=[];vm=0,Ci=Ye(),Lr={status:"pending",value:void 0,then:function(C){b.push(C)}}}return vm++,m.then(at,at),m}function at(){if(--vm===0&&Ff!==null){Lr!==null&&(Lr.status="fulfilled");var h=Ff;Ff=null,Ci=0,Lr=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function Ct(h,m){var b=[],C={status:"pending",value:null,reason:null,then:function(O){b.push(O)}};return h.then(function(){C.status="fulfilled",C.value=m;for(var O=0;O<b.length;O++)(0,b[O])(m)},function(O){for(C.status="rejected",C.reason=O,O=0;O<b.length;O++)(0,b[O])(void 0)}),C}function ot(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ze(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function tt(h,m,b){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(Un&2)!==0){var O=C.pending;return O===null?m.next=m:(m.next=O.next,O.next=m),C.pending=m,m=st(h),Be(h,null,b),m}return Je(h,C,m,b),st(h)}function Ke(h,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194176)!==0)){var C=m.lanes;C&=h.pendingLanes,b|=C,m.lanes=b,J(h,b)}}function wt(h,m){var b=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var O=null,z=null;if(b=b.firstBaseUpdate,b!==null){do{var ne={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};z===null?O=z=ne:z=z.next=ne,b=b.next}while(b!==null);z===null?O=z=m:z=z.next=m}else O=z=m;b={baseState:C.baseState,firstBaseUpdate:O,lastBaseUpdate:z,shared:C.shared,callbacks:C.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=m}function xt(){if(ym){var h=Lr;if(h!==null)throw h}}function It(h,m,b,C){ym=!1;var O=h.updateQueue;ia=!1;var z=O.firstBaseUpdate,ne=O.lastBaseUpdate,Se=O.shared.pending;if(Se!==null){O.shared.pending=null;var He=Se,ft=He.next;He.next=null,ne===null?z=ft:ne.next=ft,ne=He;var Tt=h.alternate;Tt!==null&&(Tt=Tt.updateQueue,Se=Tt.lastBaseUpdate,Se!==ne&&(Se===null?Tt.firstBaseUpdate=ft:Se.next=ft,Tt.lastBaseUpdate=He))}if(z!==null){var Ut=O.baseState;ne=0,Tt=ft=He=null,Se=z;do{var Et=Se.lane&-536870913,gn=Et!==Se.lane;if(gn?(Ln&Et)===Et:(C&Et)===Et){Et!==0&&Et===Ci&&(ym=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:Se.tag,payload:Se.payload,callback:null,next:null});e:{var Os=h,jf=Se;Et=m;var Du=b;switch(jf.tag){case 1:if(Os=jf.payload,typeof Os=="function"){Ut=Os.call(Du,Ut,Et);break e}Ut=Os;break e;case 3:Os.flags=Os.flags&-65537|128;case 0:if(Os=jf.payload,Et=typeof Os=="function"?Os.call(Du,Ut,Et):Os,Et==null)break e;Ut=qi({},Ut,Et);break e;case 2:ia=!0}}Et=Se.callback,Et!==null&&(h.flags|=64,gn&&(h.flags|=8192),gn=O.callbacks,gn===null?O.callbacks=[Et]:gn.push(Et))}else gn={lane:Et,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},Tt===null?(ft=Tt=gn,He=Ut):Tt=Tt.next=gn,ne|=Et;if(Se=Se.next,Se===null){if(Se=O.shared.pending,Se===null)break;gn=Se,Se=gn.next,gn.next=null,O.lastBaseUpdate=gn,O.shared.pending=null}}while(!0);Tt===null&&(He=Ut),O.baseState=He,O.firstBaseUpdate=ft,O.lastBaseUpdate=Tt,z===null&&(O.shared.lanes=0),Ds|=ne,h.lanes=ne,h.memoizedState=Ut}}function Ee(h,m){if(typeof h!="function")throw Error(i(191,h));h.call(m)}function De(h,m){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)Ee(b[h],m)}function Pe(h,m){if(va(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var b=Object.keys(h),C=Object.keys(m);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var O=b[C];if(!a_.call(m,O)||!va(h[O],m[O]))return!1}return!0}function lt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function gt(){}function pt(h,m,b){switch(b=h[b],b===void 0?h.push(m):b!==m&&(m.then(gt,gt),m=b),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,h===mh?Error(i(483)):h;default:if(typeof m.status=="string")m.then(gt,gt);else{if(h=fi,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=m,h.status="pending",h.then(function(C){if(m.status==="pending"){var O=m;O.status="fulfilled",O.value=C}},function(C){if(m.status==="pending"){var O=m;O.status="rejected",O.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,h===mh?Error(i(483)):h}throw ra=m,mh}}function Pt(){if(ra===null)throw Error(i(459));var h=ra;return ra=null,h}function tn(h){var m=aa;return aa+=1,Eu===null&&(Eu=[]),pt(Eu,h,m)}function Gt(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function Xt(h,m){throw m.$$typeof===h0?Error(i(525)):(h=Object.prototype.toString.call(m),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function jn(h){var m=h._init;return m(h._payload)}function zn(h){function m(qe,Ue){if(h){var Qe=qe.deletions;Qe===null?(qe.deletions=[Ue],qe.flags|=16):Qe.push(Ue)}}function b(qe,Ue){if(!h)return null;for(;Ue!==null;)m(qe,Ue),Ue=Ue.sibling;return null}function C(qe){for(var Ue=new Map;qe!==null;)qe.key!==null?Ue.set(qe.key,qe):Ue.set(qe.index,qe),qe=qe.sibling;return Ue}function O(qe,Ue){return qe=hl(qe,Ue),qe.index=0,qe.sibling=null,qe}function z(qe,Ue,Qe){return qe.index=Qe,h?(Qe=qe.alternate,Qe!==null?(Qe=Qe.index,Qe<Ue?(qe.flags|=33554434,Ue):Qe):(qe.flags|=33554434,Ue)):(qe.flags|=1048576,Ue)}function ne(qe){return h&&qe.alternate===null&&(qe.flags|=33554434),qe}function Se(qe,Ue,Qe,St){return Ue===null||Ue.tag!==6?(Ue=sh(Qe,qe.mode,St),Ue.return=qe,Ue):(Ue=O(Ue,Qe),Ue.return=qe,Ue)}function He(qe,Ue,Qe,St){var Kt=Qe.type;return Kt===hc?Tt(qe,Ue,Qe.props.children,St,Qe.key):Ue!==null&&(Ue.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===vl&&jn(Kt)===Ue.type)?(Ue=O(Ue,Qe.props),Gt(Ue,Qe),Ue.return=qe,Ue):(Ue=mu(Qe.type,Qe.key,Qe.props,null,qe.mode,St),Gt(Ue,Qe),Ue.return=qe,Ue)}function ft(qe,Ue,Qe,St){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Qe.containerInfo||Ue.stateNode.implementation!==Qe.implementation?(Ue=Na(Qe,qe.mode,St),Ue.return=qe,Ue):(Ue=O(Ue,Qe.children||[]),Ue.return=qe,Ue)}function Tt(qe,Ue,Qe,St,Kt){return Ue===null||Ue.tag!==7?(Ue=fc(Qe,qe.mode,St,Kt),Ue.return=qe,Ue):(Ue=O(Ue,Qe),Ue.return=qe,Ue)}function Ut(qe,Ue,Qe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=sh(""+Ue,qe.mode,Qe),Ue.return=qe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case dc:return Qe=mu(Ue.type,Ue.key,Ue.props,null,qe.mode,Qe),Gt(Qe,Ue),Qe.return=qe,Qe;case wo:return Ue=Na(Ue,qe.mode,Qe),Ue.return=qe,Ue;case vl:var St=Ue._init;return Ue=St(Ue._payload),Ut(qe,Ue,Qe)}if(yc(Ue)||a(Ue))return Ue=fc(Ue,qe.mode,Qe,null),Ue.return=qe,Ue;if(typeof Ue.then=="function")return Ut(qe,tn(Ue),Qe);if(Ue.$$typeof===mc)return Ut(qe,jd(qe,Ue),Qe);Xt(qe,Ue)}return null}function Et(qe,Ue,Qe,St){var Kt=Ue!==null?Ue.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Kt!==null?null:Se(qe,Ue,""+Qe,St);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case dc:return Qe.key===Kt?He(qe,Ue,Qe,St):null;case wo:return Qe.key===Kt?ft(qe,Ue,Qe,St):null;case vl:return Kt=Qe._init,Qe=Kt(Qe._payload),Et(qe,Ue,Qe,St)}if(yc(Qe)||a(Qe))return Kt!==null?null:Tt(qe,Ue,Qe,St,null);if(typeof Qe.then=="function")return Et(qe,Ue,tn(Qe),St);if(Qe.$$typeof===mc)return Et(qe,Ue,jd(qe,Qe),St);Xt(qe,Qe)}return null}function gn(qe,Ue,Qe,St,Kt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return qe=qe.get(Qe)||null,Se(Ue,qe,""+St,Kt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case dc:return qe=qe.get(St.key===null?Qe:St.key)||null,He(Ue,qe,St,Kt);case wo:return qe=qe.get(St.key===null?Qe:St.key)||null,ft(Ue,qe,St,Kt);case vl:var di=St._init;return St=di(St._payload),gn(qe,Ue,Qe,St,Kt)}if(yc(St)||a(St))return qe=qe.get(Qe)||null,Tt(Ue,qe,St,Kt,null);if(typeof St.then=="function")return gn(qe,Ue,Qe,tn(St),Kt);if(St.$$typeof===mc)return gn(qe,Ue,Qe,jd(Ue,St),Kt);Xt(Ue,St)}return null}function Os(qe,Ue,Qe,St){for(var Kt=null,di=null,on=Ue,Dn=Ue=0,mi=null;on!==null&&Dn<Qe.length;Dn++){on.index>Dn?(mi=on,on=null):mi=on.sibling;var In=Et(qe,on,Qe[Dn],St);if(In===null){on===null&&(on=mi);break}h&&on&&In.alternate===null&&m(qe,on),Ue=z(In,Ue,Dn),di===null?Kt=In:di.sibling=In,di=In,on=mi}if(Dn===Qe.length)return b(qe,on),Kn&&V(qe,Dn),Kt;if(on===null){for(;Dn<Qe.length;Dn++)on=Ut(qe,Qe[Dn],St),on!==null&&(Ue=z(on,Ue,Dn),di===null?Kt=on:di.sibling=on,di=on);return Kn&&V(qe,Dn),Kt}for(on=C(on);Dn<Qe.length;Dn++)mi=gn(on,qe,Dn,Qe[Dn],St),mi!==null&&(h&&mi.alternate!==null&&on.delete(mi.key===null?Dn:mi.key),Ue=z(mi,Ue,Dn),di===null?Kt=mi:di.sibling=mi,di=mi);return h&&on.forEach(function(Nc){return m(qe,Nc)}),Kn&&V(qe,Dn),Kt}function jf(qe,Ue,Qe,St){if(Qe==null)throw Error(i(151));for(var Kt=null,di=null,on=Ue,Dn=Ue=0,mi=null,In=Qe.next();on!==null&&!In.done;Dn++,In=Qe.next()){on.index>Dn?(mi=on,on=null):mi=on.sibling;var Nc=Et(qe,on,In.value,St);if(Nc===null){on===null&&(on=mi);break}h&&on&&Nc.alternate===null&&m(qe,on),Ue=z(Nc,Ue,Dn),di===null?Kt=Nc:di.sibling=Nc,di=Nc,on=mi}if(In.done)return b(qe,on),Kn&&V(qe,Dn),Kt;if(on===null){for(;!In.done;Dn++,In=Qe.next())In=Ut(qe,In.value,St),In!==null&&(Ue=z(In,Ue,Dn),di===null?Kt=In:di.sibling=In,di=In);return Kn&&V(qe,Dn),Kt}for(on=C(on);!In.done;Dn++,In=Qe.next())In=gn(on,qe,Dn,In.value,St),In!==null&&(h&&In.alternate!==null&&on.delete(In.key===null?Dn:In.key),Ue=z(In,Ue,Dn),di===null?Kt=In:di.sibling=In,di=In);return h&&on.forEach(function(o_){return m(qe,o_)}),Kn&&V(qe,Dn),Kt}function Du(qe,Ue,Qe,St){if(typeof Qe=="object"&&Qe!==null&&Qe.type===hc&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case dc:e:{for(var Kt=Qe.key;Ue!==null;){if(Ue.key===Kt){if(Kt=Qe.type,Kt===hc){if(Ue.tag===7){b(qe,Ue.sibling),St=O(Ue,Qe.props.children),St.return=qe,qe=St;break e}}else if(Ue.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===vl&&jn(Kt)===Ue.type){b(qe,Ue.sibling),St=O(Ue,Qe.props),Gt(St,Qe),St.return=qe,qe=St;break e}b(qe,Ue);break}else m(qe,Ue);Ue=Ue.sibling}Qe.type===hc?(St=fc(Qe.props.children,qe.mode,St,Qe.key),St.return=qe,qe=St):(St=mu(Qe.type,Qe.key,Qe.props,null,qe.mode,St),Gt(St,Qe),St.return=qe,qe=St)}return ne(qe);case wo:e:{for(Kt=Qe.key;Ue!==null;){if(Ue.key===Kt)if(Ue.tag===4&&Ue.stateNode.containerInfo===Qe.containerInfo&&Ue.stateNode.implementation===Qe.implementation){b(qe,Ue.sibling),St=O(Ue,Qe.children||[]),St.return=qe,qe=St;break e}else{b(qe,Ue);break}else m(qe,Ue);Ue=Ue.sibling}St=Na(Qe,qe.mode,St),St.return=qe,qe=St}return ne(qe);case vl:return Kt=Qe._init,Qe=Kt(Qe._payload),Du(qe,Ue,Qe,St)}if(yc(Qe))return Os(qe,Ue,Qe,St);if(a(Qe)){if(Kt=a(Qe),typeof Kt!="function")throw Error(i(150));return Qe=Kt.call(Qe),jf(qe,Ue,Qe,St)}if(typeof Qe.then=="function")return Du(qe,Ue,tn(Qe),St);if(Qe.$$typeof===mc)return Du(qe,Ue,jd(qe,Qe),St);Xt(qe,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Ue!==null&&Ue.tag===6?(b(qe,Ue.sibling),St=O(Ue,Qe),St.return=qe,qe=St):(b(qe,Ue),St=sh(Qe,qe.mode,St),St.return=qe,qe=St),ne(qe)):b(qe,Ue)}return function(qe,Ue,Qe,St){try{aa=0;var Kt=Du(qe,Ue,Qe,St);return Eu=null,Kt}catch(on){if(on===mh)throw on;var di=t(29,on,null,qe.mode);return di.lanes=St,di.return=qe,di}finally{}}}function hi(h,m){h=oo,M(ao,h),M(ro,m),oo=h|m.baseLanes}function ji(){M(ao,oo),M(ro,ro.current)}function vi(){oo=ao.current,E(ro),E(ao)}function Ei(h){var m=h.alternate;M(_i,_i.current&1),M(Pa,h),Ts===null&&(m===null||ro.current!==null||m.memoizedState!==null)&&(Ts=h)}function Xi(h){if(h.tag===22){if(M(_i,_i.current),M(Pa,h),Ts===null){var m=h.alternate;m!==null&&m.memoizedState!==null&&(Ts=h)}}else Ti()}function Ti(){M(_i,_i.current),M(Pa,Pa.current)}function kt(h){E(Pa),Ts===h&&(Ts=null),E(_i)}function bn(h){for(var m=h;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||_u(b)||uh(b)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function sn(){throw Error(i(321))}function q(h,m){if(m===null)return!1;for(var b=0;b<m.length&&b<h.length;b++)if(!va(h[b],m[b]))return!1;return!0}function ie(h,m,b,C,O,z){return El=z,pn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ln.H=h===null||h.memoizedState===null?Cl:_a,Mc=!1,z=b(C,O),Mc=!1,Tu&&(z=We(m,b,C,O)),Te(h),z}function Te(h){ln.H=er;var m=ei!==null&&ei.next!==null;if(El=0,Oi=ei=pn=null,Tl=!1,Hf=0,Ml=null,m)throw Error(i(300));h===null||mr||(h=h.dependencies,h!==null&&Vd(h)&&(mr=!0))}function We(h,m,b,C){pn=h;var O=0;do{if(Tu&&(Ml=null),Hf=0,Tu=!1,25<=O)throw Error(i(301));if(O+=1,Oi=ei=null,h.updateQueue!=null){var z=h.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}ln.H=wc,z=m(b,C)}while(Tu);return z}function rt(){var h=ln.H,m=h.useState()[0];return m=typeof m.then=="function"?xe(m):m,h=h.useState()[0],(ei!==null?ei.memoizedState:null)!==h&&(pn.flags|=1024),m}function it(){var h=Cc!==0;return Cc=0,h}function At(h,m,b){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~b}function vt(h){if(Tl){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Tl=!1}El=0,Oi=ei=pn=null,Tu=!1,Hf=Cc=0,Ml=null}function W(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?pn.memoizedState=Oi=h:Oi=Oi.next=h,Oi}function fe(){if(ei===null){var h=pn.alternate;h=h!==null?h.memoizedState:null}else h=ei.next;var m=Oi===null?pn.memoizedState:Oi.next;if(m!==null)Oi=m,ei=h;else{if(h===null)throw pn.alternate===null?Error(i(467)):Error(i(310));ei=h,h={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},Oi===null?pn.memoizedState=Oi=h:Oi=Oi.next=h}return Oi}function xe(h){var m=Hf;return Hf+=1,Ml===null&&(Ml=[]),h=pt(Ml,h,m),m=pn,(Oi===null?m.memoizedState:Oi.next)===null&&(m=m.alternate,ln.H=m===null||m.memoizedState===null?Cl:_a),h}function oe(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return xe(h);if(h.$$typeof===mc)return jr(h)}throw Error(i(438,String(h)))}function Ce(h){var m=null,b=pn.updateQueue;if(b!==null&&(m=b.memoCache),m==null){var C=pn.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(O){return O.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),b===null&&(b=H0(),pn.updateQueue=b),b.memoCache=m,b=m.data[m.index],b===void 0)for(b=m.data[m.index]=Array(h),C=0;C<h;C++)b[C]=Mn;return m.index++,b}function ke(h,m){return typeof m=="function"?m(h):m}function nt(h){var m=fe();return ut(m,ei,h)}function ut(h,m,b){var C=h.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=b;var O=h.baseQueue,z=C.pending;if(z!==null){if(O!==null){var ne=O.next;O.next=z.next,z.next=ne}m.baseQueue=O=z,C.pending=null}if(z=h.baseState,O===null)h.memoizedState=z;else{m=O.next;var Se=ne=null,He=null,ft=m,Tt=!1;do{var Ut=ft.lane&-536870913;if(Ut!==ft.lane?(Ln&Ut)===Ut:(El&Ut)===Ut){var Et=ft.revertLane;if(Et===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),Ut===Ci&&(Tt=!0);else if((El&Et)===Et){ft=ft.next,Et===Ci&&(Tt=!0);continue}else Ut={lane:0,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},He===null?(Se=He=Ut,ne=z):He=He.next=Ut,pn.lanes|=Et,Ds|=Et;Ut=ft.action,Mc&&b(z,Ut),z=ft.hasEagerState?ft.eagerState:b(z,Ut)}else Et={lane:Ut,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},He===null?(Se=He=Et,ne=z):He=He.next=Et,pn.lanes|=Ut,Ds|=Ut;ft=ft.next}while(ft!==null&&ft!==m);if(He===null?ne=z:He.next=Se,!va(z,h.memoizedState)&&(mr=!0,Tt&&(b=Lr,b!==null)))throw b;h.memoizedState=z,h.baseState=ne,h.baseQueue=He,C.lastRenderedState=z}return O===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function ht(h){var m=fe(),b=m.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=h;var C=b.dispatch,O=b.pending,z=m.memoizedState;if(O!==null){b.pending=null;var ne=O=O.next;do z=h(z,ne.action),ne=ne.next;while(ne!==O);va(z,m.memoizedState)||(mr=!0),m.memoizedState=z,m.baseQueue===null&&(m.baseState=z),b.lastRenderedState=z}return[z,C]}function Ot(h,m,b){var C=pn,O=fe(),z=Kn;if(z){if(b===void 0)throw Error(i(407));b=b()}else b=m();var ne=!va((ei||O).memoizedState,b);if(ne&&(O.memoizedState=b,mr=!0),O=O.queue,Ys(Qt.bind(null,C,O,h),[h]),O.getSnapshot!==m||ne||Oi!==null&&Oi.memoizedState.tag&1){if(C.flags|=2048,Zr(9,Bt.bind(null,C,O,b,m),{destroy:void 0},null),fi===null)throw Error(i(349));z||(El&60)!==0||Nt(C,m,b)}return b}function Nt(h,m,b){h.flags|=16384,h={getSnapshot:m,value:b},m=pn.updateQueue,m===null?(m=H0(),pn.updateQueue=m,m.stores=[h]):(b=m.stores,b===null?m.stores=[h]:b.push(h))}function Bt(h,m,b,C){m.value=b,m.getSnapshot=C,Ht(m)&&Sn(h)}function Qt(h,m,b){return b(function(){Ht(m)&&Sn(h)})}function Ht(h){var m=h.getSnapshot;h=h.value;try{var b=m();return!va(h,b)}catch{return!0}}function Sn(h){var m=Xe(h,2);m!==null&&yi(m,h,2)}function Vt(h){var m=W();if(typeof h=="function"){var b=h;if(h=b(),Mc){he(!0);try{b()}finally{he(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:h},m}function zt(h,m,b,C){return h.baseState=b,ut(h,ei,typeof C=="function"?C:ke)}function Ft(h,m,b,C,O){if(Ql(h))throw Error(i(485));if(h=m.action,h!==null){var z={payload:O,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){z.listeners.push(ne)}};ln.T!==null?b(!0):z.isTransition=!1,C(z),b=m.pending,b===null?(z.next=m.pending=z,ii(m,z)):(z.next=b.next,m.pending=b.next=z)}}function ii(h,m){var b=m.action,C=m.payload,O=h.state;if(m.isTransition){var z=ln.T,ne={};ln.T=ne;try{var Se=b(O,C),He=ln.S;He!==null&&He(ne,Se),Zt(h,m,Se)}catch(ft){Xn(h,m,ft)}finally{ln.T=z}}else try{z=b(O,C),Zt(h,m,z)}catch(ft){Xn(h,m,ft)}}function Zt(h,m,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(C){un(h,m,C)},function(C){return Xn(h,m,C)}):un(h,m,b)}function un(h,m,b){m.status="fulfilled",m.value=b,dn(m),h.state=b,m=h.pending,m!==null&&(b=m.next,b===m?h.pending=null:(b=b.next,m.next=b,ii(h,b)))}function Xn(h,m,b){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=b,dn(m),m=m.next;while(m!==C)}h.action=null}function dn(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function Yt(h,m){return m}function hn(h,m){if(Kn){var b=fi.formState;if(b!==null){e:{var C=pn;if(Kn){if(ci){var O=Y1(ci,no);if(O){ci=xc(O),C=Do(O);break e}}be(C)}C=!1}C&&(m=b[0])}}b=W(),b.memoizedState=b.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:m},b.queue=C,b=gf.bind(null,pn,C),C.dispatch=b,C=Vt(!1);var z=Qo.bind(null,pn,!1,C.queue);return C=W(),O={state:m,dispatch:null,action:h,pending:null},C.queue=O,b=Ft.bind(null,pn,O,z,b),O.dispatch=b,C.memoizedState=h,[m,b,!1]}function si(h){var m=fe();return On(m,ei,h)}function On(h,m,b){m=ut(h,m,Yt)[0],h=nt(ke)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?xe(m):m;var C=fe(),O=C.queue,z=O.dispatch;return b!==C.memoizedState&&(pn.flags|=2048,Zr(9,Wn.bind(null,O,b),{destroy:void 0},null)),[m,z,h]}function Wn(h,m){h.action=m}function Ui(h){var m=fe(),b=ei;if(b!==null)return On(m,b,h);fe(),m=m.memoizedState,b=fe();var C=b.queue.dispatch;return b.memoizedState=h,[m,C,!1]}function Zr(h,m,b,C){return h={tag:h,create:m,inst:b,deps:C,next:null},m=pn.updateQueue,m===null&&(m=H0(),pn.updateQueue=m),b=m.lastEffect,b===null?m.lastEffect=h.next=h:(C=b.next,b.next=h,h.next=C,m.lastEffect=h),h}function Tr(){return fe().memoizedState}function tu(h,m,b,C){var O=W();pn.flags|=h,O.memoizedState=Zr(1|m,b,{destroy:void 0},C===void 0?null:C)}function Jl(h,m,b,C){var O=fe();C=C===void 0?null:C;var z=O.memoizedState.inst;ei!==null&&C!==null&&q(C,ei.memoizedState.deps)?O.memoizedState=Zr(m,b,z,C):(pn.flags|=h,O.memoizedState=Zr(1|m,b,z,C))}function nu(h,m){tu(8390656,8,h,m)}function Ys(h,m){Jl(2048,8,h,m)}function Pd(h,m){return Jl(4,2,h,m)}function iu(h,m){return Jl(4,4,h,m)}function ms(h,m){if(typeof m=="function"){h=h();var b=m(h);return function(){typeof b=="function"?b():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function qs(h,m,b){b=b!=null?b.concat([h]):null,Jl(4,4,ms.bind(null,m,h),b)}function Ks(){}function Ao(h,m){var b=fe();m=m===void 0?null:m;var C=b.memoizedState;return m!==null&&q(m,C[1])?C[0]:(b.memoizedState=[h,m],h)}function qa(h,m){var b=fe();m=m===void 0?null:m;var C=b.memoizedState;if(m!==null&&q(m,C[1]))return C[0];if(C=h(),Mc){he(!0);try{h()}finally{he(!1)}}return b.memoizedState=[C,m],C}function Zl(h,m,b){return b===void 0||(El&1073741824)!==0?h.memoizedState=m:(h.memoizedState=b,h=Qd(),pn.lanes|=h,Ds|=h,b)}function $l(h,m,b,C){return va(b,m)?b:ro.current!==null?(h=Zl(h,b,C),va(h,m)||(mr=!0),h):(El&42)===0?(mr=!0,h.memoizedState=b):(h=Qd(),pn.lanes|=h,Ds|=h,m)}function mf(h,m,b,C,O){var z=_c();ga(z!==0&&8>z?z:8);var ne=ln.T,Se={};ln.T=Se,Qo(h,!1,m,b);try{var He=O(),ft=ln.S;if(ft!==null&&ft(Se,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Tt=Ct(He,C);gs(h,m,Tt,Qr(h))}else gs(h,m,C,Qr(h))}catch(Ut){gs(h,m,{then:function(){},status:"rejected",reason:Ut},Qr())}finally{ga(z),ln.T=ne}}function Js(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:yu,baseState:yu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:yu},next:null};var b={};return m.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:b},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function Zo(){return jr(_l)}function $o(){return fe().memoizedState}function Wi(){return fe().memoizedState}function ru(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var b=Qr();h=Ze(b);var C=tt(m,h,b);C!==null&&(yi(C,m,b),Ke(C,m,b)),m={cache:nc()},h.payload=m;return}m=m.return}}function au(h,m,b){var C=Qr();b={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},Ql(h)?Yi(m,b):(b=Ne(h,m,b,C),b!==null&&(yi(b,h,C),Ma(b,m,C)))}function gf(h,m,b){var C=Qr();gs(h,m,b,C)}function gs(h,m,b,C){var O={lane:C,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(Ql(h))Yi(m,O);else{var z=h.alternate;if(h.lanes===0&&(z===null||z.lanes===0)&&(z=m.lastRenderedReducer,z!==null))try{var ne=m.lastRenderedState,Se=z(ne,b);if(O.hasEagerState=!0,O.eagerState=Se,va(Se,ne))return Je(h,m,O,0),fi===null&&ee(),!1}catch{}finally{}if(b=Ne(h,m,O,C),b!==null)return yi(b,h,C),Ma(b,m,C),!0}return!1}function Qo(h,m,b,C){if(C={lane:2,revertLane:Ye(),action:C,hasEagerState:!1,eagerState:null,next:null},Ql(h)){if(m)throw Error(i(479))}else m=Ne(h,b,C,2),m!==null&&yi(m,h,2)}function Ql(h){var m=h.alternate;return h===pn||m!==null&&m===pn}function Yi(h,m){Tu=Tl=!0;var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}function Ma(h,m,b){if((b&4194176)!==0){var C=m.lanes;C&=h.pendingLanes,b|=C,m.lanes=b,J(h,b)}}function pa(h,m,b,C){m=h.memoizedState,b=b(C,m),b=b==null?m:qi({},m,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function el(h,m,b,C,O,z,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,z,ne):m.prototype&&m.prototype.isPureReactComponent?!Pe(b,C)||!Pe(O,z):!0}function vf(h,m,b,C){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,C),m.state!==h&&zf.enqueueReplaceState(m,m.state,null)}function Ka(h,m){var b=m;if("ref"in m){b={};for(var C in m)C!=="ref"&&(b[C]=m[C])}if(h=h.defaultProps){b===m&&(b=qi({},b));for(var O in h)b[O]===void 0&&(b[O]=h[O])}return b}function vs(h,m){try{var b=h.onUncaughtError;b(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function tl(h,m,b){try{var C=h.onCaughtError;C(b.value,{componentStack:b.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function ys(h,m,b){return b=Ze(b),b.tag=3,b.payload={element:null},b.callback=function(){vs(h,m)},b}function su(h){return h=Ze(h),h.tag=3,h}function $r(h,m,b,C){var O=b.type.getDerivedStateFromError;if(typeof O=="function"){var z=C.value;h.payload=function(){return O(z)},h.callback=function(){tl(m,b,C)}}var ne=b.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(h.callback=function(){tl(m,b,C),typeof O!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var Se=C.stack;this.componentDidCatch(C.value,{componentStack:Se!==null?Se:""})})}function Yg(h,m,b,C,O){if(b.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=b.alternate,m!==null&&kd(m,b,O,!0),b=Pa.current,b!==null){switch(b.tag){case 13:return Ts===null?As():b.alternate===null&&Ni===0&&(Ni=3),b.flags&=-257,b.flags|=65536,b.lanes=O,C===ya?b.flags|=16384:(m=b.updateQueue,m===null?b.updateQueue=new Set([C]):m.add(C),uc(h,C,O)),!1;case 22:return b.flags|=65536,C===ya?b.flags|=16384:(m=b.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},b.updateQueue=m):(b=m.retryQueue,b===null?m.retryQueue=new Set([C]):b.add(C)),uc(h,C,O)),!1}throw Error(i(435,b.tag))}return uc(h,C,O),As(),!1}if(Kn)return m=Pa.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=O,C!==ph&&(h=Error(i(422),{cause:C}),we(de(h,b)))):(C!==ph&&(m=Error(i(423),{cause:C}),we(de(m,b))),h=h.current.alternate,h.flags|=65536,O&=-O,h.lanes|=O,C=de(C,b),O=ys(h.stateNode,C,O),wt(h,O),Ni!==4&&(Ni=2)),!1;var z=Error(i(520),{cause:C});if(z=de(z,b),kf===null?kf=[z]:kf.push(z),Ni!==4&&(Ni=2),m===null)return!0;C=de(C,b),b=m;do{switch(b.tag){case 3:return b.flags|=65536,h=O&-O,b.lanes|=h,h=ys(b.stateNode,C,h),wt(b,h),!1;case 1:if(m=b.type,z=b.stateNode,(b.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Po===null||!Po.has(z))))return b.flags|=65536,O&=-O,b.lanes|=O,O=su(O),$r(O,h,b,C),wt(b,O),!1}b=b.return}while(b!==null);return!1}function Hi(h,m,b,C){m.child=h===null?Uo(m,null,b,C):Tc(m,h.child,b,C)}function nl(h,m,b,C,O){b=b.render;var z=m.ref;if("ref"in C){var ne={};for(var Se in C)Se!=="ref"&&(ne[Se]=C[Se])}else ne=C;return tc(m),C=ie(h,m,b,ne,z,O),Se=it(),h!==null&&!mr?(At(h,m,O),il(h,m,O)):(Kn&&Se&&re(m),m.flags|=1,Hi(h,m,C,O),m.child)}function Fd(h,m,b,C,O){if(h===null){var z=b.type;return typeof z=="function"&&!dl(z)&&z.defaultProps===void 0&&b.compare===null?(m.tag=15,m.type=z,Pp(h,m,z,C,O)):(h=mu(b.type,null,C,m,m.mode,O),h.ref=m.ref,h.return=m,m.child=h)}if(z=h.child,!$g(h,O)){var ne=z.memoizedProps;if(b=b.compare,b=b!==null?b:Pe,b(ne,C)&&h.ref===m.ref)return il(h,m,O)}return m.flags|=1,h=hl(z,C),h.ref=m.ref,h.return=m,m.child=h}function Pp(h,m,b,C,O){if(h!==null){var z=h.memoizedProps;if(Pe(z,C)&&h.ref===m.ref)if(mr=!1,m.pendingProps=C=z,$g(h,O))(h.flags&131072)!==0&&(mr=!0);else return m.lanes=h.lanes,il(h,m,O)}return Ja(h,m,b,C,O)}function Vr(h,m,b){var C=m.pendingProps,O=C.children,z=(m.stateNode._pendingVisibility&2)!==0,ne=h!==null?h.memoizedState:null;if(ur(h,m),C.mode==="hidden"||z){if((m.flags&128)!==0){if(C=ne!==null?ne.baseLanes|b:b,h!==null){for(O=m.child=h.child,z=0;O!==null;)z=z|O.lanes|O.childLanes,O=O.sibling;m.childLanes=z&~C}else m.childLanes=0,m.child=null;return Ca(h,m,C,b)}if((b&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&Hp(m,ne!==null?ne.cachePool:null),ne!==null?hi(m,ne):ji(),Xi(m);else return m.lanes=m.childLanes=536870912,Ca(h,m,ne!==null?ne.baseLanes|b:b,b)}else ne!==null?(Hp(m,ne.cachePool),hi(m,ne),Ti(),m.memoizedState=null):(h!==null&&Hp(m,null),ji(),Ti());return Hi(h,m,O,b),m.child}function Ca(h,m,b,C){var O=e0();return O=O===null?null:{parent:$s?Gi._currentValue:Gi._currentValue2,pool:O},m.memoizedState={baseLanes:b,cachePool:O},h!==null&&Hp(m,null),ji(),Xi(m),h!==null&&kd(h,m,C,!0),null}function ur(h,m){var b=m.ref;if(b===null)h!==null&&h.ref!==null&&(m.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(i(284));(h===null||h.ref!==b)&&(m.flags|=2097664)}}function Ja(h,m,b,C,O){return tc(m),b=ie(h,m,b,C,void 0,O),C=it(),h!==null&&!mr?(At(h,m,O),il(h,m,O)):(Kn&&C&&re(m),m.flags|=1,Hi(h,m,b,O),m.child)}function Hd(h,m,b,C,O,z){return tc(m),m.updateQueue=null,b=We(m,C,b,O),Te(h),C=it(),h!==null&&!mr?(At(h,m,z),il(h,m,z)):(Kn&&C&&re(m),m.flags|=1,Hi(h,m,b,z),m.child)}function r1(h,m,b,C,O){if(tc(m),m.stateNode===null){var z=Au,ne=b.contextType;typeof ne=="object"&&ne!==null&&(z=jr(ne)),z=new b(C,z),m.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=zf,m.stateNode=z,z._reactInternals=m,z=m.stateNode,z.props=C,z.state=m.memoizedState,z.refs={},ot(m),ne=b.contextType,z.context=typeof ne=="object"&&ne!==null?jr(ne):Au,z.state=m.memoizedState,ne=b.getDerivedStateFromProps,typeof ne=="function"&&(pa(m,b,ne,C),z.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(ne=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),ne!==z.state&&zf.enqueueReplaceState(z,z.state,null),It(m,C,z,O),xt(),z.state=m.memoizedState),typeof z.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(h===null){z=m.stateNode;var Se=m.memoizedProps,He=Ka(b,Se);z.props=He;var ft=z.context,Tt=b.contextType;ne=Au,typeof Tt=="object"&&Tt!==null&&(ne=jr(Tt));var Ut=b.getDerivedStateFromProps;Tt=typeof Ut=="function"||typeof z.getSnapshotBeforeUpdate=="function",Se=m.pendingProps!==Se,Tt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Se||ft!==ne)&&vf(m,z,C,ne),ia=!1;var Et=m.memoizedState;z.state=Et,It(m,C,z,O),xt(),ft=m.memoizedState,Se||Et!==ft||ia?(typeof Ut=="function"&&(pa(m,b,Ut,C),ft=m.memoizedState),(He=ia||el(m,b,He,C,Et,ft,ne))?(Tt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=ft),z.props=C,z.state=ft,z.context=ne,C=He):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{z=m.stateNode,_t(h,m),ne=m.memoizedProps,Tt=Ka(b,ne),z.props=Tt,Ut=m.pendingProps,Et=z.context,ft=b.contextType,He=Au,typeof ft=="object"&&ft!==null&&(He=jr(ft)),Se=b.getDerivedStateFromProps,(ft=typeof Se=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ne!==Ut||Et!==He)&&vf(m,z,C,He),ia=!1,Et=m.memoizedState,z.state=Et,It(m,C,z,O),xt();var gn=m.memoizedState;ne!==Ut||Et!==gn||ia||h!==null&&h.dependencies!==null&&Vd(h.dependencies)?(typeof Se=="function"&&(pa(m,b,Se,C),gn=m.memoizedState),(Tt=ia||el(m,b,Tt,C,Et,gn,He)||h!==null&&h.dependencies!==null&&Vd(h.dependencies))?(ft||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(C,gn,He),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(C,gn,He)),typeof z.componentDidUpdate=="function"&&(m.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof z.componentDidUpdate!="function"||ne===h.memoizedProps&&Et===h.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Et===h.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=gn),z.props=C,z.state=gn,z.context=He,C=Tt):(typeof z.componentDidUpdate!="function"||ne===h.memoizedProps&&Et===h.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Et===h.memoizedState||(m.flags|=1024),C=!1)}return z=C,ur(h,m),C=(m.flags&128)!==0,z||C?(z=m.stateNode,b=C&&typeof b.getDerivedStateFromError!="function"?null:z.render(),m.flags|=1,h!==null&&C?(m.child=Tc(m,h.child,null,O),m.child=Tc(m,null,b,O)):Hi(h,m,b,O),m.memoizedState=z.state,h=m.child):h=il(h,m,O),h}function a1(h,m,b,C){return ye(),m.flags|=256,Hi(h,m,b,C),m.child}function qg(h){return{baseLanes:h,cachePool:t0()}}function zd(h,m,b){return h=h!==null?h.childLanes&~b:0,m&&(h|=is),h}function s1(h,m,b){var C=m.pendingProps,O=!1,z=(m.flags&128)!==0,ne;if((ne=z)||(ne=h!==null&&h.memoizedState===null?!1:(_i.current&2)!==0),ne&&(O=!0,m.flags&=-129),ne=(m.flags&32)!==0,m.flags&=-33,h===null){if(Kn){if(O?Ei(m):Ti(),Kn){var Se=ci,He;(He=Se)&&(Se=K1(Se,no),Se!==null?(m.memoizedState={dehydrated:Se,treeContext:to!==null?{id:Oo,overflow:No}:null,retryLane:536870912},He=t(18,null,null,0),He.stateNode=Se,He.return=m,m.child=He,$i=m,ci=null,He=!0):He=!1),He||be(m)}if(Se=m.memoizedState,Se!==null&&(Se=Se.dehydrated,Se!==null))return uh(Se)?m.lanes=16:m.lanes=536870912,null;kt(m)}return Se=C.children,C=C.fallback,O?(Ti(),O=m.mode,Se=Jg({mode:"hidden",children:Se},O),C=fc(C,O,b,null),Se.return=m,C.return=m,Se.sibling=C,m.child=Se,O=m.child,O.memoizedState=qg(b),O.childLanes=zd(h,ne,b),m.memoizedState=vh,C):(Ei(m),Kg(m,Se))}if(He=h.memoizedState,He!==null&&(Se=He.dehydrated,Se!==null)){if(z)m.flags&256?(Ei(m),m.flags&=-257,m=Fp(h,m,b)):m.memoizedState!==null?(Ti(),m.child=h.child,m.flags|=128,m=null):(Ti(),O=C.fallback,Se=m.mode,C=Jg({mode:"visible",children:C.children},Se),O=fc(O,Se,b,null),O.flags|=2,C.return=m,O.return=m,C.sibling=O,m.child=C,Tc(m,h.child,null,b),C=m.child,C.memoizedState=qg(b),C.childLanes=zd(h,ne,b),m.memoizedState=vh,m=O);else if(Ei(m),uh(Se))ne=sm(Se).digest,C=Error(i(419)),C.stack="",C.digest=ne,we({value:C,source:null,stack:null}),m=Fp(h,m,b);else if(mr||kd(h,m,b,!1),ne=(b&h.childLanes)!==0,mr||ne){if(ne=fi,ne!==null){if(C=b&-b,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(ne.suspendedLanes|b))!==0?0:C,C!==0&&C!==He.retryLane)throw He.retryLane=C,Xe(h,C),yi(ne,h,C),z0}_u(Se)||As(),m=Fp(h,m,b)}else _u(Se)?(m.flags|=128,m.child=h.child,m=ah.bind(null,h),W1(Se,m),m=null):(h=He.treeContext,Ua&&(ci=T0(Se),$i=m,Kn=!0,Es=null,no=!1,h!==null&&(La[na++]=Oo,La[na++]=No,La[na++]=to,Oo=h.id,No=h.overflow,to=m)),m=Kg(m,C.children),m.flags|=4096);return m}return O?(Ti(),O=C.fallback,Se=m.mode,He=h.child,z=He.sibling,C=hl(He,{mode:"hidden",children:C.children}),C.subtreeFlags=He.subtreeFlags&31457280,z!==null?O=hl(z,O):(O=fc(O,Se,b,null),O.flags|=2),O.return=m,C.return=m,C.sibling=O,m.child=C,C=O,O=m.child,Se=h.child.memoizedState,Se===null?Se=qg(b):(He=Se.cachePool,He!==null?(z=$s?Gi._currentValue:Gi._currentValue2,He=He.parent!==z?{parent:z,pool:z}:He):He=t0(),Se={baseLanes:Se.baseLanes|b,cachePool:He}),O.memoizedState=Se,O.childLanes=zd(h,ne,b),m.memoizedState=vh,C):(Ei(m),b=h.child,h=b.sibling,b=hl(b,{mode:"visible",children:C.children}),b.return=m,b.sibling=null,h!==null&&(ne=m.deletions,ne===null?(m.deletions=[h],m.flags|=16):ne.push(h)),m.child=b,m.memoizedState=null,b)}function Kg(h,m){return m=Jg({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function Jg(h,m){return Zp(h,m,0,null)}function Fp(h,m,b){return Tc(m,h.child,null,b),h=Kg(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function o1(h,m,b){h.lanes|=m;var C=h.alternate;C!==null&&(C.lanes|=m),Gd(h.return,m,b)}function Zg(h,m,b,C,O){var z=h.memoizedState;z===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:O}:(z.isBackwards=m,z.rendering=null,z.renderingStartTime=0,z.last=C,z.tail=b,z.tailMode=O)}function l1(h,m,b){var C=m.pendingProps,O=C.revealOrder,z=C.tail;if(Hi(h,m,C.children,b),C=_i.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&o1(h,b,m);else if(h.tag===19)o1(h,b,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(M(_i,C),O){case"forwards":for(b=m.child,O=null;b!==null;)h=b.alternate,h!==null&&bn(h)===null&&(O=b),b=b.sibling;b=O,b===null?(O=m.child,m.child=null):(O=b.sibling,b.sibling=null),Zg(m,!1,O,b,z);break;case"backwards":for(b=null,O=m.child,m.child=null;O!==null;){if(h=O.alternate,h!==null&&bn(h)===null){m.child=O;break}h=O.sibling,O.sibling=b,b=O,O=h}Zg(m,!0,b,null,z);break;case"together":Zg(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function il(h,m,b){if(h!==null&&(m.dependencies=h.dependencies),Ds|=m.lanes,(b&m.childLanes)===0)if(h!==null){if(kd(h,m,b,!1),(b&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(i(153));if(m.child!==null){for(h=m.child,b=hl(h,h.pendingProps),m.child=b,b.return=m;h.sibling!==null;)h=h.sibling,b=b.sibling=hl(h,h.pendingProps),b.return=m;b.sibling=null}return m.child}function $g(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&Vd(h)))}function D2(h,m,b){switch(m.tag){case 3:Q(m,m.stateNode.containerInfo),ec(m,Gi,h.memoizedState.cache),ye();break;case 27:case 5:me(m);break;case 4:Q(m,m.stateNode.containerInfo);break;case 10:ec(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(Ei(m),m.flags|=128,null):(b&m.child.childLanes)!==0?s1(h,m,b):(Ei(m),h=il(h,m,b),h!==null?h.sibling:null);Ei(m);break;case 19:var O=(h.flags&128)!==0;if(C=(b&m.childLanes)!==0,C||(kd(h,m,b,!1),C=(b&m.childLanes)!==0),O){if(C)return l1(h,m,b);m.flags|=128}if(O=m.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),M(_i,_i.current),C)break;return null;case 22:case 23:return m.lanes=0,Vr(h,m,b);case 24:ec(m,Gi,h.memoizedState.cache)}return il(h,m,b)}function c1(h,m,b){if(h!==null)if(h.memoizedProps!==m.pendingProps)mr=!0;else{if(!$g(h,b)&&(m.flags&128)===0)return mr=!1,D2(h,m,b);mr=(h.flags&131072)!==0}else mr=!1,Kn&&(m.flags&1048576)!==0&&K(m,If,m.index);switch(m.lanes=0,m.tag){case 16:e:{h=m.pendingProps;var C=m.elementType,O=C._init;if(C=O(C._payload),m.type=C,typeof C=="function")dl(C)?(h=Ka(C,h),m.tag=1,m=r1(null,m,C,h,b)):(m.tag=0,m=Ja(null,m,C,h,b));else{if(C!=null){if(O=C.$$typeof,O===$p){m.tag=11,m=nl(null,m,C,h,b);break e}else if(O===Cf){m.tag=14,m=Fd(null,m,C,h,b);break e}}throw m=s(C)||C,Error(i(306,m,""))}}return m;case 0:return Ja(h,m,m.type,m.pendingProps,b);case 1:return C=m.type,O=Ka(C,m.pendingProps),r1(h,m,C,O,b);case 3:e:{if(Q(m,m.stateNode.containerInfo),h===null)throw Error(i(387));var z=m.pendingProps;O=m.memoizedState,C=O.element,_t(h,m),It(m,z,null,b);var ne=m.memoizedState;if(z=ne.cache,ec(m,Gi,z),z!==O.cache&&ou(m,[Gi],b,!0),xt(),z=ne.element,Ua&&O.isDehydrated)if(O={element:z,isDehydrated:!1,cache:ne.cache},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){m=a1(h,m,z,b);break e}else if(z!==C){C=de(Error(i(424)),m),we(C),m=a1(h,m,z,b);break e}else for(Ua&&(ci=xu(m.stateNode.containerInfo),$i=m,Kn=!0,Es=null,no=!0),b=Uo(m,null,z,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(ye(),z===C){m=il(h,m,b);break e}Hi(h,m,z,b)}m=m.child}return m;case 26:if(Qa)return ur(h,m),h===null?(b=R0(m.type,null,m.pendingProps,null))?m.memoizedState=b:Kn||(m.stateNode=N0(m.type,m.pendingProps,Al.current,m)):m.memoizedState=R0(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:if(Ur)return me(m),h===null&&Ur&&Kn&&(C=m.stateNode=cm(m.type,m.pendingProps,Al.current,Zi.current,!1),$i=m,no=!0,ci=xl(C)),C=m.pendingProps.children,h!==null||Kn?Hi(h,m,C,b):m.child=Tc(m,null,C,b),ur(h,m),m.child;case 5:return h===null&&Kn&&(e_(m.type,m.pendingProps,Zi.current),(O=C=ci)&&(C=M0(C,m.type,m.pendingProps,no),C!==null?(m.stateNode=C,$i=m,ci=xl(C),no=!1,O=!0):O=!1),O||be(m)),me(m),O=m.type,z=m.pendingProps,ne=h!==null?h.memoizedProps:null,C=z.children,Wr(O,z)?C=null:ne!==null&&Wr(O,ne)&&(m.flags|=32),m.memoizedState!==null&&(O=ie(h,m,rt,null,null,b),$s?_l._currentValue=O:_l._currentValue2=O),ur(h,m),Hi(h,m,C,b),m.child;case 6:return h===null&&Kn&&(H2(m.pendingProps,Zi.current),(h=b=ci)&&(b=q1(b,m.pendingProps,no),b!==null?(m.stateNode=b,$i=m,ci=null,h=!0):h=!1),h||be(m)),null;case 13:return s1(h,m,b);case 4:return Q(m,m.stateNode.containerInfo),C=m.pendingProps,h===null?m.child=Tc(m,null,C,b):Hi(h,m,C,b),m.child;case 11:return nl(h,m,m.type,m.pendingProps,b);case 7:return Hi(h,m,m.pendingProps,b),m.child;case 8:return Hi(h,m,m.pendingProps.children,b),m.child;case 12:return Hi(h,m,m.pendingProps.children,b),m.child;case 10:return C=m.pendingProps,ec(m,m.type,C.value),Hi(h,m,C.children,b),m.child;case 9:return O=m.type._context,C=m.pendingProps.children,tc(m),O=jr(O),C=C(O),m.flags|=1,Hi(h,m,C,b),m.child;case 14:return Fd(h,m,m.type,m.pendingProps,b);case 15:return Pp(h,m,m.type,m.pendingProps,b);case 19:return l1(h,m,b);case 22:return Vr(h,m,b);case 24:return tc(m),C=jr(Gi),h===null?(O=e0(),O===null&&(O=fi,z=nc(),O.pooledCache=z,z.refCount++,z!==null&&(O.pooledCacheLanes|=b),O=z),m.memoizedState={parent:C,cache:O},ot(m),ec(m,Gi,O)):((h.lanes&b)!==0&&(_t(h,m),It(m,null,null,b),xt()),O=h.memoizedState,z=m.memoizedState,O.parent!==C?(O={parent:C,cache:C},m.memoizedState=O,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=O),ec(m,Gi,C)):(C=z.cache,ec(m,Gi,C),C!==O.cache&&ou(m,[Gi],b,!0))),Hi(h,m,m.pendingProps.children,b),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function ec(h,m,b){$s?(M(Ms,m._currentValue),m._currentValue=b):(M(Ms,m._currentValue2),m._currentValue2=b)}function rl(h){var m=Ms.current;$s?h._currentValue=m:h._currentValue2=m,E(Ms)}function Gd(h,m,b){for(;h!==null;){var C=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),h===b)break;h=h.return}}function ou(h,m,b,C){var O=h.child;for(O!==null&&(O.return=h);O!==null;){var z=O.dependencies;if(z!==null){var ne=O.child;z=z.firstContext;e:for(;z!==null;){var Se=z;z=O;for(var He=0;He<m.length;He++)if(Se.context===m[He]){z.lanes|=b,Se=z.alternate,Se!==null&&(Se.lanes|=b),Gd(z.return,b,h),C||(ne=null);break e}z=Se.next}}else if(O.tag===18){if(ne=O.return,ne===null)throw Error(i(341));ne.lanes|=b,z=ne.alternate,z!==null&&(z.lanes|=b),Gd(ne,b,h),ne=null}else ne=O.child;if(ne!==null)ne.return=O;else for(ne=O;ne!==null;){if(ne===h){ne=null;break}if(O=ne.sibling,O!==null){O.return=ne.return,ne=O;break}ne=ne.return}O=ne}}function kd(h,m,b,C){h=null;for(var O=m,z=!1;O!==null;){if(!z){if((O.flags&524288)!==0)z=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ne=O.alternate;if(ne===null)throw Error(i(387));if(ne=ne.memoizedProps,ne!==null){var Se=O.type;va(O.pendingProps.value,ne.value)||(h!==null?h.push(Se):h=[Se])}}else if(O===hh.current){if(ne=O.alternate,ne===null)throw Error(i(387));ne.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(h!==null?h.push(_l):h=[_l])}O=O.return}h!==null&&ou(m,h,b,C),m.flags|=262144}function Vd(h){for(h=h.firstContext;h!==null;){var m=h.context;if(!va($s?m._currentValue:m._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function tc(h){Dc=h,Cs=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function jr(h){return Qg(Dc,h)}function jd(h,m){return Dc===null&&tc(h),Qg(h,m)}function Qg(h,m){var b=$s?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:b,next:null},Cs===null){if(h===null)throw Error(i(308));Cs=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else Cs=Cs.next=m;return b}function nc(){return{controller:new yh,data:new Map,refCount:0}}function Xd(h){h.refCount--,h.refCount===0&&Li(G2,function(){h.controller.abort()})}function e0(){var h=Mu.current;return h!==null?h:fi.pooledCache}function Hp(h,m){m===null?M(Mu,Mu.current):M(Mu,m.pool)}function t0(){var h=e0();return h===null?null:{parent:$s?Gi._currentValue:Gi._currentValue2,pool:h}}function wa(h){h.flags|=4}function yf(h,m){if(h!==null&&h.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(h=m.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function lu(h,m,b,C){if(Bi)for(b=m.child;b!==null;){if(b.tag===5||b.tag===6)lh(h,b.stateNode);else if(!(b.tag===4||Ur&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(Qs)for(var O=m.child;O!==null;){if(O.tag===5){var z=O.stateNode;b&&C&&(z=X1(z,O.type,O.memoizedProps)),lh(h,z)}else if(O.tag===6)z=O.stateNode,b&&C&&(z=E0(z,O.memoizedProps)),lh(h,z);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)z=O.child,z!==null&&(z.return=O),lu(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function u1(h,m,b,C){if(Qs)for(var O=m.child;O!==null;){if(O.tag===5){var z=O.stateNode;b&&C&&(z=X1(z,O.type,O.memoizedProps)),S0(h,z)}else if(O.tag===6)z=O.stateNode,b&&C&&(z=E0(z,O.memoizedProps)),S0(h,z);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)z=O.child,z!==null&&(z.return=O),u1(h,O,!(O.memoizedProps!==null&&O.memoizedProps.mode==="manual"),!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function Wd(h,m){if(Qs&&yf(h,m)){h=m.stateNode;var b=h.containerInfo,C=am();u1(C,m,!1,!1),h.pendingChildren=C,wa(m),V1(b,C)}}function zp(h,m,b,C){if(Bi)h.memoizedProps!==C&&wa(m);else if(Qs){var O=h.stateNode,z=h.memoizedProps;if((h=yf(h,m))||z!==C){var ne=Zi.current;z=k1(O,b,z,C,!h,null),z===O?m.stateNode=O:(Qp(z,b,C,ne)&&wa(m),m.stateNode=z,h?lu(z,m,!1,!1):wa(m))}else m.stateNode=O}}function Gp(h,m,b){if(v0(m,b)){if(h.flags|=16777216,!y0(m,b))if(Nr())h.flags|=8192;else throw ra=ya,gh}else h.flags&=-16777217}function kp(h,m){if(i_(m)){if(h.flags|=16777216,!U0(m))if(Nr())h.flags|=8192;else throw ra=ya,gh}else h.flags&=-16777217}function _f(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?N():536870912,h.lanes|=m,vr|=m)}function xf(h,m){if(!Kn)switch(h.tailMode){case"hidden":m=h.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Di(h){var m=h.alternate!==null&&h.alternate.child===h.child,b=0,C=0;if(m)for(var O=h.child;O!==null;)b|=O.lanes|O.childLanes,C|=O.subtreeFlags&31457280,C|=O.flags&31457280,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)b|=O.lanes|O.childLanes,C|=O.subtreeFlags,C|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=C,h.childLanes=b,m}function f1(h,m,b){var C=m.pendingProps;switch(pe(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(m),null;case 1:return Di(m),null;case 3:return b=m.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),rl(Gi),ce(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Ie(m)?wa(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Es!==null&&(ul(Es),Es=null))),Wd(h,m),Di(m),null;case 26:if(Qa){b=m.type;var O=m.memoizedState;return h===null?(wa(m),O!==null?(Di(m),kp(m,O)):(Di(m),Gp(m,b,C))):O?O!==h.memoizedState?(wa(m),Di(m),kp(m,O)):(Di(m),m.flags&=-16777217):(Bi?h.memoizedProps!==C&&wa(m):zp(h,m,b,C),Di(m),Gp(m,b,C)),null}case 27:if(Ur){if(ge(m),b=Al.current,O=m.type,h!==null&&m.stateNode!=null)Bi?h.memoizedProps!==C&&wa(m):zp(h,m,O,C);else{if(!C){if(m.stateNode===null)throw Error(i(166));return Di(m),null}h=Zi.current,Ie(m)?je(m,h):(h=cm(O,C,b,h,!0),m.stateNode=h,wa(m))}return Di(m),null}case 5:if(ge(m),b=m.type,h!==null&&m.stateNode!=null)zp(h,m,b,C);else{if(!C){if(m.stateNode===null)throw Error(i(166));return Di(m),null}h=Zi.current,Ie(m)?je(m,h):(O=g0(b,C,Al.current,h,m),lu(O,m,!1,!1),m.stateNode=O,Qp(O,b,C,h)&&wa(m))}return Di(m),Gp(m,m.type,m.pendingProps),null;case 6:if(h&&m.stateNode!=null)b=h.memoizedProps,Bi?b!==C&&wa(m):Qs&&(b!==C?(m.stateNode=Ki(C,Al.current,Zi.current,m),wa(m)):m.stateNode=h.stateNode);else{if(typeof C!="string"&&m.stateNode===null)throw Error(i(166));if(h=Al.current,b=Zi.current,Ie(m)){if(!Ua)throw Error(i(176));if(h=m.stateNode,b=m.memoizedProps,C=null,O=$i,O!==null)switch(O.tag){case 27:case 5:C=O.memoizedProps}om(h,b,m,C)||be(m)}else m.stateNode=Ki(C,h,b,m)}return Di(m),null;case 13:if(C=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(O=Ie(m),C!==null&&C.dehydrated!==null){if(h===null){if(!O)throw Error(i(318));if(!Ua)throw Error(i(344));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));J1(O,m)}else ye(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Di(m),O=!1}else Es!==null&&(ul(Es),Es=null),O=!0;if(!O)return m.flags&256?(kt(m),m):(kt(m),null)}if(kt(m),(m.flags&128)!==0)return m.lanes=b,m;if(b=C!==null,h=h!==null&&h.memoizedState!==null,b){C=m.child,O=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(O=C.alternate.memoizedState.cachePool.pool);var z=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(z=C.memoizedState.cachePool.pool),z!==O&&(C.flags|=2048)}return b!==h&&b&&(m.child.flags|=8192),_f(m,m.updateQueue),Di(m),null;case 4:return ce(),Wd(h,m),h===null&&b1(m.stateNode.containerInfo),Di(m),null;case 10:return rl(m.type),Di(m),null;case 19:if(E(_i),O=m.memoizedState,O===null)return Di(m),null;if(C=(m.flags&128)!==0,z=O.rendering,z===null)if(C)xf(O,!1);else{if(Ni!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(z=bn(h),z!==null){for(m.flags|=128,xf(O,!1),h=z.updateQueue,m.updateQueue=h,_f(m,h),m.subtreeFlags=0,h=b,b=m.child;b!==null;)pu(b,h),b=b.sibling;return M(_i,_i.current&1|2),m.child}h=h.sibling}O.tail!==null&&es()>rs&&(m.flags|=128,C=!0,xf(O,!1),m.lanes=4194304)}else{if(!C)if(h=bn(z),h!==null){if(m.flags|=128,C=!0,h=h.updateQueue,m.updateQueue=h,_f(m,h),xf(O,!0),O.tail===null&&O.tailMode==="hidden"&&!z.alternate&&!Kn)return Di(m),null}else 2*es()-O.renderingStartTime>rs&&b!==536870912&&(m.flags|=128,C=!0,xf(O,!1),m.lanes=4194304);O.isBackwards?(z.sibling=m.child,m.child=z):(h=O.last,h!==null?h.sibling=z:m.child=z,O.last=z)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=es(),m.sibling=null,h=_i.current,M(_i,C?h&1|2:h&1),m):(Di(m),null);case 22:case 23:return kt(m),vi(),C=m.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(b&536870912)!==0&&(m.flags&128)===0&&(Di(m),m.subtreeFlags&6&&(m.flags|=8192)):Di(m),b=m.updateQueue,b!==null&&_f(m,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==b&&(m.flags|=2048),h!==null&&E(Mu),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),m.memoizedState.cache!==b&&(m.flags|=2048),rl(Gi),Di(m),null;case 25:return null}throw Error(i(156,m.tag))}function B2(h,m){switch(pe(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return rl(Gi),ce(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return ge(m),null;case 13:if(kt(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(i(340));ye()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return E(_i),null;case 4:return ce(),null;case 10:return rl(m.type),null;case 22:case 23:return kt(m),vi(),h!==null&&E(Mu),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return rl(Gi),null;case 25:return null;default:return null}}function d1(h,m){switch(pe(m),m.tag){case 3:rl(Gi),ce();break;case 26:case 27:case 5:ge(m);break;case 4:ce();break;case 13:kt(m);break;case 19:E(_i);break;case 10:rl(m.type);break;case 22:case 23:kt(m),vi(),h!==null&&E(Mu);break;case 24:rl(Gi)}}function Yd(h,m){try{var b=m.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var O=C.next;b=O;do{if((b.tag&h)===h){C=void 0;var z=b.create,ne=b.inst;C=z(),ne.destroy=C}b=b.next}while(b!==O)}}catch(Se){ri(m,m.return,Se)}}function ic(h,m,b){try{var C=m.updateQueue,O=C!==null?C.lastEffect:null;if(O!==null){var z=O.next;C=z;do{if((C.tag&h)===h){var ne=C.inst,Se=ne.destroy;if(Se!==void 0){ne.destroy=void 0,O=m;var He=b;try{Se()}catch(ft){ri(O,He,ft)}}}C=C.next}while(C!==z)}}catch(ft){ri(m,m.return,ft)}}function h1(h){var m=h.updateQueue;if(m!==null){var b=h.stateNode;try{De(m,b)}catch(C){ri(h,h.return,C)}}}function Ra(h,m,b){b.props=Ka(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(C){ri(h,m,C)}}function Zs(h,m){try{var b=h.ref;if(b!==null){var C=h.stateNode;switch(h.tag){case 26:case 27:case 5:var O=vu(C);break;default:O=C}typeof b=="function"?h.refCleanup=b(O):b.current=O}}catch(z){ri(h,m,z)}}function Da(h,m){var b=h.ref,C=h.refCleanup;if(b!==null)if(typeof C=="function")try{C()}catch(O){ri(h,m,O)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(O){ri(h,m,O)}else b.current=null}function n0(h){var m=h.type,b=h.memoizedProps,C=h.stateNode;try{U1(C,m,b,h)}catch(O){ri(h,h.return,O)}}function i0(h,m,b){try{L1(h.stateNode,h.type,b,m,h)}catch(C){ri(h,h.return,C)}}function r0(h){return h.tag===5||h.tag===3||(Qa?h.tag===26:!1)||(Ur?h.tag===27:!1)||h.tag===4}function qd(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||r0(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!Ur||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function a0(h,m,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?b0(b,h,m):x0(b,h);else if(!(C===4||Ur&&C===27)&&(h=h.child,h!==null))for(a0(h,m,b),h=h.sibling;h!==null;)a0(h,m,b),h=h.sibling}function Vp(h,m,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?I1(b,h,m):O1(b,h);else if(!(C===4||Ur&&C===27)&&(h=h.child,h!==null))for(Vp(h,m,b),h=h.sibling;h!==null;)Vp(h,m,b),h=h.sibling}function cu(h,m,b){h=h.containerInfo;try{j1(h,b)}catch(C){ri(m,m.return,C)}}function s0(h,m){for(x1(h.containerInfo),rn=m;rn!==null;)if(h=rn,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,rn=m;else for(;rn!==null;){h=rn;var b=h.alternate;switch(m=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&b!==null){m=void 0;var C=h,O=b.memoizedProps;b=b.memoizedState;var z=C.stateNode;try{var ne=Ka(C.type,O,C.elementType===C.type);m=z.getSnapshotBeforeUpdate(ne,b),z.__reactInternalSnapshotBeforeUpdate=m}catch(Se){ri(C,C.return,Se)}}break;case 3:(m&1024)!==0&&Bi&&G1(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(i(163))}if(m=h.sibling,m!==null){m.return=h.return,rn=m;break}rn=h.return}return ne=pi,pi=!1,ne}function bf(h,m,b){var C=b.flags;switch(b.tag){case 0:case 11:case 15:sl(h,b),C&4&&Yd(5,b);break;case 1:if(sl(h,b),C&4)if(h=b.stateNode,m===null)try{h.componentDidMount()}catch(Se){ri(b,b.return,Se)}else{var O=Ka(b.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(O,m,h.__reactInternalSnapshotBeforeUpdate)}catch(Se){ri(b,b.return,Se)}}C&64&&h1(b),C&512&&Zs(b,b.return);break;case 3:if(sl(h,b),C&64&&(C=b.updateQueue,C!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=vu(b.child.stateNode);break;case 1:h=b.child.stateNode}try{De(C,h)}catch(Se){ri(b,b.return,Se)}}break;case 26:if(Qa){sl(h,b),C&512&&Zs(b,b.return);break}case 27:case 5:sl(h,b),m===null&&C&4&&n0(b),C&512&&Zs(b,b.return);break;case 12:sl(h,b);break;case 13:sl(h,b),C&4&&uu(h,b);break;case 22:if(O=b.memoizedState!==null||wl,!O){m=m!==null&&m.memoizedState!==null||mn;var z=wl,ne=mn;wl=O,(mn=m)&&!ne?rc(h,b,(b.subtreeFlags&8772)!==0):sl(h,b),wl=z,mn=ne}C&512&&(b.memoizedProps.mode==="manual"?Zs(b,b.return):Da(b,b.return));break;default:sl(h,b)}}function jp(h){var m=h.alternate;m!==null&&(h.alternate=null,jp(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&E1(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function _s(h,m,b){for(b=b.child;b!==null;)al(h,m,b),b=b.sibling}function al(h,m,b){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Lf,b)}catch{}switch(b.tag){case 26:if(Qa){mn||Da(b,m),_s(h,m,b),b.memoizedState?B0(b.memoizedState):b.stateNode&&Of(b.stateNode);break}case 27:if(Ur){mn||Da(b,m);var C=ti,O=tr;ti=b.stateNode,_s(h,m,b),P0(b.stateNode),ti=C,tr=O;break}case 5:mn||Da(b,m);case 6:if(Bi){if(C=ti,O=tr,ti=null,_s(h,m,b),ti=C,tr=O,ti!==null)if(tr)try{F1(ti,b.stateNode)}catch(z){ri(b,m,z)}else try{P1(ti,b.stateNode)}catch(z){ri(b,m,z)}}else _s(h,m,b);break;case 18:Bi&&ti!==null&&(tr?C0(ti,b.stateNode):Q1(ti,b.stateNode));break;case 4:Bi?(C=ti,O=tr,ti=b.stateNode.containerInfo,tr=!0,_s(h,m,b),ti=C,tr=O):(Qs&&cu(b.stateNode,b,am()),_s(h,m,b));break;case 0:case 11:case 14:case 15:mn||ic(2,b,m),mn||ic(4,b,m),_s(h,m,b);break;case 1:mn||(Da(b,m),C=b.stateNode,typeof C.componentWillUnmount=="function"&&Ra(b,m,C)),_s(h,m,b);break;case 21:_s(h,m,b);break;case 22:mn||Da(b,m),mn=(C=mn)||b.memoizedState!==null,_s(h,m,b),mn=C;break;default:_s(h,m,b)}}function uu(h,m){if(Ua&&m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{lm(h)}catch(b){ri(m,m.return,b)}}function o0(h){switch(h.tag){case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new Rn),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new Rn),m;default:throw Error(i(435,h.tag))}}function Xp(h,m){var b=o0(h);m.forEach(function(C){var O=Jp.bind(null,h,C);b.has(C)||(b.add(C),C.then(O,O))})}function fr(h,m){var b=m.deletions;if(b!==null)for(var C=0;C<b.length;C++){var O=b[C],z=h,ne=m;if(Bi){var Se=ne;e:for(;Se!==null;){switch(Se.tag){case 27:case 5:ti=Se.stateNode,tr=!1;break e;case 3:ti=Se.stateNode.containerInfo,tr=!0;break e;case 4:ti=Se.stateNode.containerInfo,tr=!0;break e}Se=Se.return}if(ti===null)throw Error(i(160));al(z,ne,O),ti=null,tr=!1}else al(z,ne,O);z=O.alternate,z!==null&&(z.return=null),O.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)l0(m,h),m=m.sibling}function l0(h,m){var b=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:fr(m,h),Ba(h),C&4&&(ic(3,h,h.return),Yd(3,h),ic(5,h,h.return));break;case 1:fr(m,h),Ba(h),C&512&&(mn||b===null||Da(b,b.return)),C&64&&wl&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?C:b.concat(C))));break;case 26:if(Qa){var O=sa;fr(m,h),Ba(h),C&512&&(mn||b===null||Da(b,b.return)),C&4&&(C=b!==null?b.memoizedState:null,m=h.memoizedState,b===null?m===null?h.stateNode===null?h.stateNode=t_(O,h.type,h.memoizedProps,h):O0(O,h.type,h.stateNode):h.stateNode=D0(O,m,h.memoizedProps):C!==m?(C===null?b.stateNode!==null&&Of(b.stateNode):B0(C),m===null?O0(O,h.type,h.stateNode):D0(O,m,h.memoizedProps)):m===null&&h.stateNode!==null&&i0(h,h.memoizedProps,b.memoizedProps));break}case 27:if(Ur&&C&4&&h.alternate===null){O=h.stateNode;var z=h.memoizedProps;try{r_(O),I0(h.type,z,O,h)}catch(Tt){ri(h,h.return,Tt)}}case 5:if(fr(m,h),Ba(h),C&512&&(mn||b===null||Da(b,b.return)),Bi){if(h.flags&32){m=h.stateNode;try{rm(m)}catch(Tt){ri(h,h.return,Tt)}}C&4&&h.stateNode!=null&&(m=h.memoizedProps,i0(h,m,b!==null?b.memoizedProps:m)),C&1024&&(ui=!0)}break;case 6:if(fr(m,h),Ba(h),C&4&&Bi){if(h.stateNode===null)throw Error(i(162));C=h.memoizedProps,b=b!==null?b.memoizedProps:C,m=h.stateNode;try{N1(m,b,C)}catch(Tt){ri(h,h.return,Tt)}}break;case 3:if(Qa?(n_(),O=sa,sa=Cr(m.containerInfo),fr(m,h),sa=O):fr(m,h),Ba(h),C&4){if(Bi&&Ua&&b!==null&&b.memoizedState.isDehydrated)try{$1(m.containerInfo)}catch(Tt){ri(h,h.return,Tt)}if(Qs){C=m.containerInfo,b=m.pendingChildren;try{j1(C,b)}catch(Tt){ri(h,h.return,Tt)}}}ui&&(ui=!1,c0(h));break;case 4:Qa?(b=sa,sa=Cr(h.stateNode.containerInfo),fr(m,h),Ba(h),sa=b):(fr(m,h),Ba(h)),C&4&&Qs&&cu(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:fr(m,h),Ba(h);break;case 13:fr(m,h),Ba(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(k0=es()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Xp(h,C)));break;case 22:C&512&&(mn||b===null||Da(b,b.return)),O=h.memoizedState!==null;var ne=b!==null&&b.memoizedState!==null,Se=wl,He=mn;if(wl=Se||O,mn=He||ne,fr(m,h),mn=He,wl=Se,Ba(h),m=h.stateNode,m._current=h,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,C&8192&&(m._visibility=O?m._visibility&-2:m._visibility|1,O&&(m=wl||mn,b===null||ne||m||Af(h)),Bi&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,Bi)for(m=h;;){if(m.tag===5||Qa&&m.tag===26||Ur&&m.tag===27){if(b===null){ne=b=m;try{z=ne.stateNode,O?H1(z):F2(ne.stateNode,ne.memoizedProps)}catch(Tt){ri(ne,ne.return,Tt)}}}else if(m.tag===6){if(b===null){ne=m;try{var ft=ne.stateNode;O?z1(ft):A0(ft,ne.memoizedProps)}catch(Tt){ri(ne,ne.return,Tt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}}C&4&&(C=h.updateQueue,C!==null&&(b=C.retryQueue,b!==null&&(C.retryQueue=null,Xp(h,b))));break;case 19:fr(m,h),Ba(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,Xp(h,C)));break;case 21:break;default:fr(m,h),Ba(h)}}function Ba(h){var m=h.flags;if(m&2){try{if(Bi&&(!Ur||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(r0(b)){var C=b;break e}b=b.return}throw Error(i(160))}switch(C.tag){case 27:if(Ur){var O=C.stateNode,z=qd(h);Vp(h,z,O);break}case 5:var ne=C.stateNode;C.flags&32&&(rm(ne),C.flags&=-33);var Se=qd(h);Vp(h,Se,ne);break;case 3:case 4:var He=C.stateNode.containerInfo,ft=qd(h);a0(h,ft,He);break;default:throw Error(i(161))}}}catch(Tt){ri(h,h.return,Tt)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function c0(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;c0(m),m.tag===5&&m.flags&1024&&M1(m.stateNode),h=h.sibling}}function sl(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)bf(h,m.alternate,m),m=m.sibling}function Af(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:ic(4,m,m.return),Af(m);break;case 1:Da(m,m.return);var b=m.stateNode;typeof b.componentWillUnmount=="function"&&Ra(m,m.return,b),Af(m);break;case 26:case 27:case 5:Da(m,m.return),Af(m);break;case 22:Da(m,m.return),m.memoizedState===null&&Af(m);break;default:Af(m)}h=h.sibling}}function rc(h,m,b){for(b=b&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,O=h,z=m,ne=z.flags;switch(z.tag){case 0:case 11:case 15:rc(O,z,b),Yd(4,z);break;case 1:if(rc(O,z,b),C=z,O=C.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ft){ri(C,C.return,ft)}if(C=z,O=C.updateQueue,O!==null){var Se=C.stateNode;try{var He=O.shared.hiddenCallbacks;if(He!==null)for(O.shared.hiddenCallbacks=null,O=0;O<He.length;O++)Ee(He[O],Se)}catch(ft){ri(C,C.return,ft)}}b&&ne&64&&h1(z),Zs(z,z.return);break;case 26:case 27:case 5:rc(O,z,b),b&&C===null&&ne&4&&n0(z),Zs(z,z.return);break;case 12:rc(O,z,b);break;case 13:rc(O,z,b),b&&ne&4&&uu(O,z);break;case 22:z.memoizedState===null&&rc(O,z,b),Zs(z,z.return);break;default:rc(O,z,b)}m=m.sibling}}function Wp(h,m){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&Xd(b))}function Yp(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Xd(h))}function ol(h,m,b,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)xs(h,m,b,C),m=m.sibling}function xs(h,m,b,C){var O=m.flags;switch(m.tag){case 0:case 11:case 15:ol(h,m,b,C),O&2048&&Yd(9,m);break;case 3:ol(h,m,b,C),O&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Xd(h)));break;case 12:if(O&2048){ol(h,m,b,C),h=m.stateNode;try{var z=m.memoizedProps,ne=z.id,Se=z.onPostCommit;typeof Se=="function"&&Se(ne,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(He){ri(m,m.return,He)}}else ol(h,m,b,C);break;case 23:break;case 22:z=m.stateNode,m.memoizedState!==null?z._visibility&4?ol(h,m,b,C):So(h,m):z._visibility&4?ol(h,m,b,C):(z._visibility|=4,Xr(h,m,b,C,(m.subtreeFlags&10256)!==0)),O&2048&&Wp(m.alternate,m);break;case 24:ol(h,m,b,C),O&2048&&Yp(m.alternate,m);break;default:ol(h,m,b,C)}}function Xr(h,m,b,C,O){for(O=O&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var z=h,ne=m,Se=b,He=C,ft=ne.flags;switch(ne.tag){case 0:case 11:case 15:Xr(z,ne,Se,He,O),Yd(8,ne);break;case 23:break;case 22:var Tt=ne.stateNode;ne.memoizedState!==null?Tt._visibility&4?Xr(z,ne,Se,He,O):So(z,ne):(Tt._visibility|=4,Xr(z,ne,Se,He,O)),O&&ft&2048&&Wp(ne.alternate,ne);break;case 24:Xr(z,ne,Se,He,O),O&&ft&2048&&Yp(ne.alternate,ne);break;default:Xr(z,ne,Se,He,O)}m=m.sibling}}function So(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var b=h,C=m,O=C.flags;switch(C.tag){case 22:So(b,C),O&2048&&Wp(C.alternate,C);break;case 24:So(b,C),O&2048&&Yp(C.alternate,C);break;default:So(b,C)}m=m.sibling}}function ll(h){if(h.subtreeFlags&Bc)for(h=h.child;h!==null;)Kd(h),h=h.sibling}function Kd(h){switch(h.tag){case 26:ll(h),h.flags&Bc&&(h.memoizedState!==null?L0(sa,h.memoizedState,h.memoizedProps):_0(h.type,h.memoizedProps));break;case 5:ll(h),h.flags&Bc&&_0(h.type,h.memoizedProps);break;case 3:case 4:if(Qa){var m=sa;sa=Cr(h.stateNode.containerInfo),ll(h),sa=m}else ll(h);break;case 22:h.memoizedState===null&&(m=h.alternate,m!==null&&m.memoizedState!==null?(m=Bc,Bc=16777216,ll(h),Bc=m):ll(h));break;default:ll(h)}}function Jd(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function fu(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var C=m[b];rn=C,$d(C,h)}Jd(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)cl(h),h=h.sibling}function cl(h){switch(h.tag){case 0:case 11:case 15:fu(h),h.flags&2048&&ic(9,h,h.return);break;case 3:fu(h);break;case 12:fu(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&4&&(h.return===null||h.return.tag!==13)?(m._visibility&=-5,Zd(h)):fu(h);break;default:fu(h)}}function Zd(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var C=m[b];rn=C,$d(C,h)}Jd(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:ic(8,m,m.return),Zd(m);break;case 22:b=m.stateNode,b._visibility&4&&(b._visibility&=-5,Zd(m));break;default:Zd(m)}h=h.sibling}}function $d(h,m){for(;rn!==null;){var b=rn;switch(b.tag){case 0:case 11:case 15:ic(8,b,m);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var C=b.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Xd(b.memoizedState.cache)}if(C=b.child,C!==null)C.return=b,rn=C;else e:for(b=h;rn!==null;){C=rn;var O=C.sibling,z=C.return;if(jp(C),C===b){rn=null;break e}if(O!==null){O.return=z,rn=O;break e}rn=z}}}function ac(h){var m=tm(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(i(364));return m}if(h=R1(h),h===null)throw Error(i(362));return h.stateNode.current}function qp(h,m){var b=h.tag;switch(m.$$typeof){case wi:if(h.type===m.value)return!0;break;case so:e:{for(m=m.value,h=[h,0],b=0;b<h.length;){var C=h[b++],O=C.tag,z=h[b++],ne=m[z];if(O!==5&&O!==26&&O!==27||!Ro(C)){for(;ne!=null&&qp(C,ne);)z++,ne=m[z];if(z===m.length){m=!0;break e}else for(C=C.child;C!==null;)h.push(C,z),C=C.sibling}}m=!1}return m;case Lo:if((b===5||b===26||b===27)&&B1(h.stateNode,m.value))return!0;break;case xa:if((b===5||b===6||b===26||b===27)&&(h=D1(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case Gf:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Oa(h){switch(h.$$typeof){case wi:return"<"+(s(h.value)||"Unknown")+">";case so:return":has("+(Oa(h)||"")+")";case Lo:return'[role="'+h.value+'"]';case xa:return'"'+h.value+'"';case Gf:return'[data-testname="'+h.value+'"]';default:throw Error(i(365))}}function du(h,m){var b=[];h=[h,0];for(var C=0;C<h.length;){var O=h[C++],z=O.tag,ne=h[C++],Se=m[ne];if(z!==5&&z!==26&&z!==27||!Ro(O)){for(;Se!=null&&qp(O,Se);)ne++,Se=m[ne];if(ne===m.length)b.push(O);else for(O=O.child;O!==null;)h.push(O,ne),O=O.sibling}}return b}function sc(h,m){if(!Bf)throw Error(i(363));h=ac(h),h=du(h,m),m=[],h=Array.from(h);for(var b=0;b<h.length;){var C=h[b++],O=C.tag;if(O===5||O===26||O===27)Ro(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return m}function Qr(){if((Un&2)!==0&&Ln!==0)return Ln&-Ln;if(ln.T!==null){var h=Ci;return h!==0?h:Ye()}return A1()}function Qd(){is===0&&(is=(Ln&536870912)===0||Kn?F():536870912);var h=Pa.current;return h!==null&&(h.flags|=32),is}function yi(h,m,b){(h===fi&&li===2||h.cancelPendingCommit!==null)&&(oc(h,0),ma(h,Ln,is,!1)),G(h,b),((Un&2)===0||h!==fi)&&(h===fi&&((Un&2)===0&&(Dl|=b),Ni===4&&ma(h,Ln,is,!1)),Ge(h))}function Za(h,m,b){if((Un&6)!==0)throw Error(i(327));var C=!b&&(m&60)===0&&(m&h.expiredLanes)===0||U(h,m),O=C?p1(h,m):th(h,m,!0),z=C;do{if(O===0){Rs&&!C&&ma(h,m,0,!1);break}else if(O===6)ma(h,m,0,!ws);else{if(b=h.current.alternate,z&&!fl(b)){O=th(h,m,!1),z=!1;continue}if(O===2){if(z=m,h.errorRecoveryDisabledLanes&z)var ne=0;else ne=h.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){m=ne;e:{var Se=h;O=kf;var He=Ua&&Se.current.memoizedState.isDehydrated;if(He&&(oc(Se,ne).flags|=256),ne=th(Se,ne,!1),ne!==2){if(Cu&&!He){Se.errorRecoveryDisabledLanes|=z,Dl|=z,O=4;break e}z=Bs,Bs=O,z!==null&&ul(z)}O=ne}if(z=!1,O!==2)continue}}if(O===1){oc(h,0),ma(h,m,0,!0);break}e:{switch(C=h,O){case 0:case 1:throw Error(i(345));case 4:if((m&4194176)===m){ma(C,m,is,!ws);break e}break;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(i(329))}if(C.finishedWork=b,C.finishedLanes=m,(m&62914560)===m&&(z=k0+300-es(),10<z)){if(ma(C,m,is,!ws),I(C,0)!==0)break e;C.timeoutHandle=em(Eo.bind(null,C,b,Bs,wu,_m,m,is,Dl,vr,ws,2,-0,0),z);break e}Eo(C,b,Bs,wu,_m,m,is,Dl,vr,ws,0,-0,0)}}break}while(!0);Ge(h)}function ul(h){Bs===null?Bs=h:Bs.push.apply(Bs,h)}function Eo(h,m,b,C,O,z,ne,Se,He,ft,Tt,Ut,Et){var gn=m.subtreeFlags;if((gn&8192||(gn&16785408)===16785408)&&(I2(),Kd(m),m=T1(),m!==null)){h.cancelPendingCommit=m(Kp.bind(null,h,b,C,O,ne,Se,He,1,Ut,Et)),ma(h,z,ne,!ft);return}Kp(h,b,C,O,ne,Se,He,Tt,Ut,Et)}function fl(h){for(var m=h;;){var b=m.tag;if((b===0||b===11||b===15)&&m.flags&16384&&(b=m.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var C=0;C<b.length;C++){var O=b[C],z=O.getSnapshot;O=O.value;try{if(!va(z(),O))return!1}catch{return!1}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ma(h,m,b,C){m&=~ba,m&=~Dl,h.suspendedLanes|=m,h.pingedLanes&=~m,C&&(h.warmLanes|=m),C=h.expirationTimes;for(var O=m;0<O;){var z=31-Ji(O),ne=1<<z;C[z]=-1,O&=~ne}b!==0&&Y(h,b,m)}function u0(){return(Un&6)===0?(Z(0),!1):!0}function eh(){if(Cn!==null){if(li===0)var h=Cn.return;else h=Cn,Cs=Dc=null,vt(h),Eu=null,aa=0,h=Cn;for(;h!==null;)d1(h.alternate,h),h=h.return;Cn=null}}function oc(h,m){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==Df&&(h.timeoutHandle=Df,ch(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),eh(),fi=h,Cn=b=hl(h.current,null),Ln=m,li=0,gr=null,ws=!1,Rs=U(h,m),Cu=!1,vr=is=ba=Dl=Ds=Ni=0,Bs=kf=null,_m=!1,(m&8)!==0&&(m|=m&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=m;0<C;){var O=31-Ji(C),z=1<<O;m|=h[O],C&=~z}return oo=m,ee(),b}function ea(h,m){pn=null,ln.H=er,m===mh?(m=Pt(),li=3):m===gh?(m=Pt(),li=4):li=m===z0?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,gr=m,Cn===null&&(Ni=1,vs(h,de(m,h.current)))}function Nr(){var h=Pa.current;return h===null?!0:(Ln&4194176)===Ln?Ts===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?h===Ts:!1}function qn(){var h=ln.H;return ln.H=er,h===null?er:h}function bs(){var h=ln.A;return ln.A=Rl,h}function As(){Ni=4,ws||(Ln&4194176)!==Ln&&Pa.current!==null||(Rs=!0),(Ds&134217727)===0&&(Dl&134217727)===0||fi===null||ma(fi,Ln,is,!1)}function th(h,m,b){var C=Un;Un|=2;var O=qn(),z=bs();(fi!==h||Ln!==m)&&(wu=null,oc(h,m)),m=!1;var ne=Ni;e:do try{if(li!==0&&Cn!==null){var Se=Cn,He=gr;switch(li){case 8:eh(),ne=6;break e;case 3:case 2:case 6:Pa.current===null&&(m=!0);var ft=li;if(li=0,gr=null,To(h,Se,He,ft),b&&Rs){ne=0;break e}break;default:ft=li,li=0,gr=null,To(h,Se,He,ft)}}hu(),ne=Ni;break}catch(Tt){ea(h,Tt)}while(!0);return m&&h.shellSuspendCounter++,Cs=Dc=null,Un=C,ln.H=O,ln.A=z,Cn===null&&(fi=null,Ln=0,ee()),ne}function hu(){for(;Cn!==null;)Sf(Cn)}function p1(h,m){var b=Un;Un|=2;var C=qn(),O=bs();fi!==h||Ln!==m?(wu=null,rs=es()+500,oc(h,m)):Rs=U(h,m);e:do try{if(li!==0&&Cn!==null){m=Cn;var z=gr;t:switch(li){case 1:li=0,gr=null,To(h,m,z,1);break;case 2:if(lt(z)){li=0,gr=null,Ef(m);break}m=function(){li===2&&fi===h&&(li=7),Ge(h)},z.then(m,m);break e;case 3:li=7;break e;case 4:li=5;break e;case 7:lt(z)?(li=0,gr=null,Ef(m)):(li=0,gr=null,To(h,m,z,7));break;case 5:var ne=null;switch(Cn.tag){case 26:ne=Cn.memoizedState;case 5:case 27:var Se=Cn,He=Se.type,ft=Se.pendingProps;if(ne?U0(ne):y0(He,ft)){li=0,gr=null;var Tt=Se.sibling;if(Tt!==null)Cn=Tt;else{var Ut=Se.return;Ut!==null?(Cn=Ut,lc(Ut)):Cn=null}break t}}li=0,gr=null,To(h,m,z,5);break;case 6:li=0,gr=null,To(h,m,z,6);break;case 8:eh(),Ni=6;break e;default:throw Error(i(462))}}m1();break}catch(Et){ea(h,Et)}while(!0);return Cs=Dc=null,ln.H=C,ln.A=O,Un=b,Cn!==null?0:(fi=null,Ln=0,ee(),Ni)}function m1(){for(;Cn!==null&&!Ac();)Sf(Cn)}function Sf(h){var m=c1(h.alternate,h,oo);h.memoizedProps=h.pendingProps,m===null?lc(h):Cn=m}function Ef(h){var m=h,b=m.alternate;switch(m.tag){case 15:case 0:m=Hd(b,m,m.pendingProps,m.type,void 0,Ln);break;case 11:m=Hd(b,m,m.pendingProps,m.type.render,m.ref,Ln);break;case 5:vt(m);default:d1(b,m),m=Cn=pu(m,oo),m=c1(b,m,oo)}h.memoizedProps=h.pendingProps,m===null?lc(h):Cn=m}function To(h,m,b,C){Cs=Dc=null,vt(m),Eu=null,aa=0;var O=m.return;try{if(Yg(h,O,m,b,Ln)){Ni=1,vs(h,de(b,h.current)),Cn=null;return}}catch(z){if(O!==null)throw Cn=O,z;Ni=1,vs(h,de(b,h.current)),Cn=null;return}m.flags&32768?(Kn||C===1?h=!0:Rs||(Ln&536870912)!==0?h=!1:(ws=h=!0,(C===2||C===3||C===6)&&(C=Pa.current,C!==null&&C.tag===13&&(C.flags|=16384))),f0(m,h)):lc(m)}function lc(h){var m=h;do{if((m.flags&32768)!==0){f0(m,ws);return}h=m.return;var b=f1(m.alternate,m,oo);if(b!==null){Cn=b;return}if(m=m.sibling,m!==null){Cn=m;return}Cn=m=h}while(m!==null);Ni===0&&(Ni=5)}function f0(h,m){do{var b=B2(h.alternate,h);if(b!==null){b.flags&=32767,Cn=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!m&&(h=h.sibling,h!==null)){Cn=h;return}Cn=h=b}while(h!==null);Ni=6,Cn=null}function Kp(h,m,b,C,O,z,ne,Se,He,ft){var Tt=ln.T,Ut=_c();try{ga(2),ln.T=null,g1(h,m,b,C,Ut,O,z,ne,Se,He,ft)}finally{ln.T=Tt,ga(Ut)}}function g1(h,m,b,C,O,z,ne,Se){do cc();while(Oc!==null);if((Un&6)!==0)throw Error(i(327));var He=h.finishedWork;if(C=h.finishedLanes,He===null)return null;if(h.finishedWork=null,h.finishedLanes=0,He===h.current)throw Error(i(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var ft=He.lanes|He.childLanes;if(ft|=io,X(h,C,ft,z,ne,Se),h===fi&&(Cn=fi=null,Ln=0),(He.subtreeFlags&10256)===0&&(He.flags&10256)===0||Bl||(Bl=!0,xm=ft,xh=b,v1(Uf,function(){return cc(),null})),b=(He.flags&15990)!==0,(He.subtreeFlags&15990)!==0||b?(b=ln.T,ln.T=null,z=_c(),ga(2),ne=Un,Un|=4,s0(h,He),l0(He,h),L2(h.containerInfo),h.current=He,bf(h,He.alternate,He),bl(),Un=ne,ga(z),ln.T=b):h.current=He,Bl?(Bl=!1,Oc=h,Vf=C):nh(h,ft),ft=h.pendingLanes,ft===0&&(Po=null),$(He.stateNode),Ge(h),m!==null)for(O=h.onRecoverableError,He=0;He<m.length;He++)ft=m[He],O(ft.value,{componentStack:ft.stack});return(Vf&3)!==0&&cc(),ft=h.pendingLanes,(C&4194218)!==0&&(ft&42)!==0?h===V0?Ru++:(Ru=0,V0=h):Ru=0,Z(0),null}function nh(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,Xd(m)))}function cc(){if(Oc!==null){var h=Oc,m=xm;xm=0;var b=ae(Vf),C=32>b?32:b;b=ln.T;var O=_c();try{if(ga(C),ln.T=null,Oc===null)var z=!1;else{C=xh,xh=null;var ne=Oc,Se=Vf;if(Oc=null,Vf=0,(Un&6)!==0)throw Error(i(331));var He=Un;if(Un|=4,cl(ne.current),xs(ne,ne.current,Se,C),Un=He,Z(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Lf,ne)}catch{}z=!0}return z}finally{ga(O),ln.T=b,nh(h,m)}}return!1}function Tf(h,m,b){m=de(b,m),m=ys(h.stateNode,m,2),h=tt(h,m,2),h!==null&&(G(h,2),Ge(h))}function ri(h,m,b){if(h.tag===3)Tf(h,h,b);else for(;m!==null;){if(m.tag===3){Tf(m,h,b);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Po===null||!Po.has(C))){h=de(b,h),b=su(2),C=tt(m,b,2),C!==null&&($r(b,C,m,h),G(C,2),Ge(C));break}}m=m.return}}function uc(h,m,b){var C=h.pingCache;if(C===null){C=h.pingCache=new _h;var O=new Set;C.set(m,O)}else O=C.get(m),O===void 0&&(O=new Set,C.set(m,O));O.has(b)||(Cu=!0,O.add(b),h=ih.bind(null,h,m,b),m.then(h,h))}function ih(h,m,b){var C=h.pingCache;C!==null&&C.delete(m),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,fi===h&&(Ln&b)===b&&(Ni===4||Ni===3&&(Ln&62914560)===Ln&&300>es()-k0?(Un&2)===0&&oc(h,0):ba|=b,vr===Ln&&(vr=0)),Ge(h)}function rh(h,m){m===0&&(m=N()),h=Xe(h,m),h!==null&&(G(h,m),Ge(h))}function ah(h){var m=h.memoizedState,b=0;m!==null&&(b=m.retryLane),rh(h,b)}function Jp(h,m){var b=0;switch(h.tag){case 13:var C=h.stateNode,O=h.memoizedState;O!==null&&(b=O.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(i(314))}C!==null&&C.delete(m),rh(h,b)}function v1(h,m){return Bo(h,m)}function y1(h,m,b,C){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dl(h){return h=h.prototype,!(!h||!h.isReactComponent)}function hl(h,m){var b=h.alternate;return b===null?(b=t(h.tag,m,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=m,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,m=h.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function pu(h,m){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,m=b.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function mu(h,m,b,C,O,z){var ne=0;if(C=h,typeof h=="function")dl(h)&&(ne=1);else if(typeof h=="string")ne=Qa&&Ur?Mr(h,b,Zi.current)?26:um(h)?27:5:Qa?Mr(h,b,Zi.current)?26:5:Ur&&um(h)?27:5;else e:switch(h){case hc:return fc(b.children,O,z,m);case gu:ne=8,O|=24;break;case pc:return h=t(12,b,m,O|2),h.elementType=pc,h.lanes=z,h;case gl:return h=t(13,b,m,O),h.elementType=gl,h.lanes=z,h;case oh:return h=t(19,b,m,O),h.elementType=oh,h.lanes=z,h;case yl:return Zp(b,O,z,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case N2:case mc:ne=10;break e;case p0:ne=9;break e;case $p:ne=11;break e;case Cf:ne=14;break e;case vl:ne=16,C=null;break e}ne=29,b=Error(i(130,h===null?"null":typeof h,"")),C=null}return m=t(ne,b,m,O),m.elementType=h,m.type=C,m.lanes=z,m}function fc(h,m,b,C){return h=t(7,h,C,m),h.lanes=b,h}function Zp(h,m,b,C){h=t(22,h,C,m),h.elementType=yl,h.lanes=b;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=O._current;if(z===null)throw Error(i(456));if((O._pendingVisibility&2)===0){var ne=Xe(z,2);ne!==null&&(O._pendingVisibility|=2,yi(ne,z,2))}},attach:function(){var z=O._current;if(z===null)throw Error(i(456));if((O._pendingVisibility&2)!==0){var ne=Xe(z,2);ne!==null&&(O._pendingVisibility&=-3,yi(ne,z,2))}}};return h.stateNode=O,h}function sh(h,m,b){return h=t(6,h,null,m),h.lanes=b,h}function Na(h,m,b){return m=t(4,h.children!==null?h.children:[],h.key,m),m.lanes=b,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function Mo(h,m,b,C,O,z,ne,Se){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Df,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=C,this.onUncaughtError=O,this.onCaughtError=z,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function pl(h,m,b,C,O,z,ne,Se,He,ft,Tt,Ut){return h=new Mo(h,m,b,ne,Se,He,ft,Ut),m=1,z===!0&&(m|=24),z=t(3,null,null,m),h.current=z,z.stateNode=h,m=nc(),m.refCount++,h.pooledCache=m,m.refCount++,z.memoizedState={element:C,isDehydrated:b,cache:m},ot(z),h}function d0(h){return h?(h=Au,h):Au}function ml(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=y(m),h=h!==null?x(h):null,h===null?null:vu(h.stateNode)}function Co(h,m,b,C,O,z){O=d0(O),C.context===null?C.context=O:C.pendingContext=O,C=Ze(m),C.payload={element:b},z=z===void 0?null:z,z!==null&&(C.callback=z),b=tt(h,C,m),b!==null&&(yi(b,h,m),Ke(b,h,m))}function dr(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<m?b:m}}function Mf(h,m){dr(h,m),(h=h.alternate)&&dr(h,m)}var Nn={},O2=wp(),$a=aC(),qi=Object.assign,h0=Symbol.for("react.element"),dc=Symbol.for("react.transitional.element"),wo=Symbol.for("react.portal"),hc=Symbol.for("react.fragment"),gu=Symbol.for("react.strict_mode"),pc=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),p0=Symbol.for("react.consumer"),mc=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),gl=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),yl=Symbol.for("react.offscreen"),Mn=Symbol.for("react.memo_cache_sentinel"),oi=Symbol.iterator,hr=Symbol.for("react.client.reference"),ln=O2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gc,vc,wf=!1,yc=Array.isArray,Rf=e.rendererVersion,U2=e.rendererPackageName,zi=e.extraDevToolsConfig,vu=e.getPublicInstance,m0=e.getRootHostContext,_1=e.getChildHostContext,x1=e.prepareForCommit,L2=e.resetAfterCommit,g0=e.createInstance,lh=e.appendInitialChild,Qp=e.finalizeInitialChildren,Wr=e.shouldSetTextContent,Ki=e.createTextInstance,em=e.scheduleTimeout,ch=e.cancelTimeout,Df=e.noTimeout,$s=e.isPrimaryRenderer;e.warnsIfNotActing;var Bi=e.supportsMutation,Qs=e.supportsPersistence,Ua=e.supportsHydration,tm=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var b1=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ga=e.setCurrentUpdatePriority,_c=e.getCurrentUpdatePriority,A1=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var S1=e.shouldAttemptEagerTransition,E1=e.detachDeletedInstance;e.requestPostPaintCallback;var v0=e.maySuspendCommit,y0=e.preloadInstance,I2=e.startSuspendingCommit,_0=e.suspendInstance,T1=e.waitForCommitToBeReady,yu=e.NotPendingTransition,_l=e.HostTransitionContext,M1=e.resetFormInstance;e.bindToConsole;var C1=e.supportsMicrotasks,w1=e.scheduleMicrotask,Bf=e.supportsTestSelectors,R1=e.findFiberRoot,P2=e.getBoundingRect,D1=e.getTextContent,Ro=e.isHiddenSubtree,B1=e.matchAccessibilityRole,nm=e.setFocusIfFocusable,im=e.setupIntersectionObserver,O1=e.appendChild,x0=e.appendChildToContainer,N1=e.commitTextUpdate,U1=e.commitMount,L1=e.commitUpdate,I1=e.insertBefore,b0=e.insertInContainerBefore,P1=e.removeChild,F1=e.removeChildFromContainer,rm=e.resetTextContent,H1=e.hideInstance,z1=e.hideTextInstance,F2=e.unhideInstance,A0=e.unhideTextInstance,G1=e.clearContainer,k1=e.cloneInstance,am=e.createContainerChildSet,S0=e.appendChildToContainerChildSet,V1=e.finalizeContainerChildren,j1=e.replaceContainerChildren,X1=e.cloneHiddenInstance,E0=e.cloneHiddenTextInstance,_u=e.isSuspenseInstancePending,uh=e.isSuspenseInstanceFallback,sm=e.getSuspenseInstanceFallbackErrorDetails,W1=e.registerSuspenseInstanceRetry,Y1=e.canHydrateFormStateMarker,Do=e.isFormStateMarkerMatching,xc=e.getNextHydratableSibling,xl=e.getFirstHydratableChild,xu=e.getFirstHydratableChildWithinContainer,T0=e.getFirstHydratableChildWithinSuspenseInstance,M0=e.canHydrateInstance,q1=e.canHydrateTextInstance,K1=e.canHydrateSuspenseInstance,bu=e.hydrateInstance,om=e.hydrateTextInstance,J1=e.hydrateSuspenseInstance,Z1=e.getNextHydratableInstanceAfterSuspenseInstance,$1=e.commitHydratedContainer,lm=e.commitHydratedSuspenseInstance,Q1=e.clearSuspenseBoundary,C0=e.clearSuspenseBoundaryFromContainer,w0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var e_=e.validateHydratableInstance,H2=e.validateHydratableTextInstance,Qa=e.supportsResources,Mr=e.isHostHoistableType,Cr=e.getHoistableRoot,R0=e.getResource,D0=e.acquireResource,B0=e.releaseResource,t_=e.hydrateHoistable,O0=e.mountHoistable,Of=e.unmountHoistable,N0=e.createHoistableInstance,n_=e.prepareToCommitHoistables,i_=e.mayResourceSuspendCommit,U0=e.preloadResource,L0=e.suspendResource,Ur=e.supportsSingletons,cm=e.resolveSingletonInstance,r_=e.clearSingleton,I0=e.acquireSingletonInstance,P0=e.releaseSingletonInstance,um=e.isHostSingletonType,fm=[],bc=-1,Au={},Ji=Math.clz32?Math.clz32:R,F0=Math.log,z2=Math.LN2,fh=128,Nf=4194304,Bo=$a.unstable_scheduleCallback,eo=$a.unstable_cancelCallback,Ac=$a.unstable_shouldYield,bl=$a.unstable_requestPaint,es=$a.unstable_now,dm=$a.unstable_ImmediatePriority,dh=$a.unstable_UserBlockingPriority,Uf=$a.unstable_NormalPriority,Su=$a.unstable_IdlePriority,ta=$a.log,hm=$a.unstable_setDisableYieldValue,Lf=null,pr=null,va=typeof Object.is=="function"?Object.is:le,pm=new WeakMap,ts=[],ns=0,Sc=null,If=0,La=[],na=0,to=null,Oo=1,No="",Zi=S(null),Ss=S(null),Al=S(null),hh=S(null),$i=null,ci=null,Kn=!1,Es=null,no=!1,ph=Error(i(519)),Ia=[],Sl=0,io=0,Mi=null,Ec=null,mm=!1,Qi=!1,gm=!1,Pf=0,Ff=null,vm=0,Ci=0,Lr=null,ia=!1,ym=!1,a_=Object.prototype.hasOwnProperty,mh=Error(i(460)),gh=Error(i(474)),ya={then:function(){}},ra=null,Eu=null,aa=0,Tc=zn(!0),Uo=zn(!1),ro=S(null),ao=S(0),Pa=S(null),Ts=null,_i=S(0),El=0,pn=null,ei=null,Oi=null,Tl=!1,Tu=!1,Mc=!1,Cc=0,Hf=0,Ml=null,s_=0,H0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},er={readContext:jr,use:oe,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn};er.useCacheRefresh=sn,er.useMemoCache=sn,er.useHostTransitionStatus=sn,er.useFormState=sn,er.useActionState=sn,er.useOptimistic=sn;var Cl={readContext:jr,use:oe,useCallback:function(h,m){return W().memoizedState=[h,m===void 0?null:m],h},useContext:jr,useEffect:nu,useImperativeHandle:function(h,m,b){b=b!=null?b.concat([h]):null,tu(4194308,4,ms.bind(null,m,h),b)},useLayoutEffect:function(h,m){return tu(4194308,4,h,m)},useInsertionEffect:function(h,m){tu(4,2,h,m)},useMemo:function(h,m){var b=W();m=m===void 0?null:m;var C=h();if(Mc){he(!0);try{h()}finally{he(!1)}}return b.memoizedState=[C,m],C},useReducer:function(h,m,b){var C=W();if(b!==void 0){var O=b(m);if(Mc){he(!0);try{b(m)}finally{he(!1)}}}else O=m;return C.memoizedState=C.baseState=O,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:O},C.queue=h,h=h.dispatch=au.bind(null,pn,h),[C.memoizedState,h]},useRef:function(h){var m=W();return h={current:h},m.memoizedState=h},useState:function(h){h=Vt(h);var m=h.queue,b=gf.bind(null,pn,m);return m.dispatch=b,[h.memoizedState,b]},useDebugValue:Ks,useDeferredValue:function(h,m){var b=W();return Zl(b,h,m)},useTransition:function(){var h=Vt(!1);return h=mf.bind(null,pn,h.queue,!0,!1),W().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,b){var C=pn,O=W();if(Kn){if(b===void 0)throw Error(i(407));b=b()}else{if(b=m(),fi===null)throw Error(i(349));(Ln&60)!==0||Nt(C,m,b)}O.memoizedState=b;var z={value:b,getSnapshot:m};return O.queue=z,nu(Qt.bind(null,C,z,h),[h]),C.flags|=2048,Zr(9,Bt.bind(null,C,z,b,m),{destroy:void 0},null),b},useId:function(){var h=W(),m=fi.identifierPrefix;if(Kn){var b=No,C=Oo;b=(C&~(1<<32-Ji(C)-1)).toString(32)+b,m=":"+m+"R"+b,b=Cc++,0<b&&(m+="H"+b.toString(32)),m+=":"}else b=s_++,m=":"+m+"r"+b.toString(32)+":";return h.memoizedState=m},useCacheRefresh:function(){return W().memoizedState=ru.bind(null,pn)}};Cl.useMemoCache=Ce,Cl.useHostTransitionStatus=Zo,Cl.useFormState=hn,Cl.useActionState=hn,Cl.useOptimistic=function(h){var m=W();m.memoizedState=m.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=b,m=Qo.bind(null,pn,!0,b),b.dispatch=m,[h,m]};var _a={readContext:jr,use:oe,useCallback:Ao,useContext:jr,useEffect:Ys,useImperativeHandle:qs,useInsertionEffect:Pd,useLayoutEffect:iu,useMemo:qa,useReducer:nt,useRef:Tr,useState:function(){return nt(ke)},useDebugValue:Ks,useDeferredValue:function(h,m){var b=fe();return $l(b,ei.memoizedState,h,m)},useTransition:function(){var h=nt(ke)[0],m=fe().memoizedState;return[typeof h=="boolean"?h:xe(h),m]},useSyncExternalStore:Ot,useId:$o};_a.useCacheRefresh=Wi,_a.useMemoCache=Ce,_a.useHostTransitionStatus=Zo,_a.useFormState=si,_a.useActionState=si,_a.useOptimistic=function(h,m){var b=fe();return zt(b,ei,h,m)};var wc={readContext:jr,use:oe,useCallback:Ao,useContext:jr,useEffect:Ys,useImperativeHandle:qs,useInsertionEffect:Pd,useLayoutEffect:iu,useMemo:qa,useReducer:ht,useRef:Tr,useState:function(){return ht(ke)},useDebugValue:Ks,useDeferredValue:function(h,m){var b=fe();return ei===null?Zl(b,h,m):$l(b,ei.memoizedState,h,m)},useTransition:function(){var h=ht(ke)[0],m=fe().memoizedState;return[typeof h=="boolean"?h:xe(h),m]},useSyncExternalStore:Ot,useId:$o};wc.useCacheRefresh=Wi,wc.useMemoCache=Ce,wc.useHostTransitionStatus=Zo,wc.useFormState=Ui,wc.useActionState=Ui,wc.useOptimistic=function(h,m){var b=fe();return ei!==null?zt(b,ei,h,m):(b.baseState=h,[h,b.queue.dispatch])};var zf={isMounted:function(h){return(h=h._reactInternals)?p(h)===h:!1},enqueueSetState:function(h,m,b){h=h._reactInternals;var C=Qr(),O=Ze(C);O.payload=m,b!=null&&(O.callback=b),m=tt(h,O,C),m!==null&&(yi(m,h,C),Ke(m,h,C))},enqueueReplaceState:function(h,m,b){h=h._reactInternals;var C=Qr(),O=Ze(C);O.tag=1,O.payload=m,b!=null&&(O.callback=b),m=tt(h,O,C),m!==null&&(yi(m,h,C),Ke(m,h,C))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var b=Qr(),C=Ze(b);C.tag=2,m!=null&&(C.callback=m),m=tt(h,C,b),m!==null&&(yi(m,h,b),Ke(m,h,b))}},Rc=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},z0=Error(i(461)),mr=!1,vh={dehydrated:null,treeContext:null,retryLane:0},Ms=S(null),Dc=null,Cs=null,yh=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(b,C){h.push(C)}};this.abort=function(){m.aborted=!0,h.forEach(function(b){return b()})}},Li=$a.unstable_scheduleCallback,G2=$a.unstable_NormalPriority,Gi={$$typeof:mc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},G0=ln.S;ln.S=function(h,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&et(h,m),G0!==null&&G0(h,m)};var Mu=S(null),wl=!1,mn=!1,ui=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,rn=null,pi=!1,ti=null,tr=!1,sa=null,Bc=8192,Rl={getCacheForType:function(h){var m=jr(Gi),b=m.data.get(h);return b===void 0&&(b=h(),m.data.set(h,b)),b}},wi=0,so=1,Lo=2,Gf=3,xa=4;if(typeof Symbol=="function"&&Symbol.for){var Io=Symbol.for;wi=Io("selector.component"),so=Io("selector.has_pseudo_class"),Lo=Io("selector.role"),Gf=Io("selector.test_id"),xa=Io("selector.text")}var _h=typeof WeakMap=="function"?WeakMap:Map,Un=0,fi=null,Cn=null,Ln=0,li=0,gr=null,ws=!1,Rs=!1,Cu=!1,oo=0,Ni=0,Ds=0,Dl=0,ba=0,is=0,vr=0,kf=null,Bs=null,_m=!1,k0=0,rs=1/0,wu=null,Po=null,Bl=!1,Oc=null,Vf=0,xm=0,xh=null,Ru=0,V0=null;return Nn.attemptContinuousHydration=function(h){if(h.tag===13){var m=Xe(h,67108864);m!==null&&yi(m,h,67108864),Mf(h,67108864)}},Nn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=Qr(),b=Xe(h,m);b!==null&&yi(b,h,m),Mf(h,m)}},Nn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var m=w(h.pendingLanes);if(m!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;m;){var b=1<<31-Ji(m);h.entanglements[1]|=b,m&=~b}Ge(h),(Un&6)===0&&(rs=es()+500,Z(0))}}break;case 13:m=Xe(h,2),m!==null&&yi(m,h,2),u0(),Mf(h,2)}},Nn.batchedUpdates=function(h,m){return h(m)},Nn.createComponentSelector=function(h){return{$$typeof:wi,value:h}},Nn.createContainer=function(h,m,b,C,O,z,ne,Se,He,ft){return pl(h,m,!1,null,b,C,z,ne,Se,He,ft,null)},Nn.createHasPseudoClassSelector=function(h){return{$$typeof:so,value:h}},Nn.createHydrationContainer=function(h,m,b,C,O,z,ne,Se,He,ft,Tt,Ut,Et){return h=pl(b,C,!0,h,O,z,Se,He,ft,Tt,Ut,Et),h.context=d0(null),b=h.current,C=Qr(),O=Ze(C),O.callback=m??null,tt(b,O,C),h.current.lanes=C,G(h,C),Ge(h),h},Nn.createPortal=function(h,m,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:C==null?null:""+C,children:h,containerInfo:m,implementation:b}},Nn.createRoleSelector=function(h){return{$$typeof:Lo,value:h}},Nn.createTestNameSelector=function(h){return{$$typeof:Gf,value:h}},Nn.createTextSelector=function(h){return{$$typeof:xa,value:h}},Nn.defaultOnCaughtError=function(h){console.error(h)},Nn.defaultOnRecoverableError=function(h){Rc(h)},Nn.defaultOnUncaughtError=function(h){Rc(h)},Nn.deferredUpdates=function(h){var m=ln.T,b=_c();try{return ga(32),ln.T=null,h()}finally{ga(b),ln.T=m}},Nn.discreteUpdates=function(h,m,b,C,O){var z=ln.T,ne=_c();try{return ga(2),ln.T=null,h(m,b,C,O)}finally{ga(ne),ln.T=z,Un===0&&(rs=es()+500)}},Nn.findAllNodes=sc,Nn.findBoundingRects=function(h,m){if(!Bf)throw Error(i(363));m=sc(h,m),h=[];for(var b=0;b<m.length;b++)h.push(P2(m[b]));for(m=h.length-1;0<m;m--){b=h[m];for(var C=b.x,O=C+b.width,z=b.y,ne=z+b.height,Se=m-1;0<=Se;Se--)if(m!==Se){var He=h[Se],ft=He.x,Tt=ft+He.width,Ut=He.y,Et=Ut+He.height;if(C>=ft&&z>=Ut&&O<=Tt&&ne<=Et){h.splice(m,1);break}else if(C!==ft||b.width!==He.width||Et<z||Ut>ne){if(!(z!==Ut||b.height!==He.height||Tt<C||ft>O)){ft>C&&(He.width+=ft-C,He.x=C),Tt<O&&(He.width=O-ft),h.splice(m,1);break}}else{Ut>z&&(He.height+=Ut-z,He.y=z),Et<ne&&(He.height=ne-Ut),h.splice(m,1);break}}}return h},Nn.findHostInstance=ml,Nn.findHostInstanceWithNoPortals=function(h){return h=y(h),h=h!==null?A(h):null,h===null?null:vu(h.stateNode)},Nn.findHostInstanceWithWarning=function(h){return ml(h)},Nn.flushPassiveEffects=cc,Nn.flushSyncFromReconciler=function(h){var m=Un;Un|=1;var b=ln.T,C=_c();try{if(ga(2),ln.T=null,h)return h()}finally{ga(C),ln.T=b,Un=m,(Un&6)===0&&Z(0)}},Nn.flushSyncWork=u0,Nn.focusWithin=function(h,m){if(!Bf)throw Error(i(363));for(h=ac(h),m=du(h,m),m=Array.from(m),h=0;h<m.length;){var b=m[h++],C=b.tag;if(!Ro(b)){if((C===5||C===26||C===27)&&nm(b.stateNode))return!0;for(b=b.child;b!==null;)m.push(b),b=b.sibling}}return!1},Nn.getFindAllNodesFailureDescription=function(h,m){if(!Bf)throw Error(i(363));var b=0,C=[];h=[ac(h),0];for(var O=0;O<h.length;){var z=h[O++],ne=z.tag,Se=h[O++],He=m[Se];if((ne!==5&&ne!==26&&ne!==27||!Ro(z))&&(qp(z,He)&&(C.push(Oa(He)),Se++,Se>b&&(b=Se)),Se<m.length))for(z=z.child;z!==null;)h.push(z,Se),z=z.sibling}if(b<m.length){for(h=[];b<m.length;b++)h.push(Oa(m[b]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Nn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return vu(h.child.stateNode);default:return h.child.stateNode}},Nn.injectIntoDevTools=function(){var h={bundleType:0,version:Rf,rendererPackageName:U2,currentDispatcherRef:ln,findFiberByHostInstance:tm,reconcilerVersion:"19.0.0"};if(zi!==null&&(h.rendererConfig=zi),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{Lf=m.inject(h),pr=m}catch{}h=!!m.checkDCE}}return h},Nn.isAlreadyRendering=function(){return!1},Nn.observeVisibleRects=function(h,m,b,C){if(!Bf)throw Error(i(363));h=sc(h,m);var O=im(h,b,C).disconnect;return{disconnect:function(){O()}}},Nn.shouldError=function(){return null},Nn.shouldSuspend=function(){return!1},Nn.startHostTransition=function(h,m,b,C){if(h.tag!==5)throw Error(i(476));var O=Js(h).queue;mf(h,O,m,yu,b===null?n:function(){var z=Js(h).next.queue;return gs(h,z,{},Qr()),b(C)})},Nn.updateContainer=function(h,m,b,C){var O=m.current,z=Qr();return Co(O,z,h,m,b,C),z},Nn.updateContainerSync=function(h,m,b,C){return m.tag===0&&cc(),Co(m.current,2,h,m,b,C),2},Nn},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})}(uE)),uE.exports}var ZD;function Pj(){return ZD||(ZD=1,cE.exports=Ij()),cE.exports}var Fj=Pj();const Hj=ff(Fj);var $D=aC();const zj=r=>typeof r=="object"&&typeof r.then=="function",Kh=[];function mI(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e)return!1;const n=r.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function gI(r,e=null,t=!1,n={}){e===null&&(e=[r]);for(const a of Kh)if(mI(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return n.lifespan&&n.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,n.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:n.equal,remove:()=>{const a=Kh.indexOf(i);a!==-1&&Kh.splice(a,1)},promise:(zj(r)?r:r(...e)).then(a=>{i.response=a,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(a=>i.error=a)};if(Kh.push(i),!t)throw i.promise}const vI=(r,e,t)=>gI(r,e,!1,t),Gj=(r,e,t)=>void gI(r,e,!0,t),kj=r=>{if(r===void 0||r.length===0)Kh.splice(0,Kh.length);else{const e=Kh.find(t=>mI(r,t.keys,t.equal));e&&e.remove()}};function ZC(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=e?r.return:r.child;for(;n;){const i=ZC(n,e,t);if(i)return i;n=e?null:n.sibling}}function yI(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const $C=yI(P.createContext(null));let _I=class extends P.Component{render(){return P.createElement($C.Provider,{value:this._reactInternals},this.props.children)}};function xI(){const r=P.useContext($C);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const t of[r,r==null?void 0:r.alternate]){if(!t)continue;const n=ZC(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[r,e])}const Vj=Symbol.for("react.context"),jj=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===Vj;function Xj(){const r=xI(),[e]=P.useState(()=>new Map);e.clear();let t=r;for(;t;){const n=t.type;jj(n)&&n!==$C&&!e.has(n)&&e.set(n,P.use(yI(n))),t=t.return}return e}function Wj(){const r=Xj();return P.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>P.createElement(e,null,P.createElement(t.Provider,{...n,value:r.get(t)})),e=>P.createElement(_I,{...e})),[r])}function bI(r){let e=r.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const AI=r=>r&&r.isOrthographicCamera,Yj=r=>r&&r.hasOwnProperty("current"),qj=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),jy=((r,e)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?P.useLayoutEffect:P.useEffect;function QC(r){const e=P.useRef(r);return jy(()=>void(e.current=r),[r]),e}function Kj(){const r=xI(),e=Wj();return P.useMemo(()=>({children:t})=>{const i=!!ZC(r,!0,a=>a.type===P.StrictMode)?P.StrictMode:P.Fragment;return B.jsx(i,{children:B.jsx(e,{children:t})})},[r,e])}function Jj({set:r}){return jy(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const Zj=(r=>(r=class extends P.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function SI(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}function Vm(r){var e;return(e=r.__r3f)==null?void 0:e.root.getState()}const ki={obj:r=>r===Object(r)&&!ki.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(ki.str(r)||ki.num(r)||ki.boo(r))return r===e;const a=ki.obj(r);if(a&&n==="reference")return r===e;const s=ki.arr(r);if(s&&t==="reference")return r===e;if((s||a)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(o in i?e:r)if(!ki.equ(r[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:r)if(r[o]!==e[o])return!1;if(ki.und(o)){if(s&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function $j(r){const e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Qj(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const e in r){const t=r[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const EI=["children","key","ref"];function eX(r){const e={};for(const t in r)EI.includes(t)||(e[t]=r[t]);return e}function Lb(r,e,t,n){const i=r;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:eX(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function dy(r,e){var t;let n=r[e];if(!e.includes("-"))return{root:r,key:e,target:n};const i=e.split("-");return n=i.reduce((a,s)=>a[s],r),e=i.pop(),(t=n)!=null&&t.set||(r=i.reduce((a,s)=>a[s],r)),{root:r,key:e,target:n}}const QD=/-\d+$/;function Ib(r,e){if(ki.str(e.props.attach)){if(QD.test(e.props.attach)){const i=e.props.attach.replace(QD,""),{root:a,key:s}=dy(r.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:n}=dy(r.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else ki.fun(e.props.attach)&&(e.previousAttach=e.props.attach(r.object,e.object))}function Pb(r,e){if(ki.str(e.props.attach)){const{root:t,key:n}=dy(r.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[n]:t[n]=i}else e.previousAttach==null||e.previousAttach(r.object,e.object);delete e.previousAttach}const HT=[...EI,"args","dispose","attach","object","onUpdate","dispose"],eB=new Map;function tX(r){let e=eB.get(r.constructor);try{e||(e=new r.constructor,eB.set(r.constructor,e))}catch{}return e}function nX(r,e){const t={};for(const n in e)if(!HT.includes(n)&&!ki.equ(e[n],r.props[n])){t[n]=e[n];for(const i in e)i.startsWith(`${n}-`)&&(t[i]=e[i])}for(const n in r.props){if(HT.includes(n)||e.hasOwnProperty(n))continue;const{root:i,key:a}=dy(r.object,n);if(i.constructor&&i.constructor.length===0){const s=tX(i);ki.und(s)||(t[a]=s[a])}else t[a]=0}return t}const iX=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],rX=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Pc(r,e){var t;const n=r.__r3f,i=n&&bI(n).getState(),a=n==null?void 0:n.eventCount;for(const o in e){let l=e[o];if(HT.includes(o))continue;if(n&&rX.test(o)){typeof l=="function"?n.handlers[o]=l:delete n.handlers[o],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:u,key:d,target:p}=dy(r,o);if(p instanceof _g&&l instanceof _g)p.mask=l.mask;else if(p instanceof Rt&&qj(l))p.set(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&l!=null&&l.constructor&&p.constructor===l.constructor)p.copy(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(l))typeof p.fromArray=="function"?p.fromArray(l):p.set(...l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof l=="number")typeof p.setScalar=="function"?p.setScalar(l):p.set(l);else{var s;u[d]=l,i&&!i.linear&&iX.includes(d)&&(s=u[d])!=null&&s.isTexture&&u[d].format===Dr&&u[d].type===js&&(u[d].colorSpace=Ii)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const o=n.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),n.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Fg(n),r}function Fg(r){var e;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const t=(e=r.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function TI(r,e){r.manual||(AI(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix())}const cs=r=>r==null?void 0:r.isObject3D;function mx(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function MI(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function aX(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{MI(t.capturedMap,e,n,i)})}function sX(r){function e(l){const{internal:u}=r.getState(),d=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function n(l,u){const d=r.getState(),p=new Set,v=[],y=u?u(d.internal.interaction):d.internal.interaction;for(let E=0;E<y.length;E++){const M=Vm(y[E]);M&&(M.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function x(E){const M=Vm(E);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var R;M.events.compute==null||M.events.compute(l,M,(R=M.previousRoot)==null?void 0:R.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(E,!0):[]}let A=y.flatMap(x).sort((E,M)=>{const R=Vm(E.object),w=Vm(M.object);return!R||!w?E.distance-M.distance:w.events.priority-R.events.priority||E.distance-M.distance}).filter(E=>{const M=mx(E);return p.has(M)?!1:(p.add(M),!0)});d.events.filter&&(A=d.events.filter(A,d));for(const E of A){let M=E.object;for(;M;){var S;(S=M.__r3f)!=null&&S.eventCount&&v.push({...E,eventObject:M}),M=M.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let E of d.internal.capturedMap.get(l.pointerId).values())p.has(mx(E.intersection))||v.push(E.intersection);return v}function i(l,u,d,p){if(l.length){const v={stopped:!1};for(const y of l){let x=Vm(y.object);if(x||y.object.traverseAncestors(A=>{const S=Vm(A);if(S)return x=S,!1}),x){const{raycaster:A,pointer:S,camera:E,internal:M}=x,R=new ue(S.x,S.y,0).unproject(E),w=N=>{var L,G;return(L=(G=M.capturedMap.get(N))==null?void 0:G.has(y.eventObject))!=null?L:!1},I=N=>{const L={intersection:y,target:u.target};M.capturedMap.has(N)?M.capturedMap.get(N).set(y.eventObject,L):M.capturedMap.set(N,new Map([[y.eventObject,L]])),u.target.setPointerCapture(N)},U=N=>{const L=M.capturedMap.get(N);L&&MI(M.capturedMap,y.eventObject,L,N)};let H={};for(let N in u){let L=u[N];typeof L!="function"&&(H[N]=L)}let F={...y,...H,pointer:S,intersections:l,stopped:v.stopped,delta:d,unprojectedPoint:R,ray:A.ray,camera:E,stopPropagation(){const N="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!N||N.has(y.eventObject))&&(F.stopped=v.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(L=>L.eventObject===y.eventObject))){const L=l.slice(0,l.indexOf(y));a([...L,y])}},target:{hasPointerCapture:w,setPointerCapture:I,releasePointerCapture:U},currentTarget:{hasPointerCapture:w,setPointerCapture:I,releasePointerCapture:U},nativeEvent:u};if(p(F),v.stopped===!0)break}}}return l}function a(l){const{internal:u}=r.getState();for(const d of u.hovered.values())if(!l.length||!l.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const v=d.eventObject.__r3f;if(u.hovered.delete(mx(d)),v!=null&&v.eventCount){const y=v.handlers,x={...d,intersections:l};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function s(l,u){for(let d=0;d<u.length;d++){const p=u[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:d}=r.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),a([]))})}}return function(d){const{onPointerMissed:p,internal:v}=r.getState();v.lastEvent.current=d;const y=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=n(d,y?t:void 0),E=x?e(d):0;l==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=S.map(R=>R.eventObject)),x&&!S.length&&E<=2&&(s(d,v.interaction),p&&p(d)),y&&a(S);function M(R){const w=R.eventObject,I=w.__r3f;if(!(I!=null&&I.eventCount))return;const U=I.handlers;if(y){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const H=mx(R),F=v.hovered.get(H);F?F.stopped&&R.stopPropagation():(v.hovered.set(H,R),U.onPointerOver==null||U.onPointerOver(R),U.onPointerEnter==null||U.onPointerEnter(R))}U.onPointerMove==null||U.onPointerMove(R)}else{const H=U[l];H?(!x||v.initialHits.includes(w))&&(s(d,v.interaction.filter(F=>!v.initialHits.includes(F))),H(R)):x&&v.initialHits.includes(w)&&s(d,v.interaction.filter(F=>!v.initialHits.includes(F)))}}i(S,d,E,M)}}return{handlePointer:o}}const tB=r=>!!(r!=null&&r.render),ew=P.createContext(null),oX=(r,e)=>{const t=pI((o,l)=>{const u=new ue,d=new ue,p=new ue;function v(E=l().camera,M=d,R=l().size){const{width:w,height:I,top:U,left:H}=R,F=w/I;M.isVector3?p.copy(M):p.set(...M);const N=E.getWorldPosition(u).distanceTo(p);if(AI(E))return{width:w/E.zoom,height:I/E.zoom,top:U,left:H,factor:1,distance:N,aspect:F};{const L=E.fov*Math.PI/180,G=2*Math.tan(L/2)*N,X=G*(w/I);return{width:X,height:G,top:U,left:H,factor:w/X,distance:N,aspect:F}}}let y;const x=E=>o(M=>({performance:{...M.performance,current:E}})),A=new mt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>r(l(),E),advance:(E,M)=>e(E,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new VC,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=l();y&&clearTimeout(y),E.performance.current!==E.performance.min&&x(E.performance.min),y=setTimeout(()=>x(l().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:E=>o(M=>({...M,events:{...M.events,...E}})),setSize:(E,M,R=0,w=0)=>{const I=l().camera,U={width:E,height:M,top:R,left:w};o(H=>({size:U,viewport:{...H.viewport,...v(I,d,U)}}))},setDpr:E=>o(M=>{const R=SI(E);return{viewport:{...M.viewport,dpr:R,initialDpr:M.viewport.initialDpr||R}}}),setFrameloop:(E="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,E!=="never"&&(M.start(),M.elapsedTime=0),o(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:P.createRef(),active:!1,frames:0,priority:0,subscribe:(E,M,R)=>{const w=l().internal;return w.priority=w.priority+(M>0?1:0),w.subscribers.push({ref:E,priority:M,store:R}),w.subscribers=w.subscribers.sort((I,U)=>I.priority-U.priority),()=>{const I=l().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(M>0?1:0),I.subscribers=I.subscribers.filter(U=>U.ref!==E))}}}}}),n=t.getState();let i=n.size,a=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:d,set:p}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){i=l,a=u.dpr,TI(o,l),u.dpr>0&&d.setPixelRatio(u.dpr);const v=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,v)}o!==s&&(s=o,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};function tw(){const r=P.useContext(ew);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Sd(r=t=>t,e){return tw()(r,e)}function nw(r,e=0){const t=tw(),n=t.getState().internal.subscribe,i=QC(r);return jy(()=>n(i,e,t),[e,n,t]),null}const nB=new WeakMap,lX=r=>{var e;return typeof r=="function"&&(r==null||(e=r.prototype)==null?void 0:e.constructor)===r};function CI(r,e){return function(t,...n){let i;return lX(t)?(i=nB.get(t),i||(i=new t,nB.set(t,i))):i=t,r&&r(i),Promise.all(n.map(a=>new Promise((s,o)=>i.load(a,l=>{cs(l==null?void 0:l.scene)&&Object.assign(l,$j(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function yo(r,e,t,n){const i=Array.isArray(e)?e:[e],a=vI(CI(t,n),[r,...i],{equal:ki.equ});return Array.isArray(e)?a:a[0]}yo.preload=function(r,e,t){const n=Array.isArray(e)?e:[e];return Gj(CI(t),[r,...n])};yo.clear=function(r,e){const t=Array.isArray(e)?e:[e];return kj([r,...t])};function cX(r){const e=Hj(r);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version}),e}const wI=0,bg={},uX=/^three(?=[A-Z])/,i2=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let fX=0;const dX=r=>typeof r=="function";function RI(r){if(dX(r)){const e=`${fX++}`;return bg[e]=r,e}else Object.assign(bg,r)}function DI(r,e){const t=i2(r),n=bg[t];if(r!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function hX(r,e,t){var n;return r=i2(r)in bg?r:r.replace(uX,""),DI(r,e),r==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,Lb(e.object,t,r,e)}function pX(r){if(!r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?Pb(r.parent,r):cs(r.object)&&(r.object.visible=!1),r.isHidden=!0,Fg(r)}}function BI(r){if(r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?Ib(r.parent,r):cs(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,Fg(r)}}function iw(r,e,t){const n=e.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!e.object){var i,a;const s=bg[i2(e.type)];e.object=(i=e.props.object)!=null?i:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Pc(e.object,e.props),e.props.attach)Ib(r,e);else if(cs(e.object)&&cs(r.object)){const s=r.object.children.indexOf(t==null?void 0:t.object);t&&s!==-1?(e.object.parent=r.object,r.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:e.object})):r.object.add(e.object)}for(const s of e.children)iw(e,s);Fg(e)}}function fE(r,e){e&&(e.parent=r,r.children.push(e),iw(r,e))}function iB(r,e,t){if(!e||!t)return;e.parent=r;const n=r.children.indexOf(t);n!==-1?r.children.splice(n,0,e):r.children.push(e),iw(r,e,t)}function OI(r){if(typeof r.dispose=="function"){const e=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():$D.unstable_scheduleCallback($D.unstable_IdlePriority,e)}}function zT(r,e,t){if(!e)return;e.parent=null;const n=r.children.indexOf(e);n!==-1&&r.children.splice(n,1),e.props.attach?Pb(r,e):cs(e.object)&&cs(r.object)&&(r.object.remove(e.object),aX(bI(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];zT(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&OI(e.object),t===void 0&&Fg(e)}function mX(r,e){for(const t of[r,r.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const Hx=[];function gX(){for(const[t]of Hx){const n=t.parent;if(n){t.props.attach?Pb(n,t):cs(t.object)&&cs(n.object)&&n.object.remove(t.object);for(const i of t.children)i.props.attach?Pb(t,i):cs(i.object)&&cs(t.object)&&t.object.remove(i.object)}t.isHidden&&BI(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&OI(t.object)}for(const[t,n,i]of Hx){t.props=n;const a=t.parent;if(a){var r,e;const s=bg[i2(t.type)];t.object=(r=t.props.object)!=null?r:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,mX(i,t.object),Pc(t.object,t.props),t.props.attach?Ib(a,t):cs(t.object)&&cs(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?Ib(t,o):cs(o.object)&&cs(t.object)&&t.object.add(o.object);Fg(t)}}Hx.length=0}const dE=()=>{},rB={};let gx=wI;const vX=0,yX=4,Fb=cX({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:hX,removeChild:zT,appendChild:fE,appendInitialChild:fE,insertBefore:iB,appendChildToContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||fE(t,e)},removeChildFromContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||zT(t,e)},insertInContainerBefore(r,e,t){const n=r.getState().scene.__r3f;!e||!t||!n||iB(n,e,t)},getRootHostContext:()=>rB,getChildHostContext:()=>rB,commitUpdate(r,e,t,n,i){var a,s,o;DI(e,n);let l=!1;if((r.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=n.args)!=null&&o.some((d,p)=>{var v;return d!==((v=t.args)==null?void 0:v[p])}))&&(l=!0),l)Hx.push([r,{...n},i]);else{const d=nX(r,n);Object.keys(d).length&&(Object.assign(r.props,d),Pc(r.object,d))}(i.sibling===null||(i.flags&yX)===vX)&&gX()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r==null?void 0:r.object,prepareForCommit:()=>null,preparePortalMount:r=>Lb(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:pX,unhideInstance:BI,createTextInstance:dE,hideTextInstance:dE,unhideTextInstance:dE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:P.createContext(null),setCurrentUpdatePriority(r){gx=r},getCurrentUpdatePriority(){return gx},resolveUpdatePriority(){var r;if(gx!==wI)return gx;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Fx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fx.ContinuousEventPriority;default:return Fx.DefaultEventPriority}},resetFormInstance(){}}),bp=new Map,jm={objects:"shallow",strict:!1};function _X(r,e){if(!e&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:t,height:n,top:i,left:a}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function xX(r){const e=bp.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=n||oX(VT,sB),s=t||Fb.createContainer(a,Fx.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||bp.set(r,{fiber:s,store:a});let o,l,u=!1,d=null;return{async configure(p={}){let v;d=new Promise(K=>v=K);let{gl:y,size:x,scene:A,events:S,onCreated:E,shadows:M=!1,linear:R=!1,flat:w=!1,legacy:I=!1,orthographic:U=!1,frameloop:H="always",dpr:F=[1,2],performance:N,raycaster:L,camera:G,onPointerMissed:X}=p,Y=a.getState(),J=Y.gl;if(!Y.gl){const K={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},re=typeof y=="function"?await y(K):y;tB(re)?J=re:J=new JC({...K,...y}),Y.set({gl:J})}let ae=Y.raycaster;ae||Y.set({raycaster:ae=new YC});const{params:$,...he}=L||{};if(ki.equ(he,ae,jm)||Pc(ae,{...he}),ki.equ($,ae.params,jm)||Pc(ae,{params:{...ae.params,...$}}),!Y.camera||Y.camera===l&&!ki.equ(l,G,jm)){l=G;const K=G==null?void 0:G.isCamera,re=K?G:U?new Ld(0,0,0,0,.1,1e3):new Hr(75,0,.1,1e3);K||(re.position.z=5,G&&(Pc(re,G),re.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(re.manual=!0,re.updateProjectionMatrix())),!Y.camera&&!(G!=null&&G.rotation)&&re.lookAt(0,0,0)),Y.set({camera:re}),ae.camera=re}if(!Y.scene){let K;A!=null&&A.isScene?(K=A,Lb(K,a,"",{})):(K=new Iy,Lb(K,a,"",{}),A&&Pc(K,A)),Y.set({scene:K})}S&&!Y.events.handlers&&Y.set({events:S(a)});const le=_X(r,x);if(ki.equ(le,Y.size,jm)||Y.setSize(le.width,le.height,le.top,le.left),F&&Y.viewport.dpr!==SI(F)&&Y.setDpr(F),Y.frameloop!==H&&Y.setFrameloop(H),Y.onPointerMissed||Y.set({onPointerMissed:X}),N&&!ki.equ(N,Y.performance,jm)&&Y.set(K=>({performance:{...K.performance,...N}})),!Y.xr){var de;const K=(Q,ce)=>{const me=a.getState();me.frameloop!=="never"&&sB(Q,!0,me,ce)},re=()=>{const Q=a.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?K:null),Q.gl.xr.isPresenting||VT(Q)},pe={connect(){const Q=a.getState().gl;Q.xr.addEventListener("sessionstart",re),Q.xr.addEventListener("sessionend",re)},disconnect(){const Q=a.getState().gl;Q.xr.removeEventListener("sessionstart",re),Q.xr.removeEventListener("sessionend",re)}};typeof((de=J.xr)==null?void 0:de.addEventListener)=="function"&&pe.connect(),Y.set({xr:pe})}if(J.shadowMap){const K=J.shadowMap.enabled,re=J.shadowMap.type;if(J.shadowMap.enabled=!!M,ki.boo(M))J.shadowMap.type=Ov;else if(ki.str(M)){var V;const pe={basic:wU,percentage:vA,soft:Ov,variance:Pl};J.shadowMap.type=(V=pe[M])!=null?V:Ov}else ki.obj(M)&&Object.assign(J.shadowMap,M);(K!==J.shadowMap.enabled||re!==J.shadowMap.type)&&(J.shadowMap.needsUpdate=!0)}return Fn.enabled=!I,u||(J.outputColorSpace=R?Or:Ii,J.toneMapping=w?Vc:Bg),Y.legacy!==I&&Y.set(()=>({legacy:I})),Y.linear!==R&&Y.set(()=>({linear:R})),Y.flat!==w&&Y.set(()=>({flat:w})),y&&!ki.fun(y)&&!tB(y)&&!ki.equ(y,J,jm)&&Pc(J,y),o=E,u=!0,v(),this},render(p){return!u&&!d&&this.configure(),d.then(()=>{Fb.updateContainer(B.jsx(bX,{store:a,children:p,onCreated:o,rootElement:r}),s,null,()=>{})}),a},unmount(){NI(r)}}}function bX({store:r,children:e,onCreated:t,rootElement:n}){return jy(()=>{const i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),B.jsx(ew.Provider,{value:r,children:e})}function NI(r,e){const t=bp.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Fb.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Qj(i.scene),bp.delete(r)}catch{}},500)})}}function AX(r,e,t){return B.jsx(SX,{children:r,container:e,state:t})}function SX({state:r={},children:e,container:t}){const{events:n,size:i,...a}=r,s=tw(),[o]=P.useState(()=>new YC),[l]=P.useState(()=>new mt),u=QC((p,v)=>{let y;if(v.camera&&i){const x=v.camera;y=p.viewport.getCurrentViewport(x,new ue,i),x!==p.camera&&TI(x,i)}return{...p,...v,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:s,events:{...p.events,...v.events,...n},size:{...p.size,...i},viewport:{...p.viewport,...y},setEvents:x=>v.set(A=>({...A,events:{...A.events,...x}}))}}),d=P.useMemo(()=>{const p=pI((y,x)=>({...a,set:y,get:x})),v=y=>p.setState(x=>u.current(y,x));return v(s.getState()),s.subscribe(v),p},[s,t]);return B.jsx(B.Fragment,{children:Fb.createPortal(B.jsx(ew.Provider,{value:d,children:e}),d,null)})}const EX=new Set,TX=new Set,MX=new Set;function hE(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Gv(r,e){switch(r){case"before":return hE(EX,e);case"after":return hE(TX,e);case"tail":return hE(MX,e)}}let pE,mE;function GT(r,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),pE=e.internal.subscribers;for(let i=0;i<pE.length;i++)mE=pE[i],mE.ref.current(mE.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Hb=!1,kT=!1,gE,aB,Xm;function UI(r){aB=requestAnimationFrame(UI),Hb=!0,gE=0,Gv("before",r),kT=!0;for(const t of bp.values()){var e;Xm=t.store.getState(),Xm.internal.active&&(Xm.frameloop==="always"||Xm.internal.frames>0)&&!((e=Xm.gl.xr)!=null&&e.isPresenting)&&(gE+=GT(r,Xm))}if(kT=!1,Gv("after",r),gE===0)return Gv("tail",r),Hb=!1,cancelAnimationFrame(aB)}function VT(r,e=1){var t;if(!r)return bp.forEach(n=>VT(n.store.getState(),e));(t=r.gl.xr)!=null&&t.isPresenting||!r.internal.active||r.frameloop==="never"||(e>1?r.internal.frames=Math.min(60,r.internal.frames+e):kT?r.internal.frames=2:r.internal.frames=1,Hb||(Hb=!0,requestAnimationFrame(UI)))}function sB(r,e=!0,t,n){if(e&&Gv("before",r),t)GT(r,t,n);else for(const i of bp.values())GT(r,i.store.getState());e&&Gv("after",r)}const vE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function CX(r){const{handlePointer:e}=sX(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(vE).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=r.getState();if(i.disconnect==null||i.disconnect(),n(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,l]=vE[a];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const a=n.handlers[i],[s]=vE[i];n.connected.removeEventListener(s,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function oB(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function wX({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=r?typeof r=="number"?r:r.scroll:null,u=r?typeof r=="number"?r:r.resize:null,d=P.useRef(!1);P.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,v,y]=P.useMemo(()=>{const E=()=>{if(!o.current.element)return;const{left:M,top:R,width:w,height:I,bottom:U,right:H,x:F,y:N}=o.current.element.getBoundingClientRect(),L={left:M,top:R,width:w,height:I,bottom:U,right:H,x:F,y:N};o.current.element instanceof HTMLElement&&n&&(L.height=o.current.element.offsetHeight,L.width=o.current.element.offsetWidth),Object.freeze(L),d.current&&!OX(o.current.lastBounds,L)&&s(o.current.lastBounds=L)};return[E,u?oB(E,u):E,l?oB(E,l):E]},[s,n,l,u]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function A(){o.current.element&&(o.current.resizeObserver=new i(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(E=>E.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const S=E=>{!E||E===o.current.element||(x(),o.current.element=E,o.current.scrollContainers=LI(E),A())};return DX(y,!!e),RX(v),P.useEffect(()=>{x(),A()},[e,y,v]),P.useEffect(()=>x,[]),[S,a,p]}function RX(r){P.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function DX(r,e){P.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function LI(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...LI(r.parentElement)]}const BX=["x","y","top","bottom","left","right","width","height"],OX=(r,e)=>BX.every(t=>r[t]===e[t]);function NX({ref:r,children:e,fallback:t,resize:n,style:i,gl:a,events:s=CX,eventSource:o,eventPrefix:l,shadows:u,linear:d,flat:p,legacy:v,orthographic:y,frameloop:x,dpr:A,performance:S,raycaster:E,camera:M,scene:R,onPointerMissed:w,onCreated:I,...U}){P.useMemo(()=>RI(dI),[]);const H=Kj(),[F,N]=wX({scroll:!0,debounce:{scroll:50,resize:0},...n}),L=P.useRef(null),G=P.useRef(null);P.useImperativeHandle(r,()=>L.current);const X=QC(w),[Y,J]=P.useState(!1),[ae,$]=P.useState(!1);if(Y)throw Y;if(ae)throw ae;const he=P.useRef(null);jy(()=>{const de=L.current;if(N.width>0&&N.height>0&&de){he.current||(he.current=xX(de));async function V(){await he.current.configure({gl:a,scene:R,events:s,shadows:u,linear:d,flat:p,legacy:v,orthographic:y,frameloop:x,dpr:A,performance:S,raycaster:E,camera:M,size:N,onPointerMissed:(...K)=>X.current==null?void 0:X.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(o?Yj(o)?o.current:o:G.current),l&&K.setEvents({compute:(re,pe)=>{const Q=re[l+"X"],ce=re[l+"Y"];pe.pointer.set(Q/pe.size.width*2-1,-(ce/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),I==null||I(K)}}),he.current.render(B.jsx(H,{children:B.jsx(Zj,{set:$,children:B.jsx(P.Suspense,{fallback:B.jsx(Jj,{set:J}),children:e??null})})}))}V()}}),P.useEffect(()=>{const de=L.current;if(de)return()=>NI(de)},[]);const le=o?"none":"auto";return B.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:le,...i},...U,children:B.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:B.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function r2(r){return B.jsx(_I,{children:B.jsx(NX,{...r})})}const Bn="/assets/tutorial-bot-Cu4-DjDj.svg",UX={CanvasManufacturer:[{id:1,title:"artisthread textiles",manufacturingCost:"60000",about:{locationImage:{botSvg:Bn},locationTitle:"Located in Europe",locationDescription:"ArtistThread Textiles is renowned for its exceptional craftsmanship, skilled workforce, and dedication to sustainable practices. Its strategic location within Europe also offers easy access to key markets, making it an ideal choice for brands seeking reliable and efficient production.",standardImage:{botSvg:Bn},standardTitle:"SA8000 Standard",standardDescription:"A standard that organizations meet to show their commitment to treating workers fairly.",etiImage:{botSvg:Bn},etiBaseTitle:"ETI Base Code",etiBaseDescription:"A set of labour standards organizations follow to improve working conditions"},factoryAudit:{fairWageTitle:"Fair Wage & Conditions to Workers",fairWageDescription:"The factory provides fair wages, safe working conditions, and respect for workers' rights",fairWageImage:{botSvg:Bn},energyEfficiencyTitle:"Energy Efficient ",energyEfficiencyDescription:"Factory uses renewable energy sources and has low carbon footprints",energyImage:{botSvg:Bn},wasteEfficiencyTitle:"Waste Reduction ",wasteEfficiencyDescription:"The manufacturer should prioritizes reducing waste through recycling, reusing materials, and implementing zero-waste practices",wasteImage:{botSvg:Bn}}},{id:2,title:"phoenix garments co",manufacturingCost:"20000",about:{locationImage:{botSvg:Bn},locationTitle:"Located in Asia",locationDescription:"Pheonix Garmets Co. is a major hub for clothing manufacturing, offering cost-effective and large-scale production. While challenges remain around environmental and labor practices, many manufacturers are shifting toward more sustainable and ethical approaches.",standardImage:{botSvg:Bn},standardTitle:"Low Transparency into Practices",standardDescription:"This factory has little to no disclosure into its practices. Audits have rarely been conducted and are inconclusive ",etiImage:!1,etiBaseTitle:!1,etiBaseDescription:!1},factoryAudit:{fairWageTitle:"Fast Lead Time",fairWageDescription:"Garments can be made in large quantities with quick turn-around time, allowing you to capitalize quickly on trends",fairWageImage:{botSvg:Bn},energyEfficiencyTitle:"High Waste Production",energyEfficiencyDescription:"An inefficient use of resources leads to a large amount of waste being produced as a byproduct of production.",energyImage:{botSvg:Bn},wasteEfficiencyTitle:"Risk of Sweatshops",wasteEfficiencyDescription:"Factories with low transparency risk the use of outsourcing their labor to sweatshops to ensure low costs ",wasteImage:{botSvg:Bn}}},{id:3,title:"Sundar Apparel Works",manufacturingCost:"78000",about:{locationImage:{botSvg:Bn},locationTitle:"Located in Asia",locationDescription:"Sundar Apparel Works is a leading manufacturer in Bangladesh, recognized for its commitment to cost-effective, large-scale production. The factory places a strong emphasis on sustainability and ethical practices, ensuring that both environmental impact and labor conditions are prioritized in its operations.",standardImage:{botSvg:Bn},standardTitle:"SA8000 Standard",standardDescription:"A standard that organizations meet to show their commitment to treating workers fairly.",etiImage:!1,etiBaseTitle:!1,etiBaseDescription:!1},factoryAudit:{fairWageTitle:"Fair Wage & Conditions to Workers",fairWageDescription:"The factory provides fair wages, safe working conditions, and respect for workers' rights",fairWageImage:{botSvg:Bn},energyEfficiencyTitle:"Waste Reduction",energyEfficiencyDescription:"The manufacturer should prioritizes reducing waste through recycling, reusing materials, and implementing zero-waste practices.",energyImage:{botSvg:Bn},wasteEfficiencyTitle:"Use of Coal as Energy Source",wasteEfficiencyDescription:"Coal is the primary source of electricity that is used to power production.",wasteImage:{botSvg:Bn}}},{id:4,title:"Silver oak manufacturing",manufacturingCost:"40000",about:{locationImage:{botSvg:Bn},locationTitle:"Located in North America",locationDescription:"Silver Oak Manufacturing is known for its balanced approach to sustainability and ethical production. The factory integrates eco-friendly materials and energy-efficient processes while ensuring fair labor practices. With a focus on quality and responsibility, ",standardImage:{botSvg:Bn},standardTitle:"SA8000 Standard",standardDescription:"A standard that organizations meet to show their commitment to treating workers fairly.",etiImage:{botSvg:Bn},etiBaseTitle:"ISO 14001",etiBaseDescription:"A standard for environmental management to minimize environmental impact."},factoryAudit:{fairWageTitle:"High-Quality Craftsmanship",fairWageDescription:"The factory maintains strict quality control measures throughout the production process.",fairWageImage:{botSvg:Bn},energyEfficiencyTitle:"Environmentally Responsible",energyEfficiencyDescription:"Actively reduces its environmental footprint through waste reduction, energy efficiency, and sustainable resource management.",energyImage:{botSvg:Bn},wasteEfficiencyTitle:"Limited Production Scale",wasteEfficiencyDescription:"This factory may struggle with scaling up quickly to meet very large orders.",wasteImage:{botSvg:Bn}}},{id:5,title:"Anadolu Textile Works",manufacturingCost:"22000",about:{locationImage:{botSvg:Bn},locationTitle:"Located in Europe",locationDescription:"Anadolu Textile Works specializes in garment production, while provides a reasonable option for brands seeking a moderately sustainable solution at a competitive price, though there are areas for improvement in both labor and overall environmental impact.",standardImage:{botSvg:Bn},standardTitle:"OEKO-TEX Standard 100",standardDescription:"Ensures that the textiles produced are free from harmful chemicals, making them safe for consumer use.",etiImage:!1,etiBaseTitle:!1,etiBaseDescription:!1},factoryAudit:{fairWageTitle:"High-Quality Craftsmanship",fairWageDescription:"The factory maintains strict quality control measures throughout the production process.",fairWageImage:{botSvg:Bn},energyEfficiencyTitle:"Environmentally Responsible",energyEfficiencyDescription:"Actively reduces its environmental footprint through waste reduction, energy efficiency, and sustainable resource management.",energyImage:{botSvg:Bn},wasteEfficiencyTitle:"Low Transparency into Practices",wasteEfficiencyDescription:"This factory has little to no disclosure into its practices. Audits have rarely been conducted and are inconclusive ",wasteImage:{botSvg:Bn}}}],CanvasOutfitsData:[{id:1,name:"Space Gothic Chromatica",price:17500,originalDesignPct:80,bulletPoints:["80% Original Design","The designer of the garment has been properly compensated for their innovative work","Bad for the Environment","Poor Rights & Child Labor","Labor rights violations and child labor are common in cotton production in some countries"],iconBullets:[{index:0,icon:"up"},{index:2,icon:"down"},{index:3,icon:"down"}],img_path:"./images/spaceGothic.png"},{id:2,name:"Avant Garde Bloom",price:2e4,originalDesignPct:80,bulletPoints:["80% Original Design","The designer of the garment has been properly compensated for their innovative work","Innovative Design and Textures","Patented Design","The designers unique pattern on the jacket has been patented..."],iconBullets:[{index:0,icon:"up"},{index:1,icon:"up"},{index:2,icon:"up"}],img_path:"./images/avantGarde.png"},{id:3,name:"Neo y2k shimmer",price:14e3,originalDesignPct:40,bulletPoints:["40% Original Design","The design has been heavily influenced by trends seen online","Trending Design on Social Media","Cultural Appropriation","The design borrows from Japanese Kimono garments. Proper research not done"],iconBullets:[{index:0,icon:"down"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/neoY2kShimmer.png"},{id:4,name:"Midnight grunge edge",price:16e3,originalDesignPct:85,bulletPoints:["85% Original Design","The designer of the garment has been properly compensated for their innovative work","Trending Design on Social Media","Infringes on Copyrighted Material","The logo uses the design without permission"],iconBullets:[{index:0,icon:"up"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/midNightEdge.png"},{id:5,name:"SOLARPUNK",price:15e3,originalDesignPct:75,bulletPoints:["75% Original Design","This design features original designs while drawing inspiration","Versatile Appeal Across Styles","Trendy but Not Timeless","The design may quickly become outdated as trends change"],iconBullets:[{index:0,icon:"up"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/solarpunk.png"},{id:6,name:"EARTHBOUND NOMAD",price:17e3,originalDesignPct:50,bulletPoints:["50% Original Design","Heavily inspired by couture aesthetics","Modern and Culturally Conscious Style","Lacks Personalization","The design's blend of trends may result in a generic look"],iconBullets:[{index:0,icon:"up"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/earthynomad.png"},{id:7,name:"Industrial Luxe",price:13e3,originalDesignPct:10,bulletPoints:["10% Original Design","This outfit closely mimics established fashion designs","Affordable Design to Recreate","Copyright Concerns","This outfit risks infringing on intellectual property"],iconBullets:[{index:0,icon:"down"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/industrialLuxe.png"},{id:8,name:"STREET ROYALE",price:12500,originalDesignPct:20,bulletPoints:["20% Original Design","This outfit closely mimics established fashion designs","Affordable Design to Recreate","Copyright Concerns","This outfit risks infringing on intellectual property"],iconBullets:[{index:0,icon:"down"},{index:1,icon:"up"},{index:2,icon:"down"}],img_path:"./images/plushStreetRoyale.png"},{id:9,name:"NEO VINTAGE EDGE",price:18e3,originalDesignPct:85,bulletPoints:["85% Original Design","This outfit showcases a high level of creativity while drawing from trends","Niche Design Appeal","Design Reinvention","Merges vintage aesthetics with modern craftsmanship"],iconBullets:[{index:0,icon:"up"},{index:1,icon:"down"},{index:2,icon:"up"}],img_path:"./images/neoVintageEdge.png"}],EthicallyStrongOptions:[{id:1,name:"Earthbound Nomad - loose clothing",budget:4512333,cost:4300,sustainability:4.9,ethics:4.8,popularity:3.2,description:"Affordable and ethical, but less trendy.",orig_percentage:80,plag_percentage:20,model:"/models/earthyboundNomad.glb",img_path:"./images/earthynomad.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:0,roughness:.9,color:"#ffffff"}}],CapitalisticChoices:[{id:2,name:"Neo-Y2K Shimmer",budget:47e3,cost:4400,sustainability:2.1,ethics:1.8,popularity:5,description:"Ultra-trendy but ethically low.",orig_percentage:30,plag_percentage:70,model:"/models/avantGardeBloom.glb",img_path:"./images/avantGarde.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:1,roughness:.2,color:"#ffffff"}},{id:3,name:"Industrial Luxe",budget:43e3,cost:4e3,sustainability:1.5,ethics:1.7,popularity:5,description:"Expensive, low ethics, very popular.",orig_percentage:40,plag_percentage:60,model:"/models/industrialLuxe.glb",img_path:"./images/industrialLuxe.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:.8,roughness:.1,color:"#aaaaaa"}},{id:4,name:"Plush Street Royale",budget:49e3,cost:4500,sustainability:2.8,ethics:3,popularity:4.9,description:"Capitalistic but somewhat neutral.",orig_percentage:50,plag_percentage:50,model:"/models/streetRoyal.glb",img_path:"./images/plushStreetRoyale.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:.5,roughness:.3,color:"#fffeff"}}],NeutralChoices:[{id:5,name:"Midnight Edge Grunge",budget:46500,cost:4300,sustainability:2.5,ethics:2.8,popularity:4,description:"Trendy with average ethics.",orig_percentage:60,plag_percentage:40,model:"/models/kimono.glb",img_path:"./images/midNightEdge.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:1,roughness:.6,color:"#ffff"}},{id:6,name:"Space Gothic Chromatica",budget:46500,cost:4300,sustainability:4.7,ethics:4.7,popularity:4.7,description:"A balanced option.",orig_percentage:70,plag_percentage:30,model:"/models/spaceGothic.glb",img_path:"./images/spaceGothic.png",transform:{position:[0,-4,-.1],rotation:[0,100,0],scale:.6},materialParams:{metalness:.5,roughness:.3,color:"#ffffff"}}],LogoChoices:[{id:1,name:"Minimalist Leaf Logo",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-1.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},materialParams:{metalness:1,roughness:0,color:"#ffffff"}},{id:2,name:"Retro Badge Logo",description:"Vintage flair with bold lines and text.",model:"/models/logo-02.glb",transform:{position:[0,0,0],rotation:[0,0,0],scale:.7},materialParams:{metalness:1,roughness:0,color:"#ffffff"}},{id:3,name:"Futuristic Neon Logo",description:"A neon-glow style with sharp edges.",model:"/models/logo-03.glb",transform:{position:[0,0,0],rotation:[0,0,0],scale:.8}},{id:4,name:"3D Chrome Logo",description:"Metallic 3D effect, perfect for luxury brands.",model:"/models/logo-04.glb",transform:{position:[0,0,0],rotation:[0,Math.PI/3,0],scale:2},materialParams:{metalness:1,roughness:0,color:"#ffffff"},autoRotateRadius:.001},{id:5,name:"Handwritten Brush Logo",description:"A playful script style for a casual brand.",model:"/models/logo-05.glb",transform:{position:[0,0,0],rotation:[0,0,0],scale:1},materialParams:{metalness:1,roughness:0,color:"#ffffff"}}],CottonChoices:[{id:1,name:"Conventional Cotton",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-1.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:38e3,cert_icon1:"../assets/images/Certifications/fair-trade.png",cert_title1:"Fair Trade Certified",cert_description1:"Certified as having passed safety tests for the prescene of harmful substances",env_icon:"negative",env_title:"Bad for the Environment",env_description:"Conventional cotton uses up to 25% of all the pesticidesused in farming",ethics_icon:"negative",ethics_title:"Poor Rights & Child Labor",ethics_description:"Labor rights violations and child labor are common in cotton production in some countries",water_icon:"negative",water_title:"High Water Use",water_description:"~1,320 gallons of water is used to produce one pound of cotton",img_path:"../assets/images/Cotton/conventional.svg"},{id:2,name:"Organic Cotton",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-02.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:46e3,cert_icon1:"../assets/images/Certifications/oeko.png",cert_title1:"OEKO TEX Standard 100",cert_description1:"Certifies that textiles are free from harmful chemicals and are safe for human use",cert_icon2:"../assets/images/Certifications/fair-trade.png",cert_title2:"Fair Trade Certified",cert_description2:"Certified as having passed safety tests for the prescene of harmful substances",env_title:"Very Uncommon Material",env_description:"Only makes up around 1% of global cotton production",ethics_title:"Good Working Environment",ethics_description:"Working conditions are healthier based on the absence of harmful chemicals",cost_title:"High Cost",cost_description:"Due to fair and just production practices, organic cotton costs more ot produce",img_path:"../assets/images/Cotton/organic_cotton.svg",env_icon:"positive",ethics_icon:"positive",water_icon:"positive",cost_icon:"negative"},{id:3,name:"Polyester",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-03.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:14e3,env_title:"Harmful for the Environment",env_description:"Polyester, made from petroleum, contributes to pollution, greenhouse gases, and sheds microplastics into oceans",ethics_title:"Poor Labor Conditions",ethics_description:"Labor often occurs in factories with low wages, long hours, and unsafe working conditions",water_title:"High Water Use",water_description:"~700 gallons of water is used to produce one pound of polyester",cost_title:"Low Cost",cost_description:"Cheap to produce due to synthetic materials and mass production, but at a high environmental cost",img_path:"../assets/images/Cotton/recycled_cotton.svg",env_icon:"negative",ethics_icon:"negative",water_icon:"negative",cost_icon:"positive"},{id:4,name:"Bamboo",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-04.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:74e3,cert_icon1:"../assets/images/Certifications/fsc.svg",cert_title1:"FSC",cert_description1:"Certifies that the bamboo used in production is sourced from properly managed forests or plantations",env_title:"Positive Effects for the Environment",env_description:"A diverse material which can be grown in a variety of climates across the world",ethics_title:"Sustainable & Ethical",ethics_description:"Bamboo is often harvested by workers under fair labour conditions",water_title:"Minimal Water Use",water_description:"Bamboo requires little to no irrigation, and can rely mostly on rainfall",cost_title:"High Cost",cost_description:"Processing raw bamboo into fabric can be expensive compared to synthetic fabrics",img_path:"../assets/images/Cotton/sustainable_cotton.svg",env_icon:"positive",ethics_icon:"positive",water_icon:"positive",cost_icon:"negative"}],HeavyChoices:[{id:1,name:"Acrylic",model:"/models/logo-1.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:16e3,env_title:"Bad for the Environment",env_description:"Production process is highly volatile. Many harmful chemicals are used during manufacturing",ethics_title:"Poor Working Conditions",ethics_description:"Workers regularly experience hazardous conditions due to the chemicals used (acrylonitrile)",additional_cons_title:"Additional Cons",additional_cons:"Lacks biodegradability, releases microplastics, may cause irritation for some individuals",img_path:"../assets/images/Heavy_Fabrics/acrylic.svg",env_icon:"negative",ethics_icon:"negative",water_icon:"negative",cost_icon:"positive",additional_cons_icon:"negative"},{id:2,name:"Wool",model:"/models/logo-02.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:51e3,cert_icon1:"../assets/images/Certifications/woolmark.svg",cert_title1:"Woolmark",cert_description1:"Certifies the wool product is pure and meets quality standards.This certification does not account for sustainability, environment impacts, or animal welfare.",mat_title:"Common Material",mat_description:"A very popular material known for its softness, warmth, and durability",env_title:"Positive Effects for the Environment",env_description:"Wool is both biodegradable and renewale when sourced properly",ethics_title:"Variable Working Conditions",ethics_description:"Depending on the region, workers and animals may not be treated ethically",water_title:"Negative Effects on Climate",water_description:"Methane emmissions, land degradation, and water cusage are not eco-friendly aspects of production and maintenance",img_path:"../assets/images/Heavy_Fabrics/wool.svg",env_icon:"positive",ethics_icon:"neutral",water_icon:"negative",cost_icon:"negative",mat_icon:"positive"},{id:3,name:"Organic Hemp",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-03.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:61e3,cert_icon1:"../assets/images/Certifications/gots.svg",cert_title1:"Global Organic Textile Standard (GOTS)",cert_description1:"Certifies responsible growing and manufacturing processes with various environmental and social criteria.",cert_icon2:"../assets/images/Certifications/eti.svg",cert_title2:"Ethical Trading Initiative (ETI)",cert_description2:"Certifies ethical labor practices, including fair wages, safe working conditions, and respect towards human rights",water_title:"Environmentally Friendly",water_descritption:"Production requires small amounts of water and does not need pesticides to grow",ethics_title:"Good Working Conditions",ethics_description:"Workers are treated fairly and are provided a safe working environment",env_title:"Environmental Benefits",env_description:"Hemp absorbs carbon dioxide at a larger magnitude per hectare compared to other crops",mat_title:"Emerging Material",mat_description:"This material is becoming more popular thanks to its sustainability and durability",cost_title:"High Cost",cost_description:"Organic hemp is costly due to sustainable farming, and lower production volumes, but its durability makes it a long-term investment.",img_path:"../assets/images/Heavy_Fabrics/organic-hemp.svg",env_icon:"positive",ethics_icon:"positive",water_icon:"positive",cost_icon:"negative",mat_icon:"positive"},{id:4,name:"Polyester-Wool Blend",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-04.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:39e3,cert_icon1:"../assets/images/Certifications/oeko.png",cert_title1:"OEKO TEX Standard 100",cert_description1:"Certifies that textiles are free from harmful chemicals and are safe for human use",env_title:"Varying Sustainability",env_description:"The blend reduces wool waste but adds polyesters microplastics and fossil fuel impact, making it unsustainable",ethics_title:"Partially Ethical",ethics_description:"Wool can be ethical, but polyester adds microplastic pollution and fossil fuel reliance.",water_title:"Moderate Water Use",water_description:"Wool requires a lot of water, while polyester reduces cost but adds pollution.",cost_title:"Moderate Cost",cost_description:"A balance of affordability and qualitypolyester lowers cost, wool adds durability.",img_path:"../assets/images/Heavy_Fabrics/polyester-wool-blend.svg",env_icon:"neutral",ethics_icon:"neutral",water_icon:"neutral",cost_icon:"neutral"}],SyntheticChoices:[{id:1,name:"Nylon",model:"/models/logo-1.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:15e3,mat_title:"Common Material",mat_description:"An extremely common material used in the fashion industry",env_title:"Terrible for the Environment",env_description:"The manufacturing process creates nitrous oxide, a greenhouse gas with significantly worse impacts than CO2",ethics_title:"Not Biodegradable",ethics_description:"Nylon products will last in landfills for hundreds of years",water_title:"Resource Intensive",water_description:"Large quantities of water are used in the manufacturing to cool nylon fibers, and it consumes a lot of energy",img_path:"../assets/images/Heavy_Fabrics/nylon.svg",env_icon:"negative",ethics_icon:"negative",water_icon:"negative",mat_icon:"positive"},{id:2,name:"Silk",model:"/models/logo-02.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:8e4,cert_title1:"Responsible Silk Standard (RSS)",cert_description1:"Ensures silk is produced with animal welfare and sustainable practices in mind.",env_title:"Eco-Friendly & Biodegradable",env_description:"Silk is a natural fiber with minimal environmental impact, requiring no synthetic chemicals and fully biodegradable.",ethics_title:"Fair & Ethical Production",ethics_description:"When sourced responsibly, silk production supports fair wages and sustainable farming, without exploitation.",water_title:"Moderate Water Use",water_description:"Silk requires water for sericulture, but far less than cotton, making it a more sustainable choice.",cost_title:"High Cost",cost_description:"Silk is expensive due to labour-intensive harvesting and ethical sourcing, but its longevity justifies the price.",img_path:"../assets/images/Heavy_Fabrics/silk.svg",env_icon:"positive",ethics_icon:"positive",water_icon:"neutral",cost_icon:"negative"},{id:3,name:"Recycled Nylon",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-03.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:37e3,cert_icon1:"../assets/images/Certifications/grs.svg",cert_title1:"Global Recycled Standard (GRS)",cert_description1:"Certification ensures traceability of materials and promotes the reduction of waste",env_title:"Positive Effects for the Environment",env_description:"Reduces the use of petroleum and overall waste compared to virgin nylon",ethics_title:"Negative Effects of Material",ethics_description:"Recycling nylon uses a lot of energy. Microplastics can be shed when washed",mat_title:"Common Material",mat_description:"Common in outdoor and activewear, offering decent performance with less virgin plastic",cost_title:"Moderate Cost",cost_description:"Recycled nylon can be pricier than virgin nylon due to recycling steps, yet more sustainable long-term",img_path:"../assets/images/Heavy_Fabrics/recycled-nylon.svg",env_icon:"positive",mat_icon:"positive",ethics_icon:"negative",cost_icon:"neutral"},{id:4,name:"Recycled Polyester",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-04.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},cost:4e4,cert_icon1:"../assets/images/Certifications/grs.svg",cert_title1:"Global Recycled Standard (GRS)",cert_description1:"Ensures recycled materials are tracked and waste is reduced",env_title:"Better for the Environment",env_description:"Reduces the use of petroleum compared to virgin polyester",sus_title:"Moderate Sustainability",sus_description:"Helps reduce waste, but still contributes to microplastic pollution",ethics_title:"Negative Effects",ethics_description:"The recycling process uses significant energy and chemicals; microplastics can be released when washing",cost_title:"Moderate Expense",cost_description:"Generally cheaper than virgin polyester but has added recycling costs",img_path:"../assets/images/Heavy_Fabrics/recycled-polyest.svg",env_icon:"positive",sus_icon:"neutral",ethics_icon:"negative",cost_icon:"neutral"}],Manufacturers:[{id:1,name:"ARTTSTHREAD TEXTILES",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-1.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},materialParams:{metalness:1,roughness:0,color:"#ffffff"},cost:13e4,location_icon:"../assets/images/Manufacturing/portugal.svg",location:"Located in Portugal",location_description:"Although more expensive, original designs are crucial in the fashion industry because they drive innovation, set trends, and define a brand's identity.",cert_icon1:"../assets/images/Manufacturing/sa8000.svg",cert_title1:"SA8000 Standard",cert_description1:"A standard that organizations meet to show their commitment to treating workers fairly.",cert_icon2:"../assets/images/Manufacturing/eti_base_code.svg",cert_title2:"ETI Base Code",cert_description2:"A set of labour standards organizations follow to improve working conditions",mat_title:"Common Material",mat_description:"A versatile fabric used by many clothing brands and is readily available in the supply chain",env_title:"Bad for the Environment",env_description:"Conventional cottonuses up to 25% of all the pesticidesused in farming",ethics_title:"Poor Rights & Child Labor",ethics_description:"Labor rights violations and child labor are common in cotton production in some countries",mat_icon:"positive",env_icon:"negative",ethics_icon:"negative",read:!1},{id:2,name:"FACTORY 2",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-2.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},materialParams:{metalness:1,roughness:0,color:"#ffffff"},read:!1,cost:13e4},{id:3,name:"FACTORY 3",description:"Simple leaf-based design for eco-friendly vibes.",model:"/models/logo-3.glb",transform:{position:[0,0,0],rotation:[8,1,0],scale:20},materialParams:{metalness:1,roughness:0,color:"#ffffff"},read:!1,cost:13e4}]},II=P.createContext(),LX=({children:r})=>{const[e,t]=P.useState(null),n={...UX,budget:e,setBudget:t};return B.jsx(II.Provider,{value:n,children:r})},eu=()=>P.useContext(II);var vx={},lB;function IX(){if(lB)return vx;lB=1;function r(a){if(typeof window>"u")return;const s=document.createElement("style");return s.setAttribute("type","text/css"),s.innerHTML=a,document.head.appendChild(s),a}Object.defineProperty(vx,"__esModule",{value:!0});var e=wp();function t(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var n=t(e);r(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const i=e.forwardRef(function({style:s={},className:o="",autoFill:l=!1,play:u=!0,pauseOnHover:d=!1,pauseOnClick:p=!1,direction:v="left",speed:y=50,delay:x=0,loop:A=0,gradient:S=!1,gradientColor:E="white",gradientWidth:M=200,onFinish:R,onCycleComplete:w,onMount:I,children:U},H){const[F,N]=e.useState(0),[L,G]=e.useState(0),[X,Y]=e.useState(1),[J,ae]=e.useState(!1),$=e.useRef(null),he=H||$,le=e.useRef(null),de=e.useCallback(()=>{if(le.current&&he.current){const me=he.current.getBoundingClientRect(),ge=le.current.getBoundingClientRect();let be=me.width,je=ge.width;(v==="up"||v==="down")&&(be=me.height,je=ge.height),Y(l&&be&&je&&je<be?Math.ceil(be/je):1),N(be),G(je)}},[l,he,v]);e.useEffect(()=>{if(J&&(de(),le.current&&he.current)){const me=new ResizeObserver(()=>de());return me.observe(he.current),me.observe(le.current),()=>{me&&me.disconnect()}}},[de,he,J]),e.useEffect(()=>{de()},[de,U]),e.useEffect(()=>{ae(!0)},[]),e.useEffect(()=>{typeof I=="function"&&I()},[]);const V=e.useMemo(()=>l?L*X/y:L<F?F/y:L/y,[l,F,L,X,y]),K=e.useMemo(()=>Object.assign(Object.assign({},s),{"--pause-on-hover":!u||d?"paused":"running","--pause-on-click":!u||d&&!p||p?"paused":"running","--width":v==="up"||v==="down"?"100vh":"100%","--transform":v==="up"?"rotate(-90deg)":v==="down"?"rotate(90deg)":"none"}),[s,u,d,p,v]),re=e.useMemo(()=>({"--gradient-color":E,"--gradient-width":typeof M=="number"?`${M}px`:M}),[E,M]),pe=e.useMemo(()=>({"--play":u?"running":"paused","--direction":v==="left"?"normal":"reverse","--duration":`${V}s`,"--delay":`${x}s`,"--iteration-count":A?`${A}`:"infinite","--min-width":l?"auto":"100%"}),[u,v,V,x,A,l]),Q=e.useMemo(()=>({"--transform":v==="up"?"rotate(90deg)":v==="down"?"rotate(-90deg)":"none"}),[v]),ce=e.useCallback(me=>[...Array(Number.isFinite(me)&&me>=0?me:0)].map((ge,be)=>n.default.createElement(e.Fragment,{key:be},e.Children.map(U,je=>n.default.createElement("div",{style:Q,className:"rfm-child"},je)))),[Q,U]);return J?n.default.createElement("div",{ref:he,style:K,className:"rfm-marquee-container "+o},S&&n.default.createElement("div",{style:re,className:"rfm-overlay"}),n.default.createElement("div",{className:"rfm-marquee",style:pe,onAnimationIteration:w,onAnimationEnd:R},n.default.createElement("div",{className:"rfm-initial-child-container",ref:le},e.Children.map(U,me=>n.default.createElement("div",{style:Q,className:"rfm-child"},me))),ce(X-1)),n.default.createElement("div",{className:"rfm-marquee",style:pe},ce(X))):null});return vx.default=i,vx}var PX=IX();const rw=ff(PX),FX="/assets/background-image-B0RD1uoW.svg";function cr(){return cr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cr.apply(null,arguments)}const HX=r=>r;function zX(r,e=HX){const t=Ae.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return Ae.useDebugValue(t),t}const cB=r=>{const e=hI(r),t=n=>zX(e,n);return Object.assign(t,e),t},GX=r=>r?cB(r):cB;let pv=0;const PI=GX(r=>(eg.onStart=(e,t,n)=>{r({active:!0,item:e,loaded:t,total:n,progress:(t-pv)/(n-pv)*100})},eg.onLoad=()=>{r({active:!1})},eg.onError=e=>r(t=>({errors:[...t.errors,e]})),eg.onProgress=(e,t,n)=>{t===n&&(pv=n),r({active:!0,item:e,loaded:t,total:n,progress:(t-pv)/(n-pv)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function kX(r,e,t){return Math.max(e,Math.min(r,t))}const Va={toVector(r,e){return r===void 0&&(r=e),Array.isArray(r)?r:[r,r]},add(r,e){return[r[0]+e[0],r[1]+e[1]]},sub(r,e){return[r[0]-e[0],r[1]-e[1]]},addTo(r,e){r[0]+=e[0],r[1]+=e[1]},subTo(r,e){r[0]-=e[0],r[1]-=e[1]}};function uB(r,e,t){return e===0||Math.abs(e)===1/0?Math.pow(r,t*5):r*e*t/(e+t*r)}function fB(r,e,t,n=.15){return n===0?kX(r,e,t):r<e?-uB(e-r,t-e,n)+e:r>t?+uB(r-t,t-e,n)+t:r}function VX(r,[e,t],[n,i]){const[[a,s],[o,l]]=r;return[fB(e,a,s,n),fB(t,o,l,i)]}function jX(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function XX(r){var e=jX(r,"string");return typeof e=="symbol"?e:String(e)}function Ls(r,e,t){return e=XX(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function lr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(t),!0).forEach(function(n){Ls(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const FI={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function hB(r){return r?r[0].toUpperCase()+r.slice(1):""}const WX=["enter","leave"];function YX(r=!1,e){return r&&!WX.includes(e)}function qX(r,e="",t=!1){const n=FI[r],i=n&&n[e]||e;return"on"+hB(r)+hB(i)+(YX(t,i)?"Capture":"")}const KX=["gotpointercapture","lostpointercapture"];function JX(r){let e=r.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const n=KX.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function ZX(r,e=""){const t=FI[r],n=t&&t[e]||e;return r+n}function a2(r){return"touches"in r}function HI(r){return a2(r)?"touch":"pointerType"in r?r.pointerType:"mouse"}function $X(r){return Array.from(r.touches).filter(e=>{var t,n;return e.target===r.currentTarget||((t=r.currentTarget)===null||t===void 0||(n=t.contains)===null||n===void 0?void 0:n.call(t,e.target))})}function QX(r){return r.type==="touchend"||r.type==="touchcancel"?r.changedTouches:r.targetTouches}function zI(r){return a2(r)?QX(r)[0]:r}function eW(r){return $X(r).map(e=>e.identifier)}function yE(r){const e=zI(r);return a2(r)?e.identifier:e.pointerId}function pB(r){const e=zI(r);return[e.clientX,e.clientY]}function tW(r){const e={};if("buttons"in r&&(e.buttons=r.buttons),"shiftKey"in r){const{shiftKey:t,altKey:n,metaKey:i,ctrlKey:a}=r;Object.assign(e,{shiftKey:t,altKey:n,metaKey:i,ctrlKey:a})}return e}function zb(r,...e){return typeof r=="function"?r(...e):r}function nW(){}function iW(...r){return r.length===0?nW:r.length===1?r[0]:function(){let e;for(const t of r)e=t.apply(this,arguments)||e;return e}}function mB(r,e){return Object.assign({},e,r||{})}const rW=32;class aW{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:i}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?zb(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:i}=this;t.args=this.args;let a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,tW(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const U=t._delta.map(Math.abs);Va.addTo(t._distance,U)}this.axisIntent&&this.axisIntent(e);const[s,o]=t._movement,[l,u]=n.threshold,{_step:d,values:p}=t;if(n.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(s)>=l&&p[0]),d[1]===!1&&(d[1]=Math.abs(o)>=u&&p[1])):(d[0]===!1&&(d[0]=Math.abs(s)>=l&&Math.sign(s)*l),d[1]===!1&&(d[1]=Math.abs(o)>=u&&Math.sign(o)*u)),t.intentional=d[0]!==!1||d[1]!==!1,!t.intentional)return;const v=[0,0];if(n.hasCustomTransform){const[U,H]=p;v[0]=d[0]!==!1?U-d[0]:0,v[1]=d[1]!==!1?H-d[1]:0}else v[0]=d[0]!==!1?s-d[0]:0,v[1]=d[1]!==!1?o-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(v);const y=t.offset,x=t._active&&!t._blocked||t.active;x&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=zb(n.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));const[A,S]=t.offset,[[E,M],[R,w]]=t._bounds;t.overflow=[A<E?-1:A>M?1:0,S<R?-1:S>w?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const I=t._active?n.rubberband||[0,0]:[0,0];if(t.offset=VX(t._bounds,t.offset,I),t.delta=Va.sub(t.offset,y),this.computeMovement(),x&&(!t.last||a>rW)){t.delta=Va.sub(t.offset,y);const U=t.delta.map(Math.abs);Va.addTo(t.distance,U),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[U[0]/a,U[1]/a],t.timeDelta=a)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(lr(lr(lr({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function sW([r,e],t){const n=Math.abs(r),i=Math.abs(e);if(n>i&&n>t)return"x";if(i>n&&i>t)return"y"}class oW extends aW{constructor(...e){super(...e),Ls(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Va.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Va.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[HI(e)]:n.axisThreshold;t.axis=sW(t._movement,i)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const lW=r=>r,gB=.15,GI={enabled(r=!0){return r},eventOptions(r,e,t){return lr(lr({},t.shared.eventOptions),r)},preventDefault(r=!1){return r},triggerAllEvents(r=!1){return r},rubberband(r=0){switch(r){case!0:return[gB,gB];case!1:return[0,0];default:return Va.toVector(r)}},from(r){if(typeof r=="function")return r;if(r!=null)return Va.toVector(r)},transform(r,e,t){const n=r||t.shared.transform;return this.hasCustomTransform=!!n,n||lW},threshold(r){return Va.toVector(r,0)}},cW=0,Xy=lr(lr({},GI),{},{axis(r,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(r=cW){return r},bounds(r={}){if(typeof r=="function")return a=>Xy.bounds(r(a));if("current"in r)return()=>r.current;if(typeof HTMLElement=="function"&&r instanceof HTMLElement)return r;const{left:e=-1/0,right:t=1/0,top:n=-1/0,bottom:i=1/0}=r;return[[e,t],[n,i]]}}),vB={ArrowRight:(r,e=1)=>[r*e,0],ArrowLeft:(r,e=1)=>[-1*r*e,0],ArrowUp:(r,e=1)=>[0,-1*r*e],ArrowDown:(r,e=1)=>[0,r*e]};class uW extends oW{constructor(...e){super(...e),Ls(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),i={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Xy.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=yE(e),n._pointerActive=!0,this.computeValues(pB(e)),this.computeInitial(),t.preventScrollAxis&&HI(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;const i=yE(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const a=pB(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Va.sub(a,t._values),this.computeValues(a)),Va.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const i=yE(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,s]=t._distance;if(t.tap=a<=n.tapsThreshold&&s<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[o,l]=t._delta,[u,d]=t._movement,[p,v]=n.swipe.velocity,[y,x]=n.swipe.distance,A=n.swipe.duration;if(t.elapsedTime<A){const S=Math.abs(o/t.timeDelta),E=Math.abs(l/t.timeDelta);S>p&&Math.abs(u)>y&&(t.swipe[0]=Math.sign(o)),E>v&&Math.abs(d)>x&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,fW(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=vB[e.key];if(t){const n=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,i),n._keyboardActive=!0,Va.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in vB&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function fW(r){"persist"in r&&typeof r.persist=="function"&&r.persist()}const Wy=typeof window<"u"&&window.document&&window.document.createElement;function kI(){return Wy&&"ontouchstart"in window}function dW(){return kI()||Wy&&window.navigator.maxTouchPoints>1}function hW(){return Wy&&"onpointerdown"in window}function pW(){return Wy&&"exitPointerLock"in window.document}function mW(){try{return"constructor"in GestureEvent}catch{return!1}}const Vo={isBrowser:Wy,gesture:mW(),touch:kI(),touchscreen:dW(),pointer:hW(),pointerLock:pW()},gW=250,vW=180,yW=.5,_W=50,xW=250,bW=10,yB={mouse:0,touch:0,pen:8},AW=lr(lr({},Xy),{},{device(r,e,{pointer:{touch:t=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&Vo.pointerLock,Vo.touch&&t?"touch":this.pointerLock?"mouse":Vo.pointer&&!i?"pointer":Vo.touch?"touch":"mouse"},preventScrollAxis(r,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&r?gW:void 0,!(!Vo.touchscreen||t===!1))return r||(t!==void 0?"y":void 0)},pointerCapture(r,e,{pointer:{capture:t=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(r,e,{filterTaps:t=!1,tapsThreshold:n=3,axis:i=void 0}){const a=Va.toVector(r,t?n:i?1:0);return this.filterTaps=t,this.tapsThreshold=n,a},swipe({velocity:r=yW,distance:e=_W,duration:t=xW}={}){return{velocity:this.transform(Va.toVector(r)),distance:this.transform(Va.toVector(e)),duration:t}},delay(r=0){switch(r){case!0:return vW;case!1:return 0;default:return r}},axisThreshold(r){return r?lr(lr({},yB),r):yB},keyboardDisplacement(r=bW){return r}});lr(lr({},GI),{},{device(r,e,{shared:t,pointer:{touch:n=!1}={}}){if(t.target&&!Vo.touch&&Vo.gesture)return"gesture";if(Vo.touch&&n)return"touch";if(Vo.touchscreen){if(Vo.pointer)return"pointer";if(Vo.touch)return"touch"}},bounds(r,e,{scaleBounds:t={},angleBounds:n={}}){const i=s=>{const o=mB(zb(t,s),{min:-1/0,max:1/0});return[o.min,o.max]},a=s=>{const o=mB(zb(n,s),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof t!="function"&&typeof n!="function"?[i(),a()]:s=>[i(s),a(s)]},threshold(r,e,t){return this.lockDirection=t.axis==="lock",Va.toVector(r,this.lockDirection?[.1,3]:0)},modifierKey(r){return r===void 0?"ctrlKey":r},pinchOnWheel(r=!0){return r}});lr(lr({},Xy),{},{mouseOnly:(r=!0)=>r});lr(lr({},Xy),{},{mouseOnly:(r=!0)=>r});const VI=new Map,jT=new Map;function SW(r){VI.set(r.key,r.engine),jT.set(r.key,r.resolver)}const EW={key:"drag",engine:uW,resolver:AW};function TW(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function MW(r,e){if(r==null)return{};var t=TW(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}const CW={target(r){if(r)return()=>"current"in r?r.current:r},enabled(r=!0){return r},window(r=Vo.isBrowser?window:void 0){return r},eventOptions({passive:r=!0,capture:e=!1}={}){return{passive:r,capture:e}},transform(r){return r}},wW=["target","eventOptions","window","enabled","transform"];function zx(r={},e){const t={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":t[n]=i.call(t,r[n],n,r);break;case"object":t[n]=zx(r[n],i);break;case"boolean":i&&(t[n]=r[n]);break}return t}function RW(r,e,t={}){const n=r,{target:i,eventOptions:a,window:s,enabled:o,transform:l}=n,u=MW(n,wW);if(t.shared=zx({target:i,eventOptions:a,window:s,enabled:o,transform:l},CW),e){const d=jT.get(e);t[e]=zx(lr({shared:t.shared},u),d)}else for(const d in u){const p=jT.get(d);p&&(t[d]=zx(lr({shared:t.shared},u[d]),p))}return t}class jI{constructor(e,t){Ls(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,i,a){const s=this._listeners,o=ZX(t,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=lr(lr({},l),a);e.addEventListener(o,i,u);const d=()=>{e.removeEventListener(o,i,u),s.delete(d)};return s.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class DW{constructor(){Ls(this,"_timeouts",new Map)}add(e,t,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class BW{constructor(e){Ls(this,"gestures",new Set),Ls(this,"_targetEventStore",new jI(this)),Ls(this,"gestureEventStores",{}),Ls(this,"gestureTimeoutStores",{}),Ls(this,"handlers",{}),Ls(this,"config",{}),Ls(this,"pointerIds",new Set),Ls(this,"touchIds",new Set),Ls(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),OW(this,e)}setEventIds(e){if(a2(e))return this.touchIds=new Set(eW(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=RW(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const s of this.gestures){const o=this.config[s],l=_B(n,o.eventOptions,!!i);if(o.enabled){const u=VI.get(s);new u(this,e,s).bind(l)}}const a=_B(n,t.eventOptions,!!i);for(const s in this.nativeHandlers)a(s,"",o=>this.nativeHandlers[s](lr(lr({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const a in n)n[a]=iW(...n[a]);if(!i)return n;for(const a in n){const{device:s,capture:o,passive:l}=JX(a);this._targetEventStore.add(i,s,"",n[a],{capture:o,passive:l})}}}}function Wm(r,e){r.gestures.add(e),r.gestureEventStores[e]=new jI(r,e),r.gestureTimeoutStores[e]=new DW}function OW(r,e){e.drag&&Wm(r,"drag"),e.wheel&&Wm(r,"wheel"),e.scroll&&Wm(r,"scroll"),e.move&&Wm(r,"move"),e.pinch&&Wm(r,"pinch"),e.hover&&Wm(r,"hover")}const _B=(r,e,t)=>(n,i,a,s={},o=!1)=>{var l,u;const d=(l=s.capture)!==null&&l!==void 0?l:e.capture,p=(u=s.passive)!==null&&u!==void 0?u:e.passive;let v=o?n:qX(n,i,d);t&&p&&(v+="Passive"),r[v]=r[v]||[],r[v].push(a)};function NW(r,e={},t,n){const i=Ae.useMemo(()=>new BW(r),[]);if(i.applyHandlers(r,n),i.applyConfig(e,t),Ae.useEffect(i.effect.bind(i)),Ae.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function UW(r,e){return SW(EW),NW({drag:r},e||{},"drag")}const aw=parseInt(Cy.replace(/\D+/g,""));function xB(r,e){if(e===yC)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===yp||e===Ny){let t=r.getIndex();if(t===null){const s=[],o=r.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);r.setIndex(s),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(t)if(e===yp)for(let s=1;s<=n;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<n;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=r.clone();return a.setIndex(i),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}var jo=Uint8Array,hd=Uint16Array,XT=Uint32Array,XI=new jo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WI=new jo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LW=new jo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YI=function(r,e){for(var t=new hd(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new XT(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return[t,i]},qI=YI(XI,2),KI=qI[0],IW=qI[1];KI[28]=258,IW[258]=28;var PW=YI(WI,0),FW=PW[0],WT=new hd(32768);for(var Pi=0;Pi<32768;++Pi){var id=(Pi&43690)>>>1|(Pi&21845)<<1;id=(id&52428)>>>2|(id&13107)<<2,id=(id&61680)>>>4|(id&3855)<<4,WT[Pi]=((id&65280)>>>8|(id&255)<<8)>>>1}var kv=function(r,e,t){for(var n=r.length,i=0,a=new hd(e);i<n;++i)++a[r[i]-1];var s=new hd(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new hd(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var u=i<<4|r[i],d=e-r[i],p=s[r[i]-1]++<<d,v=p|(1<<d)-1;p<=v;++p)o[WT[p]>>>l]=u}else for(o=new hd(n),i=0;i<n;++i)r[i]&&(o[i]=WT[s[r[i]-1]++]>>>15-r[i]);return o},Yy=new jo(288);for(var Pi=0;Pi<144;++Pi)Yy[Pi]=8;for(var Pi=144;Pi<256;++Pi)Yy[Pi]=9;for(var Pi=256;Pi<280;++Pi)Yy[Pi]=7;for(var Pi=280;Pi<288;++Pi)Yy[Pi]=8;var JI=new jo(32);for(var Pi=0;Pi<32;++Pi)JI[Pi]=5;var HW=kv(Yy,9,1),zW=kv(JI,5,1),_E=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Il=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},xE=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},GW=function(r){return(r/8|0)+(r&7&&1)},kW=function(r,e,t){(t==null||t>r.length)&&(t=r.length);var n=new(r instanceof hd?hd:r instanceof XT?XT:jo)(t-e);return n.set(r.subarray(e,t)),n},VW=function(r,e,t){var n=r.length;if(!n||t&&!t.l&&n<5)return e||new jo(0);var i=!e||t,a=!t||t.i;t||(t={}),e||(e=new jo(n*3));var s=function(me){var ge=e.length;if(me>ge){var be=new jo(Math.max(ge*2,me));be.set(e),e=be}},o=t.f||0,l=t.p||0,u=t.b||0,d=t.l,p=t.d,v=t.m,y=t.n,x=n*8;do{if(!d){t.f=o=Il(r,l,1);var A=Il(r,l+1,3);if(l+=3,A)if(A==1)d=HW,p=zW,v=9,y=5;else if(A==2){var R=Il(r,l,31)+257,w=Il(r,l+10,15)+4,I=R+Il(r,l+5,31)+1;l+=14;for(var U=new jo(I),H=new jo(19),F=0;F<w;++F)H[LW[F]]=Il(r,l+F*3,7);l+=w*3;for(var N=_E(H),L=(1<<N)-1,G=kv(H,N,1),F=0;F<I;){var X=G[Il(r,l,L)];l+=X&15;var S=X>>>4;if(S<16)U[F++]=S;else{var Y=0,J=0;for(S==16?(J=3+Il(r,l,3),l+=2,Y=U[F-1]):S==17?(J=3+Il(r,l,7),l+=3):S==18&&(J=11+Il(r,l,127),l+=7);J--;)U[F++]=Y}}var ae=U.subarray(0,R),$=U.subarray(R);v=_E(ae),y=_E($),d=kv(ae,v,1),p=kv($,y,1)}else throw"invalid block type";else{var S=GW(l)+4,E=r[S-4]|r[S-3]<<8,M=S+E;if(M>n){if(a)throw"unexpected EOF";break}i&&s(u+E),e.set(r.subarray(S,M),u),t.b=u+=E,t.p=l=M*8;continue}if(l>x){if(a)throw"unexpected EOF";break}}i&&s(u+131072);for(var he=(1<<v)-1,le=(1<<y)-1,de=l;;de=l){var Y=d[xE(r,l)&he],V=Y>>>4;if(l+=Y&15,l>x){if(a)throw"unexpected EOF";break}if(!Y)throw"invalid length/literal";if(V<256)e[u++]=V;else if(V==256){de=l,d=null;break}else{var K=V-254;if(V>264){var F=V-257,re=XI[F];K=Il(r,l,(1<<re)-1)+KI[F],l+=re}var pe=p[xE(r,l)&le],Q=pe>>>4;if(!pe)throw"invalid distance";l+=pe&15;var $=FW[Q];if(Q>3){var re=WI[Q];$+=xE(r,l)&(1<<re)-1,l+=re}if(l>x){if(a)throw"unexpected EOF";break}i&&s(u+131072);for(var ce=u+K;u<ce;u+=4)e[u]=e[u-$],e[u+1]=e[u+1-$],e[u+2]=e[u+2-$],e[u+3]=e[u+3-$];u=ce}}t.l=d,t.p=de,t.b=u,d&&(o=1,t.m=v,t.d=p,t.n=y)}while(!o);return u==e.length?e:kW(e,0,u)},jW=new jo(0),XW=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function yx(r,e){return VW((XW(r),r.subarray(2,-4)),e)}var WW=typeof TextDecoder<"u"&&new TextDecoder,YW=0;try{WW.decode(jW,{stream:!0}),YW=1}catch{}const qW=r=>r&&r.isCubeTexture;class KW extends Ai{constructor(e,t){var n,i;const a=qW(e),o=((i=a?(n=e.image[0])==null?void 0:n.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(o)),u=Math.pow(2,l),d=3*Math.max(u,16*7),p=4*u,v=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/p}`,`#define CUBEUV_MAX_MIP ${l}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,x=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${aw>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,A={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},S=new Gy(1,16),E=new Xs({uniforms:A,fragmentShader:x,vertexShader:y,side:Is});super(S,E)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function Gb(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let e="";for(let t=0,n=r.length;t<n;t++)e+=String.fromCharCode(r[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Jh="srgb",Ju="srgb-linear",bB=3001,JW=3e3;let sw=class extends Jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new tY(t)}),this.register(function(t){return new nY(t)}),this.register(function(t){return new fY(t)}),this.register(function(t){return new dY(t)}),this.register(function(t){return new hY(t)}),this.register(function(t){return new rY(t)}),this.register(function(t){return new aY(t)}),this.register(function(t){return new sY(t)}),this.register(function(t){return new oY(t)}),this.register(function(t){return new eY(t)}),this.register(function(t){return new lY(t)}),this.register(function(t){return new iY(t)}),this.register(function(t){return new uY(t)}),this.register(function(t){return new cY(t)}),this.register(function(t){return new $W(t)}),this.register(function(t){return new pY(t)}),this.register(function(t){return new mY(t)})}load(e,t,n,i){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const u=mo.extractUrlBase(e);s=mo.resolveURL(u,this.path)}else s=mo.extractUrlBase(e);this.manager.itemStart(e);const o=function(u){i?i(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Br(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{a.parse(u,s,function(d){t(d),a.manager.itemEnd(e)},o)}catch(d){o(d)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let a;const s={},o={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Gb(new Uint8Array(e.slice(0,4)))===ZI){try{s[Gn.KHR_BINARY_GLTF]=new gY(e)}catch(d){i&&i(d);return}a=JSON.parse(s[Gn.KHR_BINARY_GLTF].content)}else a=JSON.parse(Gb(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new RY(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[d.name]=d,s[d.name]=!0}if(a.extensionsUsed)for(let u=0;u<a.extensionsUsed.length;++u){const d=a.extensionsUsed[u],p=a.extensionsRequired||[];switch(d){case Gn.KHR_MATERIALS_UNLIT:s[d]=new QW;break;case Gn.KHR_DRACO_MESH_COMPRESSION:s[d]=new vY(a,this.dracoLoader);break;case Gn.KHR_TEXTURE_TRANSFORM:s[d]=new yY;break;case Gn.KHR_MESH_QUANTIZATION:s[d]=new _Y;break;default:p.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(s),l.setPlugins(o),l.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,a){n.parse(e,t,i,a)})}};function ZW(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const Gn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};let $W=class{constructor(e){this.parser=e,this.name=Gn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const d=new Rt(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Ju);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new e2(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new QA(d),u.distance=p;break;case"spot":u=new $A(d),u.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,zu(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return n._getNodeRef(t.cache,o,l)})}},QW=class{constructor(){this.name=Gn.KHR_MATERIALS_UNLIT}getMaterialType(){return zr}extendParams(e,t,n){const i=[];e.color=new Rt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],Ju),e.opacity=s[3]}a.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",a.baseColorTexture,Jh))}return Promise.all(i)}},eY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}},tY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new mt(o,o)}return Promise.all(a)}},nY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}},iY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}},rY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Rt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Ju)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Jh)),s.sheenRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}},aY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}},sY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new Rt().setRGB(o[0],o[1],o[2],Ju),Promise.all(a)}},oY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}},lY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new Rt().setRGB(o[0],o[1],o[2],Ju),s.specularColorTexture!==void 0&&a.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,Jh)),Promise.all(a)}},cY=class{constructor(e){this.parser=e,this.name=Gn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}},uY=class{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}},fY=class{constructor(e){this.parser=e,this.name=Gn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}},dY=class{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=n.textureLoader;if(o.uri){const u=n.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return n.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},hY=class{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=n.textureLoader;if(o.uri){const u=n.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return n.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},pY=class{constructor(e){this.name=Gn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,p=i.byteStride,v=new Uint8Array(o,l,u);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(d,p,v,i.mode,i.filter).then(function(y){return y.buffer}):s.ready.then(function(){const y=new ArrayBuffer(d*p);return s.decodeGltfBuffer(new Uint8Array(y),d,p,v,i.mode,i.filter),y})})}else return null}},mY=class{constructor(e){this.name=Gn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const u of i.primitives)if(u.mode!==Go.TRIANGLES&&u.mode!==Go.TRIANGLE_STRIP&&u.mode!==Go.TRIANGLE_FAN&&u.mode!==void 0)return null;const s=n.extensions[this.name].attributes,o=[],l={};for(const u in s)o.push(this.parser.getDependency("accessor",s[u]).then(d=>(l[u]=d,l[u])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(u=>{const d=u.pop(),p=d.isGroup?d.children:[d],v=u[0].count,y=[];for(const x of p){const A=new en,S=new ue,E=new da,M=new ue(1,1,1),R=new OA(x.geometry,x.material,v);for(let w=0;w<v;w++)l.TRANSLATION&&S.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&E.fromBufferAttribute(l.ROTATION,w),l.SCALE&&M.fromBufferAttribute(l.SCALE,w),R.setMatrixAt(w,A.compose(S,E,M));for(const w in l)if(w==="_COLOR_0"){const I=l[w];R.instanceColor=new tf(I.array,I.itemSize,I.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&x.geometry.setAttribute(w,l[w]);Vn.prototype.copy.call(R,x),this.parser.assignFinalMaterial(R),y.push(R)}return d.isGroup?(d.clear(),d.add(...y),d):y[0]}))}};const ZI="glTF",mv=12,AB={JSON:1313821514,BIN:5130562};let gY=class{constructor(e){this.name=Gn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,mv);if(this.header={magic:Gb(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ZI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-mv,i=new DataView(e,mv);let a=0;for(;a<n;){const s=i.getUint32(a,!0);a+=4;const o=i.getUint32(a,!0);if(a+=4,o===AB.JSON){const l=new Uint8Array(e,mv+a,s);this.content=Gb(l)}else if(o===AB.BIN){const l=mv+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}},vY=class{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},u={};for(const d in s){const p=YT[d]||d.toLowerCase();o[p]=s[d]}for(const d in e.attributes){const p=YT[d]||d.toLowerCase();if(s[d]!==void 0){const v=n.accessors[e.attributes[d]],y=lg[v.componentType];u[p]=y.name,l[p]=v.normalized===!0}}return t.getDependency("bufferView",a).then(function(d){return new Promise(function(p,v){i.decodeDracoFile(d,function(y){for(const x in y.attributes){const A=y.attributes[x],S=l[x];S!==void 0&&(A.normalized=S)}p(y)},o,u,Ju,v)})})}},yY=class{constructor(){this.name=Gn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}},_Y=class{constructor(){this.name=Gn.KHR_MESH_QUANTIZATION}},$I=class extends Bp{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let s=0;s!==i;s++)t[s]=n[a+s];return t}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,u=o*3,d=i-t,p=(n-t)/d,v=p*p,y=v*p,x=e*u,A=x-u,S=-2*y+3*v,E=y-v,M=1-S,R=E-v+p;for(let w=0;w!==o;w++){const I=s[A+w+o],U=s[A+w+l]*d,H=s[x+w+o],F=s[x+w]*d;a[w]=M*I+R*U+S*H+E*F}return a}};const xY=new da;let bY=class extends $I{interpolate_(e,t,n,i){const a=super.interpolate_(e,t,n,i);return xY.fromArray(a).normalize().toArray(a),a}};const Go={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},lg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},SB={9728:Gr,9729:Yn,9984:Ry,9985:np,9986:dd,9987:Fs},EB={33071:xr,33648:pp,10497:Vl},bE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},YT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...aw>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},rd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},AY={CUBICSPLINE:void 0,LINEAR:Ad,STEP:vp},AE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function SY(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new Dp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:kl})),r.DefaultMaterial}function Uh(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function zu(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function EY(r,e,t){let n=!1,i=!1,a=!1;for(let u=0,d=e.length;u<d;u++){const p=e[u];if(p.POSITION!==void 0&&(n=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(a=!0),n&&i&&a)break}if(!n&&!i&&!a)return Promise.resolve(r);const s=[],o=[],l=[];for(let u=0,d=e.length;u<d;u++){const p=e[u];if(n){const v=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):r.attributes.position;s.push(v)}if(i){const v=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):r.attributes.normal;o.push(v)}if(a){const v=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):r.attributes.color;l.push(v)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(u){const d=u[0],p=u[1],v=u[2];return n&&(r.morphAttributes.position=d),i&&(r.morphAttributes.normal=p),a&&(r.morphAttributes.color=v),r.morphTargetsRelative=!0,r})}function TY(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function MY(r){let e;const t=r.extensions&&r.extensions[Gn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+SE(t.attributes):e=r.indices+":"+SE(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+SE(r.targets[n]);return e}function SE(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function qT(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function CY(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const wY=new en;let RY=class{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new ZW,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&a<98?this.textureLoader=new FC(this.options.manager):this.textureLoader=new GC(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Br(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(s){const o={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:n,userData:{}};return Uh(a,o,i),zu(o,i),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const s=t[i].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(n[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[u,d]of s.children.entries())a(d,o.children[u])};return a(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(a,s){return n.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Gn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,s){n.load(mo.resolveURL(t.uri,i.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,a=t.byteOffset||0;return n.slice(a,a+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=bE[i.type],o=lg[i.componentType],l=i.normalized===!0,u=new o(i.count*s);return Promise.resolve(new Hn(u,s,l))}const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=bE[i.type],u=lg[i.componentType],d=u.BYTES_PER_ELEMENT,p=d*l,v=i.byteOffset||0,y=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,x=i.normalized===!0;let A,S;if(y&&y!==p){const E=Math.floor(v/y),M="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+E+":"+i.count;let R=t.cache.get(M);R||(A=new u(o,E*y,i.count*y/d),R=new Ug(A,y/d),t.cache.add(M,R)),S=new ef(R,l,v%y/d,x)}else o===null?A=new u(i.count*l):A=new u(o,v,i.count*l),S=new Hn(A,l,x);if(i.sparse!==void 0){const E=bE.SCALAR,M=lg[i.sparse.indices.componentType],R=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,I=new M(s[1],R,i.sparse.count*E),U=new u(s[2],w,i.sparse.count*l);o!==null&&(S=new Hn(S.array.slice(),S.itemSize,S.normalized));for(let H=0,F=I.length;H<F;H++){const N=I[H];if(S.setX(N,U[H*l]),l>=2&&S.setY(N,U[H*l+1]),l>=3&&S.setZ(N,U[H*l+2]),l>=4&&S.setW(N,U[H*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const t=this.json,n=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=n.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,n){const i=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,n).then(function(d){d.flipY=!1,d.name=s.name||o.name||"",d.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(d.name=o.uri);const v=(a.samplers||{})[s.sampler]||{};return d.magFilter=SB[v.magFilter]||Yn,d.minFilter=SB[v.minFilter]||Fs,d.wrapS=EB[v.wrapS]||Vl,d.wrapT=EB[v.wrapT]||Vl,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const n=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const s=i.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",u=!1;if(s.bufferView!==void 0)l=n.getDependency("bufferView",s.bufferView).then(function(p){u=!0;const v=new Blob([p],{type:s.mimeType});return l=o.createObjectURL(v),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(p){return new Promise(function(v,y){let x=v;t.isImageBitmapLoader===!0&&(x=function(A){const S=new ni(A);S.needsUpdate=!0,v(S)}),t.load(mo.resolveURL(p,a.path),x,void 0,y)})}).then(function(p){return u===!0&&o.revokeObjectURL(l),zu(p,s),p.userData.mimeType=s.mimeType||CY(s.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=d,d}assignTexture(e,t,n,i){const a=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(s=s.clone(),s.channel=n.texCoord),a.extensions[Gn.KHR_TEXTURE_TRANSFORM]){const o=n.extensions!==void 0?n.extensions[Gn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[Gn.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===bB?Jh:Ju),"colorSpace"in s?s.colorSpace=i:s.encoding=i===Jh?bB:JW),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new Hy,Ar.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(o,l)),n=l}else if(e.isLine){const o="LineBasicMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new Ta,Ar.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(o,l)),n=l}if(i||a||s){let o="ClonedMaterial:"+n.uuid+":";i&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=n.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return Dp}loadMaterial(e){const t=this,n=this.json,i=this.extensions,a=n.materials[e];let s;const o={},l=a.extensions||{},u=[];if(l[Gn.KHR_MATERIALS_UNLIT]){const p=i[Gn.KHR_MATERIALS_UNLIT];s=p.getMaterialType(),u.push(p.extendParams(o,a,t))}else{const p=a.pbrMetallicRoughness||{};if(o.color=new Rt(1,1,1),o.opacity=1,Array.isArray(p.baseColorFactor)){const v=p.baseColorFactor;o.color.setRGB(v[0],v[1],v[2],Ju),o.opacity=v[3]}p.baseColorTexture!==void 0&&u.push(t.assignTexture(o,"map",p.baseColorTexture,Jh)),o.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,o.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(o,"metalnessMap",p.metallicRoughnessTexture)),u.push(t.assignTexture(o,"roughnessMap",p.metallicRoughnessTexture))),s=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=Is);const d=a.alphaMode||AE.OPAQUE;if(d===AE.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,d===AE.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==zr&&(u.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new mt(1,1),a.normalTexture.scale!==void 0)){const p=a.normalTexture.scale;o.normalScale.set(p,p)}if(a.occlusionTexture!==void 0&&s!==zr&&(u.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==zr){const p=a.emissiveFactor;o.emissive=new Rt().setRGB(p[0],p[1],p[2],Ju)}return a.emissiveTexture!==void 0&&s!==zr&&u.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,Jh)),Promise.all(u).then(function(){const p=new s(o);return a.name&&(p.name=a.name),zu(p,a),t.associations.set(p,{materials:e}),a.extensions&&Uh(i,p,a),p})}createUniqueName(e){const t=Zn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function a(o){return n[Gn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return TB(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o],d=MY(u),p=i[d];if(p)s.push(p.promise);else{let v;u.extensions&&u.extensions[Gn.KHR_DRACO_MESH_COMPRESSION]?v=a(u):v=TB(new vn,u,t),i[d]={primitive:u,promise:v},s.push(v)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,i=this.extensions,a=n.meshes[e],s=a.primitives,o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l].material===void 0?SY(this.cache):this.getDependency("material",s[l].material);o.push(d)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],p=[];for(let y=0,x=d.length;y<x;y++){const A=d[y],S=s[y];let E;const M=u[y];if(S.mode===Go.TRIANGLES||S.mode===Go.TRIANGLE_STRIP||S.mode===Go.TRIANGLE_FAN||S.mode===void 0)E=a.isSkinnedMesh===!0?new BA(A,M):new Ai(A,M),E.isSkinnedMesh===!0&&E.normalizeSkinWeights(),S.mode===Go.TRIANGLE_STRIP?E.geometry=xB(E.geometry,Ny):S.mode===Go.TRIANGLE_FAN&&(E.geometry=xB(E.geometry,yp));else if(S.mode===Go.LINES)E=new Ko(A,M);else if(S.mode===Go.LINE_STRIP)E=new Kc(A,M);else if(S.mode===Go.LINE_LOOP)E=new NA(A,M);else if(S.mode===Go.POINTS)E=new UA(A,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(E.geometry.morphAttributes).length>0&&TY(E,a),E.name=t.createUniqueName(a.name||"mesh_"+e),zu(E,a),S.extensions&&Uh(i,E,S),t.assignFinalMaterial(E),p.push(E)}for(let y=0,x=p.length;y<x;y++)t.associations.set(p[y],{meshes:e,primitives:y});if(p.length===1)return a.extensions&&Uh(i,p[0],a),p[0];const v=new Xo;a.extensions&&Uh(i,v,a),t.associations.set(v,{meshes:e});for(let y=0,x=p.length;y<x;y++)v.add(p[y]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Hr(TA.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Ld(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),zu(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,a=t.joints.length;i<a;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const a=i.pop(),s=i,o=[],l=[];for(let u=0,d=s.length;u<d;u++){const p=s[u];if(p){o.push(p);const v=new en;a!==null&&v.fromArray(a.array,u*16),l.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Lg(o,l)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],a=i.name?i.name:"animation_"+e,s=[],o=[],l=[],u=[],d=[];for(let p=0,v=i.channels.length;p<v;p++){const y=i.channels[p],x=i.samplers[y.sampler],A=y.target,S=A.node,E=i.parameters!==void 0?i.parameters[x.input]:x.input,M=i.parameters!==void 0?i.parameters[x.output]:x.output;A.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",E)),l.push(this.getDependency("accessor",M)),u.push(x),d.push(A))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(p){const v=p[0],y=p[1],x=p[2],A=p[3],S=p[4],E=[];for(let M=0,R=v.length;M<R;M++){const w=v[M],I=y[M],U=x[M],H=A[M],F=S[M];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const N=n._createAnimationTracks(w,I,U,H,F);if(N)for(let L=0;L<N.length;L++)E.push(N[L])}return new xp(a,void 0,E)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(a){const s=n._getNodeRef(n.meshCache,i.mesh,a);return i.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,u=i.weights.length;l<u;l++)o.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],a=n._loadNodeShallow(e),s=[],o=i.children||[];for(let u=0,d=o.length;u<d;u++)s.push(n.getDependency("node",o[u]));const l=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([a,Promise.all(s),l]).then(function(u){const d=u[0],p=u[1],v=u[2];v!==null&&d.traverse(function(y){y.isSkinnedMesh&&y.bind(v,wY)});for(let y=0,x=p.length;y<x;y++)d.add(p[y]);return d})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?i.createUniqueName(a.name):"",o=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(i.getDependency("camera",a.camera).then(function(u){return i._getNodeRef(i.cameraCache,a.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){o.push(u)}),this.nodeCache[e]=Promise.all(o).then(function(u){let d;if(a.isBone===!0?d=new Py:u.length>1?d=new Xo:u.length===1?d=u[0]:d=new Vn,d!==u[0])for(let p=0,v=u.length;p<v;p++)d.add(u[p]);if(a.name&&(d.userData.name=a.name,d.name=s),zu(d,a),a.extensions&&Uh(n,d,a),a.matrix!==void 0){const p=new en;p.fromArray(a.matrix),d.applyMatrix4(p)}else a.translation!==void 0&&d.position.fromArray(a.translation),a.rotation!==void 0&&d.quaternion.fromArray(a.rotation),a.scale!==void 0&&d.scale.fromArray(a.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,a=new Xo;n.name&&(a.name=i.createUniqueName(n.name)),zu(a,n),n.extensions&&Uh(t,a,n);const s=n.nodes||[],o=[];for(let l=0,u=s.length;l<u;l++)o.push(i.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let d=0,p=l.length;d<p;d++)a.add(l[d]);const u=d=>{const p=new Map;for(const[v,y]of i.associations)(v instanceof Ar||v instanceof ni)&&p.set(v,y);return d.traverse(v=>{const y=i.associations.get(v);y!=null&&p.set(v,y)}),p};return i.associations=u(a),a})}_createAnimationTracks(e,t,n,i,a){const s=[],o=e.name?e.name:e.uuid,l=[];rd[a.path]===rd.weights?e.traverse(function(v){v.morphTargetInfluences&&l.push(v.name?v.name:v.uuid)}):l.push(o);let u;switch(rd[a.path]){case rd.weights:u=nf;break;case rd.rotation:u=rf;break;case rd.position:case rd.scale:u=af;break;default:switch(n.itemSize){case 1:u=nf;break;case 2:case 3:default:u=af;break}break}const d=i.interpolation!==void 0?AY[i.interpolation]:Ad,p=this._getArrayFromAccessor(n);for(let v=0,y=l.length;v<y;v++){const x=new u(l[v]+"."+rd[a.path],t.array,p,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),s.push(x)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=qT(t.constructor),i=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)i[a]=t[a]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof rf?bY:$I;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function DY(r,e,t){const n=e.attributes,i=new kr;if(n.POSITION!==void 0){const o=t.json.accessors[n.POSITION],l=o.min,u=o.max;if(l!==void 0&&u!==void 0){if(i.set(new ue(l[0],l[1],l[2]),new ue(u[0],u[1],u[2])),o.normalized){const d=qT(lg[o.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new ue,l=new ue;for(let u=0,d=a.length;u<d;u++){const p=a[u];if(p.POSITION!==void 0){const v=t.json.accessors[p.POSITION],y=v.min,x=v.max;if(y!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(y[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(y[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(y[2]),Math.abs(x[2]))),v.normalized){const A=qT(lg[v.componentType]);l.multiplyScalar(A)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}r.boundingBox=i;const s=new Yr;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=s}function TB(r,e,t){const n=e.attributes,i=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){r.setAttribute(o,l)})}for(const s in n){const o=YT[s]||s.toLowerCase();o in r.attributes||i.push(a(n[s],o))}if(e.indices!==void 0&&!r.index){const s=t.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});i.push(s)}return zu(r,e),DY(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?EY(r,e.targets,t):r})}class BY extends PC{constructor(e){super(e),this.type=ua}parse(e){const s=function(F,N){switch(F){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},d=`
`,p=function(F,N,L){N=N||1024;let X=F.pos,Y=-1,J=0,ae="",$=String.fromCharCode.apply(null,new Uint16Array(F.subarray(X,X+128)));for(;0>(Y=$.indexOf(d))&&J<N&&X<F.byteLength;)ae+=$,J+=$.length,X+=128,$+=String.fromCharCode.apply(null,new Uint16Array(F.subarray(X,X+128)));return-1<Y?(F.pos+=J+Y+1,ae+$.slice(0,Y)):!1},v=function(F){const N=/^#\?(\S+)/,L=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,X=/^\s*FORMAT=(\S+)\s*$/,Y=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,J={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ae,$;for((F.pos>=F.byteLength||!(ae=p(F)))&&s(1,"no header found"),($=ae.match(N))||s(3,"bad initial token"),J.valid|=1,J.programtype=$[1],J.string+=ae+`
`;ae=p(F),ae!==!1;){if(J.string+=ae+`
`,ae.charAt(0)==="#"){J.comments+=ae+`
`;continue}if(($=ae.match(L))&&(J.gamma=parseFloat($[1])),($=ae.match(G))&&(J.exposure=parseFloat($[1])),($=ae.match(X))&&(J.valid|=2,J.format=$[1]),($=ae.match(Y))&&(J.valid|=4,J.height=parseInt($[1],10),J.width=parseInt($[2],10)),J.valid&2&&J.valid&4)break}return J.valid&2||s(3,"missing format specifier"),J.valid&4||s(3,"missing image size specifier"),J},y=function(F,N,L){const G=N;if(G<8||G>32767||F[0]!==2||F[1]!==2||F[2]&128)return new Uint8Array(F);G!==(F[2]<<8|F[3])&&s(3,"wrong scanline width");const X=new Uint8Array(4*N*L);X.length||s(4,"unable to allocate buffer space");let Y=0,J=0;const ae=4*G,$=new Uint8Array(4),he=new Uint8Array(ae);let le=L;for(;le>0&&J<F.byteLength;){J+4>F.byteLength&&s(1),$[0]=F[J++],$[1]=F[J++],$[2]=F[J++],$[3]=F[J++],($[0]!=2||$[1]!=2||($[2]<<8|$[3])!=G)&&s(3,"bad rgbe scanline format");let de=0,V;for(;de<ae&&J<F.byteLength;){V=F[J++];const re=V>128;if(re&&(V-=128),(V===0||de+V>ae)&&s(3,"bad scanline data"),re){const pe=F[J++];for(let Q=0;Q<V;Q++)he[de++]=pe}else he.set(F.subarray(J,J+V),de),de+=V,J+=V}const K=G;for(let re=0;re<K;re++){let pe=0;X[Y]=he[re+pe],pe+=G,X[Y+1]=he[re+pe],pe+=G,X[Y+2]=he[re+pe],pe+=G,X[Y+3]=he[re+pe],Y+=4}le--}return X},x=function(F,N,L,G){const X=F[N+3],Y=Math.pow(2,X-128)/255;L[G+0]=F[N+0]*Y,L[G+1]=F[N+1]*Y,L[G+2]=F[N+2]*Y,L[G+3]=1},A=function(F,N,L,G){const X=F[N+3],Y=Math.pow(2,X-128)/255;L[G+0]=Yh.toHalfFloat(Math.min(F[N+0]*Y,65504)),L[G+1]=Yh.toHalfFloat(Math.min(F[N+1]*Y,65504)),L[G+2]=Yh.toHalfFloat(Math.min(F[N+2]*Y,65504)),L[G+3]=Yh.toHalfFloat(1)},S=new Uint8Array(e);S.pos=0;const E=v(S),M=E.width,R=E.height,w=y(S.subarray(S.pos),M,R);let I,U,H;switch(this.type){case or:H=w.length/4;const F=new Float32Array(H*4);for(let L=0;L<H;L++)x(w,L*4,F,L*4);I=F,U=or;break;case ua:H=w.length/4;const N=new Uint16Array(H*4);for(let L=0;L<H;L++)A(w,L*4,N,L*4);I=N,U=ua;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:M,height:R,data:I,header:E.string,gamma:E.gamma,exposure:E.exposure,type:U}}setDataType(e){return this.type=e,this}load(e,t,n,i){function a(s,o){switch(s.type){case or:case ua:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Yn,s.magFilter=Yn,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,o)}return super.load(e,a,n,i)}}const gv=aw>=152;class OY extends PC{constructor(e){super(e),this.type=ua}parse(e){const N=Math.pow(2.7182818,2.2);function L(q,ie){for(var Te=0,We=0;We<65536;++We)(We==0||q[We>>3]&1<<(We&7))&&(ie[Te++]=We);for(var rt=Te-1;Te<65536;)ie[Te++]=0;return rt}function G(q){for(var ie=0;ie<16384;ie++)q[ie]={},q[ie].len=0,q[ie].lit=0,q[ie].p=null}const X={l:0,c:0,lc:0};function Y(q,ie,Te,We,rt){for(;Te<q;)ie=ie<<8|Ke(We,rt),Te+=8;Te-=q,X.l=ie>>Te&(1<<q)-1,X.c=ie,X.lc=Te}const J=new Array(59);function ae(q){for(var ie=0;ie<=58;++ie)J[ie]=0;for(var ie=0;ie<65537;++ie)J[q[ie]]+=1;for(var Te=0,ie=58;ie>0;--ie){var We=Te+J[ie]>>1;J[ie]=Te,Te=We}for(var ie=0;ie<65537;++ie){var rt=q[ie];rt>0&&(q[ie]=rt|J[rt]++<<6)}}function $(q,ie,Te,We,rt,it,At){for(var vt=Te,W=0,fe=0;rt<=it;rt++){if(vt.value-Te.value>We)return!1;Y(6,W,fe,q,vt);var xe=X.l;if(W=X.c,fe=X.lc,At[rt]=xe,xe==63){if(vt.value-Te.value>We)throw"Something wrong with hufUnpackEncTable";Y(8,W,fe,q,vt);var oe=X.l+6;if(W=X.c,fe=X.lc,rt+oe>it+1)throw"Something wrong with hufUnpackEncTable";for(;oe--;)At[rt++]=0;rt--}else if(xe>=59){var oe=xe-59+2;if(rt+oe>it+1)throw"Something wrong with hufUnpackEncTable";for(;oe--;)At[rt++]=0;rt--}}ae(At)}function he(q){return q&63}function le(q){return q>>6}function de(q,ie,Te,We){for(;ie<=Te;ie++){var rt=le(q[ie]),it=he(q[ie]);if(rt>>it)throw"Invalid table entry";if(it>14){var At=We[rt>>it-14];if(At.len)throw"Invalid table entry";if(At.lit++,At.p){var vt=At.p;At.p=new Array(At.lit);for(var W=0;W<At.lit-1;++W)At.p[W]=vt[W]}else At.p=new Array(1);At.p[At.lit-1]=ie}else if(it)for(var fe=0,W=1<<14-it;W>0;W--){var At=We[(rt<<14-it)+fe];if(At.len||At.p)throw"Invalid table entry";At.len=it,At.lit=ie,fe++}}return!0}const V={c:0,lc:0};function K(q,ie,Te,We){q=q<<8|Ke(Te,We),ie+=8,V.c=q,V.lc=ie}const re={c:0,lc:0};function pe(q,ie,Te,We,rt,it,At,vt,W,fe){if(q==ie){We<8&&(K(Te,We,rt,At),Te=V.c,We=V.lc),We-=8;var xe=Te>>We,xe=new Uint8Array([xe])[0];if(W.value+xe>fe)return!1;for(var oe=vt[W.value-1];xe-- >0;)vt[W.value++]=oe}else if(W.value<fe)vt[W.value++]=q;else return!1;re.c=Te,re.lc=We}function Q(q){return q&65535}function ce(q){var ie=Q(q);return ie>32767?ie-65536:ie}const me={a:0,b:0};function ge(q,ie){var Te=ce(q),We=ce(ie),rt=We,it=Te+(rt&1)+(rt>>1),At=it,vt=it-rt;me.a=At,me.b=vt}function be(q,ie){var Te=Q(q),We=Q(ie),rt=Te-(We>>1)&65535,it=We+rt-32768&65535;me.a=it,me.b=rt}function je(q,ie,Te,We,rt,it,At){for(var vt=At<16384,W=Te>rt?rt:Te,fe=1,xe;fe<=W;)fe<<=1;for(fe>>=1,xe=fe,fe>>=1;fe>=1;){for(var oe=0,Ce=oe+it*(rt-xe),ke=it*fe,nt=it*xe,ut=We*fe,ht=We*xe,Ot,Nt,Bt,Qt;oe<=Ce;oe+=nt){for(var Ht=oe,Sn=oe+We*(Te-xe);Ht<=Sn;Ht+=ht){var Vt=Ht+ut,zt=Ht+ke,Ft=zt+ut;vt?(ge(q[Ht+ie],q[zt+ie]),Ot=me.a,Bt=me.b,ge(q[Vt+ie],q[Ft+ie]),Nt=me.a,Qt=me.b,ge(Ot,Nt),q[Ht+ie]=me.a,q[Vt+ie]=me.b,ge(Bt,Qt),q[zt+ie]=me.a,q[Ft+ie]=me.b):(be(q[Ht+ie],q[zt+ie]),Ot=me.a,Bt=me.b,be(q[Vt+ie],q[Ft+ie]),Nt=me.a,Qt=me.b,be(Ot,Nt),q[Ht+ie]=me.a,q[Vt+ie]=me.b,be(Bt,Qt),q[zt+ie]=me.a,q[Ft+ie]=me.b)}if(Te&fe){var zt=Ht+ke;vt?ge(q[Ht+ie],q[zt+ie]):be(q[Ht+ie],q[zt+ie]),Ot=me.a,q[zt+ie]=me.b,q[Ht+ie]=Ot}}if(rt&fe)for(var Ht=oe,Sn=oe+We*(Te-xe);Ht<=Sn;Ht+=ht){var Vt=Ht+ut;vt?ge(q[Ht+ie],q[Vt+ie]):be(q[Ht+ie],q[Vt+ie]),Ot=me.a,q[Vt+ie]=me.b,q[Ht+ie]=Ot}xe=fe,fe>>=1}return oe}function ze(q,ie,Te,We,rt,it,At,vt,W,fe){for(var xe=0,oe=0,Ce=vt,ke=Math.trunc(rt.value+(it+7)/8);rt.value<ke;)for(K(xe,oe,Te,rt),xe=V.c,oe=V.lc;oe>=14;){var nt=xe>>oe-14&16383,ut=ie[nt];if(ut.len)oe-=ut.len,pe(ut.lit,At,xe,oe,Te,We,rt,W,fe,Ce),xe=re.c,oe=re.lc;else{if(!ut.p)throw"hufDecode issues";var ht;for(ht=0;ht<ut.lit;ht++){for(var Ot=he(q[ut.p[ht]]);oe<Ot&&rt.value<ke;)K(xe,oe,Te,rt),xe=V.c,oe=V.lc;if(oe>=Ot&&le(q[ut.p[ht]])==(xe>>oe-Ot&(1<<Ot)-1)){oe-=Ot,pe(ut.p[ht],At,xe,oe,Te,We,rt,W,fe,Ce),xe=re.c,oe=re.lc;break}}if(ht==ut.lit)throw"hufDecode issues"}}var Nt=8-it&7;for(xe>>=Nt,oe-=Nt;oe>0;){var ut=ie[xe<<14-oe&16383];if(ut.len)oe-=ut.len,pe(ut.lit,At,xe,oe,Te,We,rt,W,fe,Ce),xe=re.c,oe=re.lc;else throw"hufDecode issues"}return!0}function Ie(q,ie,Te,We,rt,it){var At={value:0},vt=Te.value,W=tt(ie,Te),fe=tt(ie,Te);Te.value+=4;var xe=tt(ie,Te);if(Te.value+=4,W<0||W>=65537||fe<0||fe>=65537)throw"Something wrong with HUF_ENCSIZE";var oe=new Array(65537),Ce=new Array(16384);G(Ce);var ke=We-(Te.value-vt);if($(q,ie,Te,ke,W,fe,oe),xe>8*(We-(Te.value-vt)))throw"Something wrong with hufUncompress";de(oe,W,fe,Ce),ze(oe,Ce,q,ie,Te,xe,fe,it,rt,At)}function ye(q,ie,Te){for(var We=0;We<Te;++We)ie[We]=q[ie[We]]}function we(q){for(var ie=1;ie<q.length;ie++){var Te=q[ie-1]+q[ie]-128;q[ie]=Te}}function ee(q,ie){for(var Te=0,We=Math.floor((q.length+1)/2),rt=0,it=q.length-1;!(rt>it||(ie[rt++]=q[Te++],rt>it));)ie[rt++]=q[We++]}function Je(q){for(var ie=q.byteLength,Te=new Array,We=0,rt=new DataView(q);ie>0;){var it=rt.getInt8(We++);if(it<0){var At=-it;ie-=At+1;for(var vt=0;vt<At;vt++)Te.push(rt.getUint8(We++))}else{var At=it;ie-=2;for(var W=rt.getUint8(We++),vt=0;vt<At+1;vt++)Te.push(W)}}return Te}function Ne(q,ie,Te,We,rt,it){var Vt=new DataView(it.buffer),At=Te[q.idx[0]].width,vt=Te[q.idx[0]].height,W=3,fe=Math.floor(At/8),xe=Math.ceil(At/8),oe=Math.ceil(vt/8),Ce=At-(xe-1)*8,ke=vt-(oe-1)*8,nt={value:0},ut=new Array(W),ht=new Array(W),Ot=new Array(W),Nt=new Array(W),Bt=new Array(W);for(let un=0;un<W;++un)Bt[un]=ie[q.idx[un]],ut[un]=un<1?0:ut[un-1]+xe*oe,ht[un]=new Float32Array(64),Ot[un]=new Uint16Array(64),Nt[un]=new Uint16Array(xe*64);for(let un=0;un<oe;++un){var Qt=8;un==oe-1&&(Qt=ke);var Ht=8;for(let dn=0;dn<xe;++dn){dn==xe-1&&(Ht=Ce);for(let Yt=0;Yt<W;++Yt)Ot[Yt].fill(0),Ot[Yt][0]=rt[ut[Yt]++],Xe(nt,We,Ot[Yt]),Be(Ot[Yt],ht[Yt]),st(ht[Yt]);Ge(ht);for(let Yt=0;Yt<W;++Yt)Z(ht[Yt],Nt[Yt],dn*64)}let Xn=0;for(let dn=0;dn<W;++dn){const Yt=Te[q.idx[dn]].type;for(let hn=8*un;hn<8*un+Qt;++hn){Xn=Bt[dn][hn];for(let si=0;si<fe;++si){const On=si*64+(hn&7)*8;Vt.setUint16(Xn+0*2*Yt,Nt[dn][On+0],!0),Vt.setUint16(Xn+1*2*Yt,Nt[dn][On+1],!0),Vt.setUint16(Xn+2*2*Yt,Nt[dn][On+2],!0),Vt.setUint16(Xn+3*2*Yt,Nt[dn][On+3],!0),Vt.setUint16(Xn+4*2*Yt,Nt[dn][On+4],!0),Vt.setUint16(Xn+5*2*Yt,Nt[dn][On+5],!0),Vt.setUint16(Xn+6*2*Yt,Nt[dn][On+6],!0),Vt.setUint16(Xn+7*2*Yt,Nt[dn][On+7],!0),Xn+=8*2*Yt}}if(fe!=xe)for(let hn=8*un;hn<8*un+Qt;++hn){const si=Bt[dn][hn]+8*fe*2*Yt,On=fe*64+(hn&7)*8;for(let Wn=0;Wn<Ht;++Wn)Vt.setUint16(si+Wn*2*Yt,Nt[dn][On+Wn],!0)}}}for(var Sn=new Uint16Array(At),Vt=new DataView(it.buffer),zt=0;zt<W;++zt){Te[q.idx[zt]].decoded=!0;var Ft=Te[q.idx[zt]].type;if(Te[zt].type==2)for(var ii=0;ii<vt;++ii){const un=Bt[zt][ii];for(var Zt=0;Zt<At;++Zt)Sn[Zt]=Vt.getUint16(un+Zt*2*Ft,!0);for(var Zt=0;Zt<At;++Zt)Vt.setFloat32(un+Zt*2*Ft,De(Sn[Zt]),!0)}}}function Xe(q,ie,Te){for(var We,rt=1;rt<64;)We=ie[q.value],We==65280?rt=64:We>>8==255?rt+=We&255:(Te[rt]=We,rt++),q.value++}function Be(q,ie){ie[0]=De(q[0]),ie[1]=De(q[1]),ie[2]=De(q[5]),ie[3]=De(q[6]),ie[4]=De(q[14]),ie[5]=De(q[15]),ie[6]=De(q[27]),ie[7]=De(q[28]),ie[8]=De(q[2]),ie[9]=De(q[4]),ie[10]=De(q[7]),ie[11]=De(q[13]),ie[12]=De(q[16]),ie[13]=De(q[26]),ie[14]=De(q[29]),ie[15]=De(q[42]),ie[16]=De(q[3]),ie[17]=De(q[8]),ie[18]=De(q[12]),ie[19]=De(q[17]),ie[20]=De(q[25]),ie[21]=De(q[30]),ie[22]=De(q[41]),ie[23]=De(q[43]),ie[24]=De(q[9]),ie[25]=De(q[11]),ie[26]=De(q[18]),ie[27]=De(q[24]),ie[28]=De(q[31]),ie[29]=De(q[40]),ie[30]=De(q[44]),ie[31]=De(q[53]),ie[32]=De(q[10]),ie[33]=De(q[19]),ie[34]=De(q[23]),ie[35]=De(q[32]),ie[36]=De(q[39]),ie[37]=De(q[45]),ie[38]=De(q[52]),ie[39]=De(q[54]),ie[40]=De(q[20]),ie[41]=De(q[22]),ie[42]=De(q[33]),ie[43]=De(q[38]),ie[44]=De(q[46]),ie[45]=De(q[51]),ie[46]=De(q[55]),ie[47]=De(q[60]),ie[48]=De(q[21]),ie[49]=De(q[34]),ie[50]=De(q[37]),ie[51]=De(q[47]),ie[52]=De(q[50]),ie[53]=De(q[56]),ie[54]=De(q[59]),ie[55]=De(q[61]),ie[56]=De(q[35]),ie[57]=De(q[36]),ie[58]=De(q[48]),ie[59]=De(q[49]),ie[60]=De(q[57]),ie[61]=De(q[58]),ie[62]=De(q[62]),ie[63]=De(q[63])}function st(q){const ie=.5*Math.cos(.7853975),Te=.5*Math.cos(3.14159/16),We=.5*Math.cos(3.14159/8),rt=.5*Math.cos(3*3.14159/16),it=.5*Math.cos(5*3.14159/16),At=.5*Math.cos(3*3.14159/8),vt=.5*Math.cos(7*3.14159/16);for(var W=new Array(4),fe=new Array(4),xe=new Array(4),oe=new Array(4),Ce=0;Ce<8;++Ce){var ke=Ce*8;W[0]=We*q[ke+2],W[1]=At*q[ke+2],W[2]=We*q[ke+6],W[3]=At*q[ke+6],fe[0]=Te*q[ke+1]+rt*q[ke+3]+it*q[ke+5]+vt*q[ke+7],fe[1]=rt*q[ke+1]-vt*q[ke+3]-Te*q[ke+5]-it*q[ke+7],fe[2]=it*q[ke+1]-Te*q[ke+3]+vt*q[ke+5]+rt*q[ke+7],fe[3]=vt*q[ke+1]-it*q[ke+3]+rt*q[ke+5]-Te*q[ke+7],xe[0]=ie*(q[ke+0]+q[ke+4]),xe[3]=ie*(q[ke+0]-q[ke+4]),xe[1]=W[0]+W[3],xe[2]=W[1]-W[2],oe[0]=xe[0]+xe[1],oe[1]=xe[3]+xe[2],oe[2]=xe[3]-xe[2],oe[3]=xe[0]-xe[1],q[ke+0]=oe[0]+fe[0],q[ke+1]=oe[1]+fe[1],q[ke+2]=oe[2]+fe[2],q[ke+3]=oe[3]+fe[3],q[ke+4]=oe[3]-fe[3],q[ke+5]=oe[2]-fe[2],q[ke+6]=oe[1]-fe[1],q[ke+7]=oe[0]-fe[0]}for(var nt=0;nt<8;++nt)W[0]=We*q[16+nt],W[1]=At*q[16+nt],W[2]=We*q[48+nt],W[3]=At*q[48+nt],fe[0]=Te*q[8+nt]+rt*q[24+nt]+it*q[40+nt]+vt*q[56+nt],fe[1]=rt*q[8+nt]-vt*q[24+nt]-Te*q[40+nt]-it*q[56+nt],fe[2]=it*q[8+nt]-Te*q[24+nt]+vt*q[40+nt]+rt*q[56+nt],fe[3]=vt*q[8+nt]-it*q[24+nt]+rt*q[40+nt]-Te*q[56+nt],xe[0]=ie*(q[nt]+q[32+nt]),xe[3]=ie*(q[nt]-q[32+nt]),xe[1]=W[0]+W[3],xe[2]=W[1]-W[2],oe[0]=xe[0]+xe[1],oe[1]=xe[3]+xe[2],oe[2]=xe[3]-xe[2],oe[3]=xe[0]-xe[1],q[0+nt]=oe[0]+fe[0],q[8+nt]=oe[1]+fe[1],q[16+nt]=oe[2]+fe[2],q[24+nt]=oe[3]+fe[3],q[32+nt]=oe[3]-fe[3],q[40+nt]=oe[2]-fe[2],q[48+nt]=oe[1]-fe[1],q[56+nt]=oe[0]-fe[0]}function Ge(q){for(var ie=0;ie<64;++ie){var Te=q[0][ie],We=q[1][ie],rt=q[2][ie];q[0][ie]=Te+1.5747*rt,q[1][ie]=Te-.1873*We-.4682*rt,q[2][ie]=Te+1.8556*We}}function Z(q,ie,Te){for(var We=0;We<64;++We)ie[Te+We]=Yh.toHalfFloat(j(q[We]))}function j(q){return q<=1?Math.sign(q)*Math.pow(Math.abs(q),2.2):Math.sign(q)*Math.pow(N,Math.abs(q)-1)}function se(q){return new DataView(q.array.buffer,q.offset.value,q.size)}function ve(q){var ie=q.viewer.buffer.slice(q.offset.value,q.offset.value+q.size),Te=new Uint8Array(Je(ie)),We=new Uint8Array(Te.length);return we(Te),ee(Te,We),new DataView(We.buffer)}function Me(q){var ie=q.array.slice(q.offset.value,q.offset.value+q.size),Te=yx(ie),We=new Uint8Array(Te.length);return we(Te),ee(Te,We),new DataView(We.buffer)}function Le(q){for(var ie=q.viewer,Te={value:q.offset.value},We=new Uint16Array(q.width*q.scanlineBlockSize*(q.channels*q.type)),rt=new Uint8Array(8192),it=0,At=new Array(q.channels),vt=0;vt<q.channels;vt++)At[vt]={},At[vt].start=it,At[vt].end=At[vt].start,At[vt].nx=q.width,At[vt].ny=q.lines,At[vt].size=q.type,it+=At[vt].nx*At[vt].ny*At[vt].size;var W=Pe(ie,Te),fe=Pe(ie,Te);if(fe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(W<=fe)for(var vt=0;vt<fe-W+1;vt++)rt[vt+W]=wt(ie,Te);var xe=new Uint16Array(65536),oe=L(rt,xe),Ce=tt(ie,Te);Ie(q.array,ie,Te,Ce,We,it);for(var vt=0;vt<q.channels;++vt)for(var ke=At[vt],nt=0;nt<At[vt].size;++nt)je(We,ke.start+nt,ke.nx,ke.size,ke.ny,ke.nx*ke.size,oe);ye(xe,We,it);for(var ut=0,ht=new Uint8Array(We.buffer.byteLength),Ot=0;Ot<q.lines;Ot++)for(var Nt=0;Nt<q.channels;Nt++){var ke=At[Nt],Bt=ke.nx*ke.size,Qt=new Uint8Array(We.buffer,ke.end*2,Bt*2);ht.set(Qt,ut),ut+=Bt*2,ke.end+=Bt}return new DataView(ht.buffer)}function Ye(q){var ie=q.array.slice(q.offset.value,q.offset.value+q.size),Te=yx(ie);const We=q.lines*q.channels*q.width,rt=q.type==1?new Uint16Array(We):new Uint32Array(We);let it=0,At=0;const vt=new Array(4);for(let W=0;W<q.lines;W++)for(let fe=0;fe<q.channels;fe++){let xe=0;switch(q.type){case 1:vt[0]=it,vt[1]=vt[0]+q.width,it=vt[1]+q.width;for(let oe=0;oe<q.width;++oe){const Ce=Te[vt[0]++]<<8|Te[vt[1]++];xe+=Ce,rt[At]=xe,At++}break;case 2:vt[0]=it,vt[1]=vt[0]+q.width,vt[2]=vt[1]+q.width,it=vt[2]+q.width;for(let oe=0;oe<q.width;++oe){const Ce=Te[vt[0]++]<<24|Te[vt[1]++]<<16|Te[vt[2]++]<<8;xe+=Ce,rt[At]=xe,At++}break}}return new DataView(rt.buffer)}function et(q){var ie=q.viewer,Te={value:q.offset.value},We=new Uint8Array(q.width*q.lines*(q.channels*q.type*2)),rt={version:xt(ie,Te),unknownUncompressedSize:xt(ie,Te),unknownCompressedSize:xt(ie,Te),acCompressedSize:xt(ie,Te),dcCompressedSize:xt(ie,Te),rleCompressedSize:xt(ie,Te),rleUncompressedSize:xt(ie,Te),rleRawSize:xt(ie,Te),totalAcUncompressedCount:xt(ie,Te),totalDcUncompressedCount:xt(ie,Te),acCompression:xt(ie,Te)};if(rt.version<2)throw"EXRLoader.parse: "+Ti.compression+" version "+rt.version+" is unsupported";for(var it=new Array,At=Pe(ie,Te)-2;At>0;){var vt=at(ie.buffer,Te),W=wt(ie,Te),fe=W>>2&3,xe=(W>>4)-1,oe=new Int8Array([xe])[0],Ce=wt(ie,Te);it.push({name:vt,index:oe,type:Ce,compression:fe}),At-=vt.length+3}for(var ke=Ti.channels,nt=new Array(q.channels),ut=0;ut<q.channels;++ut){var ht=nt[ut]={},Ot=ke[ut];ht.name=Ot.name,ht.compression=0,ht.decoded=!1,ht.type=Ot.pixelType,ht.pLinear=Ot.pLinear,ht.width=q.width,ht.height=q.lines}for(var Nt={idx:new Array(3)},Bt=0;Bt<q.channels;++Bt)for(var ht=nt[Bt],ut=0;ut<it.length;++ut){var Qt=it[ut];ht.name==Qt.name&&(ht.compression=Qt.compression,Qt.index>=0&&(Nt.idx[Qt.index]=Bt),ht.offset=Bt)}if(rt.acCompressedSize>0)switch(rt.acCompression){case 0:var Vt=new Uint16Array(rt.totalAcUncompressedCount);Ie(q.array,ie,Te,rt.acCompressedSize,Vt,rt.totalAcUncompressedCount);break;case 1:var Ht=q.array.slice(Te.value,Te.value+rt.totalAcUncompressedCount),Sn=yx(Ht),Vt=new Uint16Array(Sn.buffer);Te.value+=rt.totalAcUncompressedCount;break}if(rt.dcCompressedSize>0){var zt={array:q.array,offset:Te,size:rt.dcCompressedSize},Ft=new Uint16Array(Me(zt).buffer);Te.value+=rt.dcCompressedSize}if(rt.rleRawSize>0){var Ht=q.array.slice(Te.value,Te.value+rt.rleCompressedSize),Sn=yx(Ht),ii=Je(Sn.buffer);Te.value+=rt.rleCompressedSize}for(var Zt=0,un=new Array(nt.length),ut=0;ut<un.length;++ut)un[ut]=new Array;for(var Xn=0;Xn<q.lines;++Xn)for(var dn=0;dn<nt.length;++dn)un[dn].push(Zt),Zt+=nt[dn].width*q.type*2;Ne(Nt,un,nt,Vt,Ft,We);for(var ut=0;ut<nt.length;++ut){var ht=nt[ut];if(!ht.decoded)switch(ht.compression){case 2:for(var Yt=0,hn=0,Xn=0;Xn<q.lines;++Xn){for(var si=un[ut][Yt],On=0;On<ht.width;++On){for(var Wn=0;Wn<2*ht.type;++Wn)We[si++]=ii[hn+Wn*ht.width*ht.height];hn++}Yt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(We.buffer)}function at(q,ie){for(var Te=new Uint8Array(q),We=0;Te[ie.value+We]!=0;)We+=1;var rt=new TextDecoder().decode(Te.slice(ie.value,ie.value+We));return ie.value=ie.value+We+1,rt}function Ct(q,ie,Te){var We=new TextDecoder().decode(new Uint8Array(q).slice(ie.value,ie.value+Te));return ie.value=ie.value+Te,We}function ot(q,ie){var Te=Ze(q,ie),We=tt(q,ie);return[Te,We]}function _t(q,ie){var Te=tt(q,ie),We=tt(q,ie);return[Te,We]}function Ze(q,ie){var Te=q.getInt32(ie.value,!0);return ie.value=ie.value+4,Te}function tt(q,ie){var Te=q.getUint32(ie.value,!0);return ie.value=ie.value+4,Te}function Ke(q,ie){var Te=q[ie.value];return ie.value=ie.value+1,Te}function wt(q,ie){var Te=q.getUint8(ie.value);return ie.value=ie.value+1,Te}const xt=function(q,ie){let Te;return"getBigInt64"in DataView.prototype?Te=Number(q.getBigInt64(ie.value,!0)):Te=q.getUint32(ie.value+4,!0)+Number(q.getUint32(ie.value,!0)<<32),ie.value+=8,Te};function It(q,ie){var Te=q.getFloat32(ie.value,!0);return ie.value+=4,Te}function Ee(q,ie){return Yh.toHalfFloat(It(q,ie))}function De(q){var ie=(q&31744)>>10,Te=q&1023;return(q>>15?-1:1)*(ie?ie===31?Te?NaN:1/0:Math.pow(2,ie-15)*(1+Te/1024):6103515625e-14*(Te/1024))}function Pe(q,ie){var Te=q.getUint16(ie.value,!0);return ie.value+=2,Te}function lt(q,ie){return De(Pe(q,ie))}function gt(q,ie,Te,We){for(var rt=Te.value,it=[];Te.value<rt+We-1;){var At=at(ie,Te),vt=Ze(q,Te),W=wt(q,Te);Te.value+=3;var fe=Ze(q,Te),xe=Ze(q,Te);it.push({name:At,pixelType:vt,pLinear:W,xSampling:fe,ySampling:xe})}return Te.value+=1,it}function pt(q,ie){var Te=It(q,ie),We=It(q,ie),rt=It(q,ie),it=It(q,ie),At=It(q,ie),vt=It(q,ie),W=It(q,ie),fe=It(q,ie);return{redX:Te,redY:We,greenX:rt,greenY:it,blueX:At,blueY:vt,whiteX:W,whiteY:fe}}function Pt(q,ie){var Te=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],We=wt(q,ie);return Te[We]}function tn(q,ie){var Te=tt(q,ie),We=tt(q,ie),rt=tt(q,ie),it=tt(q,ie);return{xMin:Te,yMin:We,xMax:rt,yMax:it}}function Gt(q,ie){var Te=["INCREASING_Y"],We=wt(q,ie);return Te[We]}function Xt(q,ie){var Te=It(q,ie),We=It(q,ie);return[Te,We]}function jn(q,ie){var Te=It(q,ie),We=It(q,ie),rt=It(q,ie);return[Te,We,rt]}function zn(q,ie,Te,We,rt){if(We==="string"||We==="stringvector"||We==="iccProfile")return Ct(ie,Te,rt);if(We==="chlist")return gt(q,ie,Te,rt);if(We==="chromaticities")return pt(q,Te);if(We==="compression")return Pt(q,Te);if(We==="box2i")return tn(q,Te);if(We==="lineOrder")return Gt(q,Te);if(We==="float")return It(q,Te);if(We==="v2f")return Xt(q,Te);if(We==="v3f")return jn(q,Te);if(We==="int")return Ze(q,Te);if(We==="rational")return ot(q,Te);if(We==="timecode")return _t(q,Te);if(We==="preview")return Te.value+=rt,"skipped";Te.value+=rt}function hi(q,ie,Te){const We={};if(q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";We.version=q.getUint8(4);const rt=q.getUint8(5);We.spec={singleTile:!!(rt&2),longName:!!(rt&4),deepFormat:!!(rt&8),multiPart:!!(rt&16)},Te.value=8;for(var it=!0;it;){var At=at(ie,Te);if(At==0)it=!1;else{var vt=at(ie,Te),W=tt(q,Te),fe=zn(q,ie,Te,vt,W);fe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${vt}'.`):We[At]=fe}}if((rt&-5)!=0)throw console.error("EXRHeader:",We),"THREE.EXRLoader: provided file is currently unsupported.";return We}function ji(q,ie,Te,We,rt){const it={size:0,viewer:ie,array:Te,offset:We,width:q.dataWindow.xMax-q.dataWindow.xMin+1,height:q.dataWindow.yMax-q.dataWindow.yMin+1,channels:q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:q.channels[0].pixelType,uncompress:null,getter:null,format:null,[gv?"colorSpace":"encoding"]:null};switch(q.compression){case"NO_COMPRESSION":it.lines=1,it.uncompress=se;break;case"RLE_COMPRESSION":it.lines=1,it.uncompress=ve;break;case"ZIPS_COMPRESSION":it.lines=1,it.uncompress=Me;break;case"ZIP_COMPRESSION":it.lines=16,it.uncompress=Me;break;case"PIZ_COMPRESSION":it.lines=32,it.uncompress=Le;break;case"PXR24_COMPRESSION":it.lines=16,it.uncompress=Ye;break;case"DWAA_COMPRESSION":it.lines=32,it.uncompress=et;break;case"DWAB_COMPRESSION":it.lines=256,it.uncompress=et;break;default:throw"EXRLoader.parse: "+q.compression+" is unsupported"}if(it.scanlineBlockSize=it.lines,it.type==1)switch(rt){case or:it.getter=lt,it.inputSize=2;break;case ua:it.getter=Pe,it.inputSize=2;break}else if(it.type==2)switch(rt){case or:it.getter=It,it.inputSize=4;break;case ua:it.getter=Ee,it.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+it.type+" for "+q.compression+".";it.blockCount=(q.dataWindow.yMax+1)/it.scanlineBlockSize;for(var At=0;At<it.blockCount;At++)xt(ie,We);it.outputChannels=it.channels==3?4:it.channels;const vt=it.width*it.height*it.outputChannels;switch(rt){case or:it.byteArray=new Float32Array(vt),it.channels<it.outputChannels&&it.byteArray.fill(1,0,vt);break;case ua:it.byteArray=new Uint16Array(vt),it.channels<it.outputChannels&&it.byteArray.fill(15360,0,vt);break;default:console.error("THREE.EXRLoader: unsupported type: ",rt);break}return it.bytesPerLine=it.width*it.inputSize*it.channels,it.outputChannels==4?it.format=Dr:it.format=By,gv?it.colorSpace="srgb-linear":it.encoding=3e3,it}const vi=new DataView(e),Ei=new Uint8Array(e),Xi={value:0},Ti=hi(vi,e,Xi),kt=ji(Ti,vi,Ei,Xi,this.type),bn={value:0},sn={R:0,G:1,B:2,A:3,Y:0};for(let q=0;q<kt.height/kt.scanlineBlockSize;q++){const ie=tt(vi,Xi);kt.size=tt(vi,Xi),kt.lines=ie+kt.scanlineBlockSize>kt.height?kt.height-ie:kt.scanlineBlockSize;const We=kt.size<kt.lines*kt.bytesPerLine?kt.uncompress(kt):se(kt);Xi.value+=kt.size;for(let rt=0;rt<kt.scanlineBlockSize;rt++){const it=rt+q*kt.scanlineBlockSize;if(it>=kt.height)break;for(let At=0;At<kt.channels;At++){const vt=sn[Ti.channels[At].name];for(let W=0;W<kt.width;W++){bn.value=(rt*(kt.channels*kt.width)+At*kt.width+W)*kt.inputSize;const fe=(kt.height-1-it)*(kt.width*kt.outputChannels)+W*kt.outputChannels+vt;kt.byteArray[fe]=kt.getter(We,bn)}}}}return{header:Ti,width:kt.width,height:kt.height,data:kt.byteArray,format:kt.format,[gv?"colorSpace":"encoding"]:kt[gv?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,i){function a(s,o){gv?s.colorSpace=o.colorSpace:s.encoding=o.encoding,s.minFilter=Yn,s.magFilter=Yn,s.generateMipmaps=!1,s.flipY=!1,t&&t(s,o)}return super.load(e,a,n,i)}}const EE=new WeakMap;let NY=class extends Jr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const a=new Br(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const n=JSON.stringify(t);if(EE.has(e)){const l=EE.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[a]={resolve:u,reject:d},i.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&a&&this._releaseTask(i,a)}),EE.set(e,{key:n,promise:o}),o}_createGeometry(e){const t=new vn;e.index&&t.setIndex(new Hn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],a=i.name,s=i.array,o=i.itemSize;t.setAttribute(a,new Hn(s,o))}return t}_loadLibrary(e,t){const n=new Br(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,a)=>{n.load(e,i,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const a=UY.toString(),s=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(a){const s=a.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,a){return i._taskLoad>a._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}};function UY(){let r,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":r=o.decoderConfig,e=new Promise(function(d){r.onModuleLoaded=function(p){d({draco:p})},DracoDecoderModule(r)});break;case"decode":const l=o.buffer,u=o.taskConfig;e.then(d=>{const p=d.draco,v=new p.Decoder,y=new p.DecoderBuffer;y.Init(new Int8Array(l),l.byteLength);try{const x=t(p,v,y,u),A=x.attributes.map(S=>S.array.buffer);x.index&&A.push(x.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:x},A)}catch(x){console.error(x),self.postMessage({type:"error",id:o.id,error:x.message})}finally{p.destroy(y),p.destroy(v)}});break}};function t(s,o,l,u){const d=u.attributeIDs,p=u.attributeTypes;let v,y;const x=o.GetEncodedGeometryType(l);if(x===s.TRIANGULAR_MESH)v=new s.Mesh,y=o.DecodeBufferToMesh(l,v);else if(x===s.POINT_CLOUD)v=new s.PointCloud,y=o.DecodeBufferToPointCloud(l,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const A={index:null,attributes:[]};for(const S in d){const E=self[p[S]];let M,R;if(u.useUniqueIDs)R=d[S],M=o.GetAttributeByUniqueId(v,R);else{if(R=o.GetAttributeId(v,s[d[S]]),R===-1)continue;M=o.GetAttribute(v,R)}A.attributes.push(i(s,o,v,S,E,M))}return x===s.TRIANGULAR_MESH&&(A.index=n(s,o,v)),s.destroy(v),A}function n(s,o,l){const d=l.num_faces()*3,p=d*4,v=s._malloc(p);o.GetTrianglesUInt32Array(l,p,v);const y=new Uint32Array(s.HEAPF32.buffer,v,d).slice();return s._free(v),{array:y,itemSize:1}}function i(s,o,l,u,d,p){const v=p.num_components(),x=l.num_points()*v,A=x*d.BYTES_PER_ELEMENT,S=a(s,d),E=s._malloc(A);o.GetAttributeDataArrayForAllPoints(l,p,S,A,E);const M=new d(s.HEAPF32.buffer,E,x).slice();return s._free(E),{name:u,array:M,itemSize:v}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let _x;const TE=()=>{if(_x)return _x;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=r;WebAssembly.validate(t)&&(i=e);let a;const s=WebAssembly.instantiate(o(i),{}).then(p=>{a=p.instance,a.exports.__wasm_call_ctors()});function o(p){const v=new Uint8Array(p.length);for(let x=0;x<p.length;++x){const A=p.charCodeAt(x);v[x]=A>96?A-71:A>64?A-65:A>47?A+4:A>46?63:62}let y=0;for(let x=0;x<p.length;++x)v[y++]=v[x]<60?n[v[x]]:(v[x]-60)*64+v[++x];return v.buffer.slice(0,y)}function l(p,v,y,x,A,S){const E=a.exports.sbrk,M=y+3&-4,R=E(M*x),w=E(A.length),I=new Uint8Array(a.exports.memory.buffer);I.set(A,w);const U=p(R,y,x,w,A.length);if(U===0&&S&&S(R,M,x),v.set(I.subarray(R,R+y*x)),E(R-E(0)),U!==0)throw new Error(`Malformed buffer data: ${U}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _x={ready:s,supported:!0,decodeVertexBuffer(p,v,y,x,A){l(a.exports.meshopt_decodeVertexBuffer,p,v,y,x,a.exports[u[A]])},decodeIndexBuffer(p,v,y,x){l(a.exports.meshopt_decodeIndexBuffer,p,v,y,x)},decodeIndexSequence(p,v,y,x){l(a.exports.meshopt_decodeIndexSequence,p,v,y,x)},decodeGltfBuffer(p,v,y,x,A,S){l(a.exports[d[A]],p,v,y,x,a.exports[u[S]])}},_x};function LY(){var r=Object.create(null);function e(i,a){var s=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!r[s])try{l=l.map(function(v){return v&&v.isWorkerModule&&(e(v,function(y){if(y instanceof Error)throw y}),v=r[v.id].value),v}),u=n("<"+o+">.init",u),d&&(d=n("<"+o+">.getTransferables",d));var p=null;typeof u=="function"?p=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),r[s]={id:s,value:p,getTransferables:d},a(p)}catch(v){v&&v.noLog||console.error(v),a(v)}}function t(i,a){var s,o=i.id,l=i.args;(!r[o]||typeof r[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var u=(s=r[o]).value.apply(s,l);u&&typeof u.then=="function"?u.then(d,function(p){return a(p instanceof Error?p:new Error(""+p))}):d(u)}catch(p){a(p)}function d(p){try{var v=r[o].getTransferables&&r[o].getTransferables(p);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),a(p,v)}catch(y){console.error(y),a(y)}}}function n(i,a){var s=void 0;self.troikaDefine=function(l){return s=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,l=a.data;try{o==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof u=="function"}})}),o==="callModule"&&t(l,function(u,d){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:u},d||void 0)})}catch(u){postMessage({messageId:s,success:!1,error:u.stack})}})}function IY(r){var e=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=r.dependencies,n=r.init;t=Array.isArray(t)?t.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(t).then(function(a){return n.apply(null,a)});return e._getInitResult=function(){return i},i},e}var QI=function(){var r=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),r=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return QI=function(){return r},r},PY=0,FY=0,ME=!1,Vv=Object.create(null),jv=Object.create(null),KT=Object.create(null);function Hg(r){if((!r||typeof r.init!="function")&&!ME)throw new Error("requires `options.init` function");var e=r.dependencies,t=r.init,n=r.getTransferables,i=r.workerId,a=IY(r);i==null&&(i="#default");var s="workerModule"+ ++PY,o=r.name||s,l=null;e=e&&e.map(function(d){return typeof d=="function"&&!d.workerModuleData&&(ME=!0,d=Hg({workerId:i,name:"<"+o+"> function dependency: "+d.name,init:`function(){return (
`+Gx(d)+`
)}`}),ME=!1),d&&d.workerModuleData&&(d=d.workerModuleData),d});function u(){for(var d=[],p=arguments.length;p--;)d[p]=arguments[p];if(!QI())return a.apply(void 0,d);if(!l){l=MB(i,"registerModule",u.workerModuleData);var v=function(){l=null,jv[i].delete(v)};(jv[i]||(jv[i]=new Set)).add(v)}return l.then(function(y){var x=y.isCallable;if(x)return MB(i,"callModule",{id:s,args:d});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Gx(t),getTransferables:n&&Gx(n)},u.onMainThread=a,u}function HY(r){jv[r]&&jv[r].forEach(function(e){e()}),Vv[r]&&(Vv[r].terminate(),delete Vv[r])}function Gx(r){var e=r.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function zY(r){var e=Vv[r];if(!e){var t=Gx(LY);e=Vv[r]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+r.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(n){var i=n.data,a=i.messageId,s=KT[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete KT[a],s(i)}}return e}function MB(r,e,t){return new Promise(function(n,i){var a=++FY;KT[a]=function(s){s.success?n(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},zY(r).postMessage({messageId:a,action:e,data:t})})}function e4(){var r=function(e){function t(de,V,K,re,pe,Q,ce,me){var ge=1-ce;me.x=ge*ge*de+2*ge*ce*K+ce*ce*pe,me.y=ge*ge*V+2*ge*ce*re+ce*ce*Q}function n(de,V,K,re,pe,Q,ce,me,ge,be){var je=1-ge;be.x=je*je*je*de+3*je*je*ge*K+3*je*ge*ge*pe+ge*ge*ge*ce,be.y=je*je*je*V+3*je*je*ge*re+3*je*ge*ge*Q+ge*ge*ge*me}function i(de,V){for(var K=/([MLQCZ])([^MLQCZ]*)/g,re,pe,Q,ce,me;re=K.exec(de);){var ge=re[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(be){return parseFloat(be)});switch(re[1]){case"M":ce=pe=ge[0],me=Q=ge[1];break;case"L":(ge[0]!==ce||ge[1]!==me)&&V("L",ce,me,ce=ge[0],me=ge[1]);break;case"Q":{V("Q",ce,me,ce=ge[2],me=ge[3],ge[0],ge[1]);break}case"C":{V("C",ce,me,ce=ge[4],me=ge[5],ge[0],ge[1],ge[2],ge[3]);break}case"Z":(ce!==pe||me!==Q)&&V("L",ce,me,pe,Q);break}}}function a(de,V,K){K===void 0&&(K=16);var re={x:0,y:0};i(de,function(pe,Q,ce,me,ge,be,je,ze,Ie){switch(pe){case"L":V(Q,ce,me,ge);break;case"Q":{for(var ye=Q,we=ce,ee=1;ee<K;ee++)t(Q,ce,be,je,me,ge,ee/(K-1),re),V(ye,we,re.x,re.y),ye=re.x,we=re.y;break}case"C":{for(var Je=Q,Ne=ce,Xe=1;Xe<K;Xe++)n(Q,ce,be,je,ze,Ie,me,ge,Xe/(K-1),re),V(Je,Ne,re.x,re.y),Je=re.x,Ne=re.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(de,V){var K=de.getContext?de.getContext("webgl",u):de,re=l.get(K);if(!re){let je=function(Je){var Ne=Q[Je];if(!Ne&&(Ne=Q[Je]=K.getExtension(Je),!Ne))throw new Error(Je+" not supported");return Ne},ze=function(Je,Ne){var Xe=K.createShader(Ne);return K.shaderSource(Xe,Je),K.compileShader(Xe),Xe},Ie=function(Je,Ne,Xe,Be){if(!ce[Je]){var st={},Ge={},Z=K.createProgram();K.attachShader(Z,ze(Ne,K.VERTEX_SHADER)),K.attachShader(Z,ze(Xe,K.FRAGMENT_SHADER)),K.linkProgram(Z),ce[Je]={program:Z,transaction:function(se){K.useProgram(Z),se({setUniform:function(Me,Le){for(var Ye=[],et=arguments.length-2;et-- >0;)Ye[et]=arguments[et+2];var at=Ge[Le]||(Ge[Le]=K.getUniformLocation(Z,Le));K["uniform"+Me].apply(K,[at].concat(Ye))},setAttribute:function(Me,Le,Ye,et,at){var Ct=st[Me];Ct||(Ct=st[Me]={buf:K.createBuffer(),loc:K.getAttribLocation(Z,Me),data:null}),K.bindBuffer(K.ARRAY_BUFFER,Ct.buf),K.vertexAttribPointer(Ct.loc,Le,K.FLOAT,!1,0,0),K.enableVertexAttribArray(Ct.loc),pe?K.vertexAttribDivisor(Ct.loc,et):je("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ct.loc,et),at!==Ct.data&&(K.bufferData(K.ARRAY_BUFFER,at,Ye),Ct.data=at)}})}}}ce[Je].transaction(Be)},ye=function(Je,Ne){ge++;try{K.activeTexture(K.TEXTURE0+ge);var Xe=me[Je];Xe||(Xe=me[Je]=K.createTexture(),K.bindTexture(K.TEXTURE_2D,Xe),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST)),K.bindTexture(K.TEXTURE_2D,Xe),Ne(Xe,ge)}finally{ge--}},we=function(Je,Ne,Xe){var Be=K.createFramebuffer();be.push(Be),K.bindFramebuffer(K.FRAMEBUFFER,Be),K.activeTexture(K.TEXTURE0+Ne),K.bindTexture(K.TEXTURE_2D,Je),K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Je,0);try{Xe(Be)}finally{K.deleteFramebuffer(Be),K.bindFramebuffer(K.FRAMEBUFFER,be[--be.length-1]||null)}},ee=function(){Q={},ce={},me={},ge=-1,be.length=0};var pe=typeof WebGL2RenderingContext<"u"&&K instanceof WebGL2RenderingContext,Q={},ce={},me={},ge=-1,be=[];K.canvas.addEventListener("webglcontextlost",function(Je){ee(),Je.preventDefault()},!1),l.set(K,re={gl:K,isWebGL2:pe,getExtension:je,withProgram:Ie,withTexture:ye,withTextureFramebuffer:we,handleContextLoss:ee})}V(re)}function p(de,V,K,re,pe,Q,ce,me){ce===void 0&&(ce=15),me===void 0&&(me=null),d(de,function(ge){var be=ge.gl,je=ge.withProgram,ze=ge.withTexture;ze("copy",function(Ie,ye){be.texImage2D(be.TEXTURE_2D,0,be.RGBA,pe,Q,0,be.RGBA,be.UNSIGNED_BYTE,V),je("copy",s,o,function(we){var ee=we.setUniform,Je=we.setAttribute;Je("aUV",2,be.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ee("1i","image",ye),be.bindFramebuffer(be.FRAMEBUFFER,me||null),be.disable(be.BLEND),be.colorMask(ce&8,ce&4,ce&2,ce&1),be.viewport(K,re,pe,Q),be.scissor(K,re,pe,Q),be.drawArrays(be.TRIANGLES,0,3)})})})}function v(de,V,K){var re=de.width,pe=de.height;d(de,function(Q){var ce=Q.gl,me=new Uint8Array(re*pe*4);ce.readPixels(0,0,re,pe,ce.RGBA,ce.UNSIGNED_BYTE,me),de.width=V,de.height=K,p(ce,me,0,0,re,pe)})}var y=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:p,resizeWebGLCanvasWithoutClearing:v});function x(de,V,K,re,pe,Q){Q===void 0&&(Q=1);var ce=new Uint8Array(de*V),me=re[2]-re[0],ge=re[3]-re[1],be=[];a(K,function(Je,Ne,Xe,Be){be.push({x1:Je,y1:Ne,x2:Xe,y2:Be,minX:Math.min(Je,Xe),minY:Math.min(Ne,Be),maxX:Math.max(Je,Xe),maxY:Math.max(Ne,Be)})}),be.sort(function(Je,Ne){return Je.maxX-Ne.maxX});for(var je=0;je<de;je++)for(var ze=0;ze<V;ze++){var Ie=we(re[0]+me*(je+.5)/de,re[1]+ge*(ze+.5)/V),ye=Math.pow(1-Math.abs(Ie)/pe,Q)/2;Ie<0&&(ye=1-ye),ye=Math.max(0,Math.min(255,Math.round(ye*255))),ce[ze*de+je]=ye}return ce;function we(Je,Ne){for(var Xe=1/0,Be=1/0,st=be.length;st--;){var Ge=be[st];if(Ge.maxX+Be<=Je)break;if(Je+Be>Ge.minX&&Ne-Be<Ge.maxY&&Ne+Be>Ge.minY){var Z=E(Je,Ne,Ge.x1,Ge.y1,Ge.x2,Ge.y2);Z<Xe&&(Xe=Z,Be=Math.sqrt(Xe))}}return ee(Je,Ne)&&(Be=-Be),Be}function ee(Je,Ne){for(var Xe=0,Be=be.length;Be--;){var st=be[Be];if(st.maxX<=Je)break;var Ge=st.y1>Ne!=st.y2>Ne&&Je<(st.x2-st.x1)*(Ne-st.y1)/(st.y2-st.y1)+st.x1;Ge&&(Xe+=st.y1<st.y2?1:-1)}return Xe!==0}}function A(de,V,K,re,pe,Q,ce,me,ge,be){Q===void 0&&(Q=1),me===void 0&&(me=0),ge===void 0&&(ge=0),be===void 0&&(be=0),S(de,V,K,re,pe,Q,ce,null,me,ge,be)}function S(de,V,K,re,pe,Q,ce,me,ge,be,je){Q===void 0&&(Q=1),ge===void 0&&(ge=0),be===void 0&&(be=0),je===void 0&&(je=0);for(var ze=x(de,V,K,re,pe,Q),Ie=new Uint8Array(ze.length*4),ye=0;ye<ze.length;ye++)Ie[ye*4+je]=ze[ye];p(ce,Ie,ge,be,de,V,1<<3-je,me)}function E(de,V,K,re,pe,Q){var ce=pe-K,me=Q-re,ge=ce*ce+me*me,be=ge?Math.max(0,Math.min(1,((de-K)*ce+(V-re)*me)/ge)):0,je=de-(K+be*ce),ze=V-(re+be*me);return je*je+ze*ze}var M=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:A,generateIntoFramebuffer:S}),R="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",I="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",U=new Float32Array([0,0,2,0,0,2]),H=null,F=!1,N={},L=new WeakMap;function G(de){if(!F&&!ae(de))throw new Error("WebGL generation not supported")}function X(de,V,K,re,pe,Q,ce){if(Q===void 0&&(Q=1),ce===void 0&&(ce=null),!ce&&(ce=H,!ce)){var me=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!me)throw new Error("OffscreenCanvas or DOM canvas not supported");ce=H=me.getContext("webgl",{depth:!1})}G(ce);var ge=new Uint8Array(de*V*4);d(ce,function(Ie){var ye=Ie.gl,we=Ie.withTexture,ee=Ie.withTextureFramebuffer;we("readable",function(Je,Ne){ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,de,V,0,ye.RGBA,ye.UNSIGNED_BYTE,null),ee(Je,Ne,function(Xe){J(de,V,K,re,pe,Q,ye,Xe,0,0,0),ye.readPixels(0,0,de,V,ye.RGBA,ye.UNSIGNED_BYTE,ge)})})});for(var be=new Uint8Array(de*V),je=0,ze=0;je<ge.length;je+=4)be[ze++]=ge[je];return be}function Y(de,V,K,re,pe,Q,ce,me,ge,be){Q===void 0&&(Q=1),me===void 0&&(me=0),ge===void 0&&(ge=0),be===void 0&&(be=0),J(de,V,K,re,pe,Q,ce,null,me,ge,be)}function J(de,V,K,re,pe,Q,ce,me,ge,be,je){Q===void 0&&(Q=1),ge===void 0&&(ge=0),be===void 0&&(be=0),je===void 0&&(je=0),G(ce);var ze=[];a(K,function(Ie,ye,we,ee){ze.push(Ie,ye,we,ee)}),ze=new Float32Array(ze),d(ce,function(Ie){var ye=Ie.gl,we=Ie.isWebGL2,ee=Ie.getExtension,Je=Ie.withProgram,Ne=Ie.withTexture,Xe=Ie.withTextureFramebuffer,Be=Ie.handleContextLoss;if(Ne("rawDistances",function(st,Ge){(de!==st._lastWidth||V!==st._lastHeight)&&ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,st._lastWidth=de,st._lastHeight=V,0,ye.RGBA,ye.UNSIGNED_BYTE,null),Je("main",R,w,function(Z){var j=Z.setAttribute,se=Z.setUniform,ve=!we&&ee("ANGLE_instanced_arrays"),Me=!we&&ee("EXT_blend_minmax");j("aUV",2,ye.STATIC_DRAW,0,U),j("aLineSegment",4,ye.DYNAMIC_DRAW,1,ze),se.apply(void 0,["4f","uGlyphBounds"].concat(re)),se("1f","uMaxDistance",pe),se("1f","uExponent",Q),Xe(st,Ge,function(Le){ye.enable(ye.BLEND),ye.colorMask(!0,!0,!0,!0),ye.viewport(0,0,de,V),ye.scissor(0,0,de,V),ye.blendFunc(ye.ONE,ye.ONE),ye.blendEquationSeparate(ye.FUNC_ADD,we?ye.MAX:Me.MAX_EXT),ye.clear(ye.COLOR_BUFFER_BIT),we?ye.drawArraysInstanced(ye.TRIANGLES,0,3,ze.length/4):ve.drawArraysInstancedANGLE(ye.TRIANGLES,0,3,ze.length/4)})}),Je("post",s,I,function(Z){Z.setAttribute("aUV",2,ye.STATIC_DRAW,0,U),Z.setUniform("1i","tex",Ge),ye.bindFramebuffer(ye.FRAMEBUFFER,me),ye.disable(ye.BLEND),ye.colorMask(je===0,je===1,je===2,je===3),ye.viewport(ge,be,de,V),ye.scissor(ge,be,de,V),ye.drawArrays(ye.TRIANGLES,0,3)})}),ye.isContextLost())throw Be(),new Error("webgl context lost")})}function ae(de){var V=!de||de===H?N:de.canvas||de,K=L.get(V);if(K===void 0){F=!0;var re=null;try{var pe=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Q=X(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,de);K=Q&&pe.length===Q.length&&Q.every(function(ce,me){return ce===pe[me]}),K||(re="bad trial run results",console.info(pe,Q))}catch(ce){K=!1,re=ce.message}re&&console.warn("WebGL SDF generation not supported:",re),F=!1,L.set(V,K)}return K}var $=Object.freeze({__proto__:null,generate:X,generateIntoCanvas:Y,generateIntoFramebuffer:J,isSupported:ae});function he(de,V,K,re,pe,Q){pe===void 0&&(pe=Math.max(re[2]-re[0],re[3]-re[1])/2),Q===void 0&&(Q=1);try{return X.apply($,arguments)}catch(ce){return console.info("WebGL SDF generation failed, falling back to JS",ce),x.apply(M,arguments)}}function le(de,V,K,re,pe,Q,ce,me,ge,be){pe===void 0&&(pe=Math.max(re[2]-re[0],re[3]-re[1])/2),Q===void 0&&(Q=1),me===void 0&&(me=0),ge===void 0&&(ge=0),be===void 0&&(be=0);try{return Y.apply($,arguments)}catch(je){return console.info("WebGL SDF generation failed, falling back to JS",je),A.apply(M,arguments)}}return e.forEachPathCommand=i,e.generate=he,e.generateIntoCanvas=le,e.javascript=M,e.pathToLineSegments=a,e.webgl=$,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return r}function GY(){var r=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(t).forEach(function(Be,st){n[Be]=1<<st+1,i[n[Be]]=Be}),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,s=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,l=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,u=n.S|n.WS|n.B|a|n.PDI|l,d=null;function p(){if(!d){d=new Map;var Be=function(Ge){if(t.hasOwnProperty(Ge)){var Z=0;t[Ge].split(",").forEach(function(j){var se=j.split("+"),ve=se[0],Me=se[1];ve=parseInt(ve,36),Me=Me?parseInt(Me,36):0,d.set(Z+=ve,n[Ge]);for(var Le=0;Le<Me;Le++)d.set(++Z,n[Ge])})}};for(var st in t)Be(st)}}function v(Be){return p(),d.get(Be.codePointAt(0))||n.L}function y(Be){return i[v(Be)]}var x={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function A(Be,st){var Ge=36,Z=0,j=new Map,se=st&&new Map,ve;return Be.split(",").forEach(function Me(Le){if(Le.indexOf("+")!==-1)for(var Ye=+Le;Ye--;)Me(ve);else{ve=Le;var et=Le.split(">"),at=et[0],Ct=et[1];at=String.fromCodePoint(Z+=parseInt(at,Ge)),Ct=String.fromCodePoint(Z+=parseInt(Ct,Ge)),j.set(at,Ct),st&&se.set(Ct,at)}}),{map:j,reverseMap:se}}var S,E,M;function R(){if(!S){var Be=A(x.pairs,!0),st=Be.map,Ge=Be.reverseMap;S=st,E=Ge,M=A(x.canonical,!1).map}}function w(Be){return R(),S.get(Be)||null}function I(Be){return R(),E.get(Be)||null}function U(Be){return R(),M.get(Be)||null}var H=n.L,F=n.R,N=n.EN,L=n.ES,G=n.ET,X=n.AN,Y=n.CS,J=n.B,ae=n.S,$=n.ON,he=n.BN,le=n.NSM,de=n.AL,V=n.LRO,K=n.RLO,re=n.LRE,pe=n.RLE,Q=n.PDF,ce=n.LRI,me=n.RLI,ge=n.FSI,be=n.PDI;function je(Be,st){for(var Ge=125,Z=new Uint32Array(Be.length),j=0;j<Be.length;j++)Z[j]=v(Be[j]);var se=new Map;function ve(Vr,Ca){var ur=Z[Vr];Z[Vr]=Ca,se.set(ur,se.get(ur)-1),ur&o&&se.set(o,se.get(o)-1),se.set(Ca,(se.get(Ca)||0)+1),Ca&o&&se.set(o,(se.get(o)||0)+1)}for(var Me=new Uint8Array(Be.length),Le=new Map,Ye=[],et=null,at=0;at<Be.length;at++)et||Ye.push(et={start:at,end:Be.length-1,level:st==="rtl"?1:st==="ltr"?0:Fd(at,!1)}),Z[at]&J&&(et.end=at,et=null);for(var Ct=pe|re|K|V|a|be|Q|J,ot=function(Vr){return Vr+(Vr&1?1:2)},_t=function(Vr){return Vr+(Vr&1?2:1)},Ze=0;Ze<Ye.length;Ze++){et=Ye[Ze];var tt=[{_level:et.level,_override:0,_isolate:0}],Ke=void 0,wt=0,xt=0,It=0;se.clear();for(var Ee=et.start;Ee<=et.end;Ee++){var De=Z[Ee];if(Ke=tt[tt.length-1],se.set(De,(se.get(De)||0)+1),De&o&&se.set(o,(se.get(o)||0)+1),De&Ct)if(De&(pe|re)){Me[Ee]=Ke._level;var Pe=(De===pe?_t:ot)(Ke._level);Pe<=Ge&&!wt&&!xt?tt.push({_level:Pe,_override:0,_isolate:0}):wt||xt++}else if(De&(K|V)){Me[Ee]=Ke._level;var lt=(De===K?_t:ot)(Ke._level);lt<=Ge&&!wt&&!xt?tt.push({_level:lt,_override:De&K?F:H,_isolate:0}):wt||xt++}else if(De&a){De&ge&&(De=Fd(Ee+1,!0)===1?me:ce),Me[Ee]=Ke._level,Ke._override&&ve(Ee,Ke._override);var gt=(De===me?_t:ot)(Ke._level);gt<=Ge&&wt===0&&xt===0?(It++,tt.push({_level:gt,_override:0,_isolate:1,_isolInitIndex:Ee})):wt++}else if(De&be){if(wt>0)wt--;else if(It>0){for(xt=0;!tt[tt.length-1]._isolate;)tt.pop();var pt=tt[tt.length-1]._isolInitIndex;pt!=null&&(Le.set(pt,Ee),Le.set(Ee,pt)),tt.pop(),It--}Ke=tt[tt.length-1],Me[Ee]=Ke._level,Ke._override&&ve(Ee,Ke._override)}else De&Q?(wt===0&&(xt>0?xt--:!Ke._isolate&&tt.length>1&&(tt.pop(),Ke=tt[tt.length-1])),Me[Ee]=Ke._level):De&J&&(Me[Ee]=et.level);else Me[Ee]=Ke._level,Ke._override&&De!==he&&ve(Ee,Ke._override)}for(var Pt=[],tn=null,Gt=et.start;Gt<=et.end;Gt++){var Xt=Z[Gt];if(!(Xt&l)){var jn=Me[Gt],zn=Xt&a,hi=Xt===be;tn&&jn===tn._level?(tn._end=Gt,tn._endsWithIsolInit=zn):Pt.push(tn={_start:Gt,_end:Gt,_level:jn,_startsWithPDI:hi,_endsWithIsolInit:zn})}}for(var ji=[],vi=0;vi<Pt.length;vi++){var Ei=Pt[vi];if(!Ei._startsWithPDI||Ei._startsWithPDI&&!Le.has(Ei._start)){for(var Xi=[tn=Ei],Ti=void 0;tn&&tn._endsWithIsolInit&&(Ti=Le.get(tn._end))!=null;)for(var kt=vi+1;kt<Pt.length;kt++)if(Pt[kt]._start===Ti){Xi.push(tn=Pt[kt]);break}for(var bn=[],sn=0;sn<Xi.length;sn++)for(var q=Xi[sn],ie=q._start;ie<=q._end;ie++)bn.push(ie);for(var Te=Me[bn[0]],We=et.level,rt=bn[0]-1;rt>=0;rt--)if(!(Z[rt]&l)){We=Me[rt];break}var it=bn[bn.length-1],At=Me[it],vt=et.level;if(!(Z[it]&a)){for(var W=it+1;W<=et.end;W++)if(!(Z[W]&l)){vt=Me[W];break}}ji.push({_seqIndices:bn,_sosType:Math.max(We,Te)%2?F:H,_eosType:Math.max(vt,At)%2?F:H})}}for(var fe=0;fe<ji.length;fe++){var xe=ji[fe],oe=xe._seqIndices,Ce=xe._sosType,ke=xe._eosType,nt=Me[oe[0]]&1?F:H;if(se.get(le))for(var ut=0;ut<oe.length;ut++){var ht=oe[ut];if(Z[ht]&le){for(var Ot=Ce,Nt=ut-1;Nt>=0;Nt--)if(!(Z[oe[Nt]]&l)){Ot=Z[oe[Nt]];break}ve(ht,Ot&(a|be)?$:Ot)}}if(se.get(N))for(var Bt=0;Bt<oe.length;Bt++){var Qt=oe[Bt];if(Z[Qt]&N)for(var Ht=Bt-1;Ht>=-1;Ht--){var Sn=Ht===-1?Ce:Z[oe[Ht]];if(Sn&s){Sn===de&&ve(Qt,X);break}}}if(se.get(de))for(var Vt=0;Vt<oe.length;Vt++){var zt=oe[Vt];Z[zt]&de&&ve(zt,F)}if(se.get(L)||se.get(Y))for(var Ft=1;Ft<oe.length-1;Ft++){var ii=oe[Ft];if(Z[ii]&(L|Y)){for(var Zt=0,un=0,Xn=Ft-1;Xn>=0&&(Zt=Z[oe[Xn]],!!(Zt&l));Xn--);for(var dn=Ft+1;dn<oe.length&&(un=Z[oe[dn]],!!(un&l));dn++);Zt===un&&(Z[ii]===L?Zt===N:Zt&(N|X))&&ve(ii,Zt)}}if(se.get(N))for(var Yt=0;Yt<oe.length;Yt++){var hn=oe[Yt];if(Z[hn]&N){for(var si=Yt-1;si>=0&&Z[oe[si]]&(G|l);si--)ve(oe[si],N);for(Yt++;Yt<oe.length&&Z[oe[Yt]]&(G|l|N);Yt++)Z[oe[Yt]]!==N&&ve(oe[Yt],N)}}if(se.get(G)||se.get(L)||se.get(Y))for(var On=0;On<oe.length;On++){var Wn=oe[On];if(Z[Wn]&(G|L|Y)){ve(Wn,$);for(var Ui=On-1;Ui>=0&&Z[oe[Ui]]&l;Ui--)ve(oe[Ui],$);for(var Zr=On+1;Zr<oe.length&&Z[oe[Zr]]&l;Zr++)ve(oe[Zr],$)}}if(se.get(N))for(var Tr=0,tu=Ce;Tr<oe.length;Tr++){var Jl=oe[Tr],nu=Z[Jl];nu&N?tu===H&&ve(Jl,H):nu&s&&(tu=nu)}if(se.get(o)){var Ys=F|N|X,Pd=Ys|H,iu=[];{for(var ms=[],qs=0;qs<oe.length;qs++)if(Z[oe[qs]]&o){var Ks=Be[oe[qs]],Ao=void 0;if(w(Ks)!==null)if(ms.length<63)ms.push({char:Ks,seqIndex:qs});else break;else if((Ao=I(Ks))!==null)for(var qa=ms.length-1;qa>=0;qa--){var Zl=ms[qa].char;if(Zl===Ao||Zl===I(U(Ks))||w(U(Zl))===Ks){iu.push([ms[qa].seqIndex,qs]),ms.length=qa;break}}}iu.sort(function(Vr,Ca){return Vr[0]-Ca[0]})}for(var $l=0;$l<iu.length;$l++){for(var mf=iu[$l],Js=mf[0],Zo=mf[1],$o=!1,Wi=0,ru=Js+1;ru<Zo;ru++){var au=oe[ru];if(Z[au]&Pd){$o=!0;var gf=Z[au]&Ys?F:H;if(gf===nt){Wi=gf;break}}}if($o&&!Wi){Wi=Ce;for(var gs=Js-1;gs>=0;gs--){var Qo=oe[gs];if(Z[Qo]&Pd){var Ql=Z[Qo]&Ys?F:H;Ql!==nt?Wi=Ql:Wi=nt;break}}}if(Wi){if(Z[oe[Js]]=Z[oe[Zo]]=Wi,Wi!==nt){for(var Yi=Js+1;Yi<oe.length;Yi++)if(!(Z[oe[Yi]]&l)){v(Be[oe[Yi]])&le&&(Z[oe[Yi]]=Wi);break}}if(Wi!==nt){for(var Ma=Zo+1;Ma<oe.length;Ma++)if(!(Z[oe[Ma]]&l)){v(Be[oe[Ma]])&le&&(Z[oe[Ma]]=Wi);break}}}}for(var pa=0;pa<oe.length;pa++)if(Z[oe[pa]]&o){for(var el=pa,vf=pa,Ka=Ce,vs=pa-1;vs>=0;vs--)if(Z[oe[vs]]&l)el=vs;else{Ka=Z[oe[vs]]&Ys?F:H;break}for(var tl=ke,ys=pa+1;ys<oe.length;ys++)if(Z[oe[ys]]&(o|l))vf=ys;else{tl=Z[oe[ys]]&Ys?F:H;break}for(var su=el;su<=vf;su++)Z[oe[su]]=Ka===tl?Ka:nt;pa=vf}}}for(var $r=et.start;$r<=et.end;$r++){var Yg=Me[$r],Hi=Z[$r];if(Yg&1?Hi&(H|N|X)&&Me[$r]++:Hi&F?Me[$r]++:Hi&(X|N)&&(Me[$r]+=2),Hi&l&&(Me[$r]=$r===0?et.level:Me[$r-1]),$r===et.end||v(Be[$r])&(ae|J))for(var nl=$r;nl>=0&&v(Be[nl])&u;nl--)Me[nl]=et.level}}return{levels:Me,paragraphs:Ye};function Fd(Vr,Ca){for(var ur=Vr;ur<Be.length;ur++){var Ja=Z[ur];if(Ja&(F|de))return 1;if(Ja&(J|H)||Ca&&Ja===be)return 0;if(Ja&a){var Hd=Pp(ur);ur=Hd===-1?Be.length:Hd}}return 0}function Pp(Vr){for(var Ca=1,ur=Vr+1;ur<Be.length;ur++){var Ja=Z[ur];if(Ja&J)break;if(Ja&be){if(--Ca===0)return ur}else Ja&a&&Ca++}return-1}}var ze="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ie;function ye(){if(!Ie){var Be=A(ze,!0),st=Be.map,Ge=Be.reverseMap;Ge.forEach(function(Z,j){st.set(j,Z)}),Ie=st}}function we(Be){return ye(),Ie.get(Be)||null}function ee(Be,st,Ge,Z){var j=Be.length;Ge=Math.max(0,Ge==null?0:+Ge),Z=Math.min(j-1,Z==null?j-1:+Z);for(var se=new Map,ve=Ge;ve<=Z;ve++)if(st[ve]&1){var Me=we(Be[ve]);Me!==null&&se.set(ve,Me)}return se}function Je(Be,st,Ge,Z){var j=Be.length;Ge=Math.max(0,Ge==null?0:+Ge),Z=Math.min(j-1,Z==null?j-1:+Z);var se=[];return st.paragraphs.forEach(function(ve){var Me=Math.max(Ge,ve.start),Le=Math.min(Z,ve.end);if(Me<Le){for(var Ye=st.levels.slice(Me,Le+1),et=Le;et>=Me&&v(Be[et])&u;et--)Ye[et]=ve.level;for(var at=ve.level,Ct=1/0,ot=0;ot<Ye.length;ot++){var _t=Ye[ot];_t>at&&(at=_t),_t<Ct&&(Ct=_t|1)}for(var Ze=at;Ze>=Ct;Ze--)for(var tt=0;tt<Ye.length;tt++)if(Ye[tt]>=Ze){for(var Ke=tt;tt+1<Ye.length&&Ye[tt+1]>=Ze;)tt++;tt>Ke&&se.push([Ke+Me,tt+Me])}}}),se}function Ne(Be,st,Ge,Z){var j=Xe(Be,st,Ge,Z),se=[].concat(Be);return j.forEach(function(ve,Me){se[Me]=(st.levels[ve]&1?we(Be[ve]):null)||Be[ve]}),se.join("")}function Xe(Be,st,Ge,Z){for(var j=Je(Be,st,Ge,Z),se=[],ve=0;ve<Be.length;ve++)se[ve]=ve;return j.forEach(function(Me){for(var Le=Me[0],Ye=Me[1],et=se.slice(Le,Ye+1),at=et.length;at--;)se[Ye-at]=et[at]}),se}return e.closingToOpeningBracket=I,e.getBidiCharType=v,e.getBidiCharTypeName=y,e.getCanonicalBracket=U,e.getEmbeddingLevels=je,e.getMirroredCharacter=we,e.getMirroredCharactersMap=ee,e.getReorderSegments=Je,e.getReorderedIndices=Xe,e.getReorderedString=Ne,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return r}const t4=/\bvoid\s+main\s*\(\s*\)\s*{/g;function JT(r){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(n,i){let a=En[i];return a?JT(a):n}return r.replace(e,t)}const Sa=[];for(let r=0;r<256;r++)Sa[r]=(r<16?"0":"")+r.toString(16);function kY(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Sa[r&255]+Sa[r>>8&255]+Sa[r>>16&255]+Sa[r>>24&255]+"-"+Sa[e&255]+Sa[e>>8&255]+"-"+Sa[e>>16&15|64]+Sa[e>>24&255]+"-"+Sa[t&63|128]+Sa[t>>8&255]+"-"+Sa[t>>16&255]+Sa[t>>24&255]+Sa[n&255]+Sa[n>>8&255]+Sa[n>>16&255]+Sa[n>>24&255]).toUpperCase()}const Lh=Object.assign||function(){let r=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let n=arguments[e];if(n)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},VY=Date.now(),CB=new WeakMap,wB=new Map;let jY=1e10;function ZT(r,e){const t=qY(e);let n=CB.get(r);if(n||CB.set(r,n=Object.create(null)),n[t])return new n[t];const i=`_onBeforeCompile${t}`,a=function(u,d){r.onBeforeCompile.call(this,u,d);const p=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let v=wB[p];if(!v){const y=XY(this,u,e,t);v=wB[p]=y}u.vertexShader=v.vertexShader,u.fragmentShader=v.fragmentShader,Lh(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-VY}}),this[i]&&this[i](u)},s=function(){return o(e.chained?r:r.clone())},o=function(u){const d=Object.create(u,l);return Object.defineProperty(d,"baseMaterial",{value:r}),Object.defineProperty(d,"id",{value:jY++}),d.uuid=kY(),d.uniforms=Lh({},u.uniforms,e.uniforms),d.defines=Lh({},u.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",d.extensions=Lh({},u.extensions,e.extensions),d._listeners=void 0,d},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>r.type,set:u=>{r.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const d=this.baseMaterial;return u===d||d.isDerivedMaterial&&d.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return r.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return r.copy.call(this,u),!r.isShaderMaterial&&!r.isDerivedMaterial&&(Lh(this.extensions,u.extensions),Lh(this.defines,u.defines),Lh(this.uniforms,EC.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new r.constructor;return o(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=ZT(r.isDerivedMaterial?r.getDepthMaterial():new KA({depthPacking:_C}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=ZT(r.isDerivedMaterial?r.getDistanceMaterial():new JA,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:d}=this;u&&u.dispose(),d&&d.dispose(),r.dispose.call(this)}}};return n[t]=s,new s}function XY(r,{vertexShader:e,fragmentShader:t},n,i){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:d,fragmentMainOutro:p,fragmentColorTransform:v,customRewriter:y,timeUniform:x}=n;if(a=a||"",s=s||"",o=o||"",u=u||"",d=d||"",p=p||"",(l||y)&&(e=JT(e)),(v||y)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=JT(t)),y){let A=y({vertexShader:e,fragmentShader:t});e=A.vertexShader,t=A.fragmentShader}if(v){let A=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,S=>(A.push(S),"")),p=`${v}
${A.join(`
`)}
${p}`}if(x){const A=`
uniform float ${x};
`;a=A+a,u=A+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(A,S,E,M)=>/\battribute\s+vec[23]\s+$/.test(M.substr(0,E))?S:`troika_${S}_${i}`),r.map&&r.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=RB(e,i,a,s,o),t=RB(t,i,u,d,p),{vertexShader:e,fragmentShader:t}}function RB(r,e,t,n,i){return(n||i||t)&&(r=r.replace(t4,`
${t}
void troikaOrigMain${e}() {`),r+=`
void main() {
  ${n}
  troikaOrigMain${e}();
  ${i}
}`),r}function WY(r,e){return r==="uniforms"?void 0:typeof e=="function"?e.toString():e}let YY=0;const DB=new Map;function qY(r){const e=JSON.stringify(r,WY);let t=DB.get(e);return t==null&&DB.set(e,t=++YY),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function KY(){return typeof window>"u"&&(self.window=self),function(r){var e={parse:function(i){var a=e._bin,s=new Uint8Array(i);if(a.readASCII(s,0,4)=="ttcf"){var o=4;a.readUshort(s,o),o+=2,a.readUshort(s,o),o+=2;var l=a.readUint(s,o);o+=4;for(var u=[],d=0;d<l;d++){var p=a.readUint(s,o);o+=4,u.push(e._readFont(s,p))}return u}return[e._readFont(s,0)]},_readFont:function(i,a){var s=e._bin,o=a;s.readFixed(i,a),a+=4;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:i,_offset:o},p={},v=0;v<l;v++){var y=s.readASCII(i,a,4);a+=4,s.readUint(i,a),a+=4;var x=s.readUint(i,a);a+=4;var A=s.readUint(i,a);a+=4,p[y]={offset:x,length:A}}for(v=0;v<u.length;v++){var S=u[v];p[S]&&(d[S.trim()]=e[S.trim()].parse(i,p[S].offset,p[S].length,d))}return d},_tabOffset:function(i,a,s){for(var o=e._bin,l=o.readUshort(i,s+4),u=s+12,d=0;d<l;d++){var p=o.readASCII(i,u,4);u+=4,o.readUint(i,u),u+=4;var v=o.readUint(i,u);if(u+=4,o.readUint(i,u),u+=4,p==a)return v}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(e._bin.readUshort(i,a+2*l));return o},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(i[a+l]);return o},readUnicode:function(i,a,s){for(var o="",l=0;l<s;l++){var u=i[a++]<<8|i[a++];o+=String.fromCharCode(u)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,s){var o=e._bin._tdec;return o&&a==0&&s==i.length?o.decode(i):e._bin.readASCII(i,a,s)},readBytes:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(i[a+l]);return o},readASCIIArray:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(String.fromCharCode(i[a+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,s,o,l){var u=e._bin,d={},p=a;u.readFixed(i,a),a+=4;var v=u.readUshort(i,a);a+=2;var y=u.readUshort(i,a);a+=2;var x=u.readUshort(i,a);return a+=2,d.scriptList=e._lctf.readScriptList(i,p+v),d.featureList=e._lctf.readFeatureList(i,p+y),d.lookupList=e._lctf.readLookupList(i,p+x,l),d},e._lctf.readLookupList=function(i,a,s){var o=e._bin,l=a,u=[],d=o.readUshort(i,a);a+=2;for(var p=0;p<d;p++){var v=o.readUshort(i,a);a+=2;var y=e._lctf.readLookupTable(i,l+v,s);u.push(y)}return u},e._lctf.readLookupTable=function(i,a,s){var o=e._bin,l=a,u={tabs:[]};u.ltype=o.readUshort(i,a),a+=2,u.flag=o.readUshort(i,a),a+=2;var d=o.readUshort(i,a);a+=2;for(var p=u.ltype,v=0;v<d;v++){var y=o.readUshort(i,a);a+=2;var x=s(i,p,l+y,u);u.tabs.push(x)}return u},e._lctf.numOfOnes=function(i){for(var a=0,s=0;s<32;s++)(i>>>s&1)!=0&&a++;return a},e._lctf.readClassDef=function(i,a){var s=e._bin,o=[],l=s.readUshort(i,a);if(a+=2,l==1){var u=s.readUshort(i,a);a+=2;var d=s.readUshort(i,a);a+=2;for(var p=0;p<d;p++)o.push(u+p),o.push(u+p),o.push(s.readUshort(i,a)),a+=2}if(l==2){var v=s.readUshort(i,a);for(a+=2,p=0;p<v;p++)o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2}return o},e._lctf.getInterval=function(i,a){for(var s=0;s<i.length;s+=3){var o=i[s],l=i[s+1];if(i[s+2],o<=a&&a<=l)return s}return-1},e._lctf.readCoverage=function(i,a){var s=e._bin,o={};o.fmt=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.fmt==1&&(o.tab=s.readUshorts(i,a,l)),o.fmt==2&&(o.tab=s.readUshorts(i,a,3*l)),o},e._lctf.coverageIndex=function(i,a){var s=i.tab;if(i.fmt==1)return s.indexOf(a);if(i.fmt==2){var o=e._lctf.getInterval(s,a);if(o!=-1)return s[o+2]+(a-s[o])}return-1},e._lctf.readFeatureList=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var p=s.readASCII(i,a,4);a+=4;var v=s.readUshort(i,a);a+=2;var y=e._lctf.readFeatureTable(i,o+v);y.tag=p.trim(),l.push(y)}return l},e._lctf.readFeatureTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.featureParams=o+u);var d=s.readUshort(i,a);a+=2,l.tab=[];for(var p=0;p<d;p++)l.tab.push(s.readUshort(i,a+2*p));return l},e._lctf.readScriptList=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var p=s.readASCII(i,a,4);a+=4;var v=s.readUshort(i,a);a+=2,l[p.trim()]=e._lctf.readScriptTable(i,o+v)}return l},e._lctf.readScriptTable=function(i,a){var s=e._bin,o=a,l={},u=s.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,o+u));var d=s.readUshort(i,a);a+=2;for(var p=0;p<d;p++){var v=s.readASCII(i,a,4);a+=4;var y=s.readUshort(i,a);a+=2,l[v.trim()]=e._lctf.readLangSysTable(i,o+y)}return l},e._lctf.readLangSysTable=function(i,a){var s=e._bin,o={};s.readUshort(i,a),a+=2,o.reqFeature=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.features=s.readUshorts(i,a,l),o},e.CFF={},e.CFF.parse=function(i,a,s){var o=e._bin;(i=new Uint8Array(i.buffer,a,s))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],d=0;d<l.length-1;d++)u.push(o.readASCII(i,a+l[d],l[d+1]-l[d]));a+=l[l.length-1];var p=[];a=e.CFF.readIndex(i,a,p);var v=[];for(d=0;d<p.length-1;d++)v.push(e.CFF.readDict(i,a+p[d],a+p[d+1]));a+=p[p.length-1];var y=v[0],x=[];a=e.CFF.readIndex(i,a,x);var A=[];for(d=0;d<x.length-1;d++)A.push(o.readASCII(i,a+x[d],x[d+1]-x[d]));if(a+=x[x.length-1],e.CFF.readSubrs(i,a,y),y.CharStrings){a=y.CharStrings,x=[],a=e.CFF.readIndex(i,a,x);var S=[];for(d=0;d<x.length-1;d++)S.push(o.readBytes(i,a+x[d],x[d+1]-x[d]));y.CharStrings=S}if(y.ROS){a=y.FDArray;var E=[];for(a=e.CFF.readIndex(i,a,E),y.FDArray=[],d=0;d<E.length-1;d++){var M=e.CFF.readDict(i,a+E[d],a+E[d+1]);e.CFF._readFDict(i,M,A),y.FDArray.push(M)}a+=E[E.length-1],a=y.FDSelect,y.FDSelect=[];var R=i[a];if(a++,R!=3)throw R;var w=o.readUshort(i,a);for(a+=2,d=0;d<w+1;d++)y.FDSelect.push(o.readUshort(i,a),i[a+2]),a+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(i,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(i,y.charset,y.CharStrings.length)),e.CFF._readFDict(i,y,A),y},e.CFF._readFDict=function(i,a,s){var o;for(var l in a.Private&&(o=a.Private[1],a.Private=e.CFF.readDict(i,o,o+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,o+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=s[a[l]-426+35])},e.CFF.readSubrs=function(i,a,s){var o=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,d=l.length;u=d<1240?107:d<33900?1131:32768,s.Bias=u,s.Subrs=[];for(var p=0;p<l.length-1;p++)s.Subrs.push(o.readBytes(i,a+l[p],l[p+1]-l[p]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,s){e._bin;var o=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var d=0;d<u;d++)o.push(i[a+d]);return o},e.CFF.readCharset=function(i,a,s){var o=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var d=0;d<s;d++){var p=o.readUshort(i,a);a+=2,l.push(p)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<s;){p=o.readUshort(i,a),a+=2;var v=0;for(u==1?(v=i[a],a++):(v=o.readUshort(i,a),a+=2),d=0;d<=v;d++)l.push(p),p++}}return l},e.CFF.readIndex=function(i,a,s){var o=e._bin,l=o.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var d=0;d<l;d++)s.push(i[a+d]);else if(u==2)for(d=0;d<l;d++)s.push(o.readUshort(i,a+2*d));else if(u==3)for(d=0;d<l;d++)s.push(16777215&o.readUint(i,a+3*d-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,s){var o=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var d=1,p=null,v=null;l<=20&&(p=l,d=1),l==12&&(p=100*l+u,d=2),21<=l&&l<=27&&(p=l,d=1),l==28&&(v=o.readShort(i,a+1),d=3),29<=l&&l<=31&&(p=l,d=1),32<=l&&l<=246&&(v=l-139,d=1),247<=l&&l<=250&&(v=256*(l-247)+u+108,d=2),251<=l&&l<=254&&(v=256*-(l-251)-u-108,d=2),l==255&&(v=o.readInt(i,a+1)/65535,d=5),s.val=v??"o"+p,s.size=d},e.CFF.readCharString=function(i,a,s){for(var o=a+s,l=e._bin,u=[];a<o;){var d=i[a],p=i[a+1];i[a+2],i[a+3],i[a+4];var v=1,y=null,x=null;d<=20&&(y=d,v=1),d==12&&(y=100*d+p,v=2),d!=19&&d!=20||(y=d,v=2),21<=d&&d<=27&&(y=d,v=1),d==28&&(x=l.readShort(i,a+1),v=3),29<=d&&d<=31&&(y=d,v=1),32<=d&&d<=246&&(x=d-139,v=1),247<=d&&d<=250&&(x=256*(d-247)+p+108,v=2),251<=d&&d<=254&&(x=256*-(d-251)-p-108,v=2),d==255&&(x=l.readInt(i,a+1)/65535,v=5),u.push(x??"o"+y),a+=v}return u},e.CFF.readDict=function(i,a,s){for(var o=e._bin,l={},u=[];a<s;){var d=i[a],p=i[a+1];i[a+2],i[a+3],i[a+4];var v=1,y=null,x=null;if(d==28&&(x=o.readShort(i,a+1),v=3),d==29&&(x=o.readInt(i,a+1),v=5),32<=d&&d<=246&&(x=d-139,v=1),247<=d&&d<=250&&(x=256*(d-247)+p+108,v=2),251<=d&&d<=254&&(x=256*-(d-251)-p-108,v=2),d==255)throw x=o.readInt(i,a+1)/65535,v=5,"unknown number";if(d==30){var A=[];for(v=1;;){var S=i[a+v];v++;var E=S>>4,M=15&S;if(E!=15&&A.push(E),M!=15&&A.push(M),M==15)break}for(var R="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],I=0;I<A.length;I++)R+=w[A[I]];x=parseFloat(R)}d<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],v=1,d==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][p],v=2)),y!=null?(l[y]=u.length==1?u[0]:u,u=[]):u.push(x),a+=v}return l},e.cmap={},e.cmap.parse=function(i,a,s){i=new Uint8Array(i.buffer,a,s),a=0;var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2;var d=[];l.tables=[];for(var p=0;p<u;p++){var v=o.readUshort(i,a);a+=2;var y=o.readUshort(i,a);a+=2;var x=o.readUint(i,a);a+=4;var A="p"+v+"e"+y,S=d.indexOf(x);if(S==-1){var E;S=l.tables.length,d.push(x);var M=o.readUshort(i,x);M==0?E=e.cmap.parse0(i,x):M==4?E=e.cmap.parse4(i,x):M==6?E=e.cmap.parse6(i,x):M==12?E=e.cmap.parse12(i,x):console.debug("unknown format: "+M,v,y,x),l.tables.push(E)}if(l[A]!=null)throw"multiple tables for one platform+encoding";l[A]=S}return l},e.cmap.parse0=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,o.map=[];for(var u=0;u<l-6;u++)o.map.push(i[a+u]);return o},e.cmap.parse4=function(i,a){var s=e._bin,o=a,l={};l.format=s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2;var d=s.readUshort(i,a);a+=2;var p=d/2;l.searchRange=s.readUshort(i,a),a+=2,l.entrySelector=s.readUshort(i,a),a+=2,l.rangeShift=s.readUshort(i,a),a+=2,l.endCount=s.readUshorts(i,a,p),a+=2*p,a+=2,l.startCount=s.readUshorts(i,a,p),a+=2*p,l.idDelta=[];for(var v=0;v<p;v++)l.idDelta.push(s.readShort(i,a)),a+=2;for(l.idRangeOffset=s.readUshorts(i,a,p),a+=2*p,l.glyphIdArray=[];a<o+u;)l.glyphIdArray.push(s.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,o.firstCode=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,o.glyphIdArray=[];for(var u=0;u<l;u++)o.glyphIdArray.push(s.readUshort(i,a)),a+=2;return o},e.cmap.parse12=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,a+=2,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4;var l=s.readUint(i,a);a+=4,o.groups=[];for(var u=0;u<l;u++){var d=a+12*u,p=s.readUint(i,d+0),v=s.readUint(i,d+4),y=s.readUint(i,d+8);o.groups.push([p,v,y])}return o},e.glyf={},e.glyf.parse=function(i,a,s,o){for(var l=[],u=0;u<o.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var s=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=s.readShort(o,l),l+=2,u.xMin=s.readShort(o,l),l+=2,u.yMin=s.readShort(o,l),l+=2,u.xMax=s.readShort(o,l),l+=2,u.yMax=s.readShort(o,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var d=0;d<u.noc;d++)u.endPts.push(s.readUshort(o,l)),l+=2;var p=s.readUshort(o,l);if(l+=2,o.length-l<p)return null;u.instructions=s.readBytes(o,l,p),l+=p;var v=u.endPts[u.noc-1]+1;for(u.flags=[],d=0;d<v;d++){var y=o[l];if(l++,u.flags.push(y),(8&y)!=0){var x=o[l];l++;for(var A=0;A<x;A++)u.flags.push(y),d++}}for(u.xs=[],d=0;d<v;d++){var S=(2&u.flags[d])!=0,E=(16&u.flags[d])!=0;S?(u.xs.push(E?o[l]:-o[l]),l++):E?u.xs.push(0):(u.xs.push(s.readShort(o,l)),l+=2)}for(u.ys=[],d=0;d<v;d++)S=(4&u.flags[d])!=0,E=(32&u.flags[d])!=0,S?(u.ys.push(E?o[l]:-o[l]),l++):E?u.ys.push(0):(u.ys.push(s.readShort(o,l)),l+=2);var M=0,R=0;for(d=0;d<v;d++)M+=u.xs[d],R+=u.ys[d],u.xs[d]=M,u.ys[d]=R}else{var w;u.parts=[];do{w=s.readUshort(o,l),l+=2;var I={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(I),I.glyphIndex=s.readUshort(o,l),l+=2,1&w){var U=s.readShort(o,l);l+=2;var H=s.readShort(o,l);l+=2}else U=s.readInt8(o,l),l++,H=s.readInt8(o,l),l++;2&w?(I.m.tx=U,I.m.ty=H):(I.p1=U,I.p2=H),8&w?(I.m.a=I.m.d=s.readF2dot14(o,l),l+=2):64&w?(I.m.a=s.readF2dot14(o,l),l+=2,I.m.d=s.readF2dot14(o,l),l+=2):128&w&&(I.m.a=s.readF2dot14(o,l),l+=2,I.m.b=s.readF2dot14(o,l),l+=2,I.m.c=s.readF2dot14(o,l),l+=2,I.m.d=s.readF2dot14(o,l),l+=2)}while(32&w);if(256&w){var F=s.readUshort(o,l);for(l+=2,u.instr=[],d=0;d<F;d++)u.instr.push(o[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,s,o){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GPOS.subt)},e.GPOS.subt=function(i,a,s,o){var l=e._bin,u=s,d={};if(d.fmt=l.readUshort(i,s),s+=2,a==1||a==2||a==3||a==7||a==8&&d.fmt<=2){var p=l.readUshort(i,s);s+=2,d.coverage=e._lctf.readCoverage(i,p+u)}if(a==1&&d.fmt==1){var v=l.readUshort(i,s);s+=2,v!=0&&(d.pos=e.GPOS.readValueRecord(i,s,v))}else if(a==2&&d.fmt>=1&&d.fmt<=2){v=l.readUshort(i,s),s+=2;var y=l.readUshort(i,s);s+=2;var x=e._lctf.numOfOnes(v),A=e._lctf.numOfOnes(y);if(d.fmt==1){d.pairsets=[];var S=l.readUshort(i,s);s+=2;for(var E=0;E<S;E++){var M=u+l.readUshort(i,s);s+=2;var R=l.readUshort(i,M);M+=2;for(var w=[],I=0;I<R;I++){var U=l.readUshort(i,M);M+=2,v!=0&&(X=e.GPOS.readValueRecord(i,M,v),M+=2*x),y!=0&&(Y=e.GPOS.readValueRecord(i,M,y),M+=2*A),w.push({gid2:U,val1:X,val2:Y})}d.pairsets.push(w)}}if(d.fmt==2){var H=l.readUshort(i,s);s+=2;var F=l.readUshort(i,s);s+=2;var N=l.readUshort(i,s);s+=2;var L=l.readUshort(i,s);for(s+=2,d.classDef1=e._lctf.readClassDef(i,u+H),d.classDef2=e._lctf.readClassDef(i,u+F),d.matrix=[],E=0;E<N;E++){var G=[];for(I=0;I<L;I++){var X=null,Y=null;v!=0&&(X=e.GPOS.readValueRecord(i,s,v),s+=2*x),y!=0&&(Y=e.GPOS.readValueRecord(i,s,y),s+=2*A),G.push({val1:X,val2:Y})}d.matrix.push(G)}}}else if(a==4&&d.fmt==1)d.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),d.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),d.markClassCount=l.readUshort(i,s+4),d.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),d.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,d.markClassCount);else if(a==6&&d.fmt==1)d.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,s)+u),d.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+u),d.markClassCount=l.readUshort(i,s+4),d.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+u),d.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+u,d.markClassCount);else{if(a==9&&d.fmt==1){var J=l.readUshort(i,s);s+=2;var ae=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=J;else if(o.ltype!=J)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,u+ae)}console.debug("unsupported GPOS table LookupType",a,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(i,a,s){var o=e._bin,l=[];return l.push(1&s?o.readShort(i,a):0),a+=1&s?2:0,l.push(2&s?o.readShort(i,a):0),a+=2&s?2:0,l.push(4&s?o.readShort(i,a):0),a+=4&s?2:0,l.push(8&s?o.readShort(i,a):0),a+=8&s?2:0,l},e.GPOS.readBaseArray=function(i,a,s){var o=e._bin,l=[],u=a,d=o.readUshort(i,a);a+=2;for(var p=0;p<d;p++){for(var v=[],y=0;y<s;y++)v.push(e.GPOS.readAnchorRecord(i,u+o.readUshort(i,a))),a+=2;l.push(v)}return l},e.GPOS.readMarkArray=function(i,a){var s=e._bin,o=[],l=a,u=s.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var p=e.GPOS.readAnchorRecord(i,s.readUshort(i,a+2)+l);p.markClass=s.readUshort(i,a),o.push(p),a+=4}return o},e.GPOS.readAnchorRecord=function(i,a){var s=e._bin,o={};return o.fmt=s.readUshort(i,a),o.x=s.readShort(i,a+2),o.y=s.readShort(i,a+4),o},e.GSUB={},e.GSUB.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GSUB.subt)},e.GSUB.subt=function(i,a,s,o){var l=e._bin,u=s,d={};if(d.fmt=l.readUshort(i,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&d.fmt<=2||a==6&&d.fmt<=2){var p=l.readUshort(i,s);s+=2,d.coverage=e._lctf.readCoverage(i,u+p)}if(a==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=l.readShort(i,s),s+=2;else if(d.fmt==2){var v=l.readUshort(i,s);s+=2,d.newg=l.readUshorts(i,s,v),s+=2*d.newg.length}}else if(a==2&&d.fmt==1){v=l.readUshort(i,s),s+=2,d.seqs=[];for(var y=0;y<v;y++){var x=l.readUshort(i,s)+u;s+=2;var A=l.readUshort(i,x);d.seqs.push(l.readUshorts(i,x+2,A))}}else if(a==4)for(d.vals=[],v=l.readUshort(i,s),s+=2,y=0;y<v;y++){var S=l.readUshort(i,s);s+=2,d.vals.push(e.GSUB.readLigatureSet(i,u+S))}else if(a==5&&d.fmt==2){if(d.fmt==2){var E=l.readUshort(i,s);s+=2,d.cDef=e._lctf.readClassDef(i,u+E),d.scset=[];var M=l.readUshort(i,s);for(s+=2,y=0;y<M;y++){var R=l.readUshort(i,s);s+=2,d.scset.push(R==0?null:e.GSUB.readSubClassSet(i,u+R))}}}else if(a==6&&d.fmt==3){if(d.fmt==3){for(y=0;y<3;y++){v=l.readUshort(i,s),s+=2;for(var w=[],I=0;I<v;I++)w.push(e._lctf.readCoverage(i,u+l.readUshort(i,s+2*I)));s+=2*v,y==0&&(d.backCvg=w),y==1&&(d.inptCvg=w),y==2&&(d.ahedCvg=w)}v=l.readUshort(i,s),s+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(i,s,v)}}else{if(a==7&&d.fmt==1){var U=l.readUshort(i,s);s+=2;var H=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=U;else if(o.ltype!=U)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,u+H)}console.debug("unsupported GSUB table LookupType",a,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(i,a){var s=e._bin.readUshort,o=a,l=[],u=s(i,a);a+=2;for(var d=0;d<u;d++){var p=s(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,o+p))}return l},e.GSUB.readSubClassRule=function(i,a){var s=e._bin.readUshort,o={},l=s(i,a),u=s(i,a+=2);a+=2,o.input=[];for(var d=0;d<l-1;d++)o.input.push(s(i,a)),a+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),o},e.GSUB.readSubstLookupRecords=function(i,a,s){for(var o=e._bin.readUshort,l=[],u=0;u<s;u++)l.push(o(i,a),o(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var p=s.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,o+p))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var s=e._bin,o={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var d=s.readUshort(i,a);a+=2,u==1&&d--,o[l[u]]=s.readUshorts(i,a,d),a+=2*o[l[u]].length}return d=s.readUshort(i,a),a+=2,o.subst=s.readUshorts(i,a,2*d),a+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,a){var s=e._bin,o=a,l=[],u=s.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var p=s.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,o+p))}return l},e.GSUB.readLigature=function(i,a){var s=e._bin,o={chain:[]};o.nglyph=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)o.chain.push(s.readUshort(i,a)),a+=2;return o},e.head={},e.head.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.fontRevision=o.readFixed(i,a),a+=4,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4,l.flags=o.readUshort(i,a),a+=2,l.unitsPerEm=o.readUshort(i,a),a+=2,l.created=o.readUint64(i,a),a+=8,l.modified=o.readUint64(i,a),a+=8,l.xMin=o.readShort(i,a),a+=2,l.yMin=o.readShort(i,a),a+=2,l.xMax=o.readShort(i,a),a+=2,l.yMax=o.readShort(i,a),a+=2,l.macStyle=o.readUshort(i,a),a+=2,l.lowestRecPPEM=o.readUshort(i,a),a+=2,l.fontDirectionHint=o.readShort(i,a),a+=2,l.indexToLocFormat=o.readShort(i,a),a+=2,l.glyphDataFormat=o.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.ascender=o.readShort(i,a),a+=2,l.descender=o.readShort(i,a),a+=2,l.lineGap=o.readShort(i,a),a+=2,l.advanceWidthMax=o.readUshort(i,a),a+=2,l.minLeftSideBearing=o.readShort(i,a),a+=2,l.minRightSideBearing=o.readShort(i,a),a+=2,l.xMaxExtent=o.readShort(i,a),a+=2,l.caretSlopeRise=o.readShort(i,a),a+=2,l.caretSlopeRun=o.readShort(i,a),a+=2,l.caretOffset=o.readShort(i,a),a+=2,a+=8,l.metricDataFormat=o.readShort(i,a),a+=2,l.numberOfHMetrics=o.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,s,o){for(var l=e._bin,u={aWidth:[],lsBearing:[]},d=0,p=0,v=0;v<o.maxp.numGlyphs;v++)v<o.hhea.numberOfHMetrics&&(d=l.readUshort(i,a),a+=2,p=l.readShort(i,a),a+=2),u.aWidth.push(d),u.lsBearing.push(p);return u},e.kern={},e.kern.parse=function(i,a,s,o){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,s,o);var d=l.readUshort(i,a);a+=2;for(var p={glyph1:[],rval:[]},v=0;v<d;v++){a+=2,s=l.readUshort(i,a),a+=2;var y=l.readUshort(i,a);a+=2;var x=y>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;a=e.kern.readFormat0(i,a,p)}return p},e.kern.parseV1=function(i,a,s,o){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var d={glyph1:[],rval:[]},p=0;p<u;p++){l.readUint(i,a),a+=4;var v=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var y=v>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;a=e.kern.readFormat0(i,a,d)}return d},e.kern.readFormat0=function(i,a,s){var o=e._bin,l=-1,u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var d=0;d<u;d++){var p=o.readUshort(i,a);a+=2;var v=o.readUshort(i,a);a+=2;var y=o.readShort(i,a);a+=2,p!=l&&(s.glyph1.push(p),s.rval.push({glyph2:[],vals:[]}));var x=s.rval[s.rval.length-1];x.glyph2.push(v),x.vals.push(y),l=p}return a},e.loca={},e.loca.parse=function(i,a,s,o){var l=e._bin,u=[],d=o.head.indexToLocFormat,p=o.maxp.numGlyphs+1;if(d==0)for(var v=0;v<p;v++)u.push(l.readUshort(i,a+(v<<1))<<1);if(d==1)for(v=0;v<p;v++)u.push(l.readUint(i,a+(v<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,s){var o=e._bin,l={},u=o.readUint(i,a);return a+=4,l.numGlyphs=o.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=o.readUshort(i,a),a+=2,l.maxContours=o.readUshort(i,a),a+=2,l.maxCompositePoints=o.readUshort(i,a),a+=2,l.maxCompositeContours=o.readUshort(i,a),a+=2,l.maxZones=o.readUshort(i,a),a+=2,l.maxTwilightPoints=o.readUshort(i,a),a+=2,l.maxStorage=o.readUshort(i,a),a+=2,l.maxFunctionDefs=o.readUshort(i,a),a+=2,l.maxInstructionDefs=o.readUshort(i,a),a+=2,l.maxStackElements=o.readUshort(i,a),a+=2,l.maxSizeOfInstructions=o.readUshort(i,a),a+=2,l.maxComponentElements=o.readUshort(i,a),a+=2,l.maxComponentDepth=o.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,s){var o=e._bin,l={};o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a);for(var d,p=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=a+=2,y=0;y<u;y++){var x=o.readUshort(i,a);a+=2;var A=o.readUshort(i,a);a+=2;var S=o.readUshort(i,a);a+=2;var E=o.readUshort(i,a);a+=2;var M=o.readUshort(i,a);a+=2;var R=o.readUshort(i,a);a+=2;var w,I=p[E],U=v+12*u+R;if(x==0)w=o.readUnicode(i,U,M/2);else if(x==3&&A==0)w=o.readUnicode(i,U,M/2);else if(A==0)w=o.readASCII(i,U,M);else if(A==1)w=o.readUnicode(i,U,M/2);else if(A==3)w=o.readUnicode(i,U,M/2);else{if(x!=1)throw"unknown encoding "+A+", platformID: "+x;w=o.readASCII(i,U,M),console.debug("reading unknown MAC encoding "+A+" as ASCII")}var H="p"+x+","+S.toString(16);l[H]==null&&(l[H]={}),l[H][I!==void 0?I:E]=w,l[H]._lang=S}for(var F in l)if(l[F].postScriptName!=null&&l[F]._lang==1033)return l[F];for(var F in l)if(l[F].postScriptName!=null&&l[F]._lang==0)return l[F];for(var F in l)if(l[F].postScriptName!=null&&l[F]._lang==3084)return l[F];for(var F in l)if(l[F].postScriptName!=null)return l[F];for(var F in l){d=F;break}return console.debug("returning name table with languageID "+l[d]._lang),l[d]},e["OS/2"]={},e["OS/2"].parse=function(i,a,s){var o=e._bin.readUshort(i,a);a+=2;var l={};if(o==0)e["OS/2"].version0(i,a,l);else if(o==1)e["OS/2"].version1(i,a,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,a,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,s){var o=e._bin;return s.xAvgCharWidth=o.readShort(i,a),a+=2,s.usWeightClass=o.readUshort(i,a),a+=2,s.usWidthClass=o.readUshort(i,a),a+=2,s.fsType=o.readUshort(i,a),a+=2,s.ySubscriptXSize=o.readShort(i,a),a+=2,s.ySubscriptYSize=o.readShort(i,a),a+=2,s.ySubscriptXOffset=o.readShort(i,a),a+=2,s.ySubscriptYOffset=o.readShort(i,a),a+=2,s.ySuperscriptXSize=o.readShort(i,a),a+=2,s.ySuperscriptYSize=o.readShort(i,a),a+=2,s.ySuperscriptXOffset=o.readShort(i,a),a+=2,s.ySuperscriptYOffset=o.readShort(i,a),a+=2,s.yStrikeoutSize=o.readShort(i,a),a+=2,s.yStrikeoutPosition=o.readShort(i,a),a+=2,s.sFamilyClass=o.readShort(i,a),a+=2,s.panose=o.readBytes(i,a,10),a+=10,s.ulUnicodeRange1=o.readUint(i,a),a+=4,s.ulUnicodeRange2=o.readUint(i,a),a+=4,s.ulUnicodeRange3=o.readUint(i,a),a+=4,s.ulUnicodeRange4=o.readUint(i,a),a+=4,s.achVendID=[o.readInt8(i,a),o.readInt8(i,a+1),o.readInt8(i,a+2),o.readInt8(i,a+3)],a+=4,s.fsSelection=o.readUshort(i,a),a+=2,s.usFirstCharIndex=o.readUshort(i,a),a+=2,s.usLastCharIndex=o.readUshort(i,a),a+=2,s.sTypoAscender=o.readShort(i,a),a+=2,s.sTypoDescender=o.readShort(i,a),a+=2,s.sTypoLineGap=o.readShort(i,a),a+=2,s.usWinAscent=o.readUshort(i,a),a+=2,s.usWinDescent=o.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,s){var o=e._bin;return a=e["OS/2"].version0(i,a,s),s.ulCodePageRange1=o.readUint(i,a),a+=4,s.ulCodePageRange2=o.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,s){var o=e._bin;return a=e["OS/2"].version1(i,a,s),s.sxHeight=o.readShort(i,a),a+=2,s.sCapHeight=o.readShort(i,a),a+=2,s.usDefault=o.readUshort(i,a),a+=2,s.usBreak=o.readUshort(i,a),a+=2,s.usMaxContext=o.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,s){var o=e._bin;return a=e["OS/2"].version2(i,a,s),s.usLowerOpticalPointSize=o.readUshort(i,a),a+=2,s.usUpperOpticalPointSize=o.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,s){var o=e._bin,l={};return l.version=o.readFixed(i,a),a+=4,l.italicAngle=o.readFixed(i,a),a+=4,l.underlinePosition=o.readShort(i,a),a+=2,l.underlineThickness=o.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var s=i.cmap,o=-1;if(s.p0e4!=null?o=s.p0e4:s.p3e1!=null?o=s.p3e1:s.p1e0!=null?o=s.p1e0:s.p0e3!=null&&(o=s.p0e3),o==-1)throw"no familiar platform and encoding!";var l=s.tables[o];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,d=0;d<l.endCount.length;d++)if(a<=l.endCount[d]){u=d;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(d=0;d<l.groups.length;d++){var p=l.groups[d];if(p[0]<=a&&a<=p[1])return p[2]+(a-p[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var o=i.SVG.entries[a];return o==null?s:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[a]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,d=i.CFF.Private;if(u.ROS){for(var p=0;u.FDSelect[p+2]<=a;)p+=2;d=u.FDArray[u.FDSelect[p+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,d,s)}else i.glyf&&e.U._drawGlyf(a,i,s);return s},e.U._drawGlyf=function(i,a,s){var o=a.glyf[i];o==null&&(o=a.glyf[i]=e.glyf._parseGlyf(a,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,s):e.U._compoGlyph(o,a,s))},e.U._simpleGlyph=function(i,a){for(var s=0;s<i.noc;s++){for(var o=s==0?0:i.endPts[s-1]+1,l=i.endPts[s],u=o;u<=l;u++){var d=u==o?l:u-1,p=u==l?o:u+1,v=1&i.flags[u],y=1&i.flags[d],x=1&i.flags[p],A=i.xs[u],S=i.ys[u];if(u==o)if(v){if(!y){e.U.P.moveTo(a,A,S);continue}e.U.P.moveTo(a,i.xs[d],i.ys[d])}else y?e.U.P.moveTo(a,i.xs[d],i.ys[d]):e.U.P.moveTo(a,(i.xs[d]+A)/2,(i.ys[d]+S)/2);v?y&&e.U.P.lineTo(a,A,S):x?e.U.P.qcurveTo(a,A,S,i.xs[p],i.ys[p]):e.U.P.qcurveTo(a,A,S,(A+i.xs[p])/2,(S+i.ys[p])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,s){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},u=i.parts[o];e.U._drawGlyf(u.glyphIndex,a,l);for(var d=u.m,p=0;p<l.crds.length;p+=2){var v=l.crds[p],y=l.crds[p+1];s.crds.push(v*d.a+y*d.b+d.tx),s.crds.push(v*d.c+y*d.d+d.ty)}for(p=0;p<l.cmds.length;p++)s.cmds.push(l.cmds[p])}},e.U._getGlyphClass=function(i,a){var s=e._lctf.getInterval(a,i);return s==-1?0:a[s+2]},e.U._applySubs=function(i,a,s,o){for(var l=i.length-a-1,u=0;u<s.tabs.length;u++)if(s.tabs[u]!=null){var d,p=s.tabs[u];if(!p.coverage||(d=e._lctf.coverageIndex(p.coverage,i[a]))!=-1){if(s.ltype==1)i[a],p.fmt==1?i[a]=i[a]+p.delta:i[a]=p.newg[d];else if(s.ltype==4)for(var v=p.vals[d],y=0;y<v.length;y++){var x=v[y],A=x.chain.length;if(!(A>l)){for(var S=!0,E=0,M=0;M<A;M++){for(;i[a+E+(1+M)]==-1;)E++;x.chain[M]!=i[a+E+(1+M)]&&(S=!1)}if(S){for(i[a]=x.nglyph,M=0;M<A+E;M++)i[a+M+1]=-1;break}}}else if(s.ltype==5&&p.fmt==2)for(var R=e._lctf.getInterval(p.cDef,i[a]),w=p.cDef[R+2],I=p.scset[w],U=0;U<I.length;U++){var H=I[U],F=H.input;if(!(F.length>l)){for(S=!0,M=0;M<F.length;M++){var N=e._lctf.getInterval(p.cDef,i[a+1+M]);if(R==-1&&p.cDef[N+2]!=F[M]){S=!1;break}}if(S){var L=H.substLookupRecords;for(y=0;y<L.length;y+=2)L[y],L[y+1]}}}else if(s.ltype==6&&p.fmt==3){if(!e.U._glsCovered(i,p.backCvg,a-p.backCvg.length)||!e.U._glsCovered(i,p.inptCvg,a)||!e.U._glsCovered(i,p.ahedCvg,a+p.inptCvg.length))continue;var G=p.lookupRec;for(U=0;U<G.length;U+=2){R=G[U];var X=o[G[U+1]];e.U._applySubs(i,a+R,X,o)}}}}},e.U._glsCovered=function(i,a,s){for(var o=0;o<a.length;o++)if(e._lctf.coverageIndex(a[o],i[s+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,s){for(var o={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var d=a[u];if(d!=-1){for(var p=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,v=e.U.glyphToPath(i,d),y=0;y<v.crds.length;y+=2)o.crds.push(v.crds[y]+l),o.crds.push(v.crds[y+1]);for(s&&o.cmds.push(s),y=0;y<v.cmds.length;y++)o.cmds.push(v.cmds[y]);s&&o.cmds.push("X"),l+=i.hmtx.aWidth[d],u<a.length-1&&(l+=e.U.getPairAdjustment(i,d,p))}}return o},e.U.P={},e.U.P.moveTo=function(i,a,s){i.cmds.push("M"),i.crds.push(a,s)},e.U.P.lineTo=function(i,a,s){i.cmds.push("L"),i.crds.push(a,s)},e.U.P.curveTo=function(i,a,s,o,l,u,d){i.cmds.push("C"),i.crds.push(a,s,o,l,u,d)},e.U.P.qcurveTo=function(i,a,s,o,l){i.cmds.push("Q"),i.crds.push(a,s,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,s,o,l){for(var u=a.stack,d=a.nStems,p=a.haveWidth,v=a.width,y=a.open,x=0,A=a.x,S=a.y,E=0,M=0,R=0,w=0,I=0,U=0,H=0,F=0,N=0,L=0,G={val:0,size:0};x<i.length;){e.CFF.getCharString(i,x,G);var X=G.val;if(x+=G.size,X=="o1"||X=="o18")u.length%2!=0&&!p&&(v=u.shift()+o.nominalWidthX),d+=u.length>>1,u.length=0,p=!0;else if(X=="o3"||X=="o23")u.length%2!=0&&!p&&(v=u.shift()+o.nominalWidthX),d+=u.length>>1,u.length=0,p=!0;else if(X=="o4")u.length>1&&!p&&(v=u.shift()+o.nominalWidthX,p=!0),y&&e.U.P.closePath(l),S+=u.pop(),e.U.P.moveTo(l,A,S),y=!0;else if(X=="o5")for(;u.length>0;)A+=u.shift(),S+=u.shift(),e.U.P.lineTo(l,A,S);else if(X=="o6"||X=="o7")for(var Y=u.length,J=X=="o6",ae=0;ae<Y;ae++){var $=u.shift();J?A+=$:S+=$,J=!J,e.U.P.lineTo(l,A,S)}else if(X=="o8"||X=="o24"){Y=u.length;for(var he=0;he+6<=Y;)E=A+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),A=R+u.shift(),S=w+u.shift(),e.U.P.curveTo(l,E,M,R,w,A,S),he+=6;X=="o24"&&(A+=u.shift(),S+=u.shift(),e.U.P.lineTo(l,A,S))}else{if(X=="o11")break;if(X=="o1234"||X=="o1235"||X=="o1236"||X=="o1237")X=="o1234"&&(M=S,R=(E=A+u.shift())+u.shift(),L=w=M+u.shift(),U=w,F=S,A=(H=(I=(N=R+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,E,M,R,w,N,L),e.U.P.curveTo(l,I,U,H,F,A,S)),X=="o1235"&&(E=A+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),N=R+u.shift(),L=w+u.shift(),I=N+u.shift(),U=L+u.shift(),H=I+u.shift(),F=U+u.shift(),A=H+u.shift(),S=F+u.shift(),u.shift(),e.U.P.curveTo(l,E,M,R,w,N,L),e.U.P.curveTo(l,I,U,H,F,A,S)),X=="o1236"&&(E=A+u.shift(),M=S+u.shift(),R=E+u.shift(),L=w=M+u.shift(),U=w,H=(I=(N=R+u.shift())+u.shift())+u.shift(),F=U+u.shift(),A=H+u.shift(),e.U.P.curveTo(l,E,M,R,w,N,L),e.U.P.curveTo(l,I,U,H,F,A,S)),X=="o1237"&&(E=A+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),N=R+u.shift(),L=w+u.shift(),I=N+u.shift(),U=L+u.shift(),H=I+u.shift(),F=U+u.shift(),Math.abs(H-A)>Math.abs(F-S)?A=H+u.shift():S=F+u.shift(),e.U.P.curveTo(l,E,M,R,w,N,L),e.U.P.curveTo(l,I,U,H,F,A,S));else if(X=="o14"){if(u.length>0&&!p&&(v=u.shift()+s.nominalWidthX,p=!0),u.length==4){var le=u.shift(),de=u.shift(),V=u.shift(),K=u.shift(),re=e.CFF.glyphBySE(s,V),pe=e.CFF.glyphBySE(s,K);e.U._drawCFF(s.CharStrings[re],a,s,o,l),a.x=le,a.y=de,e.U._drawCFF(s.CharStrings[pe],a,s,o,l)}y&&(e.U.P.closePath(l),y=!1)}else if(X=="o19"||X=="o20")u.length%2!=0&&!p&&(v=u.shift()+o.nominalWidthX),d+=u.length>>1,u.length=0,p=!0,x+=d+7>>3;else if(X=="o21")u.length>2&&!p&&(v=u.shift()+o.nominalWidthX,p=!0),S+=u.pop(),A+=u.pop(),y&&e.U.P.closePath(l),e.U.P.moveTo(l,A,S),y=!0;else if(X=="o22")u.length>1&&!p&&(v=u.shift()+o.nominalWidthX,p=!0),A+=u.pop(),y&&e.U.P.closePath(l),e.U.P.moveTo(l,A,S),y=!0;else if(X=="o25"){for(;u.length>6;)A+=u.shift(),S+=u.shift(),e.U.P.lineTo(l,A,S);E=A+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),A=R+u.shift(),S=w+u.shift(),e.U.P.curveTo(l,E,M,R,w,A,S)}else if(X=="o26")for(u.length%2&&(A+=u.shift());u.length>0;)E=A,M=S+u.shift(),A=R=E+u.shift(),S=(w=M+u.shift())+u.shift(),e.U.P.curveTo(l,E,M,R,w,A,S);else if(X=="o27")for(u.length%2&&(S+=u.shift());u.length>0;)M=S,R=(E=A+u.shift())+u.shift(),w=M+u.shift(),A=R+u.shift(),S=w,e.U.P.curveTo(l,E,M,R,w,A,S);else if(X=="o10"||X=="o29"){var Q=X=="o10"?o:s;if(u.length==0)console.debug("error: empty stack");else{var ce=u.pop(),me=Q.Subrs[ce+Q.Bias];a.x=A,a.y=S,a.nStems=d,a.haveWidth=p,a.width=v,a.open=y,e.U._drawCFF(me,a,s,o,l),A=a.x,S=a.y,d=a.nStems,p=a.haveWidth,v=a.width,y=a.open}}else if(X=="o30"||X=="o31"){var ge=u.length,be=(he=0,X=="o31");for(he+=ge-(Y=-3&ge);he<Y;)be?(M=S,R=(E=A+u.shift())+u.shift(),S=(w=M+u.shift())+u.shift(),Y-he==5?(A=R+u.shift(),he++):A=R,be=!1):(E=A,M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),A=R+u.shift(),Y-he==5?(S=w+u.shift(),he++):S=w,be=!0),e.U.P.curveTo(l,E,M,R,w,A,S),he+=4}else{if((X+"").charAt(0)=="o")throw console.debug("Unknown operation: "+X,i),X;u.push(X)}}}a.x=A,a.y=S,a.nStems=d,a.haveWidth=p,a.width=v,a.open=y};var t=e,n={Typr:t};return r.Typr=t,r.default=n,Object.defineProperty(r,"__esModule",{value:!0}),r}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function JY(){return function(r){var e=Uint8Array,t=Uint16Array,n=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(X,Y){for(var J=new t(31),ae=0;ae<31;++ae)J[ae]=Y+=1<<X[ae-1];var $=new n(J[30]);for(ae=1;ae<30;++ae)for(var he=J[ae];he<J[ae+1];++he)$[he]=he-J[ae]<<5|ae;return[J,$]},l=o(i,2),u=l[0],d=l[1];u[28]=258,d[258]=28;for(var p=o(a,0)[0],v=new t(32768),y=0;y<32768;++y){var x=(43690&y)>>>1|(21845&y)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,v[y]=((65280&x)>>>8|(255&x)<<8)>>>1}var A=function(X,Y,J){for(var ae=X.length,$=0,he=new t(Y);$<ae;++$)++he[X[$]-1];var le,de=new t(Y);for($=0;$<Y;++$)de[$]=de[$-1]+he[$-1]<<1;{le=new t(1<<Y);var V=15-Y;for($=0;$<ae;++$)if(X[$])for(var K=$<<4|X[$],re=Y-X[$],pe=de[X[$]-1]++<<re,Q=pe|(1<<re)-1;pe<=Q;++pe)le[v[pe]>>>V]=K}return le},S=new e(288);for(y=0;y<144;++y)S[y]=8;for(y=144;y<256;++y)S[y]=9;for(y=256;y<280;++y)S[y]=7;for(y=280;y<288;++y)S[y]=8;var E=new e(32);for(y=0;y<32;++y)E[y]=5;var M=A(S,9),R=A(E,5),w=function(X){for(var Y=X[0],J=1;J<X.length;++J)X[J]>Y&&(Y=X[J]);return Y},I=function(X,Y,J){var ae=Y/8|0;return(X[ae]|X[ae+1]<<8)>>(7&Y)&J},U=function(X,Y){var J=Y/8|0;return(X[J]|X[J+1]<<8|X[J+2]<<16)>>(7&Y)},H=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],F=function(X,Y,J){var ae=new Error(Y||H[X]);if(ae.code=X,Error.captureStackTrace&&Error.captureStackTrace(ae,F),!J)throw ae;return ae},N=function(X,Y,J){var ae=X.length;if(!ae||J&&!J.l&&ae<5)return Y||new e(0);var $=!Y||J,he=!J||J.i;J||(J={}),Y||(Y=new e(3*ae));var le,de=function(Ke){var wt=Y.length;if(Ke>wt){var xt=new e(Math.max(2*wt,Ke));xt.set(Y),Y=xt}},V=J.f||0,K=J.p||0,re=J.b||0,pe=J.l,Q=J.d,ce=J.m,me=J.n,ge=8*ae;do{if(!pe){J.f=V=I(X,K,1);var be=I(X,K+1,3);if(K+=3,!be){var je=X[(Ge=((le=K)/8|0)+(7&le&&1)+4)-4]|X[Ge-3]<<8,ze=Ge+je;if(ze>ae){he&&F(0);break}$&&de(re+je),Y.set(X.subarray(Ge,ze),re),J.b=re+=je,J.p=K=8*ze;continue}if(be==1)pe=M,Q=R,ce=9,me=5;else if(be==2){var Ie=I(X,K,31)+257,ye=I(X,K+10,15)+4,we=Ie+I(X,K+5,31)+1;K+=14;for(var ee=new e(we),Je=new e(19),Ne=0;Ne<ye;++Ne)Je[s[Ne]]=I(X,K+3*Ne,7);K+=3*ye;var Xe=w(Je),Be=(1<<Xe)-1,st=A(Je,Xe);for(Ne=0;Ne<we;){var Ge,Z=st[I(X,K,Be)];if(K+=15&Z,(Ge=Z>>>4)<16)ee[Ne++]=Ge;else{var j=0,se=0;for(Ge==16?(se=3+I(X,K,3),K+=2,j=ee[Ne-1]):Ge==17?(se=3+I(X,K,7),K+=3):Ge==18&&(se=11+I(X,K,127),K+=7);se--;)ee[Ne++]=j}}var ve=ee.subarray(0,Ie),Me=ee.subarray(Ie);ce=w(ve),me=w(Me),pe=A(ve,ce),Q=A(Me,me)}else F(1);if(K>ge){he&&F(0);break}}$&&de(re+131072);for(var Le=(1<<ce)-1,Ye=(1<<me)-1,et=K;;et=K){var at=(j=pe[U(X,K)&Le])>>>4;if((K+=15&j)>ge){he&&F(0);break}if(j||F(2),at<256)Y[re++]=at;else{if(at==256){et=K,pe=null;break}var Ct=at-254;if(at>264){var ot=i[Ne=at-257];Ct=I(X,K,(1<<ot)-1)+u[Ne],K+=ot}var _t=Q[U(X,K)&Ye],Ze=_t>>>4;if(_t||F(3),K+=15&_t,Me=p[Ze],Ze>3&&(ot=a[Ze],Me+=U(X,K)&(1<<ot)-1,K+=ot),K>ge){he&&F(0);break}$&&de(re+131072);for(var tt=re+Ct;re<tt;re+=4)Y[re]=Y[re-Me],Y[re+1]=Y[re+1-Me],Y[re+2]=Y[re+2-Me],Y[re+3]=Y[re+3-Me];re=tt}}J.l=pe,J.p=et,J.b=re,pe&&(V=1,J.m=ce,J.d=Q,J.n=me)}while(!V);return re==Y.length?Y:function(Ke,wt,xt){(xt==null||xt>Ke.length)&&(xt=Ke.length);var It=new(Ke instanceof t?t:Ke instanceof n?n:e)(xt-wt);return It.set(Ke.subarray(wt,xt)),It}(Y,0,re)},L=new e(0),G=typeof TextDecoder<"u"&&new TextDecoder;try{G.decode(L,{stream:!0})}catch{}return r.convert_streams=function(X){var Y=new DataView(X),J=0;function ae(){var Ie=Y.getUint16(J);return J+=2,Ie}function $(){var Ie=Y.getUint32(J);return J+=4,Ie}function he(Ie){je.setUint16(ze,Ie),ze+=2}function le(Ie){je.setUint32(ze,Ie),ze+=4}for(var de={signature:$(),flavor:$(),length:$(),numTables:ae(),reserved:ae(),totalSfntSize:$(),majorVersion:ae(),minorVersion:ae(),metaOffset:$(),metaLength:$(),metaOrigLength:$(),privOffset:$(),privLength:$()},V=0;Math.pow(2,V)<=de.numTables;)V++;V--;for(var K=16*Math.pow(2,V),re=16*de.numTables-K,pe=12,Q=[],ce=0;ce<de.numTables;ce++)Q.push({tag:$(),offset:$(),compLength:$(),origLength:$(),origChecksum:$()}),pe+=16;var me,ge=new Uint8Array(12+16*Q.length+Q.reduce(function(Ie,ye){return Ie+ye.origLength+4},0)),be=ge.buffer,je=new DataView(be),ze=0;return le(de.flavor),he(de.numTables),he(K),he(V),he(re),Q.forEach(function(Ie){le(Ie.tag),le(Ie.origChecksum),le(pe),le(Ie.origLength),Ie.outOffset=pe,(pe+=Ie.origLength)%4!=0&&(pe+=4-pe%4)}),Q.forEach(function(Ie){var ye,we=X.slice(Ie.offset,Ie.offset+Ie.compLength);if(Ie.compLength!=Ie.origLength){var ee=new Uint8Array(Ie.origLength);ye=new Uint8Array(we,2),N(ye,ee)}else ee=new Uint8Array(we);ge.set(ee,Ie.outOffset);var Je=0;(pe=Ie.outOffset+Ie.origLength)%4!=0&&(Je=4-pe%4),ge.set(new Uint8Array(Je).buffer,Ie.outOffset+Ie.origLength),me=pe+Je}),be.slice(0,me)},Object.defineProperty(r,"__esModule",{value:!0}),r}({}).convert_streams}function ZY(r,e){const t={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,s=4,o=8,l=16,u=32;let d;function p(H){if(!d){const F={R:a,L:i,D:s,C:l,U:u,T:o};d=new Map;for(let N in n){let L=0;n[N].split(",").forEach(G=>{let[X,Y]=G.split("+");X=parseInt(X,36),Y=Y?parseInt(Y,36):0,d.set(L+=X,F[N]);for(let J=Y;J--;)d.set(++L,F[N])})}}return d.get(H)||u}const v=1,y=2,x=3,A=4,S=[null,"isol","init","fina","medi"];function E(H){const F=new Uint8Array(H.length);let N=u,L=v,G=-1;for(let X=0;X<H.length;X++){const Y=H.codePointAt(X);let J=p(Y)|0,ae=v;J&o||(N&(i|s|l)?J&(a|s|l)?(ae=x,(L===v||L===x)&&F[G]++):J&(i|u)&&(L===y||L===A)&&F[G]--:N&(a|u)&&(L===y||L===A)&&F[G]--,L=F[X]=ae,N=J,G=X,Y>65535&&X++)}return F}function M(H,F){const N=[];for(let G=0;G<F.length;G++){const X=F.codePointAt(G);X>65535&&G++,N.push(r.U.codeToGlyph(H,X))}const L=H.GSUB;if(L){const{lookupList:G,featureList:X}=L;let Y;const J=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ae=[];X.forEach($=>{if(J.test($.tag))for(let he=0;he<$.tab.length;he++){if(ae[$.tab[he]])continue;ae[$.tab[he]]=!0;const le=G[$.tab[he]],de=/^(isol|init|fina|medi)$/.test($.tag);de&&!Y&&(Y=E(F));for(let V=0;V<N.length;V++)(!Y||!de||S[Y[V]]===$.tag)&&r.U._applySubs(N,V,le,G)}})}return N}function R(H,F){const N=new Int16Array(F.length*3);let L=0;for(;L<F.length;L++){const J=F[L];if(J===-1)continue;N[L*3+2]=H.hmtx.aWidth[J];const ae=H.GPOS;if(ae){const $=ae.lookupList;for(let he=0;he<$.length;he++){const le=$[he];for(let de=0;de<le.tabs.length;de++){const V=le.tabs[de];if(le.ltype===1){if(r._lctf.coverageIndex(V.coverage,J)!==-1&&V.pos){Y(V.pos,L);break}}else if(le.ltype===2){let K=null,re=G();if(re!==-1){const pe=r._lctf.coverageIndex(V.coverage,F[re]);if(pe!==-1){if(V.fmt===1){const Q=V.pairsets[pe];for(let ce=0;ce<Q.length;ce++)Q[ce].gid2===J&&(K=Q[ce])}else if(V.fmt===2){const Q=r.U._getGlyphClass(F[re],V.classDef1),ce=r.U._getGlyphClass(J,V.classDef2);K=V.matrix[Q][ce]}if(K){K.val1&&Y(K.val1,re),K.val2&&Y(K.val2,L);break}}}}else if(le.ltype===4){const K=r._lctf.coverageIndex(V.markCoverage,J);if(K!==-1){const re=G(X),pe=re===-1?-1:r._lctf.coverageIndex(V.baseCoverage,F[re]);if(pe!==-1){const Q=V.markArray[K],ce=V.baseArray[pe][Q.markClass];N[L*3]=ce.x-Q.x+N[re*3]-N[re*3+2],N[L*3+1]=ce.y-Q.y+N[re*3+1];break}}}else if(le.ltype===6){const K=r._lctf.coverageIndex(V.mark1Coverage,J);if(K!==-1){const re=G();if(re!==-1){const pe=F[re];if(w(H,pe)===3){const Q=r._lctf.coverageIndex(V.mark2Coverage,pe);if(Q!==-1){const ce=V.mark1Array[K],me=V.mark2Array[Q][ce.markClass];N[L*3]=me.x-ce.x+N[re*3]-N[re*3+2],N[L*3+1]=me.y-ce.y+N[re*3+1];break}}}}}}}}else if(H.kern&&!H.cff){const $=G();if($!==-1){const he=H.kern.glyph1.indexOf(F[$]);if(he!==-1){const le=H.kern.rval[he].glyph2.indexOf(J);le!==-1&&(N[$*3+2]+=H.kern.rval[he].vals[le])}}}}return N;function G(J){for(let ae=L-1;ae>=0;ae--)if(F[ae]!==-1&&(!J||J(F[ae])))return ae;return-1}function X(J){return w(H,J)===1}function Y(J,ae){for(let $=0;$<3;$++)N[ae*3+$]+=J[$]||0}}function w(H,F){const N=H.GDEF&&H.GDEF.glyphClassDef;return N?r.U._getGlyphClass(F,N):0}function I(...H){for(let F=0;F<H.length;F++)if(typeof H[F]=="number")return H[F]}function U(H){const F=Object.create(null),N=H["OS/2"],L=H.hhea,G=H.head.unitsPerEm,X=I(N&&N.sTypoAscender,L&&L.ascender,G),Y={unitsPerEm:G,ascender:X,descender:I(N&&N.sTypoDescender,L&&L.descender,0),capHeight:I(N&&N.sCapHeight,X),xHeight:I(N&&N.sxHeight,X),lineGap:I(N&&N.sTypoLineGap,L&&L.lineGap),supportsCodePoint(J){return r.U.codeToGlyph(H,J)>0},forEachGlyph(J,ae,$,he){let le=0;const de=1/Y.unitsPerEm*ae,V=M(H,J);let K=0;const re=R(H,V);return V.forEach((pe,Q)=>{if(pe!==-1){let ce=F[pe];if(!ce){const{cmds:me,crds:ge}=r.U.glyphToPath(H,pe);let be="",je=0;for(let ee=0,Je=me.length;ee<Je;ee++){const Ne=t[me[ee]];be+=me[ee];for(let Xe=1;Xe<=Ne;Xe++)be+=(Xe>1?",":"")+ge[je++]}let ze,Ie,ye,we;if(ge.length){ze=Ie=1/0,ye=we=-1/0;for(let ee=0,Je=ge.length;ee<Je;ee+=2){let Ne=ge[ee],Xe=ge[ee+1];Ne<ze&&(ze=Ne),Xe<Ie&&(Ie=Xe),Ne>ye&&(ye=Ne),Xe>we&&(we=Xe)}}else ze=ye=Ie=we=0;ce=F[pe]={index:pe,advanceWidth:H.hmtx.aWidth[pe],xMin:ze,yMin:Ie,xMax:ye,yMax:we,path:be}}he.call(null,ce,le+re[Q*3]*de,re[Q*3+1]*de,K),le+=re[Q*3+2]*de,$&&(le+=$*ae)}K+=J.codePointAt(K)>65535?2:1}),le}};return Y}return function(F){const N=new Uint8Array(F,0,4),L=r._bin.readASCII(N,0,4);if(L==="wOFF")F=e(F);else if(L==="wOF2")throw new Error("woff2 fonts not supported");return U(r.parse(F)[0])}}const $Y=Hg({name:"Typr Font Parser",dependencies:[KY,JY,ZY],init(r,e,t){const n=r(),i=e();return t(n,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function QY(){return function(r){var e=function(){this.buckets=new Map};e.prototype.add=function(R){var w=R>>5;this.buckets.set(w,(this.buckets.get(w)||0)|1<<(31&R))},e.prototype.has=function(R){var w=this.buckets.get(R>>5);return w!==void 0&&(w&1<<(31&R))!=0},e.prototype.serialize=function(){var R=[];return this.buckets.forEach(function(w,I){R.push((+I).toString(36)+":"+w.toString(36))}),R.join(",")},e.prototype.deserialize=function(R){var w=this;this.buckets.clear(),R.split(",").forEach(function(I){var U=I.split(":");w.buckets.set(parseInt(U[0],36),parseInt(U[1],36))})};var t=Math.pow(2,8),n=t-1,i=~n;function a(R){var w=function(U){return U&i}(R).toString(16),I=function(U){return(U&i)+t-1}(R).toString(16);return"codepoint-index/plane"+(R>>16)+"/"+w+"-"+I+".json"}function s(R,w){var I=R&n,U=w.codePointAt(I/6|0);return((U=(U||48)-48)&1<<I%6)!=0}function o(R,w){var I;(I=R,I.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(U){return U.split("-").map(function(H){return parseInt(H.trim(),16)})})).forEach(function(U){var H=U[0],F=U[1];F===void 0&&(F=H),w(H,F)})}function l(R,w){o(R,function(I,U){for(var H=I;H<=U;H++)w(H)})}var u={},d={},p=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(R){var w=p.get(R);return w||(w=new e,l(R.ranges,function(I){return w.add(I)}),p.set(R,w)),w}var x,A=new Map;function S(R,w,I){return R[w]?w:R[I]?I:function(U){for(var H in U)return H}(R)}function E(R,w){var I=w;if(!R.includes(I)){I=1/0;for(var U=0;U<R.length;U++)Math.abs(R[U]-w)<Math.abs(I-w)&&(I=R[U])}return I}function M(R){return x||(x=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(w){x.add(w)})),x.has(R)}return r.CodePointSet=e,r.clearCache=function(){u={},d={}},r.getFontsForString=function(R,w){w===void 0&&(w={});var I,U=w.lang;U===void 0&&(U=new RegExp("\\p{Script=Hangul}","u").test(I=R)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(I)?"ja":"en");var H=w.category;H===void 0&&(H="sans-serif");var F=w.style;F===void 0&&(F="normal");var N=w.weight;N===void 0&&(N=400);var L=(w.dataUrl||v).replace(/\/$/g,""),G=new Map,X=new Uint8Array(R.length),Y={},J={},ae=new Array(R.length),$=new Map,he=!1;function le(K){var re=A.get(K);return re||(re=fetch(L+"/"+K).then(function(pe){if(!pe.ok)throw new Error(pe.statusText);return pe.json().then(function(Q){if(!Array.isArray(Q)||Q[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Q[0]);return Q[1]})}).catch(function(pe){if(L!==v)return he||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+L+'", trying default CDN. '+pe.message),he=!0),L=v,A.delete(K),le(K);throw pe}),A.set(K,re)),re}for(var de=function(K){var re=R.codePointAt(K),pe=a(re);ae[K]=pe,u[pe]||$.has(pe)||$.set(pe,le(pe).then(function(Q){u[pe]=Q})),re>65535&&(K++,V=K)},V=0;V<R.length;V++)de(V);return Promise.all($.values()).then(function(){$.clear();for(var K=function(pe){var Q=R.codePointAt(pe),ce=null,me=u[ae[pe]],ge=void 0;for(var be in me){var je=J[be];if(je===void 0&&(je=J[be]=new RegExp(be).test(U||"en")),je){for(var ze in ge=be,me[be])if(s(Q,me[be][ze])){ce=ze;break}break}}if(!ce){e:for(var Ie in me)if(Ie!==ge){for(var ye in me[Ie])if(s(Q,me[Ie][ye])){ce=ye;break e}}}ce||(console.debug("No font coverage for U+"+Q.toString(16)),ce="latin"),ae[pe]=ce,d[ce]||$.has(ce)||$.set(ce,le("font-meta/"+ce+".json").then(function(we){d[ce]=we})),Q>65535&&(pe++,re=pe)},re=0;re<R.length;re++)K(re);return Promise.all($.values())}).then(function(){for(var K,re=null,pe=0;pe<R.length;pe++){var Q=R.codePointAt(pe);if(re&&(M(Q)||y(re).has(Q)))X[pe]=X[pe-1];else{re=d[ae[pe]];var ce=Y[re.id];if(!ce){var me=re.typeforms,ge=S(me,H,"sans-serif"),be=S(me[ge],F,"normal"),je=E((K=me[ge])===null||K===void 0?void 0:K[be],N);ce=Y[re.id]=L+"/font-files/"+re.id+"/"+ge+"."+be+"."+je+".woff"}var ze=G.get(ce);ze==null&&(ze=G.size,G.set(ce,ze)),X[pe]=ze}Q>65535&&(pe++,X[pe]=X[pe-1])}return{fontUrls:Array.from(G.keys()),chars:X}})},Object.defineProperty(r,"__esModule",{value:!0}),r}({})}function eq(r,e){const t=Object.create(null),n=Object.create(null);function i(s,o){const l=u=>{console.error(`Failure loading font ${s}`,u)};try{const u=new XMLHttpRequest;u.open("get",s,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const d=r(u.response);d.src=s,o(d)}catch(d){l(d)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(s,o){let l=t[s];l?o(l):n[s]?n[s].push(o):(n[s]=[o],i(s,u=>{u.src=s,t[s]=u,n[s].forEach(d=>d(u)),delete n[s]}))}return function(s,o,{lang:l,fonts:u=[],style:d="normal",weight:p="normal",unicodeFontsURL:v}={}){const y=new Uint8Array(s.length),x=[];s.length||M();const A=new Map,S=[];if(d!=="italic"&&(d="normal"),typeof p!="number"&&(p=p==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(w=>!w.lang||w.lang.test(l)).reverse(),u.length){let H=0;(function F(N=0){for(let L=N,G=s.length;L<G;L++){const X=s.codePointAt(L);if(H===1&&x[y[L-1]].supportsCodePoint(X)||L>0&&/\s/.test(s[L]))y[L]=y[L-1],H===2&&(S[S.length-1][1]=L);else for(let Y=y[L],J=u.length;Y<=J;Y++)if(Y===J){const ae=H===2?S[S.length-1]:S[S.length]=[L,L];ae[1]=L,H=2}else{y[L]=Y;const{src:ae,unicodeRange:$}=u[Y];if(!$||R(X,$)){const he=t[ae];if(!he){a(ae,()=>{F(L)});return}if(he.supportsCodePoint(X)){let le=A.get(he);typeof le!="number"&&(le=x.length,x.push(he),A.set(he,le)),y[L]=le,H=1;break}}}X>65535&&L+1<G&&(y[L+1]=y[L],L++,H===2&&(S[S.length-1][1]=L))}E()})()}else S.push([0,s.length-1]),E();function E(){if(S.length){const w=S.map(I=>s.substring(I[0],I[1]+1)).join(`
`);e.getFontsForString(w,{lang:l||void 0,style:d,weight:p,dataUrl:v}).then(({fontUrls:I,chars:U})=>{const H=x.length;let F=0;S.forEach(L=>{for(let G=0,X=L[1]-L[0];G<=X;G++)y[L[0]+G]=U[F++]+H;F++});let N=0;I.forEach((L,G)=>{a(L,X=>{x[G+H]=X,++N===I.length&&M()})})})}else M()}function M(){o({chars:y,fonts:x})}function R(w,I){for(let U=0;U<I.length;U++){const[H,F=H]=I[U];if(H<=w&&w<=F)return!0}return!1}}}const tq=Hg({name:"FontResolver",dependencies:[eq,$Y,QY],init(r,e,t){return r(e,t())}});function nq(r,e){const n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:x,lang:A,fonts:S,style:E,weight:M,preResolvedFonts:R,unicodeFontsURL:w},I){const U=({chars:H,fonts:F})=>{let N,L;const G=[];for(let X=0;X<H.length;X++)H[X]!==L?(L=H[X],G.push(N={start:X,end:X,fontObj:F[H[X]]})):N.end=X;I(G)};R?U(R):r(x,U,{lang:A,fonts:S,style:E,weight:M,unicodeFontsURL:w})}function o({text:x="",font:A,lang:S,sdfGlyphSize:E=64,fontSize:M=400,fontWeight:R=1,fontStyle:w="normal",letterSpacing:I=0,lineHeight:U="normal",maxWidth:H=1/0,direction:F,textAlign:N="left",textIndent:L=0,whiteSpace:G="normal",overflowWrap:X="normal",anchorX:Y=0,anchorY:J=0,metricsOnly:ae=!1,unicodeFontsURL:$,preResolvedFonts:he=null,includeCaretPositions:le=!1,chunkedBoundsSize:de=8192,colorRanges:V=null},K){const re=p(),pe={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),M=+M,I=+I,H=+H,U=U||"normal",L=+L,s({text:x,lang:S,style:w,weight:R,fonts:typeof A=="string"?[{src:A}]:A,unicodeFontsURL:$,preResolvedFonts:he},Q=>{pe.fontLoad=p()-re;const ce=isFinite(H);let me=null,ge=null,be=null,je=null,ze=null,Ie=null,ye=null,we=null,ee=0,Je=0,Ne=G!=="nowrap";const Xe=new Map,Be=p();let st=L,Ge=0,Z=new v;const j=[Z];Q.forEach(Ye=>{const{fontObj:et}=Ye,{ascender:at,descender:Ct,unitsPerEm:ot,lineGap:_t,capHeight:Ze,xHeight:tt}=et;let Ke=Xe.get(et);if(!Ke){const De=M/ot,Pe=U==="normal"?(at-Ct+_t)*De:U*M,lt=(Pe-(at-Ct)*De)/2,gt=Math.min(Pe,(at-Ct)*De),pt=(at+Ct)/2*De+gt/2;Ke={index:Xe.size,src:et.src,fontObj:et,fontSizeMult:De,unitsPerEm:ot,ascender:at*De,descender:Ct*De,capHeight:Ze*De,xHeight:tt*De,lineHeight:Pe,baseline:-lt-at*De,caretTop:pt,caretBottom:pt-gt},Xe.set(et,Ke)}const{fontSizeMult:wt}=Ke,xt=x.slice(Ye.start,Ye.end+1);let It,Ee;et.forEachGlyph(xt,M,I,(De,Pe,lt,gt)=>{Pe+=Ge,gt+=Ye.start,It=Pe,Ee=De;const pt=x.charAt(gt),Pt=De.advanceWidth*wt,tn=Z.count;let Gt;if("isEmpty"in De||(De.isWhitespace=!!pt&&new RegExp(i).test(pt),De.canBreakAfter=!!pt&&a.test(pt),De.isEmpty=De.xMin===De.xMax||De.yMin===De.yMax||n.test(pt)),!De.isWhitespace&&!De.isEmpty&&Je++,Ne&&ce&&!De.isWhitespace&&Pe+Pt+st>H&&tn){if(Z.glyphAt(tn-1).glyphObj.canBreakAfter)Gt=new v,st=-Pe;else for(let jn=tn;jn--;)if(jn===0&&X==="break-word"){Gt=new v,st=-Pe;break}else if(Z.glyphAt(jn).glyphObj.canBreakAfter){Gt=Z.splitAt(jn+1);const zn=Gt.glyphAt(0).x;st-=zn;for(let hi=Gt.count;hi--;)Gt.glyphAt(hi).x-=zn;break}Gt&&(Z.isSoftWrapped=!0,Z=Gt,j.push(Z),ee=H)}let Xt=Z.glyphAt(Z.count);Xt.glyphObj=De,Xt.x=Pe+st,Xt.y=lt,Xt.width=Pt,Xt.charIndex=gt,Xt.fontData=Ke,pt===`
`&&(Z=new v,j.push(Z),st=-(Pe+Pt+I*M)+L)}),Ge=It+Ee.advanceWidth*wt+I*M});let se=0;j.forEach(Ye=>{let et=!0;for(let at=Ye.count;at--;){const Ct=Ye.glyphAt(at);et&&!Ct.glyphObj.isWhitespace&&(Ye.width=Ct.x+Ct.width,Ye.width>ee&&(ee=Ye.width),et=!1);let{lineHeight:ot,capHeight:_t,xHeight:Ze,baseline:tt}=Ct.fontData;ot>Ye.lineHeight&&(Ye.lineHeight=ot);const Ke=tt-Ye.baseline;Ke<0&&(Ye.baseline+=Ke,Ye.cap+=Ke,Ye.ex+=Ke),Ye.cap=Math.max(Ye.cap,Ye.baseline+_t),Ye.ex=Math.max(Ye.ex,Ye.baseline+Ze)}Ye.baseline-=se,Ye.cap-=se,Ye.ex-=se,se+=Ye.lineHeight});let ve=0,Me=0;if(Y&&(typeof Y=="number"?ve=-Y:typeof Y=="string"&&(ve=-ee*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:u(Y)))),J&&(typeof J=="number"?Me=-J:typeof J=="string"&&(Me=J==="top"?0:J==="top-baseline"?-j[0].baseline:J==="top-cap"?-j[0].cap:J==="top-ex"?-j[0].ex:J==="middle"?se/2:J==="bottom"?se:J==="bottom-baseline"?-j[j.length-1].baseline:u(J)*se)),!ae){const Ye=e.getEmbeddingLevels(x,F);me=new Uint16Array(Je),ge=new Uint8Array(Je),be=new Float32Array(Je*2),je={},ye=[1/0,1/0,-1/0,-1/0],we=[],le&&(Ie=new Float32Array(x.length*4)),V&&(ze=new Uint8Array(Je*3));let et=0,at=-1,Ct=-1,ot,_t;if(j.forEach((Ze,tt)=>{let{count:Ke,width:wt}=Ze;if(Ke>0){let xt=0;for(let gt=Ke;gt--&&Ze.glyphAt(gt).glyphObj.isWhitespace;)xt++;let It=0,Ee=0;if(N==="center")It=(ee-wt)/2;else if(N==="right")It=ee-wt;else if(N==="justify"&&Ze.isSoftWrapped){let gt=0;for(let pt=Ke-xt;pt--;)Ze.glyphAt(pt).glyphObj.isWhitespace&&gt++;Ee=(ee-wt)/gt}if(Ee||It){let gt=0;for(let pt=0;pt<Ke;pt++){let Pt=Ze.glyphAt(pt);const tn=Pt.glyphObj;Pt.x+=It+gt,Ee!==0&&tn.isWhitespace&&pt<Ke-xt&&(gt+=Ee,Pt.width+=Ee)}}const De=e.getReorderSegments(x,Ye,Ze.glyphAt(0).charIndex,Ze.glyphAt(Ze.count-1).charIndex);for(let gt=0;gt<De.length;gt++){const[pt,Pt]=De[gt];let tn=1/0,Gt=-1/0;for(let Xt=0;Xt<Ke;Xt++)if(Ze.glyphAt(Xt).charIndex>=pt){let jn=Xt,zn=Xt;for(;zn<Ke;zn++){let hi=Ze.glyphAt(zn);if(hi.charIndex>Pt)break;zn<Ke-xt&&(tn=Math.min(tn,hi.x),Gt=Math.max(Gt,hi.x+hi.width))}for(let hi=jn;hi<zn;hi++){const ji=Ze.glyphAt(hi);ji.x=Gt-(ji.x+ji.width-tn)}break}}let Pe;const lt=gt=>Pe=gt;for(let gt=0;gt<Ke;gt++){const pt=Ze.glyphAt(gt);Pe=pt.glyphObj;const Pt=Pe.index,tn=Ye.levels[pt.charIndex]&1;if(tn){const Gt=e.getMirroredCharacter(x[pt.charIndex]);Gt&&pt.fontData.fontObj.forEachGlyph(Gt,0,0,lt)}if(le){const{charIndex:Gt,fontData:Xt}=pt,jn=pt.x+ve,zn=pt.x+pt.width+ve;Ie[Gt*4]=tn?zn:jn,Ie[Gt*4+1]=tn?jn:zn,Ie[Gt*4+2]=Ze.baseline+Xt.caretBottom+Me,Ie[Gt*4+3]=Ze.baseline+Xt.caretTop+Me;const hi=Gt-at;hi>1&&d(Ie,at,hi),at=Gt}if(V){const{charIndex:Gt}=pt;for(;Gt>Ct;)Ct++,V.hasOwnProperty(Ct)&&(_t=V[Ct])}if(!Pe.isWhitespace&&!Pe.isEmpty){const Gt=et++,{fontSizeMult:Xt,src:jn,index:zn}=pt.fontData,hi=je[jn]||(je[jn]={});hi[Pt]||(hi[Pt]={path:Pe.path,pathBounds:[Pe.xMin,Pe.yMin,Pe.xMax,Pe.yMax]});const ji=pt.x+ve,vi=pt.y+Ze.baseline+Me;be[Gt*2]=ji,be[Gt*2+1]=vi;const Ei=ji+Pe.xMin*Xt,Xi=vi+Pe.yMin*Xt,Ti=ji+Pe.xMax*Xt,kt=vi+Pe.yMax*Xt;Ei<ye[0]&&(ye[0]=Ei),Xi<ye[1]&&(ye[1]=Xi),Ti>ye[2]&&(ye[2]=Ti),kt>ye[3]&&(ye[3]=kt),Gt%de===0&&(ot={start:Gt,end:Gt,rect:[1/0,1/0,-1/0,-1/0]},we.push(ot)),ot.end++;const bn=ot.rect;if(Ei<bn[0]&&(bn[0]=Ei),Xi<bn[1]&&(bn[1]=Xi),Ti>bn[2]&&(bn[2]=Ti),kt>bn[3]&&(bn[3]=kt),me[Gt]=Pt,ge[Gt]=zn,V){const sn=Gt*3;ze[sn]=_t>>16&255,ze[sn+1]=_t>>8&255,ze[sn+2]=_t&255}}}}}),Ie){const Ze=x.length-at;Ze>1&&d(Ie,at,Ze)}}const Le=[];Xe.forEach(({index:Ye,src:et,unitsPerEm:at,ascender:Ct,descender:ot,lineHeight:_t,capHeight:Ze,xHeight:tt})=>{Le[Ye]={src:et,unitsPerEm:at,ascender:Ct,descender:ot,lineHeight:_t,capHeight:Ze,xHeight:tt}}),pe.typesetting=p()-Be,K({glyphIds:me,glyphFontIndices:ge,glyphPositions:be,glyphData:je,fontData:Le,caretPositions:Ie,glyphColors:ze,chunkedBounds:we,fontSize:M,topBaseline:Me+j[0].baseline,blockBounds:[ve,Me-se,ve+ee,Me],visibleBounds:ye,timings:pe})})}function l(x,A){o({...x,metricsOnly:!0},S=>{const[E,M,R,w]=S.blockBounds;A({width:R-E,height:w-M})})}function u(x){let A=x.match(/^([\d.]+)%$/),S=A?parseFloat(A[1]):NaN;return isNaN(S)?0:S/100}function d(x,A,S){const E=x[A*4],M=x[A*4+1],R=x[A*4+2],w=x[A*4+3],I=(M-E)/S;for(let U=0;U<S;U++){const H=(A+U)*4;x[H]=E+I*U,x[H+1]=E+I*(U+1),x[H+2]=R,x[H+3]=w}}function p(){return(self.performance||Date).now()}function v(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(x){let A=v.flyweight;return A.data=this.data,A.index=x,A},splitAt(x){let A=new v;return A.data=this.data.splice(x*y.length),A}},v.flyweight=y.reduce((x,A,S,E)=>(Object.defineProperty(x,A,{get(){return this.data[this.index*y.length+S]},set(M){this.data[this.index*y.length+S]=M}}),x),{data:null,index:0}),{typeset:o,measure:l}}const sp=()=>(self.performance||Date).now(),s2=e4();let BB;function iq(r,e,t,n,i,a,s,o,l,u,d=!0){return d?aq(r,e,t,n,i,a,s,o,l,u).then(null,p=>(BB||(console.warn("WebGL SDF generation failed, falling back to JS",p),BB=!0),NB(r,e,t,n,i,a,s,o,l,u))):NB(r,e,t,n,i,a,s,o,l,u)}const kx=[],rq=5;let $T=0;function n4(){const r=sp();for(;kx.length&&sp()-r<rq;)kx.shift()();$T=kx.length?setTimeout(n4,0):0}const aq=(...r)=>new Promise((e,t)=>{kx.push(()=>{const n=sp();try{s2.webgl.generateIntoCanvas(...r),e({timing:sp()-n})}catch(i){t(i)}}),$T||($T=setTimeout(n4,0))}),sq=4,oq=2e3,OB={};let lq=0;function NB(r,e,t,n,i,a,s,o,l,u){const d="TroikaTextSDFGenerator_JS_"+lq++%sq;let p=OB[d];return p||(p=OB[d]={workerModule:Hg({name:d,workerId:d,dependencies:[e4,sp],init(v,y){const x=v().javascript.generate;return function(...A){const S=y();return{textureData:x(...A),timing:y()-S}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),p.requests++,clearTimeout(p.idleTimer),p.workerModule(r,e,t,n,i,a).then(({textureData:v,timing:y})=>{const x=sp(),A=new Uint8Array(v.length*4);for(let S=0;S<v.length;S++)A[S*4+u]=v[S];return s2.webglUtils.renderImageData(s,A,o,l,r,e,1<<3-u),y+=sp()-x,--p.requests===0&&(p.idleTimer=setTimeout(()=>{HY(d)},oq)),{timing:y}})}function cq(r){r._warm||(s2.webgl.isSupported(r),r._warm=!0)}const uq=s2.webglUtils.resizeWebGLCanvasWithoutClearing,Mv={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},fq=new Rt;function Ym(){return(self.performance||Date).now()}const UB=Object.create(null);function i4(r,e){r=pq({},r);const t=Ym(),n=[];if(r.font&&n.push({label:"user",src:mq(r.font)}),r.font=n,r.text=""+r.text,r.sdfGlyphSize=r.sdfGlyphSize||Mv.sdfGlyphSize,r.unicodeFontsURL=r.unicodeFontsURL||Mv.unicodeFontsURL,r.colorRanges!=null){let v={};for(let y in r.colorRanges)if(r.colorRanges.hasOwnProperty(y)){let x=r.colorRanges[y];typeof x!="number"&&(x=fq.set(x).getHex()),v[y]=x}r.colorRanges=v}Object.freeze(r);const{textureWidth:i,sdfExponent:a}=Mv,{sdfGlyphSize:s}=r,o=i/s*4;let l=UB[s];if(!l){const v=document.createElement("canvas");v.width=i,v.height=s*256/o,l=UB[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:v,sdfTexture:new ni(v,void 0,void 0,void 0,Yn,Yn),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,dq(l)}const{sdfTexture:u,sdfCanvas:d}=l;s4(r).then(v=>{const{glyphIds:y,glyphFontIndices:x,fontData:A,glyphPositions:S,fontSize:E,timings:M}=v,R=[],w=new Float32Array(y.length*4);let I=0,U=0;const H=Ym(),F=A.map(Y=>{let J=l.glyphsByFont.get(Y.src);return J||l.glyphsByFont.set(Y.src,J=new Map),J});y.forEach((Y,J)=>{const ae=x[J],{src:$,unitsPerEm:he}=A[ae];let le=F[ae].get(Y);if(!le){const{path:pe,pathBounds:Q}=v.glyphData[$][Y],ce=Math.max(Q[2]-Q[0],Q[3]-Q[1])/s*(Mv.sdfMargin*s+.5),me=l.glyphCount++,ge=[Q[0]-ce,Q[1]-ce,Q[2]+ce,Q[3]+ce];F[ae].set(Y,le={path:pe,atlasIndex:me,sdfViewBox:ge}),R.push(le)}const{sdfViewBox:de}=le,V=S[U++],K=S[U++],re=E/he;w[I++]=V+de[0]*re,w[I++]=K+de[1]*re,w[I++]=V+de[2]*re,w[I++]=K+de[3]*re,y[J]=le.atlasIndex}),M.quads=(M.quads||0)+(Ym()-H);const N=Ym();M.sdf={};const L=d.height,G=Math.ceil(l.glyphCount/o),X=Math.pow(2,Math.ceil(Math.log2(G*s)));X>L&&(console.info(`Increasing SDF texture size ${L}->${X}`),uq(d,i,X),u.dispose()),Promise.all(R.map(Y=>r4(Y,l,r.gpuAccelerateSDF).then(({timing:J})=>{M.sdf[Y.atlasIndex]=J}))).then(()=>{R.length&&!l.contextLost&&(a4(l),u.needsUpdate=!0),M.sdfTotal=Ym()-N,M.total=Ym()-t,e(Object.freeze({parameters:r,sdfTexture:u,sdfGlyphSize:s,sdfExponent:a,glyphBounds:w,glyphAtlasIndices:y,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{l.contextLost||cq(d)})}function r4({path:r,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:n,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=Mv,u=Math.max(t[2]-t[0],t[3]-t[1]),d=Math.floor(e/4),p=d%(o/n)*n,v=Math.floor(d/(o/n))*n,y=e%4;return iq(n,n,r,t,u,l,i,p,v,y,s)}function dq(r){const e=r.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),r.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),r.contextLost=!1;const n=[];r.glyphsByFont.forEach(i=>{i.forEach(a=>{n.push(r4(a,r,!0))})}),Promise.all(n).then(()=>{a4(r),r.sdfTexture.needsUpdate=!0})})}function hq({font:r,characters:e,sdfGlyphSize:t},n){let i=Array.isArray(e)?e.join(`
`):""+e;i4({font:r,sdfGlyphSize:t,text:i},n)}function pq(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}let xx;function mq(r){return xx||(xx=typeof document>"u"?{}:document.createElement("a")),xx.href=r,xx.href}function a4(r){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=r,{width:n,height:i}=e,a=r.sdfCanvas.getContext("webgl");let s=t.image.data;(!s||s.length!==n*i*4)&&(s=new Uint8Array(n*i*4),t.image={width:n,height:i,data:s},t.flipY=!1,t.isDataTexture=!0),a.readPixels(0,0,n,i,a.RGBA,a.UNSIGNED_BYTE,s)}}const gq=Hg({name:"Typesetter",dependencies:[nq,tq,GY],init(r,e,t){return r(e,t())}}),s4=Hg({name:"Typesetter",dependencies:[gq],init(r){return function(e){return new Promise(t=>{r.typeset(e,t)})}},getTransferables(r){const e=[];for(let t in r)r[t]&&r[t].buffer&&e.push(r[t].buffer);return e}});s4.onMainThread;const LB={};function vq(r){let e=LB[r];return e||(e=LB[r]=new Yl(1,1,r,r).translate(.5,.5,0)),e}const yq="aTroikaGlyphBounds",IB="aTroikaGlyphIndex",_q="aTroikaGlyphColor";class xq extends zC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Yr,this.boundingBox=new kr}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=vq(e);["position","normal","uv"].forEach(n=>{this.attributes[n]=t.attributes[n].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,i,a){this.updateAttributeData(yq,e,4),this.updateAttributeData(IB,t,1),this.updateAttributeData(_q,a,3),this._blockBounds=n,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:i,floor:a,min:s,max:o,sin:l,cos:u}=Math,d=i/2,p=i*2,v=Math.abs(t),y=e[0]/v,x=e[2]/v,A=a((y+d)/p)!==a((x+d)/p)?-v:s(l(y)*v,l(x)*v),S=a((y-d)/p)!==a((x-d)/p)?v:o(l(y)*v,l(x)*v),E=a((y+i)/p)!==a((x+i)/p)?v*2:o(v-u(y)*v,v-u(x)*v);n.min.set(A,e[1],t<0?-E:0),n.max.set(S,e[3],t<0?0:E)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(IB).count,n=this._chunkedBounds;if(n)for(let i=n.length;i--;){t=n[i].end;let a=n[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new tf(t,n)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const bq=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Aq=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Sq=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Eq=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Tq(r){const e=ZT(r,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new mt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new $n(0,0,0,0)},uTroikaClipRect:{value:new $n(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new mt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Rt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new _n},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:bq,vertexTransform:Aq,fragmentDefs:Sq,fragmentColorTransform:Eq,customRewriter({vertexShader:t,fragmentShader:n}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(t4,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:n}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const ow=new zr({color:16777215,side:Is,transparent:!0}),PB=8421504,FB=new en,bx=new ue,CE=new ue,vv=[],Mq=new ue,wE="+x+y";function HB(r){return Array.isArray(r)?r[0]:r}let o4=()=>{const r=new Ai(new Yl(1,1),ow);return o4=()=>r,r},l4=()=>{const r=new Ai(new Yl(1,1,32,1),ow);return l4=()=>r,r};const Cq={type:"syncstart"},wq={type:"synccomplete"},c4=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Rq=c4.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let u4=class extends Ai{constructor(){const e=new xq;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=PB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=wE,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Cq),i4({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(i=>i&&i())})),this.dispatchEvent(wq),e&&e()})))}onBeforeRender(e,t,n,i,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Tq(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ow.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),this.hasOutline()){let n=e._outlineMtl;return n||(n=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),n.isTextOutlineMaterial=!0,n.depthWrite=!1,n.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),n.dispose()})),[n,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return HB(this.material).getDepthMaterial()}get customDistanceMaterial(){return HB(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;n.uTroikaSDFTexture.value=o,n.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),n.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,n.uTroikaSDFExponent.value=i.sdfExponent,n.uTroikaTotalBounds.value.fromArray(l),n.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let u=0,d=0,p=0,v,y,x,A=0,S=0;if(t){let{outlineWidth:M,outlineOffsetX:R,outlineOffsetY:w,outlineBlur:I,outlineOpacity:U}=this;u=this._parsePercent(M)||0,d=Math.max(0,this._parsePercent(I)||0),v=U,A=this._parsePercent(R)||0,S=this._parsePercent(w)||0}else p=Math.max(0,this._parsePercent(this.strokeWidth)||0),p&&(x=this.strokeColor,n.uTroikaStrokeColor.value.set(x??PB),y=this.strokeOpacity,y==null&&(y=1)),v=this.fillOpacity;n.uTroikaEdgeOffset.value=u,n.uTroikaPositionOffset.value.set(A,S),n.uTroikaBlurRadius.value=d,n.uTroikaStrokeWidth.value=p,n.uTroikaStrokeOpacity.value=y,n.uTroikaFillOpacity.value=v??1,n.uTroikaCurveRadius.value=this.curveRadius||0;let E=this.clipRect;if(E&&Array.isArray(E)&&E.length===4)n.uTroikaClipRect.value.fromArray(E);else{const M=(this.fontSize||.1)*100;n.uTroikaClipRect.value.set(l[0]-M,l[1]-M,l[2]+M,l[3]+M)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new Rt;(a!==o._input||typeof a=="object")&&o.set(o._input=a)}let s=this.orientation||wE;if(s!==e._orientation){let o=n.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let l=s!==wE&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,d,p,v]=l;bx.set(0,0,0)[d]=u==="-"?1:-1,CE.set(0,0,0)[v]=p==="-"?-1:1,FB.lookAt(Mq,bx.cross(CE),CE),o.setFromMatrix4(FB)}else o.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new mt){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new mt){return bx.copy(e),this.localPositionToTextCoords(this.worldToLocal(bx),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:i}=this;if(n){const a=n.blockBounds,s=i?l4():o4(),o=s.geometry,{position:l,uv:u}=o.attributes;for(let d=0;d<u.count;d++){let p=a[0]+u.getX(d)*(a[2]-a[0]);const v=a[1]+u.getY(d)*(a[3]-a[1]);let y=0;i&&(y=i-Math.cos(p/i)*i,p=Math.sin(p/i)*i),l.setXYZ(d,p,v,y)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,vv.length=0,s.raycast(e,vv);for(let d=0;d<vv.length;d++)vv[d].object=this,t.push(vv[d])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Rq.forEach(n=>{this[n]=e[n]}),this}clone(){return new this.constructor().copy(this)}};c4.forEach(r=>{const e="_private_"+r;Object.defineProperty(u4.prototype,r,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new kr;new Rt;const Ax=P.forwardRef(({sdfGlyphSize:r=64,anchorX:e="center",anchorY:t="middle",font:n,fontSize:i=1,children:a,characters:s,onSync:o,...l},u)=>{const d=Sd(({invalidate:x})=>x),[p]=P.useState(()=>new u4),[v,y]=P.useMemo(()=>{const x=[];let A="";return P.Children.forEach(a,S=>{typeof S=="string"||typeof S=="number"?A+=S:x.push(S)}),[x,A]},[a]);return vI(()=>new Promise(x=>hq({font:n,characters:s},x)),["troika-text",n,s]),P.useLayoutEffect(()=>void p.sync(()=>{d(),o&&o(p)})),P.useEffect(()=>()=>p.dispose(),[p]),P.createElement("primitive",cr({object:p,ref:u,font:n,text:y,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:r},l),v)});let Sx=null,f4="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function d4(r=!0,e=!0,t){return n=>{t&&t(n),r&&(Sx||(Sx=new NY),Sx.setDecoderPath(typeof r=="string"?r:f4),n.setDRACOLoader(Sx)),e&&n.setMeshoptDecoder(typeof TE=="function"?TE():TE)}}const qy=(r,e,t,n)=>yo(sw,r,d4(e,t,n));qy.preload=(r,e,t,n)=>yo.preload(sw,r,d4(e,t,n));qy.clear=r=>yo.clear(sw,r);qy.setDecoderPath=r=>{f4=r};const Dq="modulepreload",Bq=function(r){return"/"+r},zB={},h4=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=Bq(l),l in zB)return;zB[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Dq,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((v,y)=>{p.addEventListener("load",v),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},p4=(r,e,t)=>{let n;switch(r){case js:n=new Uint8ClampedArray(e*t*4);break;case ua:n=new Uint16Array(e*t*4);break;case qc:n=new Uint32Array(e*t*4);break;case yA:n=new Int8Array(e*t*4);break;case _A:n=new Int16Array(e*t*4);break;case Dy:n=new Int32Array(e*t*4);break;case or:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let Ex;const Oq=(r,e,t,n)=>{if(Ex!==void 0)return Ex;const i=new qo(1,1,n);e.setRenderTarget(i);const a=new Ai(new Yl,new zr({color:16777215}));e.render(a,t),e.setRenderTarget(null);const s=p4(r,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),a.geometry.dispose(),a.material.dispose(),Ex=s[0]!==0,Ex};class lw{constructor(e){var t,n,i,a,s,o,l,u,d,p,v,y,x,A,S,E;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(R){throw this._renderer.setRenderTarget(null),R}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const M={format:Dr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:Yn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Yn,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:xr,wrapT:((x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT)!==void 0?(A=e.renderTargetOptions)===null||A===void 0?void 0:A.wrapT:xr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=lw.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Iy,this._camera=new Ld,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Oq(this._type,this._renderer,this._camera,M)){let R;switch(this._type){case ua:R=this._renderer.extensions.has("EXT_color_buffer_float")?or:void 0;break}R!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${or}`),this._type=R):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ai(new Yl,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new qo(this.width,this.height,M),this._renderTarget.texture.mapping=((S=e.renderTargetOptions)===null||S===void 0?void 0:S.mapping)!==void 0?(E=e.renderTargetOptions)===null||E===void 0?void 0:E.mapping:xd}static instantiateRenderer(){const e=new JC;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=p4(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new zl(this.toArray(),this.width,this.height,Dr,this._type,(e==null?void 0:e.mapping)||xd,(e==null?void 0:e.wrapS)||xr,(e==null?void 0:e.wrapT)||xr,(e==null?void 0:e.magFilter)||Yn,(e==null?void 0:e.minFilter)||Yn,(e==null?void 0:e.anisotropy)||1,Or);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Xs&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof ni&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof ni&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Nq=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Uq=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Lq extends Xs{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:i,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:o,hdrCapacityMax:l,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Nq,fragmentShader:Uq,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new ue(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new ue().fromArray(t)},offsetSdr:{value:new ue().fromArray(n)},gainMapMin:{value:new ue().fromArray(i)},gainMapMax:{value:new ue().fromArray(a)},weightFactor:{value:(Math.log2(s)-o)/(l-o)}},blending:kc,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class m4 extends Error{}class g4 extends Error{}const yv=(r,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(r);if(n)return n[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(r);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Iq=r=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(r):e=r.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),i=e.slice(t,n+10);try{const a=yv(i,"hdrgm:GainMapMin","0"),s=yv(i,"hdrgm:GainMapMax"),o=yv(i,"hdrgm:Gamma","1"),l=yv(i,"hdrgm:OffsetSDR","0.015625"),u=yv(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),p=d?d[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!v)throw new Error("Incomplete gainmap metadata");const y=v[1];return{gainMapMin:Array.isArray(a)?a.map(x=>parseFloat(x)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(x=>parseFloat(x)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(o)?o.map(x=>parseFloat(x)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(x=>parseFloat(x)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(x=>parseFloat(x)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(p),hdrCapacityMax:parseFloat(y)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class Pq{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const s=a.byteLength;let o=2,l=0,u;for(;o<s;){if(++l>250){n(new Error(`Found no marker after ${l} loops `));return}if(a.getUint8(o)!==255){n(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${a.getUint8(o).toString(16)}`));return}if(u=a.getUint8(o+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const d=o+4;if(a.getUint32(d)===1297106432){const p=d+4;let v;if(a.getUint16(p)===18761)v=!1;else if(a.getUint16(p)===19789)v=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(p+2,!v)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=a.getUint32(p+4,!v);if(y<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const x=p+y,A=a.getUint16(x,!v),S=x+2;let E=0;for(let I=S;I<S+12*A;I+=12)a.getUint16(I,!v)===45057&&(E=a.getUint32(I+8,!v));const R=x+2+A*12+4,w=[];for(let I=R;I<R+E*16;I+=16){const U={MPType:a.getUint32(I,!v),size:a.getUint32(I+4,!v),dataOffset:a.getUint32(I+8,!v),dependantImages:a.getUint32(I+12,!v),start:-1,end:-1,isFII:!1};U.dataOffset?(U.start=p+U.dataOffset,U.isFII=!1):(U.start=0,U.isFII=!0),U.end=U.start+U.size,w.push(U)}if(this.options.extractNonFII&&w.length){const I=new Blob([a]),U=[];for(const H of w){if(H.isFII&&!this.options.extractFII)continue;const F=I.slice(H.start,H.end+1,"image/jpeg");U.push(F)}t(U)}}}o+=2+a.getUint16(o+2)}})}}const Fq=async r=>{const e=Iq(r);if(!e)throw new g4("Gain map XMP metadata not found");const n=await new Pq({extractFII:!0,extractNonFII:!0}).extract(r);if(n.length!==2)throw new m4("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},GB=r=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=i=>{t(i)},n.src=URL.createObjectURL(r)});class v4 extends Jr{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new ZA}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Lq({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ni,sdr:new ni});return new lw({width:16,height:16,type:ua,colorSpace:Or,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,i){const a=i?new Blob([i],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let o,l,u=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([a?GB(a):Promise.resolve(void 0),GB(s)]);l=v[0],o=v[1],u=!0}else{const v=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);l=v[0],o=v[1]}const d=new ni(l||new ImageData(2,2),xd,xr,xr,Yn,wT,Dr,js,1,Or);d.flipY=u,d.needsUpdate=!0;const p=new ni(o,xd,xr,xr,Yn,wT,Dr,js,1,Ii);p.flipY=u,p.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=d,e.material.sdr=p,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Hq extends v4{load([e,t,n],i,a,s){const o=this.prepareQuadRenderer();let l,u,d;const p=async()=>{if(l&&u&&d){try{await this.render(o,d,l,u)}catch(N){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),typeof s=="function"&&s(N),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),o.disposeOnDemandRenderer()}};let v=!0,y=0,x=0,A=!0,S=0,E=0,M=!0,R=0,w=0;const I=()=>{if(typeof a=="function"){const N=y+S+R,L=x+E+w,G=v&&A&&M;a(new ProgressEvent("progress",{lengthComputable:G,loaded:L,total:N}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const U=new Br(this._internalLoadingManager);U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(e,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");l=N,await p()},N=>{v=N.lengthComputable,x=N.loaded,y=N.total,I()},N=>{this.manager.itemError(e),typeof s=="function"&&s(N)});const H=new Br(this._internalLoadingManager);H.setResponseType("arraybuffer"),H.setRequestHeader(this.requestHeader),H.setPath(this.path),H.setWithCredentials(this.withCredentials),H.load(t,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");u=N,await p()},N=>{A=N.lengthComputable,E=N.loaded,S=N.total,I()},N=>{this.manager.itemError(t),typeof s=="function"&&s(N)});const F=new Br(this._internalLoadingManager);return F.setRequestHeader(this.requestHeader),F.setPath(this.path),F.setWithCredentials(this.withCredentials),F.load(n,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");d=JSON.parse(N),await p()},N=>{M=N.lengthComputable,w=N.loaded,R=N.total,I()},N=>{this.manager.itemError(n),typeof s=="function"&&s(N)}),o}}class zq extends v4{load(e,t,n,i){const a=this.prepareQuadRenderer(),s=new Br(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let u,d,p;try{const v=await Fq(l);u=v.sdr,d=v.gainMap,p=v.metadata}catch(v){if(v instanceof g4||v instanceof m4)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),p={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw v}try{await this.render(a,p,u,d)}catch(v){this.manager.itemError(e),typeof i=="function"&&i(v),a.disposeOnDemandRenderer();return}typeof t=="function"&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},n,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),a}}const hy={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},y4="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",cg=r=>Array.isArray(r),cw=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function o2({files:r=cw,path:e="",preset:t=void 0,colorSpace:n=void 0,extensions:i}={}){t&&(uw(t),r=hy[t],e=y4);const a=cg(r),{extension:s,isCubemap:o}=fw(r),l=dw(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+r);const u=Sd(y=>y.gl);P.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function y(){yo.clear(l,a?[r]:r)}u.domElement.addEventListener("webglcontextlost",y,{once:!0})},[r,u.domElement]);const d=yo(l,a?[r]:r,y=>{(s==="webp"||s==="jpg"||s==="jpeg")&&y.setRenderer(u),y.setPath==null||y.setPath(e),i&&i(y)});let p=a?d[0]:d;if(s==="jpg"||s==="jpeg"||s==="webp"){var v;p=(v=p.renderTarget)==null?void 0:v.texture}return p.mapping=o?Yc:gg,p.colorSpace=n??(o?"srgb":"srgb-linear"),p}const Gq={files:cw,path:"",preset:void 0,extensions:void 0};o2.preload=r=>{const e={...Gq,...r};let{files:t,path:n=""}=e;const{preset:i,extensions:a}=e;i&&(uw(i),t=hy[i],n=y4);const{extension:s}=fw(t);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=dw(s);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);yo.preload(o,cg(t)?[t]:t,l=>{l.setPath==null||l.setPath(n),a&&a(l)})};const kq={files:cw,preset:void 0};o2.clear=r=>{const e={...kq,...r};let{files:t}=e;const{preset:n}=e;n&&(uw(n),t=hy[n]);const{extension:i}=fw(t),a=dw(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);yo.clear(a,cg(t)?[t]:t)};function uw(r){if(!(r in hy))throw new Error("Preset must be one of: "+Object.keys(hy).join(", "))}function fw(r){var e;const t=cg(r)&&r.length===6,n=cg(r)&&r.length===3&&r.some(s=>s.endsWith("json")),i=cg(r)?r[0]:r;return{extension:t?"cube":n?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:n}}function dw(r){return r==="cube"?qL:r==="hdr"?BY:r==="exr"?OY:r==="jpg"||r==="jpeg"?zq:r==="webp"?Hq:null}const Vq=r=>r.current&&r.current.isScene,jq=r=>Vq(r)?r.current:r;function hw(r,e,t,n,i={}){var a,s,o,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=jq(e||t),d=u.background,p=u.environment,v={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(a=(s=u.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(o=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return r!=="only"&&(u.environment=n),r&&(u.background=n),Pc(u,i),()=>{r!=="only"&&(u.environment=p),r&&(u.background=d),Pc(u,v)}}function pw({scene:r,background:e=!1,map:t,...n}){const i=Sd(a=>a.scene);return P.useLayoutEffect(()=>{if(t)return hw(e,r,i,t,n)}),null}function _4({background:r=!1,scene:e,blur:t,backgroundBlurriness:n,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:s,environmentRotation:o,...l}){const u=o2(l),d=Sd(p=>p.scene);return P.useLayoutEffect(()=>hw(r,e,d,u,{backgroundBlurriness:t??n,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:s,environmentRotation:o})),P.useEffect(()=>()=>{u.dispose()},[u]),null}function Xq({children:r,near:e=.1,far:t=1e3,resolution:n=256,frames:i=1,map:a,background:s=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:p,environmentRotation:v,scene:y,files:x,path:A,preset:S=void 0,extensions:E}){const M=Sd(F=>F.gl),R=Sd(F=>F.scene),w=P.useRef(null),[I]=P.useState(()=>new Iy),U=P.useMemo(()=>{const F=new TC(n);return F.texture.type=ua,F},[n]);P.useEffect(()=>()=>{U.dispose()},[U]),P.useLayoutEffect(()=>{if(i===1){const F=M.autoClear;M.autoClear=!0,w.current.update(M,I),M.autoClear=F}return hw(s,y,R,U.texture,{backgroundBlurriness:o??l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:p,environmentRotation:v})},[r,I,U.texture,y,R,s,i,M]);let H=1;return nw(()=>{if(i===1/0||H<i){const F=M.autoClear;M.autoClear=!0,w.current.update(M,I),M.autoClear=F,H++}}),P.createElement(P.Fragment,null,AX(P.createElement(P.Fragment,null,r,P.createElement("cubeCamera",{ref:w,args:[e,t,U]}),x||S?P.createElement(_4,{background:!0,files:x,preset:S,path:A,extensions:E}):a?P.createElement(pw,{background:!0,map:a,extensions:E}):null),I))}function Wq(r){var e,t,n,i;const a=o2(r),s=r.map||a;P.useMemo(()=>RI({GroundProjectedEnvImpl:KW}),[]),P.useEffect(()=>()=>{a.dispose()},[a]);const o=P.useMemo(()=>[s],[s]),l=(e=r.ground)==null?void 0:e.height,u=(t=r.ground)==null?void 0:t.radius,d=(n=(i=r.ground)==null?void 0:i.scale)!==null&&n!==void 0?n:1e3;return P.createElement(P.Fragment,null,P.createElement(pw,cr({},r,{map:s})),P.createElement("groundProjectedEnvImpl",{args:o,scale:d,height:l,radius:u}))}function x4(r){return r.ground?P.createElement(Wq,r):r.map?P.createElement(pw,r):r.children?P.createElement(Xq,r):P.createElement(_4,r)}function b4({selectedModel:r,preloadedModels:e}){const{gl:t,camera:n}=Sd(),i=P.useRef(),[a,s]=P.useState(0),o=e[r.id-1];return P.useEffect(()=>{n.rotation.set(-.23,-.1,.1)},[n]),P.useEffect(()=>{if(!o)return;const l=o.scene,u=new kr().setFromObject(l),d=new ue;u.getSize(d);const p=2,v=Math.max(d.x,d.y,d.z),y=p/v;l.scale.setScalar(y),u.setFromObject(l);const x=new ue;u.getCenter(x),l.position.sub(x)},[o]),P.useEffect(()=>{if(!o||!r.transform)return;const{position:l,rotation:u,scale:d}=r.transform,p=o.scene;p.position.fromArray(l||[0,0,0]),p.rotation.fromArray(u||[0,0,0]),typeof d=="number"?p.scale.setScalar(d):Array.isArray(d)&&p.scale.fromArray(d)},[o,r]),P.useEffect(()=>{!o||!r.materialParams||o.scene.traverse(l=>{if(l.isMesh){const{metalness:u=0,roughness:d=1,color:p="#ffffff"}=r.materialParams;l.material.metalness=u,l.material.roughness=d,l.material.color=new Rt(p)}})},[o,r]),nw((l,u)=>{if(!i.current)return;const d=r.autoRotateAxis||"y",p=r.autoRotateRadius||0,v=.2;switch(d){case"x":i.current.rotation.x+=v*u;break;case"z":i.current.rotation.z+=v*u;break;case"y":default:i.current.rotation.y+=v*u;break}s(x=>x+v*u);const y=a+v*u;switch(d){case"x":i.current.position.y=p*Math.sin(y),i.current.position.z=p*Math.cos(y);break;case"z":i.current.position.x=p*Math.sin(y),i.current.position.y=p*Math.cos(y);break;case"y":default:i.current.position.x=p*Math.sin(y),i.current.position.z=p*Math.cos(y);break}}),P.useEffect(()=>{const l=t.domElement;let u=!1,d=0;const p=r.mouseDragSpeed||.01,v=r.dragAxis||"y",y=S=>{u=!0,d=S.clientX},x=S=>{if(!u||!i.current)return;const E=S.clientX-d;switch(d=S.clientX,v){case"x":i.current.rotation.x+=E*p;break;case"z":i.current.rotation.z+=E*p;break;case"y":default:i.current.rotation.y+=E*p;break}},A=()=>{u=!1};return l.addEventListener("pointerdown",y),l.addEventListener("pointermove",x),l.addEventListener("pointerup",A),l.addEventListener("pointerleave",A),()=>{l.removeEventListener("pointerdown",y),l.removeEventListener("pointermove",x),l.removeEventListener("pointerup",A),l.removeEventListener("pointerleave",A)}},[t,r]),B.jsxs(B.Fragment,{children:[B.jsx(x4,{preset:"city"}),B.jsx("directionalLight",{position:[1,2,3],intensity:4.5}),B.jsx("ambientLight",{intensity:1.5}),B.jsx("group",{ref:i,children:o&&B.jsx("primitive",{object:o.scene})})]})}const Vx="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_481_2652)'%3e%3cpath%20d='M12%204L10.59%205.41L16.17%2011H4V13H16.17L10.59%2018.59L12%2020L20%2012L12%204Z'%20fill='%23FFFEFD'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_481_2652'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Yq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAg/SURBVHgB7ZpdVhNJFMdvdwCdeZm4gsEVDDwJIsewAuMKgBUIKxBXgKwAXMHEFRCOIDov4grMrMD4MgOYpud/q6s6VdXVnU6gPcc593eOko/qvtW37lfdCpEgCIIgCIIgCIIgCIIgCIIgCIIgCILQABHdIZ861P7nmhbjmNqrp9QvG3f2mJZ4DL++P0cXy30a+ve5HNESjWiw+oEGVANzzyq5fF8jK5cBqq6py50okid1PaIXKdEO3ioFUUqDe/O0bE+8MGY8i9cr72jXvP2wTl9w/SLfI0np+dp7urCHn3doMRrRp0wMPY9SKCSi/exWtPfolF75c/zwhP7Eny7LSlt0ECV0rGTwPW5oe/U9HVEFH9epC1n7uObi3hxt+4sf0y05f0Kdq4Q+Qcge2QqKaPHyMnvPDx4cY0hpB8rbN2PNA/I9WnH2uYEXRCkhuw//62Dcs/GtaI/nZF/z8Qm9JFZiNmCrdY3rjAwWE9MmVT0j5qSVyNd0jSXbzKxIfiCs0j4s4NieVE6auaWynqRkjDt+h+8Z+KZzvjK+9jqBUtx79fH+m31BZJRGmcvrBTRyevMLKlwMHRme8h0SXG/LHBXDzUyKZOXATY/TVLlpAUz8hN1aCRjBpTwl4vu/Q9ddXlN3tR+IiXH2kOfrtOXI5MVCfEtj183AUzPPVku5dA5CxYF2Sydc2Mq3YZkIHZuWzKNQ3J5akR/XaJPjE5SxVDLkAA/XMTEkpfzvSRrRNuLLA3y/SFQe4H1Fw/WWlGWTctHxuDSLhYhxF94tFtX/niXxHEy8vUnprXdNwb2DMiN6QwGmUiTHGtzoiCjogjzRVyunrpXi/UZyQ8us3Pst6v37nbYQ+DnGdUoFRa6S8TBPsXj7jmWzNeoEEUUFRbYRcw8dS8rYMy9+mVfX2pbctt07j8W+zJIMX1uRSol2rPGBEEz8d1aS+rdGhybmsRW8X6OdqxF9ibPs2qHwbAb6Vd+9tbJ+x/WMNTL64YbefLa8e5zYSmCPwWcH9hgs2AvzOhCLHZk+tcofXW58oSmB++w+PqPXnJTK4qkNHmyDH5YX4CqT1y4ZOFg5o4fOHNfpKGCB40tG9NCPbVrOV38cyqOuXvBKmTa1LPJ+ttpmxXklT4gKAd5nCOX1VengKrHHCg5dj7ChFKfia6pkBEkT2ih+WFEHliQIHcf79mfRXO41DlzPUgW1FMkCkSQe8moh5j2IKa/jSuaNxDKiZXbpOHGS0hDXP2crhS8UF+LGSgwonEtuHlSKdtt+YPwAin9VMdfS72yZ/qbAp3aMZGXyA0yIlUO2Nk4s5mFvPIUjfr5WySZQV2Iyf5jXWjFODJtFKRzXqraZqnwqycR1ZBqmz9olSjRWqKzNpuVYCSuVA3onKCBySyp4wR4+G+Qy6ijFUqZKMBO2fgyqCQ49wVA1SabhLrJ2wQptdIHd9z9XiueHthVF7g5FhZQWLXP9qRJRDaVgHns8nueEhkiXanA53m46IBNf1JGpx06G66soi4sOKumMaKvOivGmHw+3hBVWSciOObx7UK4+Cse/pimra0OZvoxaisy7MbYQWBOvPv3k6C3gYeELJBiUO9tUk7lJA3JrsWXUaDv9LMSpau251EwwNhMV6Re5qsieUYl5MzXKWmW8E/LHIMt/xtas9yNc/C90hm4CPQPO4tPKn6hIRwDcuZCVa6B3RrxF3IxI9QIzAoElzmbF/cUNapgE2TryzZH302fTh6yJikzRDUYXpVO1Ya+C+4FQYmUBH6ByrEp+8BR2vzLL4S4VFmon5Y72PO2GjjOwsM/866r201VMVKQuX45oRlQ/MJ1KiWywb8u+09Z9zNaM7VwXC7UROopAxmXPaXNtio7TA/KaHpcJdSN/wayO0rRM5drTotpSgR2M7jcOeOLqA64lTT35nfpsZcqSo6wkscul9DsUMA4J7blYdZk2bItTLTdLSQgXX/05hBocs1oj06gioZwtsmIQF9WhU0MbtqZCXRepEkwdkEXz1EO9+ZK0orjFdpWo9+rwTFcZXUtoIQOrc6GRVzfyHv4WlUijiox0y5/x+4Eh8vMdCp4B7Zw/ps8INUfszjgUG8ddfIed13B0Q2+djnamxI1CHE0CxXcyuzUytQryWVClRZwdmWq4NdaDxG/4+xvcc0m1zbjPd5plaL+nCFd7gwVox+NTwr4Zy67fcu/vUqZECuxkpiy+QzRmkSPEN28j31auzkSUeXzm9ov8n86iYyVaRT9i7QCXcM2Z13wcM9GF36VA75C4F1qixJBb39YamVufa5feOCqWFiWoJOKfFd9fgPVqYL0m0jpZdqWspo3K9+xef7S0vzktTcbIpYrvuMv+DVbW02UK6d1ODqzzEOc8J2pBTOZP3QfWHakCqXfObYOdTNeOZ5W9yCloRJF661Wo0XCsuruA/mRV1rbgcxO/DdY3L6p6o3yIhRjaC3W17W1pnQRYl0ZcO4mLBTjHrEfvqFeqxHSCe1llDB+1Vp5oYhE5q3NCKt4mPwsacguQ7ohmYmRUKF+Gk+KQsoyoZIz+MZU56vCPWsGBOv1zjxqCylSNX9SzfAZ1l42RRsqfUI+vTpNUZ9Qjq/5UJZPZU4eOT8GB/aOE/FdnuWD3V3FN0ezOxib7/c5R1RC9r+9QNawQFTr4KOCR98sO/sndFWdm6xdtuiLoU4M049qtwKTjwG5lStSvI+ZomX+3w268MFdstfGYJMEZtAkTsEjellLDNLazQRG9l2/XKnYZjcnPwsTWjzoHakyRjAn0vy7QoOkYJQiCIAiCIAiCIAiCIAiCIAiCIAiCIPwv+Q8KL+iHnYT8FgAAAABJRU5ErkJggg==",qq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAAAYCAYAAADdyZ7bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdGSURBVHgB7Vpdcho5EG5psGurUlvhBiEnMH7czY/hAos5gfEJbJ/A5gQ2Jwg5AZALQGKyebRzgkxOsPhtaxOk/bqlmREwMcNiV2UpvipszWikbrX+Wv1JkYcd9ioUUS15pin1Vb05oSWwH3qt4HGiXjf7M/nXvRpZqoT5XlY1+RbPZTwfskw8crqGvG4gg/NuoU8s8gLdJE+h3lfNES3Tdb6NQCJnTk9u/0jkBbqxzPln2gCU+I80bEcPYYQ7PE5g1ANSJkZ6dF9h+3FwjjKn+H2WF4r20Cnl1LCfBkcwFqffk6Zn+I7Rl47Q+lzSjF/Q8VP9xstEPUiTlHNQ6ooieyHvNOeZSVpWqxPIXa4rD4CwjRm6biDpHtKfJY911eoI6Xqq244ZSd6srvfK/L9ABoEYB7OJnpi62sdoHw9sodLWYvbYDmbhhTx+xCz91XWOn71dGOtYvWx2MdMuYOgjWhdK9UlHJ0j1ZfCSqkBavLScWwHK6lXj+WKdVMXfGHlV3w781zf2EwbOPAwGwYah5P9XybgBQCtBYVbZ1CjqRbaEp4YN3z0E/pke0y46aNw7hZAG5KC/bLtg6WLt0/hu6tN/I70jz4cYdF2yvArQLT3Bb0NQypK6hxVgtUFgzRVm9xDlGuk7ZZro+MRAFeR9cd/KDFp7D5V9+bp3zHJlG9AYvL8144LFM32M6WDbulpWQOR9gDyN7aJEvIVhO0Ab9zfDH2AEg4A6MEwsKdl3l4OdMXRIPXuhW2SjS+K91GGCOt0sjaIGto5qbkUrLrFObv8rGdvGgItXKDrBwD2W1A4VLxfpPfFnlGqjDRXY5xKrwmijHEMHM8LMGHEKs6XQIGCEXrl42EofBNmTwPuuIM8NgghLKTxx/l7Km+gcS3qM93Gy/PJyD1/iSpxPXke0HdH6KHSKCCF+h6ULtPRMvfzjSvyEqT6B5bgtI9oAlGgNiPf/zdyJU8lQ6lmRcrxdYAC0+RRgx+9GpLBCBMs68prsrWMw8omiRZHZX2HJXx0agw/blQxixjccFbXPk9MA/kfTPm0oNK2D77Qve6Xsz/iRauHXKVLUnyhwHMUJY25fl9lq6S2SLfgY9UcdAJQ4tOo2bQdvh5bajy13iy222GKLLbbYYostttji5wJH3vNoZKZtb/OoVw9HCTuSKOZvfT1VRB7KEtHjdETVQFKcBGoW8jK5CV07r4/Qur6so3Jz6r0PC1TxrLx5fWYo8Xv1maXSaYHm9hQ4zdknV6dEHy5HOVHUqfAVk9w+yajvWV1Duyf1Zt+KPqVcinUHlPCw91wMw6FgV9leRhlLeLkvFG/JdpF2XEGJO0ezAjVJK0TWQpp52NsXg+wyYYV6FT0lJq8sqGbGruGBN8nR59yXnXjGs4xQ81df7wGieM+XnukVxxx0I9VH6GK0iejM63qe6sG6jnsViVjO24d11oE+WgilWPQJ65R6Agp8zj4Bff0+1SdSzME0pRMNoqv8jpG0ddc4W5u0Tw58eyZUMnFqOxWUCe3O+nBAT0t/7Sf6lJCo4EUFlaSGtH/2Dv1o7vsfh5L/Qty9G172WAooCHq25sq/G9JOxOHoumcWuz7MPEy+ke9c1K6Cdyp714/97OdyjvEMZlPhoI6yffXyULgD6QQtnXDmc+NUV5f3RlhDb58ZfdgWmT6YhabNdkkp6OveYOnqpNzgT2VKODqSFQ72OXVymCnVJ6F9PGo+fP0F/XaY9pu8g76hfcaDG7ShheSFU95wpPZEqH0PLbQpIyBx1O/NxRCptRwertB/hZrC2LaWy9GvChvouiIXkOlzD6MZCblUlpBxrnx7l1ulsKfmrb+Qspo66EjmJmblyIyt0Fqwk7k6sWqZY1mlfZi/JHF8jt8boYQ9B2Bv1YvDJj0kQo5+HViwncI5DC79iwl9s/VCjJ5VVTvu36CBZRlIRkLTCQKaWTq/wx0jxNeGQfy5j++OhJfBduS4g2iKJdI0hWaVn6otODw/CbA0ns7oyhtgiU4LFeZ93dozV8401etGK8iN0zp54bdynWxzwZdzvM8lLKLfU+IkH3vwekv/I2OGvh73PmP5LcRego7+gpVvtKxerIxt7xOMaEPhL+d0nGNI3gGxwXUppZ5ixhSoCY4JmWcpBUvRHlFQTtmnefSseNzscFk+faTOILOSt7JtWH/0Un5gBvos6EoRBoC/DPNQYNp4qi/FJzBz+vA2Mm8fpUMbZPqwfZTdy7WPo6+zPK43UkfLtmE5IvNdhsSeJtqTLet7dheDT0F4lxRZemGnJJWykxA6INzYKLjt+yPwNjLVNzBKy5WzcXo0cS/QyWro66SEnvWXTs8p8beFhmZtDJ8cRvZ60Jm53cR3+vwFVghtQM5lJoMdH3tGjwR39yHQR83rI88XGSsPfbR1t5fYGbZsH+22K/hasM+dr7eLFecobbs71i2/K1mSY/swtZ21OKpDdmSO5YTCqxjBPqlM7ks5xv8Q/wLjfAM76TcrpwAAAABJRU5ErkJggg==",kb="/assets/logo-Dp84nleF.svg",Kq=()=>{const r=cC(),e=s=>{s.preventDefault(),r("/build-a-brand")},[t,n]=P.useState(!1);return eu().EthicallyStrongOptions[0],P.useEffect(()=>((l=>{Object.keys(l).forEach(u=>{document.body.style[u]=l[u],document.documentElement.style[u]=l[u]})})({margin:"0",padding:"0",fontFamily:'"Kode Mono", monospace',height:"100vh",overflow:"hidden",background:"linear-gradient(123.21deg, #282828 27.78%, #52231f 94.21%)"}),()=>{document.body.style="",document.documentElement.style=""}),[]),B.jsxs("div",{className:"homepage",children:[B.jsx("header",{className:"banner",children:B.jsx(rw,{gradient:!1,speed:30,pauseOnHover:!1,style:{marginTop:10,marginBottom:10},children:"BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION //"})}),B.jsxs("main",{className:"content",children:[B.jsxs("div",{className:"text-content fade-in",children:[B.jsxs("div",{className:"landing-header fade-in",children:[B.jsx("h1",{className:"accent-5",children:"BEHIND THE FASHION"}),B.jsx("h2",{className:"accent-6",children:"// LANDING PAGE"})]}),B.jsxs("div",{className:"landing-body fade-in",children:[B.jsxs("h1",{className:"landing-h1 landing-page",children:[" ","STEP INTO THE ROLE OF A FASHION BRAND CEO."]}),B.jsxs("p",{className:"body-text-medium",children:[" ","Experience what its like to build a fashion brand from the ground up, while ",B.jsx("br",{})," managing crucial factors such as budget, audience, and sustainability."," "]})]}),B.jsxs("button",{id:"start-button",className:"add-button body-text-medium fade-in",onClick:e,children:["Start the Experience",B.jsx("div",{className:"button-icon",children:B.jsx("img",{src:Vx,alt:"Right Arrow Icon"})})]}),B.jsxs("div",{className:"credits-container fade-in",children:[B.jsx("img",{className:"wordmark",src:Yq,alt:"wordmark Image"}),B.jsx("img",{src:qq,alt:"production"})]})]}),B.jsx("div",{className:"intro-image model-container fade-in",children:B.jsx("img",{src:FX,alt:"Background Image"})})]})]})};function kB(r,e){if(e===yC)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===yp||e===Ny){let t=r.getIndex();if(t===null){const s=[],o=r.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);r.setIndex(s),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(e===yp)for(let s=1;s<=n;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<n;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=r.clone();return a.setIndex(i),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}class l2 extends Jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new eK(t)}),this.register(function(t){return new tK(t)}),this.register(function(t){return new uK(t)}),this.register(function(t){return new fK(t)}),this.register(function(t){return new dK(t)}),this.register(function(t){return new iK(t)}),this.register(function(t){return new rK(t)}),this.register(function(t){return new aK(t)}),this.register(function(t){return new sK(t)}),this.register(function(t){return new Qq(t)}),this.register(function(t){return new oK(t)}),this.register(function(t){return new nK(t)}),this.register(function(t){return new cK(t)}),this.register(function(t){return new lK(t)}),this.register(function(t){return new Zq(t)}),this.register(function(t){return new hK(t)}),this.register(function(t){return new pK(t)})}load(e,t,n,i){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const u=mo.extractUrlBase(e);s=mo.resolveURL(u,this.path)}else s=mo.extractUrlBase(e);this.manager.itemStart(e);const o=function(u){i?i(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Br(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{a.parse(u,s,function(d){t(d),a.manager.itemEnd(e)},o)}catch(d){o(d)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let a;const s={},o={},l=new TextDecoder;if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===A4){try{s[kn.KHR_BINARY_GLTF]=new mK(e)}catch(p){i&&i(p);return}a=JSON.parse(s[kn.KHR_BINARY_GLTF].content)}else a=JSON.parse(l.decode(e));else a=e;if(a.asset===void 0||a.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new wK(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const p=this.pluginCallbacks[d](u);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[p.name]=p,s[p.name]=!0}if(a.extensionsUsed)for(let d=0;d<a.extensionsUsed.length;++d){const p=a.extensionsUsed[d],v=a.extensionsRequired||[];switch(p){case kn.KHR_MATERIALS_UNLIT:s[p]=new $q;break;case kn.KHR_DRACO_MESH_COMPRESSION:s[p]=new gK(a,this.dracoLoader);break;case kn.KHR_TEXTURE_TRANSFORM:s[p]=new vK;break;case kn.KHR_MESH_QUANTIZATION:s[p]=new yK;break;default:v.indexOf(p)>=0&&o[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}u.setExtensions(s),u.setPlugins(o),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,a){n.parse(e,t,i,a)})}}function Jq(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const kn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Zq{constructor(e){this.parser=e,this.name=kn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const d=new Rt(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Or);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new e2(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new QA(d),u.distance=p;break;case"spot":u=new $A(d),u.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),Gu(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return n._getNodeRef(t.cache,o,l)})}}class $q{constructor(){this.name=kn.KHR_MATERIALS_UNLIT}getMaterialType(){return zr}extendParams(e,t,n){const i=[];e.color=new Rt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],Or),e.opacity=s[3]}a.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",a.baseColorTexture,Ii))}return Promise.all(i)}}class Qq{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class eK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new mt(o,o)}return Promise.all(a)}}class tK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class nK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class iK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Rt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Or)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Ii)),s.sheenRoughnessTexture!==void 0&&a.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class rK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class aK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new Rt().setRGB(o[0],o[1],o[2],Or),Promise.all(a)}}class sK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class oK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new Rt().setRGB(o[0],o[1],o[2],Or),s.specularColorTexture!==void 0&&a.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,Ii)),Promise.all(a)}}class lK{constructor(e){this.parser=e,this.name=kn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class cK{constructor(e){this.parser=e,this.name=kn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Er}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class uK{constructor(e){this.parser=e,this.name=kn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class fK{constructor(e){this.parser=e,this.name=kn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=n.textureLoader;if(o.uri){const u=n.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return n.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class dK{constructor(e){this.parser=e,this.name=kn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=n.textureLoader;if(o.uri){const u=n.options.manager.getHandler(o.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return n.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class hK{constructor(e){this.name=kn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,p=i.byteStride,v=new Uint8Array(o,l,u);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(d,p,v,i.mode,i.filter).then(function(y){return y.buffer}):s.ready.then(function(){const y=new ArrayBuffer(d*p);return s.decodeGltfBuffer(new Uint8Array(y),d,p,v,i.mode,i.filter),y})})}else return null}}class pK{constructor(e){this.name=kn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const u of i.primitives)if(u.mode!==ko.TRIANGLES&&u.mode!==ko.TRIANGLE_STRIP&&u.mode!==ko.TRIANGLE_FAN&&u.mode!==void 0)return null;const s=n.extensions[this.name].attributes,o=[],l={};for(const u in s)o.push(this.parser.getDependency("accessor",s[u]).then(d=>(l[u]=d,l[u])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(u=>{const d=u.pop(),p=d.isGroup?d.children:[d],v=u[0].count,y=[];for(const x of p){const A=new en,S=new ue,E=new da,M=new ue(1,1,1),R=new OA(x.geometry,x.material,v);for(let w=0;w<v;w++)l.TRANSLATION&&S.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&E.fromBufferAttribute(l.ROTATION,w),l.SCALE&&M.fromBufferAttribute(l.SCALE,w),R.setMatrixAt(w,A.compose(S,E,M));for(const w in l)if(w==="_COLOR_0"){const I=l[w];R.instanceColor=new tf(I.array,I.itemSize,I.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&x.geometry.setAttribute(w,l[w]);Vn.prototype.copy.call(R,x),this.parser.assignFinalMaterial(R),y.push(R)}return d.isGroup?(d.clear(),d.add(...y),d):y[0]}))}}const A4="glTF",_v=12,VB={JSON:1313821514,BIN:5130562};class mK{constructor(e){this.name=kn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,_v),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==A4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-_v,a=new DataView(e,_v);let s=0;for(;s<i;){const o=a.getUint32(s,!0);s+=4;const l=a.getUint32(s,!0);if(s+=4,l===VB.JSON){const u=new Uint8Array(e,_v+s,o);this.content=n.decode(u)}else if(l===VB.BIN){const u=_v+s;this.body=e.slice(u,u+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gK{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=kn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},u={};for(const d in s){const p=QT[d]||d.toLowerCase();o[p]=s[d]}for(const d in e.attributes){const p=QT[d]||d.toLowerCase();if(s[d]!==void 0){const v=n.accessors[e.attributes[d]],y=ug[v.componentType];u[p]=y.name,l[p]=v.normalized===!0}}return t.getDependency("bufferView",a).then(function(d){return new Promise(function(p,v){i.decodeDracoFile(d,function(y){for(const x in y.attributes){const A=y.attributes[x],S=l[x];S!==void 0&&(A.normalized=S)}p(y)},o,u,Or,v)})})}}class vK{constructor(){this.name=kn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class yK{constructor(){this.name=kn.KHR_MESH_QUANTIZATION}}class S4 extends Bp{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let s=0;s!==i;s++)t[s]=n[a+s];return t}interpolate_(e,t,n,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,u=o*3,d=i-t,p=(n-t)/d,v=p*p,y=v*p,x=e*u,A=x-u,S=-2*y+3*v,E=y-v,M=1-S,R=E-v+p;for(let w=0;w!==o;w++){const I=s[A+w+o],U=s[A+w+l]*d,H=s[x+w+o],F=s[x+w]*d;a[w]=M*I+R*U+S*H+E*F}return a}}const _K=new da;class xK extends S4{interpolate_(e,t,n,i){const a=super.interpolate_(e,t,n,i);return _K.fromArray(a).normalize().toArray(a),a}}const ko={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ug={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},jB={9728:Gr,9729:Yn,9984:Ry,9985:np,9986:dd,9987:Fs},XB={33071:xr,33648:pp,10497:Vl},RE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},QT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ad={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bK={CUBICSPLINE:void 0,LINEAR:Ad,STEP:vp},DE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function AK(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new Dp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:kl})),r.DefaultMaterial}function Ih(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Gu(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function SK(r,e,t){let n=!1,i=!1,a=!1;for(let u=0,d=e.length;u<d;u++){const p=e[u];if(p.POSITION!==void 0&&(n=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(a=!0),n&&i&&a)break}if(!n&&!i&&!a)return Promise.resolve(r);const s=[],o=[],l=[];for(let u=0,d=e.length;u<d;u++){const p=e[u];if(n){const v=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):r.attributes.position;s.push(v)}if(i){const v=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):r.attributes.normal;o.push(v)}if(a){const v=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):r.attributes.color;l.push(v)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(u){const d=u[0],p=u[1],v=u[2];return n&&(r.morphAttributes.position=d),i&&(r.morphAttributes.normal=p),a&&(r.morphAttributes.color=v),r.morphTargetsRelative=!0,r})}function EK(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function TK(r){let e;const t=r.extensions&&r.extensions[kn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+BE(t.attributes):e=r.indices+":"+BE(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+BE(r.targets[n]);return e}function BE(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function eM(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function MK(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":r.search(/\.ktx2($|\?)/i)>0||r.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const CK=new en;class wK{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Jq,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=-1,a=!1,s=-1;if(typeof navigator<"u"){const o=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(o)===!0;const l=o.match(/Version\/(\d+)/);i=n&&l?parseInt(l[1],10):-1,a=o.indexOf("Firefox")>-1,s=a?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&i<17||a&&s<98?this.textureLoader=new FC(this.options.manager):this.textureLoader=new GC(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Br(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(s){const o={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:n,userData:{}};return Ih(a,o,i),Gu(o,i),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const s=t[i].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(n[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[u,d]of s.children.entries())a(d,o.children[u])};return a(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(a,s){return n.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[kn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,s){n.load(mo.resolveURL(t.uri,i.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,a=t.byteOffset||0;return n.slice(a,a+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=RE[i.type],o=ug[i.componentType],l=i.normalized===!0,u=new o(i.count*s);return Promise.resolve(new Hn(u,s,l))}const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=RE[i.type],u=ug[i.componentType],d=u.BYTES_PER_ELEMENT,p=d*l,v=i.byteOffset||0,y=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,x=i.normalized===!0;let A,S;if(y&&y!==p){const E=Math.floor(v/y),M="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+E+":"+i.count;let R=t.cache.get(M);R||(A=new u(o,E*y,i.count*y/d),R=new Ug(A,y/d),t.cache.add(M,R)),S=new ef(R,l,v%y/d,x)}else o===null?A=new u(i.count*l):A=new u(o,v,i.count*l),S=new Hn(A,l,x);if(i.sparse!==void 0){const E=RE.SCALAR,M=ug[i.sparse.indices.componentType],R=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,I=new M(s[1],R,i.sparse.count*E),U=new u(s[2],w,i.sparse.count*l);o!==null&&(S=new Hn(S.array.slice(),S.itemSize,S.normalized)),S.normalized=!1;for(let H=0,F=I.length;H<F;H++){const N=I[H];if(S.setX(N,U[H*l]),l>=2&&S.setY(N,U[H*l+1]),l>=3&&S.setZ(N,U[H*l+2]),l>=4&&S.setW(N,U[H*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}S.normalized=x}return S})}loadTexture(e){const t=this.json,n=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=n.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,n){const i=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,n).then(function(d){d.flipY=!1,d.name=s.name||o.name||"",d.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(d.name=o.uri);const v=(a.samplers||{})[s.sampler]||{};return d.magFilter=jB[v.magFilter]||Yn,d.minFilter=jB[v.minFilter]||Fs,d.wrapS=XB[v.wrapS]||Vl,d.wrapT=XB[v.wrapT]||Vl,d.generateMipmaps=!d.isCompressedTexture&&d.minFilter!==Gr&&d.minFilter!==Yn,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const n=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const s=i.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",u=!1;if(s.bufferView!==void 0)l=n.getDependency("bufferView",s.bufferView).then(function(p){u=!0;const v=new Blob([p],{type:s.mimeType});return l=o.createObjectURL(v),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(p){return new Promise(function(v,y){let x=v;t.isImageBitmapLoader===!0&&(x=function(A){const S=new ni(A);S.needsUpdate=!0,v(S)}),t.load(mo.resolveURL(p,a.path),x,void 0,y)})}).then(function(p){return u===!0&&o.revokeObjectURL(l),Gu(p,s),p.userData.mimeType=s.mimeType||MK(s.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=d,d}assignTexture(e,t,n,i){const a=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(s=s.clone(),s.channel=n.texCoord),a.extensions[kn.KHR_TEXTURE_TRANSFORM]){const o=n.extensions!==void 0?n.extensions[kn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[kn.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return i!==void 0&&(s.colorSpace=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new Hy,Ar.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(o,l)),n=l}else if(e.isLine){const o="LineBasicMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new Ta,Ar.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(o,l)),n=l}if(i||a||s){let o="ClonedMaterial:"+n.uuid+":";i&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=n.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return Dp}loadMaterial(e){const t=this,n=this.json,i=this.extensions,a=n.materials[e];let s;const o={},l=a.extensions||{},u=[];if(l[kn.KHR_MATERIALS_UNLIT]){const p=i[kn.KHR_MATERIALS_UNLIT];s=p.getMaterialType(),u.push(p.extendParams(o,a,t))}else{const p=a.pbrMetallicRoughness||{};if(o.color=new Rt(1,1,1),o.opacity=1,Array.isArray(p.baseColorFactor)){const v=p.baseColorFactor;o.color.setRGB(v[0],v[1],v[2],Or),o.opacity=v[3]}p.baseColorTexture!==void 0&&u.push(t.assignTexture(o,"map",p.baseColorTexture,Ii)),o.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,o.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(o,"metalnessMap",p.metallicRoughnessTexture)),u.push(t.assignTexture(o,"roughnessMap",p.metallicRoughnessTexture))),s=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=Is);const d=a.alphaMode||DE.OPAQUE;if(d===DE.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,d===DE.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==zr&&(u.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new mt(1,1),a.normalTexture.scale!==void 0)){const p=a.normalTexture.scale;o.normalScale.set(p,p)}if(a.occlusionTexture!==void 0&&s!==zr&&(u.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==zr){const p=a.emissiveFactor;o.emissive=new Rt().setRGB(p[0],p[1],p[2],Or)}return a.emissiveTexture!==void 0&&s!==zr&&u.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,Ii)),Promise.all(u).then(function(){const p=new s(o);return a.name&&(p.name=a.name),Gu(p,a),t.associations.set(p,{materials:e}),a.extensions&&Ih(i,p,a),p})}createUniqueName(e){const t=Zn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function a(o){return n[kn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return WB(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o],d=TK(u),p=i[d];if(p)s.push(p.promise);else{let v;u.extensions&&u.extensions[kn.KHR_DRACO_MESH_COMPRESSION]?v=a(u):v=WB(new vn,u,t),i[d]={primitive:u,promise:v},s.push(v)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,i=this.extensions,a=n.meshes[e],s=a.primitives,o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l].material===void 0?AK(this.cache):this.getDependency("material",s[l].material);o.push(d)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],p=[];for(let y=0,x=d.length;y<x;y++){const A=d[y],S=s[y];let E;const M=u[y];if(S.mode===ko.TRIANGLES||S.mode===ko.TRIANGLE_STRIP||S.mode===ko.TRIANGLE_FAN||S.mode===void 0)E=a.isSkinnedMesh===!0?new BA(A,M):new Ai(A,M),E.isSkinnedMesh===!0&&E.normalizeSkinWeights(),S.mode===ko.TRIANGLE_STRIP?E.geometry=kB(E.geometry,Ny):S.mode===ko.TRIANGLE_FAN&&(E.geometry=kB(E.geometry,yp));else if(S.mode===ko.LINES)E=new Ko(A,M);else if(S.mode===ko.LINE_STRIP)E=new Kc(A,M);else if(S.mode===ko.LINE_LOOP)E=new NA(A,M);else if(S.mode===ko.POINTS)E=new UA(A,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(E.geometry.morphAttributes).length>0&&EK(E,a),E.name=t.createUniqueName(a.name||"mesh_"+e),Gu(E,a),S.extensions&&Ih(i,E,S),t.assignFinalMaterial(E),p.push(E)}for(let y=0,x=p.length;y<x;y++)t.associations.set(p[y],{meshes:e,primitives:y});if(p.length===1)return a.extensions&&Ih(i,p[0],a),p[0];const v=new Xo;a.extensions&&Ih(i,v,a),t.associations.set(v,{meshes:e});for(let y=0,x=p.length;y<x;y++)v.add(p[y]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Hr(TA.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Ld(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Gu(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,a=t.joints.length;i<a;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const a=i.pop(),s=i,o=[],l=[];for(let u=0,d=s.length;u<d;u++){const p=s[u];if(p){o.push(p);const v=new en;a!==null&&v.fromArray(a.array,u*16),l.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Lg(o,l)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],a=i.name?i.name:"animation_"+e,s=[],o=[],l=[],u=[],d=[];for(let p=0,v=i.channels.length;p<v;p++){const y=i.channels[p],x=i.samplers[y.sampler],A=y.target,S=A.node,E=i.parameters!==void 0?i.parameters[x.input]:x.input,M=i.parameters!==void 0?i.parameters[x.output]:x.output;A.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",E)),l.push(this.getDependency("accessor",M)),u.push(x),d.push(A))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(p){const v=p[0],y=p[1],x=p[2],A=p[3],S=p[4],E=[];for(let M=0,R=v.length;M<R;M++){const w=v[M],I=y[M],U=x[M],H=A[M],F=S[M];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const N=n._createAnimationTracks(w,I,U,H,F);if(N)for(let L=0;L<N.length;L++)E.push(N[L])}return new xp(a,void 0,E)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(a){const s=n._getNodeRef(n.meshCache,i.mesh,a);return i.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,u=i.weights.length;l<u;l++)o.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],a=n._loadNodeShallow(e),s=[],o=i.children||[];for(let u=0,d=o.length;u<d;u++)s.push(n.getDependency("node",o[u]));const l=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([a,Promise.all(s),l]).then(function(u){const d=u[0],p=u[1],v=u[2];v!==null&&d.traverse(function(y){y.isSkinnedMesh&&y.bind(v,CK)});for(let y=0,x=p.length;y<x;y++)d.add(p[y]);return d})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?i.createUniqueName(a.name):"",o=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(i.getDependency("camera",a.camera).then(function(u){return i._getNodeRef(i.cameraCache,a.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){o.push(u)}),this.nodeCache[e]=Promise.all(o).then(function(u){let d;if(a.isBone===!0?d=new Py:u.length>1?d=new Xo:u.length===1?d=u[0]:d=new Vn,d!==u[0])for(let p=0,v=u.length;p<v;p++)d.add(u[p]);if(a.name&&(d.userData.name=a.name,d.name=s),Gu(d,a),a.extensions&&Ih(n,d,a),a.matrix!==void 0){const p=new en;p.fromArray(a.matrix),d.applyMatrix4(p)}else a.translation!==void 0&&d.position.fromArray(a.translation),a.rotation!==void 0&&d.quaternion.fromArray(a.rotation),a.scale!==void 0&&d.scale.fromArray(a.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,a=new Xo;n.name&&(a.name=i.createUniqueName(n.name)),Gu(a,n),n.extensions&&Ih(t,a,n);const s=n.nodes||[],o=[];for(let l=0,u=s.length;l<u;l++)o.push(i.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let d=0,p=l.length;d<p;d++)a.add(l[d]);const u=d=>{const p=new Map;for(const[v,y]of i.associations)(v instanceof Ar||v instanceof ni)&&p.set(v,y);return d.traverse(v=>{const y=i.associations.get(v);y!=null&&p.set(v,y)}),p};return i.associations=u(a),a})}_createAnimationTracks(e,t,n,i,a){const s=[],o=e.name?e.name:e.uuid,l=[];ad[a.path]===ad.weights?e.traverse(function(v){v.morphTargetInfluences&&l.push(v.name?v.name:v.uuid)}):l.push(o);let u;switch(ad[a.path]){case ad.weights:u=nf;break;case ad.rotation:u=rf;break;case ad.position:case ad.scale:u=af;break;default:switch(n.itemSize){case 1:u=nf;break;case 2:case 3:default:u=af;break}break}const d=i.interpolation!==void 0?bK[i.interpolation]:Ad,p=this._getArrayFromAccessor(n);for(let v=0,y=l.length;v<y;v++){const x=new u(l[v]+"."+ad[a.path],t.array,p,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),s.push(x)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=eM(t.constructor),i=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)i[a]=t[a]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof rf?xK:S4;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function RK(r,e,t){const n=e.attributes,i=new kr;if(n.POSITION!==void 0){const o=t.json.accessors[n.POSITION],l=o.min,u=o.max;if(l!==void 0&&u!==void 0){if(i.set(new ue(l[0],l[1],l[2]),new ue(u[0],u[1],u[2])),o.normalized){const d=eM(ug[o.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new ue,l=new ue;for(let u=0,d=a.length;u<d;u++){const p=a[u];if(p.POSITION!==void 0){const v=t.json.accessors[p.POSITION],y=v.min,x=v.max;if(y!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(y[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(y[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(y[2]),Math.abs(x[2]))),v.normalized){const A=eM(ug[v.componentType]);l.multiplyScalar(A)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}r.boundingBox=i;const s=new Yr;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=s}function WB(r,e,t){const n=e.attributes,i=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){r.setAttribute(o,l)})}for(const s in n){const o=QT[s]||s.toLowerCase();o in r.attributes||i.push(a(n[s],o))}if(e.indices!==void 0&&!r.index){const s=t.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});i.push(s)}return Fn.workingColorSpace!==Or&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Fn.workingColorSpace}" not supported.`),Gu(r,e),RK(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?SK(r,e.targets,t):r})}const OE=new WeakMap;class c2 extends Jr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const a=new Br(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{this.parse(s,t,i)},n,i)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,Ii,n).catch(n)}decodeDracoFile(e,t,n,i,a=Or,s=()=>{}){const o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:a};return this.decodeGeometry(e,o).then(t).catch(s)}decodeGeometry(e,t){const n=JSON.stringify(t);if(OE.has(e)){const l=OE.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[a]={resolve:u,reject:d},i.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&a&&this._releaseTask(i,a)}),OE.set(e,{key:n,promise:o}),o}_createGeometry(e){const t=new vn;e.index&&t.setIndex(new Hn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],a=i.name,s=i.array,o=i.itemSize,l=new Hn(s,o);a==="color"&&(this._assignVertexColorSpace(l,i.vertexColorSpace),l.normalized=!(s instanceof Float32Array)),t.setAttribute(a,l)}return t}_assignVertexColorSpace(e,t){if(t!==Ii)return;const n=new Rt;for(let i=0,a=e.count;i<a;i++)n.fromBufferAttribute(e,i),Fn.toWorkingColorSpace(n,Ii),e.setXYZ(i,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new Br(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,a)=>{n.load(e,i,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const a=DK.toString(),s=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(a){const s=a.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,a){return i._taskLoad>a._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function DK(){let r,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":r=o.decoderConfig,e=new Promise(function(d){r.onModuleLoaded=function(p){d({draco:p})},DracoDecoderModule(r)});break;case"decode":const l=o.buffer,u=o.taskConfig;e.then(d=>{const p=d.draco,v=new p.Decoder;try{const y=t(p,v,new Int8Array(l),u),x=y.attributes.map(A=>A.array.buffer);y.index&&x.push(y.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:y},x)}catch(y){console.error(y),self.postMessage({type:"error",id:o.id,error:y.message})}finally{p.destroy(v)}});break}};function t(s,o,l,u){const d=u.attributeIDs,p=u.attributeTypes;let v,y;const x=o.GetEncodedGeometryType(l);if(x===s.TRIANGULAR_MESH)v=new s.Mesh,y=o.DecodeArrayToMesh(l,l.byteLength,v);else if(x===s.POINT_CLOUD)v=new s.PointCloud,y=o.DecodeArrayToPointCloud(l,l.byteLength,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const A={index:null,attributes:[]};for(const S in d){const E=self[p[S]];let M,R;if(u.useUniqueIDs)R=d[S],M=o.GetAttributeByUniqueId(v,R);else{if(R=o.GetAttributeId(v,s[d[S]]),R===-1)continue;M=o.GetAttribute(v,R)}const w=i(s,o,v,S,E,M);S==="color"&&(w.vertexColorSpace=u.vertexColorSpace),A.attributes.push(w)}return x===s.TRIANGULAR_MESH&&(A.index=n(s,o,v)),s.destroy(v),A}function n(s,o,l){const d=l.num_faces()*3,p=d*4,v=s._malloc(p);o.GetTrianglesUInt32Array(l,p,v);const y=new Uint32Array(s.HEAPF32.buffer,v,d).slice();return s._free(v),{array:y,itemSize:1}}function i(s,o,l,u,d,p){const v=p.num_components(),x=l.num_points()*v,A=x*d.BYTES_PER_ELEMENT,S=a(s,d),E=s._malloc(A);o.GetAttributeDataArrayForAllPoints(l,p,S,A,E);const M=new d(s.HEAPF32.buffer,E,x).slice();return s._free(E),{name:u,array:M,itemSize:v}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const u2=()=>{const r=()=>{console.log("Purchase button clicked!")};return B.jsxs("button",{className:"logo-button",style:{width:"100%",fontSize:"25px",borderRadius:"20px",overflow:"hidden"},onClick:r,children:[B.jsx(rw,{gradient:!1,speed:30,pauseOnHover:!1,children:"BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION //"}),B.jsx("img",{src:kb,alt:"Logo",className:"superimposed-logo",style:{marginLeft:"-35px",width:"143px"}})]})},fs=({label:r="LABEL",value:e="123",percentChange:t="+5%",indicatorColor:n="#fffefd",percentChangeStyles:i={},icon:a=null})=>B.jsx("div",{className:"metric-widget",children:B.jsxs("div",{className:"widget-content",children:[B.jsxs("div",{className:"header",children:[B.jsx("div",{className:"indicator",style:{background:n}}),B.jsx("div",{className:"widget-label label-small",children:r}),B.jsx("div",{className:"change-tag",children:B.jsx("div",{className:"percent-change",style:i,children:t})})]}),B.jsx("div",{className:"stat",children:B.jsxs("div",{className:"stat-info",children:[a&&B.jsx("div",{className:"icon",children:a})," ",B.jsx("div",{className:"stat-content accent-4",children:e})]})})]})}),Ap="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.04167%203.70837C-0.233333%205.98337%20-0.233333%209.66671%202.025%2011.9417C3.25%209.10837%205.43333%206.74171%208.15833%205.33337C5.85%207.28337%204.23333%2010.0084%203.66667%2013.1C5.83333%2014.125%208.5%2013.75%2010.2917%2011.9584C13.1917%209.05838%2013.6667%200.333374%2013.6667%200.333374C13.6667%200.333374%204.94167%200.808374%202.04167%203.70837Z'%20fill='%23FFFEFD'/%3e%3c/svg%3e",mw="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_175_432)'%3e%3cpath%20d='M1.66666%2016.6666H3.33333C3.79166%2016.6666%204.16666%2016.2916%204.16666%2015.8333V8.33329C4.16666%207.87496%203.79166%207.49996%203.33333%207.49996H1.66666V16.6666ZM18.1917%2010.7333C18.2833%2010.525%2018.3333%2010.3%2018.3333%2010.0666V9.16663C18.3333%208.24996%2017.5833%207.49996%2016.6667%207.49996H12.0833L12.85%203.62496C12.8917%203.44163%2012.8667%203.24163%2012.7833%203.07496C12.5917%202.69996%2012.35%202.35829%2012.05%202.05829L11.6667%201.66663L6.325%207.00829C6.00833%207.32496%205.83333%207.74996%205.83333%208.19163V14.725C5.83333%2015.7916%206.70833%2016.6666%207.78333%2016.6666H14.5417C15.125%2016.6666%2015.675%2016.3583%2015.975%2015.8583L18.1917%2010.7333Z'%20fill='%23FFFEFD'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_175_432'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",gw="data:image/svg+xml,%3csvg%20width='18'%20height='16'%20viewBox='0%200%2018%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.99999%2015.7917L7.79166%2014.6917C3.49999%2010.8%200.666656%208.23333%200.666656%205.08333C0.666656%202.51667%202.68332%200.5%205.24999%200.5C6.69999%200.5%208.09166%201.175%208.99999%202.24167C9.90832%201.175%2011.3%200.5%2012.75%200.5C15.3167%200.5%2017.3333%202.51667%2017.3333%205.08333C17.3333%208.23333%2014.5%2010.8%2010.2083%2014.7L8.99999%2015.7917Z'%20fill='%23FFFEFD'/%3e%3c/svg%3e",BK=({currentStep:r,totalSteps:e})=>B.jsxs("div",{className:"step-count-bar",children:[B.jsxs("div",{className:"step-count",children:[B.jsxs("div",{className:"current-step label-large",children:["Step ",r]}),B.jsxs("div",{className:"total-step label-large",children:["/",e]})]}),B.jsx("div",{className:"progress-bar label-large",children:Array.from({length:e},(t,n)=>B.jsx("div",{className:`progress ${n<r?"filled":""}`},n))})]}),E4=({label:r="Metric Label",originalPercentage:e=70,plagiarizedPercentage:t=30,summaryText:n="Summary text here",icon:i=null,showBars:a=!0})=>B.jsxs("div",{className:"collection-originality-metric",children:[B.jsxs("div",{className:"metric-label body-text-large",children:[i&&B.jsx("div",{className:"icon",children:i}),r]}),a&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"metric-bar-container",children:[B.jsx("div",{className:"original-bar",style:{width:`${e}%`}}),B.jsx("div",{className:"plagiarized-bar",style:{width:`${t}%`}})]}),B.jsxs("div",{className:"metric-stats",children:[B.jsxs("span",{className:"original-percentage body-text-small",children:[B.jsx("span",{className:"color-circle",style:{backgroundColor:"#85E780"}}),"Original Design ",e,"%"]}),B.jsxs("span",{className:"plagiarized-percentage body-text-small",children:[B.jsx("span",{className:"color-circle",style:{backgroundColor:"#FFC4B1"}}),"Plagiarized Design ",t,"%"]})]})]}),B.jsx("div",{className:"summary-text body-text-small",children:n})]}),OK=({cards:r,onCardSelect:e,selectedCardIndex:t,setSelectedCardIndex:n})=>{const i=a=>{const s=t===a?null:a;n(s),e(s)};return P.useEffect(()=>{console.log(t)}),B.jsxs("div",{className:"card-selection-container",children:[B.jsx("div",{className:"card-row",children:r.slice(0,2).map((a,s)=>B.jsxs("div",{className:`card ${t===s?"selected":""}`,onClick:()=>i(s),children:[B.jsx("div",{className:"checkbox",children:B.jsx("input",{type:"checkbox",checked:t===s,onChange:()=>i(s)})}),B.jsx("div",{className:"img_container",children:B.jsx("img",{src:a.image,alt:a.fabricName,className:"card-image"})}),B.jsxs("div",{className:"card-info",children:[B.jsx("p",{className:"fabric-name body-text-medium",children:a.fabricName}),B.jsxs("p",{className:"fabric-cost accent-5",children:["$",a.cost]})]})]},s))}),B.jsx("div",{className:"card-row",children:r.slice(2,4).map((a,s)=>B.jsxs("div",{className:`card ${t===s+2?"selected":""}`,onClick:()=>i(s+2),children:[B.jsx("div",{className:"checkbox",children:B.jsx("input",{type:"checkbox",checked:t===s+2,onChange:()=>i(s+2)})}),B.jsx("div",{className:"img_container",children:B.jsx("img",{src:a.image,alt:a.fabricName,className:"card-image"})}),B.jsxs("div",{className:"card-info",children:[B.jsx("p",{className:"fabric-name body-text-medium",children:a.fabricName}),B.jsxs("p",{className:"fabric-cost accent-5",children:["$",a.cost]})]})]},s+2))})]})},NK="/assets/cracked-heart-BmdGFuN5.png",NE="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_302_228)'%3e%3cpath%20d='M18%206H16C16%203.79%2014.21%202%2012%202C9.79%202%208%203.79%208%206H6C4.9%206%204%206.9%204%208V20C4%2021.1%204.9%2022%206%2022H18C19.1%2022%2020%2021.1%2020%2020V8C20%206.9%2019.1%206%2018%206ZM12%204C13.1%204%2014%204.9%2014%206H10C10%204.9%2010.9%204%2012%204ZM18%2020H6V8H8V10C8%2010.55%208.45%2011%209%2011C9.55%2011%2010%2010.55%2010%2010V8H14V10C14%2010.55%2014.45%2011%2015%2011C15.55%2011%2016%2010.55%2016%2010V8H18V20Z'%20fill='%23FFFEFD'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_302_228'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",UK=({selectedOption:r,setSelectedOption:e})=>{const t=["FUTURE","MINIMALIST","RETRO","ELEGANT","BOHEMIAN","PLAYFUL"],n=i=>{e(r===i?null:i)};return B.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",margin:"16px",textTransform:"uppercase"},children:[B.jsx("div",{style:{fontFamily:"'DM Sans', sans-serif",fontSize:"12px",fontWeight:"bold",color:"#FFFFFF"},children:"Font Style"}),B.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:t.map(i=>{const a=r===i;return B.jsxs("div",{onClick:()=>n(i),style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"4px 12px",borderRadius:"32px",background:a?"#FFEEEB":"#FFFEFD",color:a?"#C83C00":"#0F0F0F",fontFamily:a?"'Kode Mono'":"'DM Sans'",fontWeight:a?"700":"400",fontSize:"12px",textTransform:"uppercase",cursor:"pointer",border:"1px solid transparent",minWidth:"60px",textAlign:"center"},children:[i,a&&B.jsx("span",{style:{marginLeft:"8px",color:"#C83C00",fontWeight:"bold",cursor:"pointer"},children:""})]},i)})})]})},T4=({numSteps:r,currentStep:e})=>B.jsx("div",{className:"count-bar",children:B.jsx("div",{className:"steps body-text-medium",children:Array.from({length:r},(t,n)=>B.jsxs("div",{className:"step-container",children:[B.jsx("div",{className:`step ${e===n?"active":""}`,children:n+1}),n<r-1&&B.jsx("div",{className:"line"})]},n))})}),vw="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_239_303)'%3e%3cpath%20d='M13.11%205.72L12.54%208.61C12.42%209.2%2012.58%209.81%2012.96%2010.27C13.34%2010.73%2013.9%2011%2014.5%2011H20V12.08L17.43%2018H9.34C9.16%2018%209%2017.84%209%2017.66V9.82L13.11%205.72ZM14%202L7.59%208.41C7.21%208.79%207%209.3%207%209.83V17.66C7%2018.95%208.05%2020%209.34%2020H17.44C18.15%2020%2018.8%2019.63%2019.16%2019.03L21.83%2012.88C21.94%2012.63%2022%2012.36%2022%2012.08V11C22%209.9%2021.1%209%2020%209H14.5L15.42%204.35C15.47%204.13%2015.44%203.89%2015.34%203.69C15.11%203.24%2014.82%202.83%2014.46%202.47L14%202ZM4%209H2V20H4C4.55%2020%205%2019.55%205%2019V10C5%209.45%204.55%209%204%209Z'%20fill='%231D7B18'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_239_303'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",yw="data:image/svg+xml,%3csvg%20width='20'%20height='18'%20viewBox='0%200%2020%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.89%2014.28L9.46%2011.39C9.58%2010.8%209.42%2010.19%209.04%209.73C8.66%209.27%208.1%209%207.5%209H2V7.92L4.57%202H12.66C12.84%202%2013%202.16%2013%202.34V10.18L8.89%2014.28ZM8%2018L14.41%2011.59C14.79%2011.21%2015%2010.7%2015%2010.17V2.34C15%201.05%2013.95%200%2012.66%200H4.56C3.85%200%203.2%200.37%202.84%200.97L0.17%207.12C0.0600001%207.37%200%207.64%200%207.92V9C0%2010.1%200.9%2011%202%2011H7.5L6.58%2015.65C6.53%2015.87%206.56%2016.11%206.66%2016.31C6.89%2016.76%207.18%2017.17%207.54%2017.53L8%2018ZM18%2011H20V0H18C17.45%200%2017%200.45%2017%201V10C17%2010.55%2017.45%2011%2018%2011Z'%20fill='%23C83C00'/%3e%3c/svg%3e",LK=({selectedModel:r,onAuditVisit:e})=>{const[t,n]=P.useState(!0);P.useEffect(()=>{n(!0)},[r]);const i=s=>{switch(s){case"positive":return vw;case"negative":return yw;case"neutral":return Ap;default:return Ap}},a=()=>{e(r.id)};return B.jsxs("div",{className:"toggle-container",children:[B.jsx("h2",{className:"factory-title accent-3",children:r.name}),B.jsxs("div",{className:"toggle-buttons",children:[B.jsx("button",{className:`toggle-button accent-5 ${t?"active":""}`,onClick:()=>n(!0),children:"ABOUT"}),B.jsx("button",{className:`toggle-button accent-5 ${t?"":"active"}`,onClick:()=>{n(!1),a()},children:"FACTORY AUDIT"})]}),B.jsx("div",{className:"toggle-content",children:t?B.jsxs("div",{className:"about-content",children:[B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:r.location_icon,alt:"Location Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.location}),B.jsx("p",{className:"item-description body-text-small",children:r.location_description})]})]})}),B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:r.cert_icon1,alt:"Certification Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.cert_title1}),B.jsx("p",{className:"item-description body-text-small",children:r.cert_description1})]})]})}),B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:r.cert_icon2,alt:"Certification Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.cert_title2}),B.jsx("p",{className:"item-description body-text-small",children:r.cert_description2})]})]})})]}):B.jsxs("div",{className:"factory-audit-content",children:[B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:i(r.mat_icon),alt:"thumb Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.mat_title}),B.jsx("p",{className:"item-description body-text-small",children:r.mat_description})]})]})}),B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:i(r.env_icon),alt:"thumb Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.env_title}),B.jsx("p",{className:"item-description body-text-small",children:r.env_description})]})]})}),B.jsx("div",{className:"info-container",children:B.jsxs("div",{className:"p_bar-description",id:"added-logo",children:[B.jsx("span",{className:"toggle-icon",children:B.jsx("img",{src:i(r.ethics_icon),alt:"thumb Icon",style:{width:"36px",height:"36px"}})}),B.jsxs("div",{className:"text-container",children:[B.jsx("span",{className:"feature-text body-text-medium",children:r.ethics_title}),B.jsx("p",{className:"item-description body-text-small",children:r.ethics_description})]})]})})]})})]})},f2=({collection:r,onRemoveFromCollection:e,currentStep:t,brandName:n,setBrandName:i,fontStyle:a,setFontStyle:s,selectedModel:o,setSelectedModel:l,cards:u,onCardSelect:d,selectedCardIndex:p,setSelectedCardIndex:v,currentFabricStep:y,setCurrentFabricStep:x})=>{const A=cC(),[S,E]=P.useState(!1);P.useEffect(()=>{o&&E(G=>({...G,[o.id]:G[o.id]||!1}))},[o]);const M=()=>{n.trim()&&a&&A("/choose-selection")},R=()=>{y<2?(x(y+1),v(null),l(null)):A("/manufacturing")},w=()=>!n.trim()||!a?"#f0f0f0":"#fff4e6",I=()=>p!==null?"#fff4e6":"#f0f0f0",U=()=>p!==null?"button button-active":"button button-disabled",H=()=>o&&S[o.id]?"button button-active":"button button-disabled",F=G=>{E(X=>({...X,[G]:!0})),console.log("Audit visited for modelId:",G),console.log("Updated visitedAudit:",S)},N=["1. CHOOSE A LIGHT FABRIC","2. CHOOSE A KNIT FABRIC","3. CHOOSE A SHINY FABRIC"],L=G=>{d(G,y)};return B.jsxs("div",{className:"selection-panel",children:[B.jsxs("div",{className:"header-section",children:[B.jsx(BK,{currentStep:t,totalSteps:4}),t===1&&B.jsx("div",{className:"choose-outfit-designs accent-2",children:"Create your brand"}),t===2&&B.jsx("div",{className:"choose-outfit-designs accent-2",children:"Choose Outfit Designs"}),t===3&&B.jsx("div",{className:"choose-outfit-designs accent-2",children:"Fabrics Lab"}),t===4&&B.jsx("div",{className:"choose-outfit-designs accent-2",children:"Factory Selection"})]}),t===1&&B.jsx(B.Fragment,{children:B.jsxs("div",{className:"factory-overall-container",children:[B.jsxs("div",{className:"my-collection-block",style:{marginBottom:"240px"},children:[B.jsx("div",{className:"my-collection accent-4",children:"Brand Name"}),B.jsxs("div",{style:{position:"relative",width:"100%"},children:[B.jsx("input",{type:"text",placeholder:"Brand Name...",maxLength:"12",value:n,onChange:G=>i(G.target.value),style:{color:"white",width:"92%",padding:"16px",border:"1.1px solid rgba(240, 240, 240, 0.51)",borderRadius:"16px",boxSizing:"border-box",outline:"none",fontSize:"14px",background:"#222222",letterSpacing:"1px",margin:"0px 16px"}}),B.jsxs("div",{style:{position:"absolute",right:"25px",top:"50%",transform:"translateY(-50%)",color:"#CCC",fontSize:"12px",fontFamily:"'DM Sans', sans-serif"},children:[n.length," / 12"]})]})]}),B.jsx(UK,{selectedOption:a,setSelectedOption:s}),B.jsxs("div",{className:"total-price-widget",style:{backgroundColor:w(),padding:"16px",borderRadius:"8px",transition:"background-color 0.3s ease",border:n.trim()&&a?"1px solid #FFC4B1":"1px solid transparent"},children:[B.jsxs("div",{className:"price",children:[B.jsx("div",{className:"dollar-amount accent-2",style:{width:"188px",color:n.trim()&&a?"#0F0F0F":"#9B9B9B"},children:n||"Brand Name"}),B.jsx("div",{className:"total-design-price label-large",style:{color:n.trim()&&a?"#0F0F0F":"#9B9B9B"},children:a?`A ${a} Brand`:"Select a Font Style"})]}),B.jsx("button",{className:"button",onClick:M,style:{width:"90px",height:"40px",cursor:n.trim()&&a?"pointer":"not-allowed",backgroundColor:n.trim()&&a?" #C83C00":"#888888",transition:"background-color 0.3s ease",border:"none",borderRadius:"5px",color:"white",display:"flex",padding:"16px 8px",justifyContent:"center",alignItems:"center"},disabled:!n.trim()||!a,children:"Create"})]})]})}),t===2&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"my-collection-block",children:[B.jsx("div",{className:"my-collection accent-4",children:"My Collection"}),B.jsx("div",{className:"thumbnail-list",children:[...Array(3)].map((G,X)=>{const Y=r[X];return B.jsx("div",{className:`thumbnail ${Y?"occupied":"unoccupied"}`,children:Y?B.jsxs("div",{className:"thumbnail-content",children:[B.jsx("button",{className:"remove-button",onClick:()=>e(Y.id),children:"REMOVE"}),B.jsx("img",{src:Y.img_path,alt:Y.name,className:"model-image"})]}):B.jsx("div",{className:"empty-state-text accent-1",children:`0${X+1}`})},X)})})]}),B.jsxs("div",{className:"collection-statistics-block",children:[B.jsx("div",{className:"collection-statistics-header accent-4",children:"Collection Statistics"}),B.jsx("div",{className:"collection-metric-container",children:B.jsx(E4,{label:"Collection Originality",originalPercentage:o.orig_percentage,plagiarizedPercentage:o.plag_percentage,summaryText:"Consumers need to resonate with your designs or your brand risks no sales.",icon:B.jsx("img",{src:NK,alt:"Originality Icon",style:{width:"20px",height:"20px"}}),showBars:!0})})]}),B.jsxs("div",{className:"total-price-widget",children:[B.jsxs("div",{className:"price",children:[B.jsxs("div",{className:"dollar-amount accent-2",children:["$",r.reduce((G,X)=>G+X.cost,0).toFixed(2)]}),B.jsx("div",{className:"total-design-price label-large",children:"Total Design Price"})]}),B.jsxs("div",{className:"button",children:[B.jsx("div",{className:"button-text body-text-medium",children:"Purchase"}),B.jsx("div",{className:"button-icon",children:B.jsx("img",{src:NE,alt:"Shopping Bag Icon"})})]})]})]}),t===3&&B.jsx(B.Fragment,{children:B.jsxs("div",{className:"factory-overall-container",children:[B.jsx(T4,{numSteps:3,currentStep:y}),B.jsx("h1",{className:"step-title accent-4",children:N[y]}),B.jsx(OK,{cards:u[y],onCardSelect:L,selectedCardIndex:p,setSelectedCardIndex:v}),B.jsxs("div",{className:"total-price-widget",style:{backgroundColor:I(),padding:"16px",borderRadius:"8px",transition:"background-color 0.3s ease",border:p!==null?"1px solid #FFC4B1":"1px solid transparent"},children:[B.jsxs("div",{className:"price",children:[B.jsxs("div",{className:"dollar-amount accent-2",style:{color:p!==null?"#0F0F0F":"#9B9B9B"},children:["$",p!==null?u[y][p].cost.toFixed(2):"0.00"]}),B.jsxs("div",{className:"total-design-price label-large",style:{color:p!==null?"#0F0F0F":"#9B9B9B"},children:["Total Fabrics Price: $",p!==null?u[y][p].cost:0]})]}),B.jsxs("button",{className:U(),id:"next-fabric-button",onClick:R,disabled:p===null,children:["Purchase",B.jsx("div",{className:"button-icon",children:B.jsx("img",{src:NE,alt:"Shopping Bag Icon"})})]})]})]})}),t===4&&B.jsxs("div",{className:"factory-overall-container",children:[B.jsx(LK,{selectedModel:o,onAuditVisit:F}),B.jsxs("div",{className:"total-price-widget",children:[B.jsxs("div",{className:"price",children:[B.jsxs("div",{className:"dollar-amount accent-2",children:["$ ",o.cost]}),B.jsx("div",{className:"total-design-price label-large",children:"MANUFACTURING COST"})]}),B.jsxs("button",{className:H(),id:"next-fabric-button",onClick:R,disabled:!o||!S[o.id],children:["Select",B.jsx("div",{className:"button-icon",children:B.jsx("img",{src:NE,alt:"Shopping Bag Icon"})})]})]})]})]})},IK="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5%200C12.76%200%2011.09%200.81%2010%202.09C8.91%200.81%207.24%200%205.5%200C2.42%200%200%202.42%200%205.5C0%209.28%203.4%2012.36%208.55%2017.04L10%2018.35L11.45%2017.03C16.6%2012.36%2020%209.28%2020%205.5C20%202.42%2017.58%200%2014.5%200ZM10.1%2015.55L10%2015.65L9.9%2015.55C5.14%2011.24%202%208.39%202%205.5C2%203.5%203.5%202%205.5%202C7.04%202%208.54%202.99%209.07%204.36H10.94C11.46%202.99%2012.96%202%2014.5%202C16.5%202%2018%203.5%2018%205.5C18%208.39%2014.86%2011.24%2010.1%2015.55Z'%20fill='%231D7B18'/%3e%3c/svg%3e",PK=({selectedModel:r,onAddToCollection:e,collection:t})=>{if(!r)return B.jsx("div",{className:"design-card",children:"Select a model to see details"});const n=t.length>=3;return B.jsxs("div",{className:"design-card",children:[B.jsx("div",{children:B.jsxs("span",{className:"look-number label-large",children:["LOOK #",String(r.id).padStart(2,"0")]})}),B.jsx("h1",{className:"title accent-2",children:r.name.toUpperCase()}),B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon thumbs-up",children:B.jsx("img",{src:vw,alt:"Sustainability Icon",style:{width:"24px",height:"24px"}})}),B.jsxs("span",{className:"feature-text body-text-medium",children:[r.sustainability*20,"% Sustainability"]})]}),B.jsxs("div",{className:"p_bar-description",children:[B.jsx("div",{className:"progress-bar-2",children:B.jsx("div",{className:"progress-fill",style:{width:`${r.sustainability*20}%`}})}),B.jsx("p",{className:"description body-text-small",children:r.description})]}),B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon heart",children:B.jsx("img",{src:IK,alt:"Popularity Icon",style:{width:"24px",height:"24px"}})}),B.jsxs("span",{className:"feature-text body-text-medium",children:[r.popularity*20,"% Popularity"]})]}),B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon thumbs-down",children:B.jsx("img",{src:yw,alt:"Ethics Icon",style:{width:"24px",height:"24px"}})}),B.jsxs("span",{className:"feature-text body-text-medium",children:[r.ethics*20,"% Ethics"]})]}),B.jsx("div",{className:"p_bar-description",children:B.jsx("p",{className:"description body-text-small",children:"Considerations for ethics and sustainability can influence the broader impact of your choices."})}),B.jsxs("div",{className:"cost-row",children:[B.jsxs("div",{className:"cost",children:[B.jsxs("h2",{className:"accent-3",children:["$",r.cost]}),B.jsx("span",{className:"label-large",children:"COST OF DESIGN"})]}),B.jsx("button",{className:"add-button body-text-medium",onClick:()=>e(r),disabled:n,children:n?"Max Limit Reached":"+ Add to Collection"})]})]})},M4=({selectedModel:r,onModelChange:e,models:t})=>{P.useEffect(()=>{r&&(console.log(`Selected Model: ${r.name} (ID: ${r.id})`),console.log(r))},[r]);const n=i=>{e(i)};return B.jsxs("div",{className:"model-list-container",children:[B.jsx("button",{className:"nav-button",onClick:()=>e(i=>i&&i.id>1?t.find(a=>a.id===i.id-1):i),children:"<"}),B.jsx("div",{className:"model-buttons",children:t.map(i=>B.jsx("button",{className:`accent-6 model-button ${r&&r.id===i.id?"active":""}`,onClick:()=>n(i),children:String(i.id).padStart(2,"0")},i.id))}),B.jsx("button",{className:"nav-button",onClick:()=>e(i=>i&&i.id<t.length?t.find(a=>a.id===i.id+1):i),children:">"})]})};function d2(){const{progress:r}=PI();return B.jsx("div",{style:{position:"fixed",zIndex:9999,top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{color:"#C83C00",fontSize:"24px",fontWeight:"bold",textAlign:"center",padding:"20px",border:"2px solid #C83C00",borderRadius:"10px"},children:[B.jsx("p",{style:{margin:"0 0 10px"},children:"Loading 3D Assets..."}),B.jsxs("p",{style:{margin:0},children:[r.toFixed(2),"%"]})]})})}var h2=yU();const FK=ff(h2);function HK(r,e){typeof r=="function"?r(e):r!=null&&(r.current=e)}function zK(...r){return e=>r.forEach(t=>HK(t,e))}const C4=P.forwardRef((r,e)=>{const{children:t,...n}=r,i=P.Children.toArray(t),a=i.find(kK);if(a){const s=a.props.children,o=i.map(l=>l===a?P.Children.count(s)>1?P.Children.only(null):P.isValidElement(s)?s.props.children:null:l);return P.createElement(tM,cr({},n,{ref:e}),P.isValidElement(s)?P.cloneElement(s,void 0,o):null)}return P.createElement(tM,cr({},n,{ref:e}),t)});C4.displayName="Slot";const tM=P.forwardRef((r,e)=>{const{children:t,...n}=r;return P.isValidElement(t)?P.cloneElement(t,{...VK(n,t.props),ref:zK(e,t.ref)}):P.Children.count(t)>1?P.Children.only(null):null});tM.displayName="SlotClone";const GK=({children:r})=>P.createElement(P.Fragment,null,r);function kK(r){return P.isValidElement(r)&&r.type===GK}function VK(r,e){const t={...e};for(const n in e){const i=r[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?t[n]=(...o)=>{a(...o),i(...o)}:i&&(t[n]=i):n==="style"?t[n]={...i,...a}:n==="className"&&(t[n]=[i,a].filter(Boolean).join(" "))}return{...r,...t}}const jK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],XK=jK.reduce((r,e)=>{const t=P.forwardRef((n,i)=>{const{asChild:a,...s}=n,o=a?C4:e;return P.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),P.createElement(o,cr({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{}),WK=P.forwardRef((r,e)=>{var t;const{container:n=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=r;return n?FK.createPortal(P.createElement(XK.div,cr({},i,{ref:e})),n):null}),YK=WK;var YB=Object.prototype.hasOwnProperty;function py(r,e){var t,n;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&py(r[n],e[n]););return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(YB.call(r,t)&&++n&&!YB.call(e,t)||!(t in e)||!py(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function p2(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!Object.is(r[t[n]],e[t[n]]))return!1;return!0}var m2=function(e,t,n,i){this.name=e,this.fn=t,this.args=n,this.modifiers=i};m2.prototype._test=function(e){var t=this.fn;try{fg(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return fg(this.modifiers.slice(),t,this)(e)}catch{return!1}};m2.prototype._check=function(e){try{fg(this.modifiers.slice(),this.fn,this)(e)}catch{if(fg(this.modifiers.slice(),function(n){return n},this)(!1))return}if(!fg(this.modifiers.slice(),this.fn,this)(e))throw null};m2.prototype._testAsync=function(e){var t=this;return new Promise(function(n,i){R4(t.modifiers.slice(),t.fn,t)(e).then(function(a){a?n(e):i(null)}).catch(function(a){return i(a)})})};function w4(r,e){return e===void 0&&(e="simple"),typeof r=="object"?r[e]:r}function fg(r,e,t){if(r.length){var n=r.shift(),i=fg(r,e,t);return n.perform(i,t)}else return w4(e)}function R4(r,e,t){if(r.length){var n=r.shift(),i=R4(r,e,t);return n.performAsync(i,t)}else return function(a){return Promise.resolve(w4(e,"async")(a))}}var qK=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},_w=function(r){function e(t,n,i,a){for(var s=[],o=arguments.length-4;o-- >0;)s[o]=arguments[o+4];r.call(this,s),r.captureStackTrace&&r.captureStackTrace(this,e),this.rule=t,this.value=n,this.cause=i,this.target=a}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e}(Error),Jc=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Jc.prototype._applyRule=function(e,t){var n=this;return function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];return n.chain.push(new m2(t,e.apply(n,i),i,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}};Jc.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new qK(t,e.simple,e.async)),this};Jc.prototype._clone=function(){return new Jc(this.chain.slice(),this.nextRuleModifiers.slice())};Jc.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Jc.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(n){try{n._check(e)}catch(i){t.push(new _w(n,e,i))}}),t};Jc.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new _w(t,e,n)}})};Jc.prototype.testAsync=function(e){var t=this;return new Promise(function(n,i){D4(e,t.chain.slice(),n,i)})};function D4(r,e,t,n){if(e.length){var i=e.shift();i._testAsync(r).then(function(){D4(r,e,t,n)},function(a){n(new _w(i,r,a))})}else t(r)}var qB=function(r,e){return e&&typeof r=="string"&&r.trim().length===0?!0:r==null};function KK(r,e){return e===void 0&&(e=!1),{simple:function(t){return qB(t,e)||r.check(t)===void 0},async:function(t){return qB(t,e)||r.testAsync(t)}}}function Hs(){return typeof Proxy<"u"?B4(new Jc):nM(new Jc)}var my={};Hs.extend=function(r){Object.assign(my,r)};Hs.clearCustomRules=function(){my={}};function B4(r){return new Proxy(r,{get:function(t,n){if(n in t)return t[n];var i=B4(r._clone());if(n in Vb)return i._applyModifier(Vb[n],n);if(n in my)return i._applyRule(my[n],n);if(n in iM)return i._applyRule(iM[n],n)}})}function nM(r){var e=function(i,a){return Object.keys(i).forEach(function(s){a[s]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var u=nM(a._clone()),d=u._applyRule(i[s],s).apply(void 0,o);return d}}),a},t=e(iM,r),n=e(my,t);return Object.keys(Vb).forEach(function(i){Object.defineProperty(n,i,{get:function(){var a=nM(n._clone());return a._applyModifier(Vb[i],i)}})}),n}var Vb={not:{simple:function(r){return function(e){return!r(e)}},async:function(r){return function(e){return Promise.resolve(r(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(r){return function(e){return Tx(e).some(function(t){try{return r(t)}catch{return!1}})}},async:function(r){return function(e){return Promise.all(Tx(e).map(function(t){try{return r(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(r){return function(e){return e!==!1&&Tx(e).every(r)}},async:function(r){return function(e){return Promise.all(Tx(e).map(r)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(r,e){return function(t){return KB(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r(t):r(t)}},async:function(r,e){return function(t){return Promise.resolve(r(t)).then(function(n){return KB(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n:n}).catch(function(){return!1})}}}};function KB(r){return r&&r.name==="schema"&&r.args.length>0&&typeof r.args[0]=="object"}function Tx(r){return typeof r=="string"?r.split(""):r}var iM={equal:function(r){return function(e){return e==r}},exact:function(r){return function(e){return e===r}},number:function(r){return r===void 0&&(r=!0),function(e){return typeof e=="number"&&(r||isFinite(e))}},integer:function(){return function(r){var e=Number.isInteger||JK;return e(r)}},numeric:function(){return function(r){return!isNaN(parseFloat(r))&&isFinite(r)}},string:function(){return qm("string")},boolean:function(){return qm("boolean")},undefined:function(){return qm("undefined")},null:function(){return qm("null")},array:function(){return qm("array")},object:function(){return qm("object")},instanceOf:function(r){return function(e){return e instanceof r}},pattern:function(r){return function(e){return r.test(e)}},lowercase:function(){return function(r){return typeof r=="boolean"||r===r.toLowerCase()&&r.trim()!==""}},uppercase:function(){return function(r){return r===r.toUpperCase()&&r.trim()!==""}},vowel:function(){return function(r){return/^[aeiou]+$/i.test(r)}},consonant:function(){return function(r){return/^(?=[^aeiou])([a-z]+)$/i.test(r)}},first:function(r){return function(e){return e[0]==r}},last:function(r){return function(e){return e[e.length-1]==r}},empty:function(){return function(r){return r.length===0}},length:function(r,e){return function(t){return t.length>=r&&t.length<=(e||r)}},minLength:function(r){return function(e){return e.length>=r}},maxLength:function(r){return function(e){return e.length<=r}},negative:function(){return function(r){return r<0}},positive:function(){return function(r){return r>=0}},between:function(r,e){return function(t){return t>=r&&t<=e}},range:function(r,e){return function(t){return t>=r&&t<=e}},lessThan:function(r){return function(e){return e<r}},lessThanOrEqual:function(r){return function(e){return e<=r}},greaterThan:function(r){return function(e){return e>r}},greaterThanOrEqual:function(r){return function(e){return e>=r}},even:function(){return function(r){return r%2===0}},odd:function(){return function(r){return r%2!==0}},includes:function(r){return function(e){return~e.indexOf(r)}},schema:function(r){return ZK(r)},passesAnyOf:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return function(t){return r.some(function(n){return n.test(t)})}},optional:KK};function qm(r){return function(e){return Array.isArray(e)&&r==="array"||e===null&&r==="null"||typeof e===r}}function JK(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}function ZK(r){return{simple:function(e){var t=[];if(Object.keys(r).forEach(function(n){var i=r[n];try{i.check((e||{})[n])}catch(a){a.target=n,t.push(a)}}),t.length>0)throw t;return!0},async:function(e){var t=[],n=Object.keys(r).map(function(i){var a=r[i];return a.testAsync((e||{})[i]).catch(function(s){s.target=i,t.push(s)})});return Promise.all(n).then(function(){if(t.length>0)throw t;return!0})}}}var bi="colors",ss="sizes",jt="space",$K={gap:jt,gridGap:jt,columnGap:jt,gridColumnGap:jt,rowGap:jt,gridRowGap:jt,inset:jt,insetBlock:jt,insetBlockEnd:jt,insetBlockStart:jt,insetInline:jt,insetInlineEnd:jt,insetInlineStart:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,marginBlock:jt,marginBlockEnd:jt,marginBlockStart:jt,marginInline:jt,marginInlineEnd:jt,marginInlineStart:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,paddingBlock:jt,paddingBlockEnd:jt,paddingBlockStart:jt,paddingInline:jt,paddingInlineEnd:jt,paddingInlineStart:jt,top:jt,right:jt,bottom:jt,left:jt,scrollMargin:jt,scrollMarginTop:jt,scrollMarginRight:jt,scrollMarginBottom:jt,scrollMarginLeft:jt,scrollMarginX:jt,scrollMarginY:jt,scrollMarginBlock:jt,scrollMarginBlockEnd:jt,scrollMarginBlockStart:jt,scrollMarginInline:jt,scrollMarginInlineEnd:jt,scrollMarginInlineStart:jt,scrollPadding:jt,scrollPaddingTop:jt,scrollPaddingRight:jt,scrollPaddingBottom:jt,scrollPaddingLeft:jt,scrollPaddingX:jt,scrollPaddingY:jt,scrollPaddingBlock:jt,scrollPaddingBlockEnd:jt,scrollPaddingBlockStart:jt,scrollPaddingInline:jt,scrollPaddingInlineEnd:jt,scrollPaddingInlineStart:jt,fontSize:"fontSizes",background:bi,backgroundColor:bi,backgroundImage:bi,borderImage:bi,border:bi,borderBlock:bi,borderBlockEnd:bi,borderBlockStart:bi,borderBottom:bi,borderBottomColor:bi,borderColor:bi,borderInline:bi,borderInlineEnd:bi,borderInlineStart:bi,borderLeft:bi,borderLeftColor:bi,borderRight:bi,borderRightColor:bi,borderTop:bi,borderTopColor:bi,caretColor:bi,color:bi,columnRuleColor:bi,fill:bi,outline:bi,outlineColor:bi,stroke:bi,textDecorationColor:bi,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ss,minBlockSize:ss,maxBlockSize:ss,inlineSize:ss,minInlineSize:ss,maxInlineSize:ss,width:ss,minWidth:ss,maxWidth:ss,height:ss,minHeight:ss,maxHeight:ss,flexBasis:ss,gridTemplateColumns:ss,gridTemplateRows:ss,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},QK=(r,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,zg=()=>{const r=Object.create(null);return(e,t,...n)=>{const i=(a=>JSON.stringify(a,QK))(e);return i in r?r[i]:r[i]=t(e,...n)}},op=Symbol.for("sxs.internal"),xw=(r,e)=>Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)),JB=r=>{for(const e in r)return!0;return!1},{hasOwnProperty:eJ}=Object.prototype,rM=r=>r.includes("-")?r:r.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),tJ=/\s+(?![^()]*\))/,Km=r=>e=>r(...typeof e=="string"?String(e).split(tJ):[e]),ZB={appearance:r=>({WebkitAppearance:r,appearance:r}),backfaceVisibility:r=>({WebkitBackfaceVisibility:r,backfaceVisibility:r}),backdropFilter:r=>({WebkitBackdropFilter:r,backdropFilter:r}),backgroundClip:r=>({WebkitBackgroundClip:r,backgroundClip:r}),boxDecorationBreak:r=>({WebkitBoxDecorationBreak:r,boxDecorationBreak:r}),clipPath:r=>({WebkitClipPath:r,clipPath:r}),content:r=>({content:r.includes('"')||r.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(r)?r:`"${r}"`}),hyphens:r=>({WebkitHyphens:r,hyphens:r}),maskImage:r=>({WebkitMaskImage:r,maskImage:r}),maskSize:r=>({WebkitMaskSize:r,maskSize:r}),tabSize:r=>({MozTabSize:r,tabSize:r}),textSizeAdjust:r=>({WebkitTextSizeAdjust:r,textSizeAdjust:r}),userSelect:r=>({WebkitUserSelect:r,userSelect:r}),marginBlock:Km((r,e)=>({marginBlockStart:r,marginBlockEnd:e||r})),marginInline:Km((r,e)=>({marginInlineStart:r,marginInlineEnd:e||r})),maxSize:Km((r,e)=>({maxBlockSize:r,maxInlineSize:e||r})),minSize:Km((r,e)=>({minBlockSize:r,minInlineSize:e||r})),paddingBlock:Km((r,e)=>({paddingBlockStart:r,paddingBlockEnd:e||r})),paddingInline:Km((r,e)=>({paddingInlineStart:r,paddingInlineEnd:e||r}))},UE=/([\d.]+)([^]*)/,nJ=(r,e)=>r.length?r.reduce((t,n)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),t),[]):e,iJ=(r,e)=>r in rJ&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,i,a)=>n+(i==="stretch"?`-moz-available${a};${rM(r)}:${n}-webkit-fill-available`:`-moz-fit-content${a};${rM(r)}:${n}fit-content`)+a):String(e),rJ={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},sf=r=>r?r+"-":"",O4=(r,e,t)=>r.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,a,s,o)=>s=="$"==!!a?n:(i||s=="--"?"calc(":"")+"var(--"+(s==="$"?sf(e)+(o.includes("$")?"":sf(t))+o.replace(/\$/g,"-"):o)+")"+(i||s=="--"?"*"+(i||"")+(a||"1")+")":"")),aJ=/\s*,\s*(?![^()]*\))/,sJ=Object.prototype.toString,ng=(r,e,t,n,i)=>{let a,s,o;const l=(u,d,p)=>{let v,y;const x=A=>{for(v in A){const M=v.charCodeAt(0)===64,R=M&&Array.isArray(A[v])?A[v]:[A[v]];for(y of R){const w=/[A-Z]/.test(E=v)?E:E.replace(/-[^]/g,U=>U[1].toUpperCase()),I=typeof y=="object"&&y&&y.toString===sJ&&(!n.utils[w]||!d.length);if(w in n.utils&&!I){const U=n.utils[w];if(U!==s){s=U,x(U(y)),s=null;continue}}else if(w in ZB){const U=ZB[w];if(U!==o){o=U,x(U(y)),o=null;continue}}if(M&&(S=v.slice(1)in n.media?"@media "+n.media[v.slice(1)]:v,v=S.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(U,H,F,N,L,G)=>{const X=UE.test(H),Y=.0625*(X?-1:1),[J,ae]=X?[N,H]:[H,N];return"("+(F[0]==="="?"":F[0]===">"===X?"max-":"min-")+J+":"+(F[0]!=="="&&F.length===1?ae.replace(UE,($,he,le)=>Number(he)+Y*(F===">"?1:-1)+le):ae)+(L?") and ("+(L[0]===">"?"min-":"max-")+J+":"+(L.length===1?G.replace(UE,($,he,le)=>Number(he)+Y*(L===">"?-1:1)+le):G):"")+")"})),I){const U=M?p.concat(v):[...p],H=M?[...d]:nJ(d,v.split(aJ));a!==void 0&&i($B(...a)),a=void 0,l(y,H,U)}else a===void 0&&(a=[[],d,p]),v=M||v.charCodeAt(0)!==36?v:`--${sf(n.prefix)}${v.slice(1).replace(/\$/g,"-")}`,y=I?y:typeof y=="number"?y&&w in oJ?String(y)+"px":String(y):O4(iJ(w,y??""),n.prefix,n.themeMap[w]),a[0].push(`${M?`${v} `:`${rM(v)}:`}${y}`)}}var S,E};x(u),a!==void 0&&i($B(...a)),a=void 0};l(r,e,t)},$B=(r,e,t)=>`${t.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${r.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,oJ={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},QB=r=>String.fromCharCode(r+(r>25?39:97)),lp=r=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=QB(t%52)+n;return QB(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(r))>>>0),Cv=["themed","global","styled","onevar","resonevar","allvar","inline"],lJ=r=>{if(r.href&&!r.href.startsWith(location.origin))return!1;try{return!!r.cssRules}catch{return!1}},cJ=r=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(a,s)=>{const{cssText:o}=a;let l="";if(o.startsWith("--sxs"))return"";if(i[s-1]&&(l=i[s-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===a)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${o}`;return a.cssRules.length?`${l}${o}`:""}return o}).join("")},n=()=>{if(e){const{rules:o,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in o)delete o[u]}const i=Object(r).styleSheets||[];for(const o of i)if(lJ(o)){for(let l=0,u=o.cssRules;u[l];++l){const d=Object(u[l]);if(d.type!==1)continue;const p=Object(u[l+1]);if(p.type!==4)continue;++l;const{cssText:v}=d;if(!v.startsWith("--sxs"))continue;const y=v.slice(14,-3).trim().split(/\s+/),x=Cv[y[0]];x&&(e||(e={sheet:o,reset:n,rules:{},toString:t}),e.rules[x]={group:p,index:l,cache:new Set(y)})}if(e)break}if(!e){const o=(l,u)=>({type:u,cssRules:[],insertRule(d,p){this.cssRules.splice(p,0,o(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:l}});e={sheet:r?(r.head||r).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:n,toString:t}}const{sheet:a,rules:s}=e;for(let o=Cv.length-1;o>=0;--o){const l=Cv[o];if(!s[l]){const u=Cv[o+1],d=s[u]?s[u].index:a.cssRules.length;a.insertRule("@media{}",d),a.insertRule(`--sxs{--sxs:${o}}`,d),s[l]={group:a.cssRules[d+1],index:d,cache:new Set([o])}}uJ(s[l])}};return n(),e},uJ=r=>{const e=r.group;let t=e.cssRules.length;r.apply=n=>{try{e.insertRule(n,t),++t}catch{}}},xv=Symbol(),fJ=zg(),eO=(r,e)=>fJ(r,()=>(...t)=>{let n={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[op]){n.type==null&&(n.type=i[op].type);for(const a of i[op].composers)n.composers.add(a)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(dJ(i,r));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),hJ(r,n,e)}),dJ=({variants:r,compoundVariants:e,defaultVariants:t,...n},i)=>{const a=`${sf(i.prefix)}c-${lp(n)}`,s=[],o=[],l=Object.create(null),u=[];for(const v in t)l[v]=String(t[v]);if(typeof r=="object"&&r)for(const v in r){d=l,p=v,eJ.call(d,p)||(l[v]="undefined");const y=r[v];for(const x in y){const A={[v]:String(x)};String(x)==="undefined"&&u.push(v);const S=y[x],E=[A,S,!JB(S)];s.push(E)}}var d,p;if(typeof e=="object"&&e)for(const v of e){let{css:y,...x}=v;y=typeof y=="object"&&y||{};for(const S in x)x[S]=String(x[S]);const A=[x,y,!JB(y)];o.push(A)}return[a,n,s,o,l,u]},hJ=(r,e,t)=>{const[n,i,a,s]=pJ(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(p=>{function v(){for(let y=0;y<v[xv].length;y++){const[x,A]=v[xv][y];p.rules[x].apply(A)}return v[xv]=[],null}return v[xv]=[],v.rules={},Cv.forEach(y=>v.rules[y]={apply:x=>v[xv].push([y,x])}),v})(t):null,l=(o||t).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,d=p=>{p=typeof p=="object"&&p||mJ;const{css:v,...y}=p,x={};for(const E in a)if(delete y[E],E in p){let M=p[E];typeof M=="object"&&M?x[E]={"@initial":a[E],...M}:(M=String(M),x[E]=M!=="undefined"||s.has(E)?M:a[E])}else x[E]=a[E];const A=new Set([...i]);for(const[E,M,R,w]of e.composers){t.rules.styled.cache.has(E)||(t.rules.styled.cache.add(E),ng(M,[`.${E}`],[],r,H=>{l.styled.apply(H)}));const I=tO(R,x,r.media),U=tO(w,x,r.media,!0);for(const H of I)if(H!==void 0)for(const[F,N,L]of H){const G=`${E}-${lp(N)}-${F}`;A.add(G);const X=(L?t.rules.resonevar:t.rules.onevar).cache,Y=L?l.resonevar:l.onevar;X.has(G)||(X.add(G),ng(N,[`.${G}`],[],r,J=>{Y.apply(J)}))}for(const H of U)if(H!==void 0)for(const[F,N]of H){const L=`${E}-${lp(N)}-${F}`;A.add(L),t.rules.allvar.cache.has(L)||(t.rules.allvar.cache.add(L),ng(N,[`.${L}`],[],r,G=>{l.allvar.apply(G)}))}}if(typeof v=="object"&&v){const E=`${n}-i${lp(v)}-css`;A.add(E),t.rules.inline.cache.has(E)||(t.rules.inline.cache.add(E),ng(v,[`.${E}`],[],r,M=>{l.inline.apply(M)}))}for(const E of String(p.className||"").trim().split(/\s+/))E&&A.add(E);const S=y.className=[...A].join(" ");return{type:e.type,className:S,selector:u,props:y,toString:()=>S,deferredInjector:o}};return xw(d,{className:n,selector:u,[op]:e,toString:()=>(t.rules.styled.cache.has(n)||d(),n)})},pJ=r=>{let e="";const t=[],n={},i=[];for(const[a,,,,s,o]of r){e===""&&(e=a),t.push(a),i.push(...o);for(const l in s){const u=s[l];(n[l]===void 0||u!=="undefined"||o.includes(u))&&(n[l]=u)}}return[e,t,n,new Set(i)]},tO=(r,e,t,n)=>{const i=[];e:for(let[a,s,o]of r){if(o)continue;let l,u=0,d=!1;for(l in a){const p=a[l];let v=e[l];if(v!==p){if(typeof v!="object"||!v)continue e;{let y,x,A=0;for(const S in v){if(p===String(v[S])){if(S!=="@initial"){const E=S.slice(1);(x=x||[]).push(E in t?t[E]:S.replace(/^@media ?/,"")),d=!0}u+=A,y=!0}++A}if(x&&x.length&&(s={["@media "+x.join(", ")]:s}),!y)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${a[l]}`,s,d])}return i},mJ={},gJ=zg(),vJ=(r,e)=>gJ(r,()=>(...t)=>{const n=()=>{for(let i of t){i=typeof i=="object"&&i||{};let a=lp(i);if(!e.rules.global.cache.has(a)){if(e.rules.global.cache.add(a),"@import"in i){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(i["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,s++);delete i["@import"]}ng(i,[],[],r,s=>{e.rules.global.apply(s)})}}return""};return xw(n,{toString:n})}),yJ=zg(),_J=(r,e)=>yJ(r,()=>t=>{const n=`${sf(r.prefix)}k-${lp(t)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const a=[];ng(t,[],[],r,o=>a.push(o));const s=`@keyframes ${n}{${a.join("")}}`;e.rules.global.apply(s)}return n};return xw(i,{get name(){return i()},toString:i})}),xJ=class{constructor(e,t,n,i){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+sf(this.prefix)+sf(this.scale)+this.token}toString(){return this.computedValue}},bJ=zg(),AJ=(r,e)=>bJ(r,()=>(t,n)=>{n=typeof t=="object"&&t||Object(n);const i=`.${t=(t=typeof t=="string"?t:"")||`${sf(r.prefix)}t-${lp(n)}`}`,a={},s=[];for(const l in n){a[l]={};for(const u in n[l]){const d=`--${sf(r.prefix)}${l}-${u}`,p=O4(String(n[l][u]),r.prefix,l);a[l][u]=new xJ(u,p,l,r.prefix),s.push(`${d}:${p}`)}}const o=()=>{if(s.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${n===r.theme?":root,":""}.${t}{${s.join(";")}}`;e.rules.themed.apply(l)}return t};return{...a,get className(){return o()},selector:i,toString:o}}),SJ=zg(),EJ=zg(),TJ=r=>{const e=(t=>{let n=!1;const i=SJ(t,a=>{n=!0;const s="prefix"in(a=typeof a=="object"&&a||{})?String(a.prefix):"",o=typeof a.media=="object"&&a.media||{},l=typeof a.root=="object"?a.root||null:globalThis.document||null,u=typeof a.theme=="object"&&a.theme||{},d={prefix:s,media:o,theme:u,themeMap:typeof a.themeMap=="object"&&a.themeMap||{...$K},utils:typeof a.utils=="object"&&a.utils||{}},p=cJ(l),v={css:eO(d,p),globalCss:vJ(d,p),keyframes:_J(d,p),createTheme:AJ(d,p),reset(){p.reset(),v.theme.toString()},theme:{},sheet:p,config:d,prefix:s,getCssText:p.toString,toString:p.toString};return String(v.theme=v.createTheme(u)),v});return n||i.reset(),i})(r);return e.styled=(({config:t,sheet:n})=>EJ(t,()=>{const i=eO(t,n);return(...a)=>{const s=i(...a),o=s[op].type,l=Ae.forwardRef((u,d)=>{const p=u&&u.as||o,{props:v,deferredInjector:y}=s(u);return delete v.as,v.ref=d,y?Ae.createElement(Ae.Fragment,null,Ae.createElement(p,v),Ae.createElement(y,null)):Ae.createElement(p,v)});return l.className=s.className,l.displayName=`Styled.${o.displayName||o.name||o}`,l.selector=s.selector,l.toString=()=>s.selector,l[op]=s[op],l}}))(e),e};function Vu(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function MJ(r,e){typeof r=="function"?r(e):r!=null&&(r.current=e)}function N4(...r){return e=>r.forEach(t=>MJ(t,e))}function Gg(...r){return P.useCallback(N4(...r),r)}function U4(r,e=[]){let t=[];function n(a,s){const o=P.createContext(s),l=t.length;t=[...t,s];function u(p){const{scope:v,children:y,...x}=p,A=(v==null?void 0:v[r][l])||o,S=P.useMemo(()=>x,Object.values(x));return P.createElement(A.Provider,{value:S},y)}function d(p,v){const y=(v==null?void 0:v[r][l])||o,x=P.useContext(y);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=t.map(s=>P.createContext(s));return function(o){const l=(o==null?void 0:o[r])||a;return P.useMemo(()=>({[`__scope${r}`]:{...o,[r]:l}}),[o,l])}};return i.scopeName=r,[n,CJ(i,...e)]}function CJ(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const p=l(a)[`__scope${u}`];return{...o,...p}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}const L4=P.forwardRef((r,e)=>{const{children:t,...n}=r,i=P.Children.toArray(t),a=i.find(wJ);if(a){const s=a.props.children,o=i.map(l=>l===a?P.Children.count(s)>1?P.Children.only(null):P.isValidElement(s)?s.props.children:null:l);return P.createElement(aM,cr({},n,{ref:e}),P.isValidElement(s)?P.cloneElement(s,void 0,o):null)}return P.createElement(aM,cr({},n,{ref:e}),t)});L4.displayName="Slot";const aM=P.forwardRef((r,e)=>{const{children:t,...n}=r;return P.isValidElement(t)?P.cloneElement(t,{...RJ(n,t.props),ref:N4(e,t.ref)}):P.Children.count(t)>1?P.Children.only(null):null});aM.displayName="SlotClone";const I4=({children:r})=>P.createElement(P.Fragment,null,r);function wJ(r){return P.isValidElement(r)&&r.type===I4}function RJ(r,e){const t={...e};for(const n in e){const i=r[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?t[n]=(...o)=>{a(...o),i(...o)}:i&&(t[n]=i):n==="style"?t[n]={...i,...a}:n==="className"&&(t[n]=[i,a].filter(Boolean).join(" "))}return{...r,...t}}const DJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Sp=DJ.reduce((r,e)=>{const t=P.forwardRef((n,i)=>{const{asChild:a,...s}=n,o=a?L4:e;return P.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),P.createElement(o,cr({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function BJ(r,e){r&&h2.flushSync(()=>r.dispatchEvent(e))}function bw(r){const e=P.useRef(r);return P.useEffect(()=>{e.current=r}),P.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}function OJ(r,e=globalThis==null?void 0:globalThis.document){const t=bw(r);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[t,e])}const sM="dismissableLayer.update",NJ="dismissableLayer.pointerDownOutside",UJ="dismissableLayer.focusOutside";let nO;const LJ=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IJ=P.forwardRef((r,e)=>{var t;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=r,d=P.useContext(LJ),[p,v]=P.useState(null),y=(t=p==null?void 0:p.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,x]=P.useState({}),A=Gg(e,F=>v(F)),S=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=S.indexOf(E),R=p?S.indexOf(p):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,I=R>=M,U=PJ(F=>{const N=F.target,L=[...d.branches].some(G=>G.contains(N));!I||L||(a==null||a(F),o==null||o(F),F.defaultPrevented||l==null||l())},y),H=FJ(F=>{const N=F.target;[...d.branches].some(G=>G.contains(N))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},y);return OJ(F=>{R===d.layers.size-1&&(i==null||i(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},y),P.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(nO=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),iO(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=nO)}},[p,y,n,d]),P.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),iO())},[p,d]),P.useEffect(()=>{const F=()=>x({});return document.addEventListener(sM,F),()=>document.removeEventListener(sM,F)},[]),P.createElement(Sp.div,cr({},u,{ref:A,style:{pointerEvents:w?I?"auto":"none":void 0,...r.style},onFocusCapture:Vu(r.onFocusCapture,H.onFocusCapture),onBlurCapture:Vu(r.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Vu(r.onPointerDownCapture,U.onPointerDownCapture)}))});function PJ(r,e=globalThis==null?void 0:globalThis.document){const t=bw(r),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let u=function(){P4(NJ,t,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function FJ(r,e=globalThis==null?void 0:globalThis.document){const t=bw(r),n=P.useRef(!1);return P.useEffect(()=>{const i=a=>{a.target&&!n.current&&P4(UJ,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iO(){const r=new CustomEvent(sM);document.dispatchEvent(r)}function P4(r,e,t,{discrete:n}){const i=t.originalEvent.target,a=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(r,e,{once:!0}),n?BJ(i,a):i.dispatchEvent(a)}const HJ=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},zJ=R6.useId||(()=>{});let GJ=0;function kJ(r){const[e,t]=P.useState(zJ());return HJ(()=>{t(n=>n??String(GJ++))},[r]),e?`radix-${e}`:""}function Up(r){return r.split("-")[0]}function Ky(r){return r.split("-")[1]}function kg(r){return["top","bottom"].includes(Up(r))?"x":"y"}function Aw(r){return r==="y"?"height":"width"}function rO(r,e,t){let{reference:n,floating:i}=r;const a=n.x+n.width/2-i.width/2,s=n.y+n.height/2-i.height/2,o=kg(e),l=Aw(o),u=n[l]/2-i[l]/2,d=o==="x";let p;switch(Up(e)){case"top":p={x:a,y:n.y-i.height};break;case"bottom":p={x:a,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:s};break;case"left":p={x:n.x-i.width,y:s};break;default:p={x:n.x,y:n.y}}switch(Ky(e)){case"start":p[o]-=u*(t&&d?-1:1);break;case"end":p[o]+=u*(t&&d?-1:1)}return p}const VJ=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,o=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:r,floating:e,strategy:i}),{x:u,y:d}=rO(l,n,o),p=n,v={},y=0;for(let x=0;x<a.length;x++){const{name:A,fn:S}=a[x],{x:E,y:M,data:R,reset:w}=await S({x:u,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:v,rects:l,platform:s,elements:{reference:r,floating:e}});u=E??u,d=M??d,v={...v,[A]:{...v[A],...R}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(l=w.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:i}):w.rects),{x:u,y:d}=rO(l,p,o)),x=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:v}};function F4(r){return typeof r!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(r):{top:r,right:r,bottom:r,left:r}}function jb(r){return{...r,top:r.y,left:r.x,right:r.x+r.width,bottom:r.y+r.height}}async function gy(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=r,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=e,x=F4(y),A=o[v?p==="floating"?"reference":"floating":p],S=jb(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),E=jb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?{...s.floating,x:n,y:i}:s.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),strategy:l}):s[p]);return{top:S.top-E.top+x.top,bottom:E.bottom-S.bottom+x.bottom,left:S.left-E.left+x.left,right:E.right-S.right+x.right}}const jJ=Math.min,Gh=Math.max;function oM(r,e,t){return Gh(r,jJ(e,t))}const aO=r=>({name:"arrow",options:r,async fn(e){const{element:t,padding:n=0}=r??{},{x:i,y:a,placement:s,rects:o,platform:l}=e;if(t==null)return{};const u=F4(n),d={x:i,y:a},p=kg(s),v=Ky(s),y=Aw(p),x=await l.getDimensions(t),A=p==="y"?"top":"left",S=p==="y"?"bottom":"right",E=o.reference[y]+o.reference[p]-d[p]-o.floating[y],M=d[p]-o.reference[p],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(t));let w=R?p==="y"?R.clientHeight||0:R.clientWidth||0:0;w===0&&(w=o.floating[y]);const I=E/2-M/2,U=u[A],H=w-x[y]-u[S],F=w/2-x[y]/2+I,N=oM(U,F,H),L=(v==="start"?u[A]:u[S])>0&&F!==N&&o.reference[y]<=o.floating[y];return{[p]:d[p]-(L?F<U?U-F:H-F:0),data:{[p]:N,centerOffset:F-N}}}}),XJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Xb(r){return r.replace(/left|right|bottom|top/g,e=>XJ[e])}function WJ(r,e,t){t===void 0&&(t=!1);const n=Ky(r),i=kg(r),a=Aw(i);let s=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Xb(s)),{main:s,cross:Xb(s)}}const YJ={start:"end",end:"start"};function sO(r){return r.replace(/start|end/g,e=>YJ[e])}const H4=["top","right","bottom","left"];H4.reduce((r,e)=>r.concat(e,e+"-start",e+"-end"),[]);const qJ=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t;const{placement:n,middlewareData:i,rects:a,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",flipAlignment:y=!0,...x}=r,A=Up(n),S=p||(A===s||!y?[Xb(s)]:function(F){const N=Xb(F);return[sO(F),N,sO(N)]}(s)),E=[s,...S],M=await gy(e,x),R=[];let w=((t=i.flip)==null?void 0:t.overflows)||[];if(u&&R.push(M[A]),d){const{main:F,cross:N}=WJ(n,a,await(o.isRTL==null?void 0:o.isRTL(l.floating)));R.push(M[F],M[N])}if(w=[...w,{placement:n,overflows:R}],!R.every(F=>F<=0)){var I,U;const F=((I=(U=i.flip)==null?void 0:U.index)!=null?I:0)+1,N=E[F];if(N)return{data:{index:F,overflows:w},reset:{placement:N}};let L="bottom";switch(v){case"bestFit":{var H;const G=(H=w.map(X=>[X,X.overflows.filter(Y=>Y>0).reduce((Y,J)=>Y+J,0)]).sort((X,Y)=>X[1]-Y[1])[0])==null?void 0:H[0].placement;G&&(L=G);break}case"initialPlacement":L=s}if(n!==L)return{reset:{placement:L}}}return{}}}};function oO(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function lO(r){return H4.some(e=>r[e]>=0)}const KJ=function(r){let{strategy:e="referenceHidden",...t}=r===void 0?{}:r;return{name:"hide",async fn(n){const{rects:i}=n;switch(e){case"referenceHidden":{const a=oO(await gy(n,{...t,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lO(a)}}}case"escaped":{const a=oO(await gy(n,{...t,altBoundary:!0}),i.floating);return{data:{escapedOffsets:a,escaped:lO(a)}}}default:return{}}}}},JJ=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){const{x:t,y:n}=e,i=await async function(a,s){const{placement:o,platform:l,elements:u}=a,d=await(l.isRTL==null?void 0:l.isRTL(u.floating)),p=Up(o),v=Ky(o),y=kg(o)==="x",x=["left","top"].includes(p)?-1:1,A=d&&y?-1:1,S=typeof s=="function"?s(a):s;let{mainAxis:E,crossAxis:M,alignmentAxis:R}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...S};return v&&typeof R=="number"&&(M=v==="end"?-1*R:R),y?{x:M*A,y:E*x}:{x:E*x,y:M*A}}(e,r);return{x:t+i.x,y:n+i.y,data:i}}}};function z4(r){return r==="x"?"y":"x"}const ZJ=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:S=>{let{x:E,y:M}=S;return{x:E,y:M}}},...l}=r,u={x:t,y:n},d=await gy(e,l),p=kg(Up(i)),v=z4(p);let y=u[p],x=u[v];if(a){const S=p==="y"?"bottom":"right";y=oM(y+d[p==="y"?"top":"left"],y,y-d[S])}if(s){const S=v==="y"?"bottom":"right";x=oM(x+d[v==="y"?"top":"left"],x,x-d[S])}const A=o.fn({...e,[p]:y,[v]:x});return{...A,data:{x:A.x-t,y:A.y-n}}}}},$J=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=r,d={x:t,y:n},p=kg(i),v=z4(p);let y=d[p],x=d[v];const A=typeof o=="function"?o({...a,placement:i}):o,S=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(l){const I=p==="y"?"height":"width",U=a.reference[p]-a.floating[I]+S.mainAxis,H=a.reference[p]+a.reference[I]-S.mainAxis;y<U?y=U:y>H&&(y=H)}if(u){var E,M,R,w;const I=p==="y"?"width":"height",U=["top","left"].includes(Up(i)),H=a.reference[v]-a.floating[I]+(U&&(E=(M=s.offset)==null?void 0:M[v])!=null?E:0)+(U?0:S.crossAxis),F=a.reference[v]+a.reference[I]+(U?0:(R=(w=s.offset)==null?void 0:w[v])!=null?R:0)-(U?S.crossAxis:0);x<H?x=H:x>F&&(x=F)}return{[p]:y,[v]:x}}}},QJ=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){const{placement:t,rects:n,platform:i,elements:a}=e,{apply:s,...o}=r,l=await gy(e,o),u=Up(t),d=Ky(t);let p,v;u==="top"||u==="bottom"?(p=u,v=d===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=u,p=d==="end"?"top":"bottom");const y=Gh(l.left,0),x=Gh(l.right,0),A=Gh(l.top,0),S=Gh(l.bottom,0),E={availableHeight:n.floating.height-(["left","right"].includes(t)?2*(A!==0||S!==0?A+S:Gh(l.top,l.bottom)):l[p]),availableWidth:n.floating.width-(["top","bottom"].includes(t)?2*(y!==0||x!==0?y+x:Gh(l.left,l.right)):l[v])},M=await i.getDimensions(a.floating);s==null||s({...e,...E});const R=await i.getDimensions(a.floating);return M.width!==R.width||M.height!==R.height?{reset:{rects:!0}}:{}}}};function G4(r){return r&&r.document&&r.location&&r.alert&&r.setInterval}function df(r){if(r==null)return window;if(!G4(r)){const e=r.ownerDocument;return e&&e.defaultView||window}return r}function Jy(r){return df(r).getComputedStyle(r)}function Zu(r){return G4(r)?"":r?(r.nodeName||"").toLowerCase():""}function k4(){const r=navigator.userAgentData;return r!=null&&r.brands?r.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function Zc(r){return r instanceof df(r).HTMLElement}function Ed(r){return r instanceof df(r).Element}function Sw(r){return typeof ShadowRoot>"u"?!1:r instanceof df(r).ShadowRoot||r instanceof ShadowRoot}function g2(r){const{overflow:e,overflowX:t,overflowY:n}=Jy(r);return/auto|scroll|overlay|hidden/.test(e+n+t)}function eZ(r){return["table","td","th"].includes(Zu(r))}function cO(r){const e=/firefox/i.test(k4()),t=Jy(r);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function V4(){return!/^((?!chrome|android).)*safari/i.test(k4())}const uO=Math.min,Xv=Math.max,Wb=Math.round;function $u(r,e,t){var n,i,a,s;e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect();let l=1,u=1;e&&Zc(r)&&(l=r.offsetWidth>0&&Wb(o.width)/r.offsetWidth||1,u=r.offsetHeight>0&&Wb(o.height)/r.offsetHeight||1);const d=Ed(r)?df(r):window,p=!V4()&&t,v=(o.left+(p&&(n=(i=d.visualViewport)==null?void 0:i.offsetLeft)!=null?n:0))/l,y=(o.top+(p&&(a=(s=d.visualViewport)==null?void 0:s.offsetTop)!=null?a:0))/u,x=o.width/l,A=o.height/u;return{width:x,height:A,top:y,right:v+x,bottom:y+A,left:v,x:v,y}}function vd(r){return(e=r,(e instanceof df(e).Node?r.ownerDocument:r.document)||window.document).documentElement;var e}function v2(r){return Ed(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function j4(r){return $u(vd(r)).left+v2(r).scrollLeft}function tZ(r,e,t){const n=Zc(e),i=vd(e),a=$u(r,n&&function(l){const u=$u(l);return Wb(u.width)!==l.offsetWidth||Wb(u.height)!==l.offsetHeight}(e),t==="fixed");let s={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(n||!n&&t!=="fixed")if((Zu(e)!=="body"||g2(i))&&(s=v2(e)),Zc(e)){const l=$u(e,!0);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else i&&(o.x=j4(i));return{x:a.left+s.scrollLeft-o.x,y:a.top+s.scrollTop-o.y,width:a.width,height:a.height}}function X4(r){return Zu(r)==="html"?r:r.assignedSlot||r.parentNode||(Sw(r)?r.host:null)||vd(r)}function fO(r){return Zc(r)&&getComputedStyle(r).position!=="fixed"?r.offsetParent:null}function lM(r){const e=df(r);let t=fO(r);for(;t&&eZ(t)&&getComputedStyle(t).position==="static";)t=fO(t);return t&&(Zu(t)==="html"||Zu(t)==="body"&&getComputedStyle(t).position==="static"&&!cO(t))?e:t||function(n){let i=X4(n);for(Sw(i)&&(i=i.host);Zc(i)&&!["html","body"].includes(Zu(i));){if(cO(i))return i;i=i.parentNode}return null}(r)||e}function dO(r){if(Zc(r))return{width:r.offsetWidth,height:r.offsetHeight};const e=$u(r);return{width:e.width,height:e.height}}function W4(r){const e=X4(r);return["html","body","#document"].includes(Zu(e))?r.ownerDocument.body:Zc(e)&&g2(e)?e:W4(e)}function Yb(r,e){var t;e===void 0&&(e=[]);const n=W4(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),a=df(n),s=i?[a].concat(a.visualViewport||[],g2(n)?n:[]):n,o=e.concat(s);return i?o:o.concat(Yb(s))}function hO(r,e,t){return e==="viewport"?jb(function(n,i){const a=df(n),s=vd(n),o=a.visualViewport;let l=s.clientWidth,u=s.clientHeight,d=0,p=0;if(o){l=o.width,u=o.height;const v=V4();(v||!v&&i==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:l,height:u,x:d,y:p}}(r,t)):Ed(e)?function(n,i){const a=$u(n,!1,i==="fixed"),s=a.top+n.clientTop,o=a.left+n.clientLeft;return{top:s,left:o,x:o,y:s,right:o+n.clientWidth,bottom:s+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}(e,t):jb(function(n){var i;const a=vd(n),s=v2(n),o=(i=n.ownerDocument)==null?void 0:i.body,l=Xv(a.scrollWidth,a.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=Xv(a.scrollHeight,a.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let d=-s.scrollLeft+j4(n);const p=-s.scrollTop;return Jy(o||a).direction==="rtl"&&(d+=Xv(a.clientWidth,o?o.clientWidth:0)-l),{width:l,height:u,x:d,y:p}}(vd(r)))}function nZ(r){const e=Yb(r),t=["absolute","fixed"].includes(Jy(r).position)&&Zc(r)?lM(r):r;return Ed(t)?e.filter(n=>Ed(n)&&function(i,a){const s=a.getRootNode==null?void 0:a.getRootNode();if(i.contains(a))return!0;if(s&&Sw(s)){let o=a;do{if(o&&i===o)return!0;o=o.parentNode||o.host}while(o)}return!1}(n,t)&&Zu(n)!=="body"):[]}const iZ={getClippingRect:function(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const a=[...t==="clippingAncestors"?nZ(e):[].concat(t),n],s=a[0],o=a.reduce((l,u)=>{const d=hO(e,u,i);return l.top=Xv(d.top,l.top),l.right=uO(d.right,l.right),l.bottom=uO(d.bottom,l.bottom),l.left=Xv(d.left,l.left),l},hO(e,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(r){let{rect:e,offsetParent:t,strategy:n}=r;const i=Zc(t),a=vd(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if((i||!i&&n!=="fixed")&&((Zu(t)!=="body"||g2(a))&&(s=v2(t)),Zc(t))){const l=$u(t,!0);o.x=l.x+t.clientLeft,o.y=l.y+t.clientTop}return{...e,x:e.x-s.scrollLeft+o.x,y:e.y-s.scrollTop+o.y}},isElement:Ed,getDimensions:dO,getOffsetParent:lM,getDocumentElement:vd,getElementRects:r=>{let{reference:e,floating:t,strategy:n}=r;return{reference:tZ(e,lM(t),n),floating:{...dO(t),x:0,y:0}}},getClientRects:r=>Array.from(r.getClientRects()),isRTL:r=>Jy(r).direction==="rtl"};function rZ(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:o=!1}=n,l=i&&!o,u=a&&!o,d=l||u?[...Ed(r)?Yb(r):[],...Yb(e)]:[];d.forEach(x=>{l&&x.addEventListener("scroll",t,{passive:!0}),u&&x.addEventListener("resize",t)});let p,v=null;if(s){let x=!0;v=new ResizeObserver(()=>{x||t(),x=!1}),Ed(r)&&!o&&v.observe(r),v.observe(e)}let y=o?$u(r):null;return o&&function x(){const A=$u(r);!y||A.x===y.x&&A.y===y.y&&A.width===y.width&&A.height===y.height||t(),y=A,p=requestAnimationFrame(x)}(),t(),()=>{var x;d.forEach(A=>{l&&A.removeEventListener("scroll",t),u&&A.removeEventListener("resize",t)}),(x=v)==null||x.disconnect(),v=null,o&&cancelAnimationFrame(p)}}const aZ=(r,e,t)=>VJ(r,e,{platform:iZ,...t});var cM=typeof document<"u"?P.useLayoutEffect:P.useEffect;function uM(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!uM(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!uM(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function sZ(r){const e=P.useRef(r);return cM(()=>{e.current=r}),e}function oZ(r){let{middleware:e,placement:t="bottom",strategy:n="absolute",whileElementsMounted:i}=r===void 0?{}:r;const a=P.useRef(null),s=P.useRef(null),o=sZ(i),l=P.useRef(null),[u,d]=P.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{}}),[p,v]=P.useState(e);uM(p==null?void 0:p.map(R=>{let{options:w}=R;return w}),e==null?void 0:e.map(R=>{let{options:w}=R;return w}))||v(e);const y=P.useCallback(()=>{!a.current||!s.current||aZ(a.current,s.current,{middleware:p,placement:t,strategy:n}).then(R=>{x.current&&h2.flushSync(()=>{d(R)})})},[p,t,n]);cM(()=>{x.current&&y()},[y]);const x=P.useRef(!1);cM(()=>(x.current=!0,()=>{x.current=!1}),[]);const A=P.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),a.current&&s.current)if(o.current){const R=o.current(a.current,s.current,y);l.current=R}else y()},[y,o]),S=P.useCallback(R=>{a.current=R,A()},[A]),E=P.useCallback(R=>{s.current=R,A()},[A]),M=P.useMemo(()=>({reference:a,floating:s}),[]);return P.useMemo(()=>({...u,update:y,refs:M,reference:S,floating:E}),[u,y,M,S,E])}const lZ=r=>{const{element:e,padding:t}=r;function n(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:r,fn(i){return n(e)?e.current!=null?aO({element:e.current,padding:t}).fn(i):{}:e?aO({element:e,padding:t}).fn(i):{}}}},cZ=P.forwardRef((r,e)=>{const{children:t,width:n=10,height:i=5,...a}=r;return P.createElement(Sp.svg,cr({},a,{ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),r.asChild?t:P.createElement("polygon",{points:"0,0 30,0 15,10"}))}),uZ=cZ;function fZ(r){const e=P.useRef(r);return P.useEffect(()=>{e.current=r}),P.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}const wv=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};function dZ(r){const[e,t]=P.useState(void 0);return wv(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=r.offsetWidth,o=r.offsetHeight;t({width:s,height:o})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}const Y4="Popper",[Ew,q4]=U4(Y4),[hZ,K4]=Ew(Y4),pZ=r=>{const{__scopePopper:e,children:t}=r,[n,i]=P.useState(null);return P.createElement(hZ,{scope:e,anchor:n,onAnchorChange:i},t)},mZ="PopperAnchor",gZ=P.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...i}=r,a=K4(mZ,t),s=P.useRef(null),o=Gg(e,s);return P.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:P.createElement(Sp.div,cr({},i,{ref:o}))}),qb="PopperContent",[vZ,yZ]=Ew(qb),[_Z,xZ]=Ew(qb,{hasParent:!1,positionUpdateFns:new Set}),bZ=P.forwardRef((r,e)=>{var t,n,i,a,s,o,l,u;const{__scopePopper:d,side:p="bottom",sideOffset:v=0,align:y="center",alignOffset:x=0,arrowPadding:A=0,collisionBoundary:S=[],collisionPadding:E=0,sticky:M="partial",hideWhenDetached:R=!1,avoidCollisions:w=!0,onPlaced:I,...U}=r,H=K4(qb,d),[F,N]=P.useState(null),L=Gg(e,j=>N(j)),[G,X]=P.useState(null),Y=dZ(G),J=(t=Y==null?void 0:Y.width)!==null&&t!==void 0?t:0,ae=(n=Y==null?void 0:Y.height)!==null&&n!==void 0?n:0,$=p+(y!=="center"?"-"+y:""),he=typeof E=="number"?E:{top:0,right:0,bottom:0,left:0,...E},le=Array.isArray(S)?S:[S],de=le.length>0,V={padding:he,boundary:le.filter(MZ),altBoundary:de},{reference:K,floating:re,strategy:pe,x:Q,y:ce,placement:me,middlewareData:ge,update:be}=oZ({strategy:"fixed",placement:$,whileElementsMounted:rZ,middleware:[CZ(),JJ({mainAxis:v+ae,alignmentAxis:x}),w?ZJ({mainAxis:!0,crossAxis:!1,limiter:M==="partial"?$J():void 0,...V}):void 0,G?lZ({element:G,padding:A}):void 0,w?qJ({...V}):void 0,QJ({...V,apply:({elements:j,availableWidth:se,availableHeight:ve})=>{j.floating.style.setProperty("--radix-popper-available-width",`${se}px`),j.floating.style.setProperty("--radix-popper-available-height",`${ve}px`)}}),wZ({arrowWidth:J,arrowHeight:ae}),R?KJ({strategy:"referenceHidden"}):void 0].filter(TZ)});wv(()=>{K(H.anchor)},[K,H.anchor]);const je=Q!==null&&ce!==null,[ze,Ie]=J4(me),ye=fZ(I);wv(()=>{je&&(ye==null||ye())},[je,ye]);const we=(i=ge.arrow)===null||i===void 0?void 0:i.x,ee=(a=ge.arrow)===null||a===void 0?void 0:a.y,Je=((s=ge.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ne,Xe]=P.useState();wv(()=>{F&&Xe(window.getComputedStyle(F).zIndex)},[F]);const{hasParent:Be,positionUpdateFns:st}=xZ(qb,d),Ge=!Be;P.useLayoutEffect(()=>{if(!Ge)return st.add(be),()=>{st.delete(be)}},[Ge,st,be]),wv(()=>{Ge&&je&&Array.from(st).reverse().forEach(j=>requestAnimationFrame(j))},[Ge,je,st]);const Z={"data-side":ze,"data-align":Ie,...U,ref:L,style:{...U.style,animation:je?void 0:"none",opacity:(o=ge.hide)!==null&&o!==void 0&&o.referenceHidden?0:void 0}};return P.createElement("div",{ref:re,"data-radix-popper-content-wrapper":"",style:{position:pe,left:0,top:0,transform:je?`translate3d(${Math.round(Q)}px, ${Math.round(ce)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(l=ge.transformOrigin)===null||l===void 0?void 0:l.x,(u=ge.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:r.dir},P.createElement(vZ,{scope:d,placedSide:ze,onArrowChange:X,arrowX:we,arrowY:ee,shouldHideArrow:Je},Ge?P.createElement(_Z,{scope:d,hasParent:!0,positionUpdateFns:st},P.createElement(Sp.div,Z)):P.createElement(Sp.div,Z)))}),AZ="PopperArrow",SZ={top:"bottom",right:"left",bottom:"top",left:"right"},EZ=P.forwardRef(function(e,t){const{__scopePopper:n,...i}=e,a=yZ(AZ,n),s=SZ[a.placedSide];return P.createElement("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},P.createElement(uZ,cr({},i,{ref:t,style:{...i.style,display:"block"}})))});function TZ(r){return r!==void 0}function MZ(r){return r!==null}const CZ=()=>({name:"anchorCssProperties",fn(r){const{rects:e,elements:t}=r,{width:n,height:i}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${n}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${i}px`),{}}}),wZ=r=>({name:"transformOrigin",options:r,fn(e){var t,n,i,a,s;const{placement:o,rects:l,middlewareData:u}=e,p=((t=u.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,v=p?0:r.arrowWidth,y=p?0:r.arrowHeight,[x,A]=J4(o),S={start:"0%",center:"50%",end:"100%"}[A],E=((n=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0)+v/2,M=((a=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+y/2;let R="",w="";return x==="bottom"?(R=p?S:`${E}px`,w=`${-y}px`):x==="top"?(R=p?S:`${E}px`,w=`${l.floating.height+y}px`):x==="right"?(R=`${-y}px`,w=p?S:`${M}px`):x==="left"&&(R=`${l.floating.width+y}px`,w=p?S:`${M}px`),{data:{x:R,y:w}}}});function J4(r){const[e,t="center"]=r.split("-");return[e,t]}const RZ=pZ,DZ=gZ,BZ=bZ,OZ=EZ,pO=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};function NZ(r,e){return P.useReducer((t,n)=>{const i=e[t][n];return i??t},r)}const Z4=r=>{const{present:e,children:t}=r,n=UZ(e),i=typeof t=="function"?t({present:n.isPresent}):P.Children.only(t),a=Gg(n.ref,i.ref);return typeof t=="function"||n.isPresent?P.cloneElement(i,{ref:a}):null};Z4.displayName="Presence";function UZ(r){const[e,t]=P.useState(),n=P.useRef({}),i=P.useRef(r),a=P.useRef("none"),s=r?"mounted":"unmounted",[o,l]=NZ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=Mx(n.current);a.current=o==="mounted"?u:"none"},[o]),pO(()=>{const u=n.current,d=i.current;if(d!==r){const v=a.current,y=Mx(u);r?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,l]),pO(()=>{if(e){const u=p=>{const y=Mx(n.current).includes(p.animationName);p.target===e&&y&&h2.flushSync(()=>l("ANIMATION_END"))},d=p=>{p.target===e&&(a.current=Mx(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:P.useCallback(u=>{u&&(n.current=getComputedStyle(u)),t(u)},[])}}function Mx(r){return(r==null?void 0:r.animationName)||"none"}function $4(r){const e=P.useRef(r);return P.useEffect(()=>{e.current=r}),P.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}function LZ({prop:r,defaultProp:e,onChange:t=()=>{}}){const[n,i]=IZ({defaultProp:e,onChange:t}),a=r!==void 0,s=a?r:n,o=$4(t),l=P.useCallback(u=>{if(a){const p=typeof u=="function"?u(r):u;p!==r&&o(p)}else i(u)},[a,r,i,o]);return[s,l]}function IZ({defaultProp:r,onChange:e}){const t=P.useState(r),[n]=t,i=P.useRef(n),a=$4(e);return P.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),t}const PZ=P.forwardRef((r,e)=>P.createElement(Sp.span,cr({},r,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}))),FZ=PZ,[y2,_le]=U4("Tooltip",[q4]),_2=q4(),HZ="TooltipProvider",fM="tooltip.open",[xle,Tw]=y2(HZ),Mw="Tooltip",[zZ,x2]=y2(Mw),GZ=r=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=r,l=Tw(Mw,r.__scopeTooltip),u=_2(e),[d,p]=P.useState(null),v=kJ(),y=P.useRef(0),x=s??l.disableHoverableContent,A=o??l.delayDuration,S=P.useRef(!1),[E=!1,M]=LZ({prop:n,defaultProp:i,onChange:H=>{H?(l.onOpen(),document.dispatchEvent(new CustomEvent(fM))):l.onClose(),a==null||a(H)}}),R=P.useMemo(()=>E?S.current?"delayed-open":"instant-open":"closed",[E]),w=P.useCallback(()=>{window.clearTimeout(y.current),S.current=!1,M(!0)},[M]),I=P.useCallback(()=>{window.clearTimeout(y.current),M(!1)},[M]),U=P.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,M(!0)},A)},[A,M]);return P.useEffect(()=>()=>window.clearTimeout(y.current),[]),P.createElement(RZ,u,P.createElement(zZ,{scope:e,contentId:v,open:E,stateAttribute:R,trigger:d,onTriggerChange:p,onTriggerEnter:P.useCallback(()=>{l.isOpenDelayed?U():w()},[l.isOpenDelayed,U,w]),onTriggerLeave:P.useCallback(()=>{x?I():window.clearTimeout(y.current)},[I,x]),onOpen:w,onClose:I,disableHoverableContent:x},t))},mO="TooltipTrigger",kZ=P.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=x2(mO,t),a=Tw(mO,t),s=_2(t),o=P.useRef(null),l=Gg(e,o,i.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),p=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),P.createElement(DZ,cr({asChild:!0},s),P.createElement(Sp.button,cr({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},n,{ref:l,onPointerMove:Vu(r.onPointerMove,v=>{v.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Vu(r.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Vu(r.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Vu(r.onFocus,()=>{u.current||i.onOpen()}),onBlur:Vu(r.onBlur,i.onClose),onClick:Vu(r.onClick,i.onClose)})))}),VZ="TooltipPortal",[ble,jZ]=y2(VZ,{forceMount:void 0}),vy="TooltipContent",XZ=P.forwardRef((r,e)=>{const t=jZ(vy,r.__scopeTooltip),{forceMount:n=t.forceMount,side:i="top",...a}=r,s=x2(vy,r.__scopeTooltip);return P.createElement(Z4,{present:n||s.open},s.disableHoverableContent?P.createElement(Q4,cr({side:i},a,{ref:e})):P.createElement(WZ,cr({side:i},a,{ref:e})))}),WZ=P.forwardRef((r,e)=>{const t=x2(vy,r.__scopeTooltip),n=Tw(vy,r.__scopeTooltip),i=P.useRef(null),a=Gg(e,i),[s,o]=P.useState(null),{trigger:l,onClose:u}=t,d=i.current,{onPointerInTransitChange:p}=n,v=P.useCallback(()=>{o(null),p(!1)},[p]),y=P.useCallback((x,A)=>{const S=x.currentTarget,E={x:x.clientX,y:x.clientY},M=ZZ(E,S.getBoundingClientRect()),R=M==="right"||M==="bottom"?-5:5,I=M==="right"||M==="left"?{x:x.clientX+R,y:x.clientY}:{x:x.clientX,y:x.clientY+R},U=$Z(A.getBoundingClientRect()),H=e$([I,...U]);o(H),p(!0)},[p]);return P.useEffect(()=>()=>v(),[v]),P.useEffect(()=>{if(l&&d){const x=S=>y(S,d),A=S=>y(S,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",A),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",A)}}},[l,d,y,v]),P.useEffect(()=>{if(s){const x=A=>{const S=A.target,E={x:A.clientX,y:A.clientY},M=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),R=!QZ(E,s);M?v():R&&(v(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,s,u,v]),P.createElement(Q4,cr({},r,{ref:a}))}),[YZ,qZ]=y2(Mw,{isInside:!1}),Q4=P.forwardRef((r,e)=>{const{__scopeTooltip:t,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=r,l=x2(vy,t),u=_2(t),{onClose:d}=l;return P.useEffect(()=>(document.addEventListener(fM,d),()=>document.removeEventListener(fM,d)),[d]),P.useEffect(()=>{if(l.trigger){const p=v=>{const y=v.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),P.createElement(IJ,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:p=>p.preventDefault(),onDismiss:d},P.createElement(BZ,cr({"data-state":l.stateAttribute},u,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),P.createElement(I4,null,n),P.createElement(YZ,{scope:t,isInside:!0},P.createElement(FZ,{id:l.contentId,role:"tooltip"},i||n))))}),KZ="TooltipArrow",JZ=P.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,i=_2(t);return qZ(KZ,t).isInside?null:P.createElement(OZ,cr({},i,n,{ref:e}))});function ZZ(r,e){const t=Math.abs(e.top-r.y),n=Math.abs(e.bottom-r.y),i=Math.abs(e.right-r.x),a=Math.abs(e.left-r.x);switch(Math.min(t,n,i,a)){case a:return"left";case i:return"right";case t:return"top";case n:return"bottom";default:return null}}function $Z(r){const{top:e,right:t,bottom:n,left:i}=r;return[{x:i,y:e},{x:t,y:e},{x:t,y:n},{x:i,y:n}]}function QZ(r,e){const{x:t,y:n}=r;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,u=e[s].x,d=e[s].y;l>n!=d>n&&t<(u-o)*(n-l)/(d-l)+o&&(i=!i)}return i}function e$(r){const e=r.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),t$(e)}function t$(r){if(r.length<=1)return r.slice();const e=[];for(let n=0;n<r.length;n++){const i=r[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let n=r.length-1;n>=0;n--){const i=r[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const n$=GZ,i$=kZ,r$=XZ,a$=JZ;function s$(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Si(r,e){if(r==null)return{};var t=s$(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}let ir;(function(r){r[r.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",r[r.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",r[r.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",r[r.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",r[r.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",r[r.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",r[r.THEME_ERROR=6]="THEME_ERROR",r[r.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",r[r.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",r[r.EMPTY_KEY=9]="EMPTY_KEY"})(ir||(ir={}));const o$={[ir.UNSUPPORTED_INPUT]:(r,e)=>[`An input with type \`${r}\` input was found at path \`${e}\` but it's not supported yet.`],[ir.NO_COMPONENT_FOR_TYPE]:(r,e)=>[`Type \`${r}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[ir.UNKNOWN_INPUT]:(r,e)=>[`input at path \`${r}\` is not recognized.`,e],[ir.DUPLICATE_KEYS]:(r,e,t)=>[`Key \`${r}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[ir.ALREADY_REGISTERED_TYPE]:r=>[`Type ${r} has already been registered. You can't register a component with the same type.`],[ir.CLIPBOARD_ERROR]:r=>["Error copying the value",r],[ir.THEME_ERROR]:(r,e)=>[`Error accessing the theme \`${r}.${e}\` value.`],[ir.PATH_DOESNT_EXIST]:r=>[`Error getting the value at path \`${r}\`. There is probably an error in your \`render\` function.`],[ir.PATH_DOESNT_EXIST]:r=>[`Error accessing the value at path \`${r}\``],[ir.INPUT_TYPE_OVERRIDE]:(r,e,t)=>[`Input at path \`${r}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[ir.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function e5(r,e,...t){const[n,...i]=o$[e](...t);console[r]("LEVA: "+n,...i)}const Yu=e5.bind(null,"warn"),l$=e5.bind(null,"log"),c$=["value"],u$=["schema"],f$=["value"],t5=[],Ep={};function gO(r){let{value:e}=r,t=Si(r,c$);for(let n of t5){const i=n(e,t);if(i)return i}}function hf(r,e){let{schema:t}=e,n=Si(e,u$);if(r in Ep){Yu(ir.ALREADY_REGISTERED_TYPE,r);return}t5.push((i,a)=>t(i,a)&&r),Ep[r]=n}function LE(r,e,t,n){const{normalize:i}=Ep[r];if(i)return i(e,t,n);if(typeof e!="object"||!("value"in e))return{value:e};const{value:a}=e,s=Si(e,f$);return{value:a,settings:s}}function d$(r,e,t,n,i,a){const{sanitize:s}=Ep[r];return s?s(e,t,n,i,a):e}function vO(r,e,t){const{format:n}=Ep[r];return n?n(e,t):e}function h$(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(t),!0).forEach(function(n){h$(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const Td=(r,e,t)=>r>t?t:r<e?e:r,p$=r=>{if(r===""||typeof r=="number")return r;try{const e=ld(r);if(!isNaN(e))return e}catch{}return parseFloat(r)},m$=Math.log(10);function _O(r){let e=Math.abs(+String(r).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/m$)+1,n=Math.floor(Math.log10(Math.abs(r))),i=Math.pow(10,n-t);return Math.max(i,.001)}const Kb=(r,e,t)=>t===e?0:(Td(r,e,t)-e)/(t-e),Jb=(r,e,t)=>r*(t-e)+e,g$=()=>"_"+Math.random().toString(36).substr(2,9),xO=/\(([0-9+\-*/^ .]+)\)/,bO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,AO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,SO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,EO=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,TO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function ld(r){if(isNaN(Number(r)))if(xO.test(r)){const e=r.replace(xO,(t,n)=>String(ld(n)));return ld(e)}else if(bO.test(r)){const e=r.replace(bO,(t,n,i)=>String(Math.pow(Number(n),Number(i))));return ld(e)}else if(AO.test(r)){const e=r.replace(AO,(t,n,i)=>String(Number(n)*Number(i)));return ld(e)}else if(SO.test(r)){const e=r.replace(SO,(t,n,i)=>{if(i!=0)return String(Number(n)/Number(i));throw new Error("Division by zero")});return ld(e)}else if(EO.test(r)){const e=r.replace(EO,(t,n,i)=>String(Number(n)+Number(i)));return ld(e)}else if(TO.test(r)){const e=r.replace(TO,(t,n,i)=>String(Number(n)-Number(i)));return ld(e)}else return Number(r);return Number(r)}function v$(r,e){return e.reduce((t,n)=>(r&&r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}function y$(r,e){const t=fn({},r);return e.forEach(n=>n in r&&delete t[n]),t}function _$(r,e){return r.reduce((t,n,i)=>Object.assign(t,{[e[i]]:n}),{})}function n5(r){return Object.prototype.toString.call(r)==="[object Object]"}const x$=r=>n5(r)&&Object.keys(r).length===0;let Gl;(function(r){r.BUTTON="BUTTON",r.BUTTON_GROUP="BUTTON_GROUP",r.MONITOR="MONITOR",r.FOLDER="FOLDER"})(Gl||(Gl={}));let jl;(function(r){r.SELECT="SELECT",r.IMAGE="IMAGE",r.NUMBER="NUMBER",r.COLOR="COLOR",r.STRING="STRING",r.BOOLEAN="BOOLEAN",r.INTERVAL="INTERVAL",r.VECTOR3D="VECTOR3D",r.VECTOR2D="VECTOR2D"})(jl||(jl={}));const b$=["type","__customInput"],A$=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],S$=["type"];function i5(r,e,t={},n){var i,a;if(typeof r!="object"||Array.isArray(r))return{type:n,input:r,options:fn({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in r){const{type:I,__customInput:U}=r,H=Si(r,b$);return i5(U,e,H,I)}const{render:s,label:o,optional:l,order:u=0,disabled:d,hint:p,onChange:v,onEditStart:y,onEditEnd:x,transient:A}=r,S=Si(r,A$),E=fn({render:s,key:e,label:o??e,hint:p,transient:A??!!v,onEditStart:y,onEditEnd:x,disabled:d,optional:l,order:u},t);let{type:M}=S,R=Si(S,S$);if(M=n??M,M in Gl)return{type:M,input:R,options:E};let w;return n&&n5(R)&&"value"in R?w=R.value:w=x$(R)?void 0:R,{type:M,input:w,options:fn(fn({},E),{},{onChange:v,optional:(i=E.optional)!==null&&i!==void 0?i:!1,disabled:(a=E.disabled)!==null&&a!==void 0?a:!1})}}function E$(r,e,t,n){const i=i5(r,e),{type:a,input:s,options:o}=i;if(a)return a in Gl?i:{type:a,input:LE(a,s,t,n),options:o};let l=gO(s);return l?{type:l,input:LE(l,s,t,n),options:o}:(l=gO({value:s}),l?{type:l,input:LE(l,{value:s},t,n),options:o}:!1)}function MO(r,e,t,n,i){const{value:a,type:s,settings:o}=r;r.value=r5({type:s,value:a,settings:o},e,t,n),r.fromPanel=i}const T$=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function r5({type:r,value:e,settings:t},n,i,a){const s=r!=="SELECT"&&typeof n=="function"?n(e):n;let o;try{o=d$(r,s,t,e,i,a)}catch(l){throw new T$(`The value \`${n}\` did not result in a correct value.`,e,l)}return py(o,e)?e:o}const a5=(r,e,t=!1)=>{let n=0;return function(){const i=arguments,a=t&&!n,s=()=>r.apply(this,i);window.clearTimeout(n),n=window.setTimeout(s,e),a&&s()}},s5=r=>r.shiftKey?5:r.altKey?1/5:1,M$=["value"],C$=["min","max"],w$=r=>{if(typeof r=="number")return!0;if(typeof r=="string"){const e=parseFloat(r);return isNaN(e)?!1:r.substring((""+e).length).trim().length<4}return!1},o5=(r,{min:e=-1/0,max:t=1/0,suffix:n})=>{const i=parseFloat(r);if(r===""||isNaN(i))throw Error("Invalid number");const a=Td(i,e,t);return n?a+n:a},R$=(r,{pad:e=0,suffix:t})=>{const n=parseFloat(r).toFixed(e);return t?n+t:n},l5=r=>{let{value:e}=r,t=Si(r,M$);const{min:n=-1/0,max:i=1/0}=t,a=Si(t,C$);let s=parseFloat(e);const o=typeof e=="string"?e.substring((""+s).length):void 0;s=Td(s,n,i);let l=t.step;l||(Number.isFinite(n)?Number.isFinite(i)?l=+(Math.abs(i-n)/100).toPrecision(1):l=+(Math.abs(s-n)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-s)/100).toPrecision(1)));const u=l?_O(l)*10:_O(s);l=l||u/10;const d=Math.round(Td(Math.log10(1/u),0,2));return{value:o?s+o:s,settings:fn({initialValue:s,step:l,pad:d,min:n,max:i,suffix:o},a)}},c5=(r,{step:e,initialValue:t})=>{const n=Math.round((r-t)/e);return t+n*e};var u5=Object.freeze({__proto__:null,schema:w$,sanitize:o5,format:R$,normalize:l5,sanitizeStep:c5});function Sr(){return Sr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Sr.apply(this,arguments)}const f5=P.createContext({});function Ya(){return P.useContext(f5)}const Cw=P.createContext(null),d5=P.createContext(null),h5=P.createContext(null);function Zy(){return P.useContext(d5)}function D$(){return P.useContext(h5)}const p5=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Cx(r,e){const[t,n]=r.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),n&&(i.backgroundColor=n),i}const bv={$inputStyle:()=>r=>Cx(r,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>r=>Cx(r,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>r=>Cx(r,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>r=>Cx(r,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:an,css:Ale,createTheme:B$,globalCss:O$,keyframes:Sle}=TJ({prefix:"leva",theme:p5(),utils:fn(fn({},bv),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:r=>({"&:focus":bv.$focusStyle()(r)}),$focusWithin:r=>({"&:focus-within":bv.$focusStyle()(r)}),$hover:r=>({"&:hover":bv.$hoverStyle()(r)}),$active:r=>({"&:active":bv.$activeStyle()(r)})})}),N$=O$({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function U$(r){const e=p5();if(!r)return{theme:e,className:""};Object.keys(r).forEach(n=>{Object.assign(e[n],r[n])});const t=B$(e);return{theme:e,className:t.className}}function Qu(r,e){const{theme:t}=P.useContext(Cw);if(!(r in t)||!(e in t[r]))return Yu(ir.THEME_ERROR,r,e),"";let n=e;for(;;){let i=t[r][n];if(typeof i=="string"&&i.charAt(0)==="$")n=i.substr(1);else return i}}const m5=an("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),g5=an("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${m5}`]:{paddingLeft:0}}),L$=an(g5,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),I$=an("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),P$=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],F$=["onUpdate"];function ww(r){let{innerLabel:e,value:t,onUpdate:n,onChange:i,onKeyDown:a,type:s,id:o,inputType:l="text",rows:u=0}=r,d=Si(r,P$);const{id:p,emitOnEditStart:v,emitOnEditEnd:y,disabled:x}=Ya(),A=o||p,S=P.useRef(null),E=u>0,M=E?"textarea":"input",R=P.useCallback(U=>H=>{const F=H.currentTarget.value;U(F)},[]);Ae.useEffect(()=>{const U=S.current,H=R(F=>{n(F),y()});return U==null||U.addEventListener("blur",H),()=>U==null?void 0:U.removeEventListener("blur",H)},[R,n,y]);const w=P.useCallback(U=>{U.key==="Enter"&&R(n)(U)},[R,n]),I=Object.assign({as:M},E?{rows:u}:{},d);return Ae.createElement(I$,{textArea:E},e&&typeof e=="string"?Ae.createElement(g5,null,e):e,Ae.createElement(m5,Sr({levaType:s,ref:S,id:A,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:R(i),onFocus:()=>v(),onKeyPress:w,onKeyDown:a,disabled:x},I)))}function H$(r){let{onUpdate:e}=r,t=Si(r,F$);const n=P.useCallback(a=>e(p$(a)),[e]),i=P.useCallback(a=>{const s=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(s){a.preventDefault();const o=a.altKey?.1:a.shiftKey?10:1;e(l=>parseFloat(l)+s*o)}},[e]);return Ae.createElement(ww,Sr({},t,{onUpdate:n,onKeyDown:i,type:"number"}))}const Zb=an("div",{}),dM=an("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),z$=an("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${dM}::after`]:{opacity:.6},[`${Zb}:hover > & + ${dM}::after`]:{opacity:.6},[`${Zb}:hover > & > svg`]:{opacity:1}}),v5=an("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Zb}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),y5=an("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${v5} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),_5=an(y5,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),G$=an("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),k$=an("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),hM=an("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),V$=an("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${hM}`]:{pointerEvents:"auto"}}}}}),x5=an("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),j$=an("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),X$=an(a$,{fill:"$toolTipBackground"});function Rw({children:r}){const{className:e}=P.useContext(Cw);return Ae.createElement(YK,{className:e},r)}const W$=["align"];function Y$(){const{id:r,disable:e,disabled:t}=Ya();return Ae.createElement(Ae.Fragment,null,Ae.createElement(k$,{id:r+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Ae.createElement("label",{htmlFor:r+"__disable"}))}function q$(r){const{id:e,optional:t,hint:n}=Ya(),i=r.htmlFor||(e?{htmlFor:e}:null),a=!n&&typeof r.children=="string"?{title:r.children}:null;return Ae.createElement(Ae.Fragment,null,t&&Ae.createElement(Y$,null),n!==void 0?Ae.createElement(n$,null,Ae.createElement(i$,{asChild:!0},Ae.createElement(hM,Sr({},i,r))),Ae.createElement(r$,{side:"top",sideOffset:2},Ae.createElement(j$,null,n,Ae.createElement(X$,null)))):Ae.createElement(hM,Sr({},i,a,r)))}function Kl(r){let{align:e}=r,t=Si(r,W$);const{value:n,label:i,key:a,disabled:s}=Ya(),{hideCopyButton:o}=D$(),l=!o&&a!==void 0,[u,d]=P.useState(!1),p=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:n??""})),d(!0)}catch{Yu(ir.CLIPBOARD_ERROR,{[a]:n})}};return Ae.createElement(G$,{align:e,onPointerLeave:()=>d(!1)},Ae.createElement(q$,t),l&&!s&&Ae.createElement("div",{title:`Click to copy ${typeof i=="string"?i:a} value`},u?Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Ae.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Ae.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Ae.createElement("svg",{onClick:p,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Ae.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Ae.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const K$=["toggled"],J$=an("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Dw(r){let{toggled:e}=r,t=Si(r,K$);return Ae.createElement(J$,Sr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Ae.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Z$=["input"];function Jo(r){let{input:e}=r,t=Si(r,Z$);return e?Ae.createElement(_5,t):Ae.createElement(y5,t)}function b5({value:r,type:e,settings:t,setValue:n}){const[i,a]=P.useState(vO(e,r,t)),s=P.useRef(r),o=P.useRef(t);o.current=t;const l=P.useCallback(d=>a(vO(e,d,o.current)),[e]),u=P.useCallback(d=>{try{n(d)}catch(p){const{type:v,previousValue:y}=p;if(v!=="LEVA_ERROR")throw p;l(y)}},[l,n]);return P.useEffect(()=>{py(r,s.current)||l(r),s.current=r},[r,l]),{displayValue:i,onChange:a,onUpdate:u}}function $y(r,e){const{emitOnEditStart:t,emitOnEditEnd:n}=Ya();return UW(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const a=r(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),n==null||n()),a},e)}function $$(r){const e=P.useRef(null),t=P.useRef(null),n=P.useRef(!1);return P.useEffect(()=>{const i=a5(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,r(e.current,t.current)},250);return window.addEventListener("resize",i),n.current||(i(),n.current=!0),()=>window.removeEventListener("resize",i)},[r]),P.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function A5(){const r=P.useRef(null),e=P.useRef({x:0,y:0}),t=P.useCallback(n=>{Object.assign(e.current,n),r.current&&(r.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[r,t]}const Q$=["__refCount"],IE=(r,e)=>{if(!r[e])return null;const t=r[e];return Si(t,Q$)};function eQ(r){const e=Zy(),[t,n]=P.useState(IE(e.getData(),r)),i=P.useCallback(u=>e.setValueAtPath(r,u,!0),[r,e]),a=P.useCallback(u=>e.setSettingsAtPath(r,u),[r,e]),s=P.useCallback(u=>e.disableInputAtPath(r,u),[r,e]),o=P.useCallback(()=>e.emitOnEditStart(r),[r,e]),l=P.useCallback(()=>e.emitOnEditEnd(r),[r,e]);return P.useEffect(()=>{n(IE(e.getData(),r));const u=e.useStore.subscribe(d=>IE(d.data,r),n,{equalityFn:p2});return()=>u()},[e,r]),[t,{set:i,setSettings:a,disable:s,storeId:e.storeId,emitOnEditStart:o,emitOnEditEnd:l}]}const tQ=an("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),S5=an("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),pM=an("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),E5=an("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),T5=an("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function nQ({value:r,min:e,max:t,onDrag:n,step:i,initialValue:a}){const s=P.useRef(null),o=P.useRef(null),l=P.useRef(0),u=Qu("sizes","scrubberWidth"),d=$y(({event:v,first:y,xy:[x],movement:[A],memo:S})=>{if(y){const{width:M,left:R}=s.current.getBoundingClientRect();l.current=M-parseFloat(u),S=(v==null?void 0:v.target)===o.current?r:Jb((x-R)/M,e,t)}const E=S+Jb(A/l.current,0,t-e);return n(c5(E,{step:i,initialValue:a})),S}),p=Kb(r,e,t);return Ae.createElement(E5,Sr({ref:s},d()),Ae.createElement(S5,null,Ae.createElement(T5,{style:{left:0,right:`${(1-p)*100}%`}})),Ae.createElement(pM,{ref:o,style:{left:`calc(${p} * (100% - ${u}))`}}))}const iQ=Ae.memo(({label:r,onUpdate:e,step:t,innerLabelTrim:n})=>{const[i,a]=P.useState(!1),s=$y(({active:o,delta:[l],event:u,memo:d=0,first:p,last:v,target:y})=>(p&&y.requestPointerLock(),v&&document.exitPointerLock(),a(o),d+=l/2,Math.abs(d)>=1&&(e(x=>parseFloat(x)+Math.floor(d)*t*s5(u)),d=0),d));return Ae.createElement(L$,Sr({dragging:i,title:r.length>1?r:""},s()),r.slice(0,n))});function M5({label:r,id:e,displayValue:t,onUpdate:n,onChange:i,settings:a,innerLabelTrim:s=1}){const o=s>0&&Ae.createElement(iQ,{label:r,step:a.step,onUpdate:n,innerLabelTrim:s});return Ae.createElement(H$,{id:e,value:String(t),onUpdate:n,onChange:i,innerLabel:o})}function rQ(){const r=Ya(),{label:e,value:t,onUpdate:n,settings:i,id:a}=r,{min:s,max:o}=i,l=o!==1/0&&s!==-1/0;return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,e),Ae.createElement(tQ,{hasRange:l},l&&Ae.createElement(nQ,Sr({value:parseFloat(t),onDrag:n},i)),Ae.createElement(M5,Sr({},r,{id:a,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:aQ}=u5,sQ=Si(u5,["sanitizeStep"]);var oQ=fn({component:rQ},sQ);const lQ=(r,e)=>Hs().schema({options:Hs().passesAnyOf(Hs().object(),Hs().array())}).test(e),cQ=(r,{values:e})=>{if(e.indexOf(r)<0)throw Error("Selected value doesn't match Select options");return r},uQ=(r,{values:e})=>e.indexOf(r),fQ=r=>{let{value:e,options:t}=r,n,i;return Array.isArray(t)?(i=t,n=t.map(a=>String(a))):(i=Object.values(t),n=Object.keys(t)),"value"in r?i.includes(e)||(n.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:n,values:i}}};var dQ=Object.freeze({__proto__:null,schema:lQ,sanitize:cQ,format:uQ,normalize:fQ});const hQ=an("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),mM=an("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),pQ=an("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${mM}:focus + &`]:{$focusStyle:""},[`${mM}:hover + &`]:{$hoverStyle:""}});function mQ({displayValue:r,value:e,onUpdate:t,id:n,settings:i,disabled:a}){const{keys:s,values:o}=i,l=P.useRef();return e===o[r]&&(l.current=s[r]),Ae.createElement(hQ,null,Ae.createElement(mM,{id:n,value:r,onChange:u=>t(o[Number(u.currentTarget.value)]),disabled:a},s.map((u,d)=>Ae.createElement("option",{key:u,value:d},u))),Ae.createElement(pQ,null,l.current),Ae.createElement(Dw,{toggled:!0}))}function gQ(){const{label:r,value:e,displayValue:t,onUpdate:n,id:i,disabled:a,settings:s}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(mQ,{id:i,value:e,displayValue:t,onUpdate:n,settings:s,disabled:a}))}var vQ=fn({component:gQ},dQ);const yQ=r=>Hs().string().test(r),_Q=r=>{if(typeof r!="string")throw Error("Invalid string");return r},xQ=({value:r,editable:e=!0,rows:t=!1})=>({value:r,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var bQ=Object.freeze({__proto__:null,schema:yQ,sanitize:_Q,normalize:xQ});const AQ=["displayValue","onUpdate","onChange","editable"],SQ=an("div",{whiteSpace:"pre-wrap"});function EQ(r){let{displayValue:e,onUpdate:t,onChange:n,editable:i=!0}=r,a=Si(r,AQ);return i?Ae.createElement(ww,Sr({value:e,onUpdate:t,onChange:n},a)):Ae.createElement(SQ,null,e)}function TQ(){const{label:r,settings:e,displayValue:t,onUpdate:n,onChange:i}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(EQ,Sr({displayValue:t,onUpdate:n,onChange:i},e)))}var MQ=fn({component:TQ},bQ);const CQ=r=>Hs().boolean().test(r),wQ=r=>{if(typeof r!="boolean")throw Error("Invalid boolean");return r};var RQ=Object.freeze({__proto__:null,schema:CQ,sanitize:wQ});const DQ=an("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function BQ({value:r,onUpdate:e,id:t,disabled:n}){return Ae.createElement(DQ,null,Ae.createElement("input",{id:t,type:"checkbox",checked:r,onChange:i=>e(i.currentTarget.checked),disabled:n}),Ae.createElement("label",{htmlFor:t},Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ae.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function OQ(){const{label:r,value:e,onUpdate:t,disabled:n,id:i}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(BQ,{value:e,onUpdate:t,id:i,disabled:n}))}var NQ=fn({component:OQ},RQ);const UQ=["locked"];function LQ({value:r,id:e,valueKey:t,settings:n,onUpdate:i,innerLabelTrim:a}){const s=P.useRef(r[t]);s.current=r[t];const o=P.useCallback(u=>i({[t]:r5({type:"NUMBER",value:s.current,settings:n},u)}),[i,n,t]),l=b5({type:"NUMBER",value:r[t],settings:n,setValue:o});return Ae.createElement(M5,{id:e,label:t,value:r[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:n,innerLabelTrim:a})}const IQ=an("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function PQ(r){let{locked:e}=r,t=Si(r,UQ);return Ae.createElement("svg",Sr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Ae.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Ae.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Bw({value:r,onUpdate:e,settings:t,innerLabelTrim:n}){const{id:i,setSettings:a}=Ya(),{lock:s,locked:o}=t;return Ae.createElement(IQ,{withLock:s},s&&Ae.createElement(PQ,{locked:o,onClick:()=>a({locked:!o})}),Object.keys(r).map((l,u)=>Ae.createElement(LQ,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:r,settings:t[l],onUpdate:e,innerLabelTrim:n})))}const C5=(r,e)=>{const t={};let n=0,i=1/0;Object.entries(r).forEach(([a,s])=>{t[a]=l5(fn({value:s},e[a])).settings,n=Math.max(n,t[a].step),i=Math.min(i,t[a].pad)});for(let a in t){const{step:s,min:o,max:l}=e[a]||{};!isFinite(s)&&(!isFinite(o)||!isFinite(l))&&(t[a].step=n,t[a].pad=i)}return t},FQ=["lock"],HQ=["value"];function zQ(r){const e=Hs().array().length(r).every.number(),t=n=>{if(!n||typeof n!="object")return!1;const i=Object.values(n);return i.length===r&&i.every(a=>isFinite(a))};return n=>e.test(n)||t(n)}function GQ(r){return Array.isArray(r)?"array":"object"}function Wv(r,e,t){return GQ(r)===e?r:e==="array"?Object.values(r):_$(r,t)}const kQ=(r,e,t)=>{const n=Wv(r,"object",e.keys);for(let s in n)n[s]=o5(n[s],e[s]);const i=Object.keys(n);let a={};if(i.length===e.keys.length)a=n;else{const s=Wv(t,"object",e.keys);if(i.length===1&&e.locked){const o=i[0],l=n[o],u=s[o],d=u!==0?l/u:1;for(let p in s)p===o?a[o]=l:a[p]=s[p]*d}else a=fn(fn({},s),n)}return Wv(a,e.format,e.keys)},VQ=(r,e)=>Wv(r,"object",e.keys),jQ=r=>!!r&&("step"in r||"min"in r||"max"in r);function XQ(r,e,t=[]){const{lock:n=!1}=e,i=Si(e,FQ),a=Array.isArray(r)?"array":"object",s=a==="object"?Object.keys(r):t,o=Wv(r,"object",s),l=jQ(i)?s.reduce((d,p)=>Object.assign(d,{[p]:i}),{}):i,u=C5(o,l);return{value:a==="array"?r:o,settings:fn(fn({},u),{},{format:a,keys:s,lock:n,locked:!1})}}function w5(r){return{schema:zQ(r.length),normalize:e=>{let{value:t}=e,n=Si(e,HQ);return XQ(t,n,r)},format:(e,t)=>VQ(e,t),sanitize:(e,t,n)=>kQ(e,t,n)}}var WQ={grad:.9,turn:360,rad:360/(2*Math.PI)},Hu=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},ca=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},Wo=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},R5=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},CO=function(r){return{r:Wo(r.r,0,255),g:Wo(r.g,0,255),b:Wo(r.b,0,255),a:Wo(r.a)}},PE=function(r){return{r:ca(r.r),g:ca(r.g),b:ca(r.b),a:ca(r.a,3)}},YQ=/^#([0-9a-f]{3,8})$/i,wx=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},D5=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,a=Math.max(e,t,n),s=a-Math.min(e,t,n),o=s?a===e?(t-n)/s:a===t?2+(n-e)/s:4+(e-t)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},B5=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var a=Math.floor(e),s=n*(1-t),o=n*(1-(e-a)*t),l=n*(1-(1-e+a)*t),u=a%6;return{r:255*[n,o,s,s,l,n][u],g:255*[l,n,n,o,s,s][u],b:255*[s,s,l,n,n,o][u],a:i}},wO=function(r){return{h:R5(r.h),s:Wo(r.s,0,100),l:Wo(r.l,0,100),a:Wo(r.a)}},RO=function(r){return{h:ca(r.h),s:ca(r.s),l:ca(r.l),a:ca(r.a,3)}},DO=function(r){return B5((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},Yv=function(r){return{h:(e=D5(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},qQ=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,KQ=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,JQ=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ZQ=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gM={string:[[function(r){var e=YQ.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?ca(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?ca(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=JQ.exec(r)||ZQ.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:CO({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=qQ.exec(r)||KQ.exec(r);if(!e)return null;var t,n,i=wO({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(WQ[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return DO(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,a=i===void 0?1:i;return Hu(e)&&Hu(t)&&Hu(n)?CO({r:Number(e),g:Number(t),b:Number(n),a:Number(a)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,a=i===void 0?1:i;if(!Hu(e)||!Hu(t)||!Hu(n))return null;var s=wO({h:Number(e),s:Number(t),l:Number(n),a:Number(a)});return DO(s)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,a=i===void 0?1:i;if(!Hu(e)||!Hu(t)||!Hu(n))return null;var s=function(o){return{h:R5(o.h),s:Wo(o.s,0,100),v:Wo(o.v,0,100),a:Wo(o.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(a)});return B5(s)},"hsv"]]},BO=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},O5=function(r){return typeof r=="string"?BO(r.trim(),gM.string):typeof r=="object"&&r!==null?BO(r,gM.object):[null,void 0]},$Q=function(r){return O5(r)[1]},FE=function(r,e){var t=Yv(r);return{h:t.h,s:Wo(t.s+100*e,0,100),l:t.l,a:t.a}},HE=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},OO=function(r,e){var t=Yv(r);return{h:t.h,s:t.s,l:Wo(t.l+100*e,0,100),a:t.a}},vM=function(){function r(e){this.parsed=O5(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return ca(HE(this.rgba),2)},r.prototype.isDark=function(){return HE(this.rgba)<.5},r.prototype.isLight=function(){return HE(this.rgba)>=.5},r.prototype.toHex=function(){return e=PE(this.rgba),t=e.r,n=e.g,i=e.b,s=(a=e.a)<1?wx(ca(255*a)):"","#"+wx(t)+wx(n)+wx(i)+s;var e,t,n,i,a,s},r.prototype.toRgb=function(){return PE(this.rgba)},r.prototype.toRgbString=function(){return e=PE(this.rgba),t=e.r,n=e.g,i=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+i+", "+a+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,a},r.prototype.toHsl=function(){return RO(Yv(this.rgba))},r.prototype.toHslString=function(){return e=RO(Yv(this.rgba)),t=e.h,n=e.s,i=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+a+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,a},r.prototype.toHsv=function(){return e=D5(this.rgba),{h:ca(e.h),s:ca(e.s),v:ca(e.v),a:ca(e.a,3)};var e},r.prototype.invert=function(){return ls({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),ls(FE(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),ls(FE(this.rgba,-e))},r.prototype.grayscale=function(){return ls(FE(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),ls(OO(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),ls(OO(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?ls({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ca(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=Yv(this.rgba);return typeof e=="number"?ls({h:e,s:t.s,l:t.l,a:t.a}):ca(t.h)},r.prototype.isEqual=function(e){return this.toHex()===ls(e).toHex()},r}(),ls=function(r){return r instanceof vM?r:new vM(r)},NO=[],QQ=function(r){r.forEach(function(e){NO.indexOf(e)<0&&(e(vM,gM),NO.push(e))})};function eee(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var a={};r.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,u=n[this.toHex()];if(u)return u;if(s!=null&&s.closest){var d=this.toRgb(),p=1/0,v="black";if(!a.length)for(var y in t)a[y]=new r(t[y]).toRgb();for(var x in t){var A=(o=d,l=a[x],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));A<p&&(p=A,v=x)}return v}},e.string.push([function(s){var o=s.toLowerCase(),l=o==="transparent"?"#0000":t[o];return l?new r(l).toRgb():null},"name"])}function Vg(){return(Vg=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function Ow(r,e){if(r==null)return{};var t,n,i={},a=Object.keys(r);for(n=0;n<a.length;n++)e.indexOf(t=a[n])>=0||(i[t]=r[t]);return i}function yM(r){var e=P.useRef(r),t=P.useRef(function(n){e.current&&e.current(n)});return e.current=r,t.current}var Ag=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r<e?e:r},qv=function(r){return"touches"in r},_M=function(r){return r&&r.ownerDocument.defaultView||self},UO=function(r,e,t){var n=r.getBoundingClientRect(),i=qv(e)?function(a,s){for(var o=0;o<a.length;o++)if(a[o].identifier===s)return a[o];return a[0]}(e.touches,t):e;return{left:Ag((i.pageX-(n.left+_M(r).pageXOffset))/n.width),top:Ag((i.pageY-(n.top+_M(r).pageYOffset))/n.height)}},LO=function(r){!qv(r)&&r.preventDefault()},Nw=Ae.memo(function(r){var e=r.onMove,t=r.onKey,n=Ow(r,["onMove","onKey"]),i=P.useRef(null),a=yM(e),s=yM(t),o=P.useRef(null),l=P.useRef(!1),u=P.useMemo(function(){var y=function(S){LO(S),(qv(S)?S.touches.length>0:S.buttons>0)&&i.current?a(UO(i.current,S,o.current)):A(!1)},x=function(){return A(!1)};function A(S){var E=l.current,M=_M(i.current),R=S?M.addEventListener:M.removeEventListener;R(E?"touchmove":"mousemove",y),R(E?"touchend":"mouseup",x)}return[function(S){var E=S.nativeEvent,M=i.current;if(M&&(LO(E),!function(w,I){return I&&!qv(w)}(E,l.current)&&M)){if(qv(E)){l.current=!0;var R=E.changedTouches||[];R.length&&(o.current=R[0].identifier)}M.focus(),a(UO(M,E,o.current)),A(!0)}},function(S){var E=S.which||S.keyCode;E<37||E>40||(S.preventDefault(),s({left:E===39?.05:E===37?-.05:0,top:E===40?.05:E===38?-.05:0}))},A]},[s,a]),d=u[0],p=u[1],v=u[2];return P.useEffect(function(){return v},[v]),Ae.createElement("div",Vg({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:p,tabIndex:0,role:"slider"}))}),Qy=function(r){return r.filter(Boolean).join(" ")},Uw=function(r){var e=r.color,t=r.left,n=r.top,i=n===void 0?.5:n,a=Qy(["react-colorful__pointer",r.className]);return Ae.createElement("div",{className:a,style:{top:100*i+"%",left:100*t+"%"}},Ae.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},hs=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t},N5=function(r){var e=r.s,t=r.v,n=r.a,i=(200-e)*t/100;return{h:hs(r.h),s:hs(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:hs(i/2),a:hs(n,2)}},xM=function(r){var e=N5(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},zE=function(r){var e=N5(r);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},U5=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var a=Math.floor(e),s=n*(1-t),o=n*(1-(e-a)*t),l=n*(1-(1-e+a)*t),u=a%6;return{r:hs(255*[n,o,s,s,l,n][u]),g:hs(255*[l,n,n,o,s,s][u]),b:hs(255*[s,s,l,n,n,o][u]),a:hs(i,2)}},L5=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,a=Math.max(e,t,n),s=a-Math.min(e,t,n),o=s?a===e?(t-n)/s:a===t?2+(n-e)/s:4+(e-t)/s:0;return{h:hs(60*(o<0?o+6:o)),s:hs(a?s/a*100:0),v:hs(a/255*100),a:i}},I5=Ae.memo(function(r){var e=r.hue,t=r.onChange,n=Qy(["react-colorful__hue",r.className]);return Ae.createElement("div",{className:n},Ae.createElement(Nw,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:Ag(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":hs(e),"aria-valuemax":"360","aria-valuemin":"0"},Ae.createElement(Uw,{className:"react-colorful__hue-pointer",left:e/360,color:xM({h:e,s:100,v:100,a:1})})))}),P5=Ae.memo(function(r){var e=r.hsva,t=r.onChange,n={backgroundColor:xM({h:e.h,s:100,v:100,a:1})};return Ae.createElement("div",{className:"react-colorful__saturation",style:n},Ae.createElement(Nw,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:Ag(e.s+100*i.left,0,100),v:Ag(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hs(e.s)+"%, Brightness "+hs(e.v)+"%"},Ae.createElement(Uw,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:xM(e)})))}),Lw=function(r,e){if(r===e)return!0;for(var t in r)if(r[t]!==e[t])return!1;return!0};function F5(r,e,t){var n=yM(t),i=P.useState(function(){return r.toHsva(e)}),a=i[0],s=i[1],o=P.useRef({color:e,hsva:a});P.useEffect(function(){if(!r.equal(e,o.current.color)){var u=r.toHsva(e);o.current={hsva:u,color:e},s(u)}},[e,r]),P.useEffect(function(){var u;Lw(a,o.current.hsva)||r.equal(u=r.fromHsva(a),o.current.color)||(o.current={hsva:a,color:u},n(u))},[a,r,n]);var l=P.useCallback(function(u){s(function(d){return Object.assign({},d,u)})},[]);return[a,l]}var tee=typeof window<"u"?P.useLayoutEffect:P.useEffect,nee=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},IO=new Map,H5=function(r){tee(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!IO.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,IO.set(e,t);var n=nee();n&&t.setAttribute("nonce",n),e.head.appendChild(t)}},[])},iee=function(r){var e=r.className,t=r.colorModel,n=r.color,i=n===void 0?t.defaultColor:n,a=r.onChange,s=Ow(r,["className","colorModel","color","onChange"]),o=P.useRef(null);H5(o);var l=F5(t,i,a),u=l[0],d=l[1],p=Qy(["react-colorful",e]);return Ae.createElement("div",Vg({},s,{ref:o,className:p}),Ae.createElement(P5,{hsva:u,onChange:d}),Ae.createElement(I5,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},ree=function(r){var e=r.className,t=r.hsva,n=r.onChange,i={backgroundImage:"linear-gradient(90deg, "+zE(Object.assign({},t,{a:0}))+", "+zE(Object.assign({},t,{a:1}))+")"},a=Qy(["react-colorful__alpha",e]),s=hs(100*t.a);return Ae.createElement("div",{className:a},Ae.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),Ae.createElement(Nw,{onMove:function(o){n({a:o.left})},onKey:function(o){n({a:Ag(t.a+o.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},Ae.createElement(Uw,{className:"react-colorful__alpha-pointer",left:t.a,color:zE(t)})))},aee=function(r){var e=r.className,t=r.colorModel,n=r.color,i=n===void 0?t.defaultColor:n,a=r.onChange,s=Ow(r,["className","colorModel","color","onChange"]),o=P.useRef(null);H5(o);var l=F5(t,i,a),u=l[0],d=l[1],p=Qy(["react-colorful",e]);return Ae.createElement("div",Vg({},s,{ref:o,className:p}),Ae.createElement(P5,{hsva:u,onChange:d}),Ae.createElement(I5,{hue:u.h,onChange:d}),Ae.createElement(ree,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},see={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L5,fromHsva:U5,equal:Lw},oee=function(r){return Ae.createElement(aee,Vg({},r,{colorModel:see}))},lee={defaultColor:{r:0,g:0,b:0},toHsva:function(r){return L5({r:r.r,g:r.g,b:r.b,a:1})},fromHsva:function(r){return{r:(e=U5(r)).r,g:e.g,b:e.b};var e},equal:Lw},cee=function(r){return Ae.createElement(iee,Vg({},r,{colorModel:lee}))},GE={exports:{}},kE,PO;function uee(){if(PO)return kE;PO=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kE=r,kE}var VE,FO;function fee(){if(FO)return VE;FO=1;var r=uee();function e(){}function t(){}return t.resetWarningCache=e,VE=function(){function n(s,o,l,u,d,p){if(p!==r){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},VE}var HO;function dee(){return HO||(HO=1,GE.exports=fee()()),GE.exports}var hee=dee();const Dt=ff(hee);function jg(r,e,t,n){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function l(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(r,e||[])).next())})}function Xg(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function pee(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return a}function mee(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(pee(arguments[e]));return r}var gee=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function e1(r,e){var t=vee(r);if(typeof t.path!="string"){var n=r.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:r.name,writable:!1,configurable:!1,enumerable:!0})}return t}function vee(r){var e=r.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!r.type){var n=e.split(".").pop().toLowerCase(),i=gee.get(n);i&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return r}var yee=[".DS_Store","Thumbs.db"];function _ee(r){return jg(this,void 0,void 0,function(){return Xg(this,function(e){return $b(r)&&xee(r)?[2,Eee(r.dataTransfer,r.type)]:bee(r)?[2,Aee(r)]:Array.isArray(r)&&r.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,See(r)]:[2,[]]})})}function xee(r){return $b(r.dataTransfer)}function bee(r){return $b(r)&&$b(r.target)}function $b(r){return typeof r=="object"&&r!==null}function Aee(r){return bM(r.target.files).map(function(e){return e1(e)})}function See(r){return jg(this,void 0,void 0,function(){var e;return Xg(this,function(t){switch(t.label){case 0:return[4,Promise.all(r.map(function(n){return n.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(n){return e1(n)})]}})})}function Eee(r,e){return jg(this,void 0,void 0,function(){var t,n;return Xg(this,function(i){switch(i.label){case 0:return r===null?[2,[]]:r.items?(t=bM(r.items).filter(function(a){return a.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Tee))]):[3,2];case 1:return n=i.sent(),[2,zO(z5(n))];case 2:return[2,zO(bM(r.files).map(function(a){return e1(a)}))]}})})}function zO(r){return r.filter(function(e){return yee.indexOf(e.name)===-1})}function bM(r){if(r===null)return[];for(var e=[],t=0;t<r.length;t++){var n=r[t];e.push(n)}return e}function Tee(r){if(typeof r.webkitGetAsEntry!="function")return GO(r);var e=r.webkitGetAsEntry();return e&&e.isDirectory?G5(e):GO(r)}function z5(r){return r.reduce(function(e,t){return mee(e,Array.isArray(t)?z5(t):[t])},[])}function GO(r){var e=r.getAsFile();if(!e)return Promise.reject(r+" is not a File");var t=e1(e);return Promise.resolve(t)}function Mee(r){return jg(this,void 0,void 0,function(){return Xg(this,function(e){return[2,r.isDirectory?G5(r):Cee(r)]})})}function G5(r){var e=r.createReader();return new Promise(function(t,n){var i=[];function a(){var s=this;e.readEntries(function(o){return jg(s,void 0,void 0,function(){var l,u,d;return Xg(this,function(p){switch(p.label){case 0:if(o.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=p.sent(),t(l),[3,4];case 3:return u=p.sent(),n(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(o.map(Mee)),i.push(d),a(),p.label=6;case 6:return[2]}})})},function(o){n(o)})}a()})}function Cee(r){return jg(this,void 0,void 0,function(){return Xg(this,function(e){return[2,new Promise(function(t,n){r.file(function(i){var a=e1(i,r.fullPath);t(a)},function(i){n(i)})})]})})}var Rx={},kO;function wee(){return kO||(kO=1,Rx.__esModule=!0,Rx.default=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",i=(r.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0}),Rx}var Ree=wee();const Dee=ff(Ree);function VO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(t),!0).forEach(function(n){k5(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):VO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function k5(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function XO(r,e){return Uee(r)||Nee(r,e)||Oee(r,e)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(r,e){if(r){if(typeof r=="string")return WO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return WO(r,e)}}function WO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Nee(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,s,o;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw o}}return n}}function Uee(r){if(Array.isArray(r))return r}var Lee="file-invalid-type",Iee="file-too-large",Pee="file-too-small",Fee="too-many-files",Hee=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Lee,message:"File type must be ".concat(t)}},YO=function(e){return{code:Iee,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},qO=function(e){return{code:Pee,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},zee={code:Fee,message:"Too many files"};function V5(r,e){var t=r.type==="application/x-moz-file"||Dee(r,e);return[t,t?null:Hee(e)]}function j5(r,e,t){if(Av(r.size))if(Av(e)&&Av(t)){if(r.size>t)return[!1,YO(t)];if(r.size<e)return[!1,qO(e)]}else{if(Av(e)&&r.size<e)return[!1,qO(e)];if(Av(t)&&r.size>t)return[!1,YO(t)]}return[!0,null]}function Av(r){return r!=null}function Gee(r){var e=r.files,t=r.accept,n=r.minSize,i=r.maxSize,a=r.multiple,s=r.maxFiles;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(o){var l=V5(o,t),u=XO(l,1),d=u[0],p=j5(o,n,i),v=XO(p,1),y=v[0];return d&&y})}function Qb(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function Dx(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function KO(r){r.preventDefault()}function kee(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function Vee(r){return r.indexOf("Edge/")!==-1}function jee(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kee(r)||Vee(r)}function Uc(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(o){return!Qb(n)&&o&&o.apply(void 0,[n].concat(a)),Qb(n)})}}function Xee(){return"showOpenFilePicker"in window}function Wee(r){return r=typeof r=="string"?r.split(","):r,[{description:"everything",accept:Array.isArray(r)?r.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return jO(jO({},e),{},k5({},t,[]))},{}):{}}]}function Yee(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function qee(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}var Kee=["children"],Jee=["open"],Zee=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$ee=["refKey","onChange","onClick"];function Qee(r){return nte(r)||tte(r)||X5(r)||ete()}function ete(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function nte(r){if(Array.isArray(r))return AM(r)}function jE(r,e){return ate(r)||rte(r,e)||X5(r,e)||ite()}function ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5(r,e){if(r){if(typeof r=="string")return AM(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AM(r,e)}}function AM(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function rte(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,s,o;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw o}}return n}}function ate(r){if(Array.isArray(r))return r}function JO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(t),!0).forEach(function(n){SM(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function SM(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function eA(r,e){if(r==null)return{};var t=ste(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ste(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var Iw=P.forwardRef(function(r,e){var t=r.children,n=eA(r,Kee),i=Y5(n),a=i.open,s=eA(i,Jee);return P.useImperativeHandle(e,function(){return{open:a}},[a]),Ae.createElement(P.Fragment,null,t(nr(nr({},s),{},{open:a})))});Iw.displayName="Dropzone";var W5={disabled:!1,getFilesFromEvent:_ee,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Iw.defaultProps=W5;Iw.propTypes={children:Dt.func,accept:Dt.oneOfType([Dt.string,Dt.arrayOf(Dt.string)]),multiple:Dt.bool,preventDropOnDocument:Dt.bool,noClick:Dt.bool,noKeyboard:Dt.bool,noDrag:Dt.bool,noDragEventsBubbling:Dt.bool,minSize:Dt.number,maxSize:Dt.number,maxFiles:Dt.number,disabled:Dt.bool,getFilesFromEvent:Dt.func,onFileDialogCancel:Dt.func,onFileDialogOpen:Dt.func,useFsAccessApi:Dt.bool,onDragEnter:Dt.func,onDragLeave:Dt.func,onDragOver:Dt.func,onDrop:Dt.func,onDropAccepted:Dt.func,onDropRejected:Dt.func,validator:Dt.func};var EM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Y5(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=nr(nr({},W5),r),t=e.accept,n=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,p=e.onDragOver,v=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,A=e.onFileDialogCancel,S=e.onFileDialogOpen,E=e.useFsAccessApi,M=e.preventDropOnDocument,R=e.noClick,w=e.noKeyboard,I=e.noDrag,U=e.noDragEventsBubbling,H=e.validator,F=P.useMemo(function(){return typeof S=="function"?S:ZO},[S]),N=P.useMemo(function(){return typeof A=="function"?A:ZO},[A]),L=P.useRef(null),G=P.useRef(null),X=P.useReducer(ote,EM),Y=jE(X,2),J=Y[0],ae=Y[1],$=J.isFocused,he=J.isFileDialogActive,le=J.draggedFiles,de=P.useRef(typeof window<"u"&&window.isSecureContext&&E&&Xee()),V=function(){!de.current&&he&&setTimeout(function(){if(G.current){var ve=G.current.files;ve.length||(ae({type:"closeDialog"}),N())}},300)};P.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[G,he,N,de]);var K=P.useRef([]),re=function(ve){L.current&&L.current.contains(ve.target)||(ve.preventDefault(),K.current=[])};P.useEffect(function(){return M&&(document.addEventListener("dragover",KO,!1),document.addEventListener("drop",re,!1)),function(){M&&(document.removeEventListener("dragover",KO),document.removeEventListener("drop",re))}},[L,M]);var pe=P.useCallback(function(se){se.preventDefault(),se.persist(),Ne(se),K.current=[].concat(Qee(K.current),[se.target]),Dx(se)&&Promise.resolve(i(se)).then(function(ve){Qb(se)&&!U||(ae({draggedFiles:ve,isDragActive:!0,type:"setDraggedFiles"}),u&&u(se))})},[i,u,U]),Q=P.useCallback(function(se){se.preventDefault(),se.persist(),Ne(se);var ve=Dx(se);if(ve&&se.dataTransfer)try{se.dataTransfer.dropEffect="copy"}catch{}return ve&&p&&p(se),!1},[p,U]),ce=P.useCallback(function(se){se.preventDefault(),se.persist(),Ne(se);var ve=K.current.filter(function(Le){return L.current&&L.current.contains(Le)}),Me=ve.indexOf(se.target);Me!==-1&&ve.splice(Me,1),K.current=ve,!(ve.length>0)&&(ae({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Dx(se)&&d&&d(se))},[L,d,U]),me=P.useCallback(function(se,ve){var Me=[],Le=[];se.forEach(function(Ye){var et=V5(Ye,t),at=jE(et,2),Ct=at[0],ot=at[1],_t=j5(Ye,s,a),Ze=jE(_t,2),tt=Ze[0],Ke=Ze[1],wt=H?H(Ye):null;if(Ct&&tt&&!wt)Me.push(Ye);else{var xt=[ot,Ke];wt&&(xt=xt.concat(wt)),Le.push({file:Ye,errors:xt.filter(function(It){return It})})}}),(!o&&Me.length>1||o&&l>=1&&Me.length>l)&&(Me.forEach(function(Ye){Le.push({file:Ye,errors:[zee]})}),Me.splice(0)),ae({acceptedFiles:Me,fileRejections:Le,type:"setFiles"}),v&&v(Me,Le,ve),Le.length>0&&x&&x(Le,ve),Me.length>0&&y&&y(Me,ve)},[ae,o,t,s,a,l,v,y,x,H]),ge=P.useCallback(function(se){se.preventDefault(),se.persist(),Ne(se),K.current=[],Dx(se)&&Promise.resolve(i(se)).then(function(ve){Qb(se)&&!U||me(ve,se)}),ae({type:"reset"})},[i,me,U]),be=P.useCallback(function(){if(de.current){ae({type:"openDialog"}),F();var se={multiple:o,types:Wee(t)};window.showOpenFilePicker(se).then(function(ve){return i(ve)}).then(function(ve){me(ve,null),ae({type:"closeDialog"})}).catch(function(ve){Yee(ve)?(N(ve),ae({type:"closeDialog"})):qee(ve)&&(de.current=!1,G.current&&(G.current.value=null,G.current.click()))});return}G.current&&(ae({type:"openDialog"}),F(),G.current.value=null,G.current.click())},[ae,F,N,E,me,t,o]),je=P.useCallback(function(se){!L.current||!L.current.isEqualNode(se.target)||(se.key===" "||se.key==="Enter"||se.keyCode===32||se.keyCode===13)&&(se.preventDefault(),be())},[L,be]),ze=P.useCallback(function(){ae({type:"focus"})},[]),Ie=P.useCallback(function(){ae({type:"blur"})},[]),ye=P.useCallback(function(){R||(jee()?setTimeout(be,0):be())},[R,be]),we=function(ve){return n?null:ve},ee=function(ve){return w?null:we(ve)},Je=function(ve){return I?null:we(ve)},Ne=function(ve){U&&ve.stopPropagation()},Xe=P.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=se.refKey,Me=ve===void 0?"ref":ve,Le=se.role,Ye=se.onKeyDown,et=se.onFocus,at=se.onBlur,Ct=se.onClick,ot=se.onDragEnter,_t=se.onDragOver,Ze=se.onDragLeave,tt=se.onDrop,Ke=eA(se,Zee);return nr(nr(SM({onKeyDown:ee(Uc(Ye,je)),onFocus:ee(Uc(et,ze)),onBlur:ee(Uc(at,Ie)),onClick:we(Uc(Ct,ye)),onDragEnter:Je(Uc(ot,pe)),onDragOver:Je(Uc(_t,Q)),onDragLeave:Je(Uc(Ze,ce)),onDrop:Je(Uc(tt,ge)),role:typeof Le=="string"&&Le!==""?Le:"button"},Me,L),!n&&!w?{tabIndex:0}:{}),Ke)}},[L,je,ze,Ie,ye,pe,Q,ce,ge,w,I,n]),Be=P.useCallback(function(se){se.stopPropagation()},[]),st=P.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=se.refKey,Me=ve===void 0?"ref":ve,Le=se.onChange,Ye=se.onClick,et=eA(se,$ee),at=SM({accept:t,multiple:o,type:"file",style:{display:"none"},onChange:we(Uc(Le,ge)),onClick:we(Uc(Ye,Be)),tabIndex:-1},Me,G);return nr(nr({},at),et)}},[G,t,o,ge,n]),Ge=le.length,Z=Ge>0&&Gee({files:le,accept:t,minSize:s,maxSize:a,multiple:o,maxFiles:l}),j=Ge>0&&!Z;return nr(nr({},J),{},{isDragAccept:Z,isDragReject:j,isFocused:$&&!n,getRootProps:Xe,getInputProps:st,rootRef:L,inputRef:G,open:we(be)})}function ote(r,e){switch(e.type){case"focus":return nr(nr({},r),{},{isFocused:!0});case"blur":return nr(nr({},r),{},{isFocused:!1});case"openDialog":return nr(nr({},EM),{},{isFileDialogActive:!0});case"closeDialog":return nr(nr({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,n=e.draggedFiles;return nr(nr({},r),{},{draggedFiles:n,isDragActive:t});case"setFiles":return nr(nr({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return nr({},EM);default:return r}}function ZO(){}function lte(r){let e;const t=new Set,n=(u,d)=>{const p=typeof u=="function"?u(e):u;if(p!==e){const v=e;e=d?p:Object.assign({},e,p),t.forEach(y=>y(e,v))}},i=()=>e,a=(u,d=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=d(e);function y(){const x=d(e);if(!p(v,x)){const A=v;u(v=x,A)}}return t.add(y),()=>t.delete(y)},l={setState:n,getState:i,subscribe:(u,d,p)=>d||p?a(u,d,p):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=r(n,i,l),l}const cte=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$O=cte?P.useEffect:P.useLayoutEffect;function ute(r){const e=typeof r=="function"?lte(r):r,t=(n=e.getState,i=Object.is)=>{const[,a]=P.useReducer(S=>S+1,0),s=e.getState(),o=P.useRef(s),l=P.useRef(n),u=P.useRef(i),d=P.useRef(!1),p=P.useRef();p.current===void 0&&(p.current=n(s));let v,y=!1;(o.current!==s||l.current!==n||u.current!==i||d.current)&&(v=n(s),y=!i(p.current,v)),$O(()=>{y&&(p.current=v),o.current=s,l.current=n,u.current=i,d.current=!1});const x=P.useRef(s);$O(()=>{const S=()=>{try{const M=e.getState(),R=l.current(M);u.current(p.current,R)||(o.current=M,p.current=R,a())}catch{d.current=!0,a()}},E=e.subscribe(S);return e.getState()!==x.current&&S(),E},[]);const A=y?v:p.current;return P.useDebugValue(A),A};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}const fte=r=>(e,t,n)=>{const i=n.subscribe;return n.subscribe=(s,o,l)=>{let u=s;if(o){const d=(l==null?void 0:l.equalityFn)||Object.is;let p=s(n.getState());u=v=>{const y=s(v);if(!d(p,y)){const x=p;o(p=y,x)}},l!=null&&l.fireImmediately&&o(p,p)}return i(u)},r(e,t,n)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var XE,QO;function dte(){return QO||(QO=1,XE=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),XE}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var WE,eN;function q5(){if(eN)return WE;eN=1;var r=dte();function e(t){return r(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return WE=function(n){var i,a;return!(e(n)===!1||(i=n.constructor,typeof i!="function")||(a=i.prototype,e(a)===!1)||a.hasOwnProperty("isPrototypeOf")===!1)},WE}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var YE,tN;function Pw(){if(tN)return YE;tN=1;var r=q5();return YE=function(t){return r(t)||typeof t=="function"||Array.isArray(t)},YE}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var qE,nN;function hte(){return nN||(nN=1,qE=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e)===!1)break}),qE}var KE,iN;function pte(){if(iN)return KE;iN=1;var r=Pw(),e=hte();function t(s,o){for(var l=arguments.length,u=0;++u<l;){var d=arguments[u];i(d)&&e(d,n,s)}return s}function n(s,o){if(a(o)){var l=this[o];i(s)&&i(l)?t(l,s):this[o]=s}}function i(s){return r(s)&&!Array.isArray(s)}function a(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return KE=t,KE}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var JE,rN;function mte(){if(rN)return JE;rN=1,JE=function(t,n,i,a,s){if(!r(t)||!n)return t;if(n=e(n),i&&(n+="."+e(i)),a&&(n+="."+e(a)),s&&(n+="."+e(s)),n in t)return t[n];for(var o=n.split("."),l=o.length,u=-1;t&&++u<l;){for(var d=o[u];d[d.length-1]==="\\";)d=d.slice(0,-1)+"."+o[++u];t=t[d]}return t};function r(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return JE}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ZE,aN;function gte(){return aN||(aN=1,ZE=function(r,e){if(r===null||typeof r>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return r;for(var t=Object.prototype.propertyIsEnumerable,n=Object(r),i=arguments.length,a=0;++a<i;)for(var s=Object(arguments[a]),o=Object.getOwnPropertySymbols(s),l=0;l<o.length;l++){var u=o[l];t.call(s,u)&&(n[u]=s[u])}return n}),ZE}var $E,sN;function vte(){if(sN)return $E;sN=1;var r=Pw(),e=gte();$E=Object.assign||function(o){if(o===null||typeof o>"u")throw new TypeError("Cannot convert undefined or null to object");a(o)||(o={});for(var l=1;l<arguments.length;l++){var u=arguments[l];n(u)&&(u=i(u)),a(u)&&(t(o,u),e(o,u))}return o};function t(o,l){for(var u in l)s(l,u)&&(o[u]=l[u])}function n(o){return o&&typeof o=="string"}function i(o){var l={};for(var u in o)l[u]=o[u];return l}function a(o){return o&&typeof o=="object"||r(o)}function s(o,l){return Object.prototype.hasOwnProperty.call(o,l)}return $E}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var QE,oN;function yte(){if(oN)return QE;oN=1;var r=vte();QE=function(i,a,s){if(typeof i!="string")throw new TypeError("expected a string");typeof a=="function"&&(s=a,a=null),typeof a=="string"&&(a={sep:a});var o=r({sep:"."},a),l=o.quotes||['"',"'","`"],u;o.brackets===!0?u={"<":">","(":")","[":"]","{":"}"}:o.brackets&&(u=o.brackets);var d=[],p=[],v=[""],y=o.sep,x=i.length,A=-1,S;function E(){if(u&&p.length)return u[p[p.length-1]]}for(;++A<x;){var M=i[A],R=i[A+1],w={val:M,idx:A,arr:v,str:i};if(d.push(w),M==="\\"){w.val=n(o,i,A)===!0?M+R:R,w.escaped=!0,typeof s=="function"&&s(w),v[v.length-1]+=w.val,A++;continue}if(u&&u[M]){p.push(M);var I=E(),U=A+1;if(i.indexOf(I,U+1)!==-1)for(;p.length&&U<x;){var H=i[++U];if(H==="\\"){H++;continue}if(l.indexOf(H)!==-1){U=e(i,H,U+1);continue}if(I=E(),p.length&&i.indexOf(I,U+1)===-1)break;if(u[H]){p.push(H);continue}I===H&&p.pop()}if(S=U,S===-1){v[v.length-1]+=M;continue}M=i.slice(A,S+1),w.val=M,w.idx=A=S}if(l.indexOf(M)!==-1){if(S=e(i,M,A+1),S===-1){v[v.length-1]+=M;continue}t(M,o)===!0?M=i.slice(A,S+1):M=i.slice(A+1,S),w.val=M,w.idx=A=S}if(typeof s=="function"&&(s(w,d),M=w.val,A=w.idx),w.val===y&&w.split!==!1){v.push("");continue}v[v.length-1]+=w.val}return v};function e(i,a,s,o){var l=i.indexOf(a,s);return i.charAt(l-1)==="\\"?e(i,a,l+1):l}function t(i,a){return a.keepDoubleQuotes===!0&&i==='"'||a.keepSingleQuotes===!0&&i==="'"?!0:a.keepQuotes}function n(i,a,s){return typeof i.keepEscaping=="function"?i.keepEscaping(a,s):i.keepEscaping===!0||a[s+1]==="\\"}return QE}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var eT,lN;function _te(){return lN||(lN=1,eT=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),eT}var tT,cN;function xte(){if(cN)return tT;cN=1;var r=_te();tT=function(i){r(i)||(i={});for(var a=arguments.length,s=1;s<a;s++){var o=arguments[s];r(o)&&e(i,o)}return i};function e(n,i){for(var a in i)t(i,a)&&(n[a]=i[a])}function t(n,i){return Object.prototype.hasOwnProperty.call(n,i)}return tT}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var nT,uN;function bte(){return uN||(uN=1,nT=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),nT}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var iT,fN;function Ate(){if(fN)return iT;fN=1;var r=yte(),e=xte(),t=q5(),n=bte();iT=function(a,s,o){if(!n(a)||(Array.isArray(s)&&(s=[].concat.apply([],s).join(".")),typeof s!="string"))return a;for(var l=r(s,{sep:".",brackets:!0}).filter(i),u=l.length,d=-1,p=a;++d<u;){var v=l[d];if(d!==u-1){n(p[v])||(p[v]={}),p=p[v];continue}t(p[v])&&t(o)?p[v]=e({},p[v],o):p[v]=o}return a};function i(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"}return iT}var rT,dN;function Ste(){if(dN)return rT;dN=1;var r=Pw(),e=pte(),t=mte(),n=Ate();return rT=function(a,s,o){if(!r(a))throw new TypeError("expected an object");if(typeof s!="string"||o==null)return e.apply(null,arguments);if(typeof o=="string")return n(a,s,o),a;var l=t(a,s);return r(o)&&r(l)&&(o=e({},l,o)),n(a,s,o),a},rT}var Ete=Ste();const Tte=ff(Ete),Fw=(...r)=>r.filter(Boolean).join(".");function Mte(r){const e=r.split(".");return[e.pop(),e.join(".")||void 0]}function Cte(r,e){return Object.entries(v$(r,e)).reduce((t,[,{value:n,disabled:i,key:a}])=>(t[a]=i?void 0:n,t),{})}function wte(r,e){const t=P.useRef();return py(r,t.current)||(t.current=r),t.current}function K5(r,e){return P.useMemo(r,wte(e))}function Rte(r){const e=P.useRef(null),t=P.useRef(null),n=P.useRef(!0);return P.useLayoutEffect(()=>{r||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),P.useEffect(()=>{if(n.current){n.current=!1;return}let i;const a=e.current,s=()=>{r&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",s,{once:!0});const{height:o}=t.current.getBoundingClientRect();return a.style.height=o+"px",r||(a.style.overflow="hidden",i=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",s),clearTimeout(i)}},[r]),{wrapperRef:e,contentRef:t}}const Dte=r=>{const[e,t]=P.useState(r.getVisiblePaths());return P.useEffect(()=>{t(r.getVisiblePaths());const n=r.useStore.subscribe(r.getVisiblePaths,t,{equalityFn:p2});return()=>n()},[r]),e};function Bte(r,e,t){return r.useStore(i=>{const a=fn(fn({},t),i.data);return Cte(a,e)},p2)}function J5(r=3){const e=P.useRef(null),t=P.useRef(null),[n,i]=P.useState(!1),a=P.useCallback(()=>i(!0),[]),s=P.useCallback(()=>i(!1),[]);return P.useLayoutEffect(()=>{if(n){const{bottom:o,top:l,left:u}=e.current.getBoundingClientRect(),{height:d}=t.current.getBoundingClientRect(),p=o+d>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",p==="down"?t.current.style.top=o+r+"px":t.current.style.bottom=window.innerHeight-l+r+"px"}},[r,n]),{popinRef:e,wrapperRef:t,shown:n,show:a,hide:s}}QQ([eee]);const Ote={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Hs.extend({color:()=>r=>ls(r).isValid()});const Nte=r=>Hs().color().test(r);function Z5(r,{format:e,hasAlpha:t,isString:n}){const i=Ote[e]+(n&&e!=="hex"?"String":""),a=r[i]();return typeof a=="object"&&!t?y$(a,["a"]):a}const $5=(r,e)=>{const t=ls(r);if(!t.isValid())throw Error("Invalid color");return Z5(t,e)},Ute=(r,e)=>Z5(ls(r),fn(fn({},e),{},{isString:!0,format:"hex"})),Lte=({value:r})=>{const e=$Q(r),t=e==="name"?"hex":e,n=typeof r=="object"?"a"in r:e==="hex"&&r.length===8||/^(rgba)|(hsla)|(hsva)/.test(r),i={format:t,hasAlpha:n,isString:typeof r=="string"};return{value:$5(r,i),settings:i}};var Ite=Object.freeze({__proto__:null,schema:Nte,sanitize:$5,format:Ute,normalize:Lte});const Pte=an("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Fte=an("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Hte=an("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function hN(r,e){return e!=="rgb"?ls(r).toRgb():r}function zte({value:r,displayValue:e,settings:t,onUpdate:n}){const{emitOnEditStart:i,emitOnEditEnd:a}=Ya(),{format:s,hasAlpha:o}=t,{popinRef:l,wrapperRef:u,shown:d,show:p,hide:v}=J5(),y=P.useRef(0),[x,A]=P.useState(()=>hN(r,s)),S=o?oee:cee,E=()=>{A(hN(r,s)),p(),i()},M=()=>{v(),a(),window.clearTimeout(y.current)},R=()=>{y.current=window.setTimeout(M,500)};return P.useEffect(()=>()=>window.clearTimeout(y.current),[]),Ae.createElement(Ae.Fragment,null,Ae.createElement(Pte,{ref:l,active:d,onClick:()=>E(),style:{color:e}}),d&&Ae.createElement(Rw,null,Ae.createElement(x5,{onPointerUp:M}),Ae.createElement(Hte,{ref:u,onMouseEnter:()=>window.clearTimeout(y.current),onMouseLeave:w=>w.buttons===0&&R()},Ae.createElement(S,{color:x,onChange:n}))))}function Gte(){const{value:r,displayValue:e,label:t,onChange:n,onUpdate:i,settings:a}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,t),Ae.createElement(Fte,null,Ae.createElement(zte,{value:r,displayValue:e,onChange:n,onUpdate:i,settings:a}),Ae.createElement(ww,{value:e,onChange:n,onUpdate:i})))}var kte=fn({component:Gte},Ite);function Vte(){const{label:r,displayValue:e,onUpdate:t,settings:n}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(Bw,{value:e,settings:n,onUpdate:t}))}var jte=fn({component:Vte},w5(["x","y","z"]));const Xte=an("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Wte=an("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Yte({value:r,settings:e,onUpdate:t}){const n=P.useRef(),i=P.useRef(0),a=P.useRef(0),s=P.useRef(1),[o,l]=P.useState(!1),[u,d]=P.useState(!1),[p,v]=A5(),y=P.useRef(null),x=P.useRef(null);P.useLayoutEffect(()=>{if(o){const{top:X,left:Y,width:J,height:ae}=y.current.getBoundingClientRect();x.current.style.left=Y+J/2+"px",x.current.style.top=X+ae/2+"px"}},[o]);const{keys:[A,S],joystick:E}=e,M=E==="invertY"?1:-1,{[A]:{step:R},[S]:{step:w}}=e,I=Qu("sizes","joystickWidth"),U=Qu("sizes","joystickHeight"),H=parseFloat(I)*.8/2,F=parseFloat(U)*.8/2,N=P.useCallback(()=>{n.current||(d(!0),i.current&&v({x:i.current*H}),a.current&&v({y:a.current*-F}),n.current=window.setInterval(()=>{t(X=>{const Y=R*i.current*s.current,J=M*w*a.current*s.current;return Array.isArray(X)?{[A]:X[0]+Y,[S]:X[1]+J}:{[A]:X[A]+Y,[S]:X[S]+J}})},16))},[H,F,t,v,R,w,A,S,M]),L=P.useCallback(()=>{window.clearTimeout(n.current),n.current=void 0,d(!1)},[]);P.useEffect(()=>{function X(Y){s.current=s5(Y)}return window.addEventListener("keydown",X),window.addEventListener("keyup",X),()=>{window.clearTimeout(n.current),window.removeEventListener("keydown",X),window.removeEventListener("keyup",X)}},[]);const G=$y(({first:X,active:Y,delta:[J,ae],movement:[$,he]})=>{X&&l(!0);const le=Td($,-H,H),de=Td(he,-F,F);i.current=Math.abs($)>Math.abs(le)?Math.sign($-le):0,a.current=Math.abs(he)>Math.abs(de)?Math.sign(de-he):0;let V=r[A],K=r[S];Y?(i.current||(V+=J*R*s.current,v({x:le})),a.current||(K-=M*ae*w*s.current,v({y:de})),i.current||a.current?N():L(),t({[A]:V,[S]:K})):(l(!1),i.current=0,a.current=0,v({x:0,y:0}),L())});return Ae.createElement(Xte,Sr({ref:y},G()),o&&Ae.createElement(Rw,null,Ae.createElement(Wte,{ref:x,isOutOfBounds:u},Ae.createElement("div",null),Ae.createElement("span",{ref:p}))))}const qte=an("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Kte(){const{label:r,displayValue:e,onUpdate:t,settings:n}=Ya();return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(qte,{withJoystick:!!n.joystick},n.joystick&&Ae.createElement(Yte,{value:e,settings:n,onUpdate:t}),Ae.createElement(Bw,{value:e,settings:n,onUpdate:t})))}const Jte=["joystick"],Q5=w5(["x","y"]),Zte=r=>{let{joystick:e=!0}=r,t=Si(r,Jte);const{value:n,settings:i}=Q5.normalize(t);return{value:n,settings:fn(fn({},i),{},{joystick:e})}};var $te=fn(fn({component:Kte},Q5),{},{normalize:Zte});const Qte=r=>{if(r!==void 0){if(r instanceof File)try{return URL.createObjectURL(r)}catch{return}if(typeof r=="string"&&r.indexOf("blob:")===0)return r;throw Error("Invalid image format [undefined | blob |File].")}},ene=(r,e)=>typeof e=="object"&&"image"in e,tne=({image:r})=>({value:r});var nne=Object.freeze({__proto__:null,sanitize:Qte,schema:ene,normalize:tne});const ine=an("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),rne=an("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ane=an("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),sne=an("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),one=an("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),lne=an("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function cne(){const{label:r,value:e,onUpdate:t,disabled:n}=Ya(),{popinRef:i,wrapperRef:a,shown:s,show:o,hide:l}=J5(),u=P.useCallback(x=>{x.length&&t(x[0])},[t]),d=P.useCallback(x=>{x.stopPropagation(),t(void 0)},[t]),{getRootProps:p,getInputProps:v,isDragAccept:y}=Y5({maxFiles:1,accept:"image/*",onDrop:u,disabled:n});return Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(ine,null,Ae.createElement(ane,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&o(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),s&&!!e&&Ae.createElement(Rw,null,Ae.createElement(x5,{onPointerUp:l,style:{cursor:"pointer"}}),Ae.createElement(sne,{ref:a,style:{backgroundImage:`url(${e})`}})),Ae.createElement(rne,p({isDragAccept:y}),Ae.createElement("input",v()),Ae.createElement(one,null,y?"drop image":"click or drop")),Ae.createElement(lne,{onClick:d,disabled:!e})))}var une=fn({component:cne},nne);const pN=Hs().number(),fne=(r,e)=>Hs().array().length(2).every.number().test(r)&&Hs().schema({min:pN,max:pN}).test(e),tA=r=>({min:r[0],max:r[1]}),eP=(r,{bounds:[e,t]},n)=>{const i=Array.isArray(r)?tA(r):r,a={min:n[0],max:n[1]},{min:s,max:o}=fn(fn({},a),i);return[Td(Number(s),e,Math.max(e,o)),Td(Number(o),Math.min(t,s),t)]},dne=({value:r,min:e,max:t})=>{const n={min:e,max:t},i=C5(tA(r),{min:n,max:n}),a=[e,t],s=fn(fn({},i),{},{bounds:a});return{value:eP(tA(r),s,r),settings:s}};var hne=Object.freeze({__proto__:null,schema:fne,format:tA,sanitize:eP,normalize:dne});const pne=["value","bounds","onDrag"],mne=["bounds"],gne=an("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function vne(r){let{value:e,bounds:[t,n],onDrag:i}=r,a=Si(r,pne);const s=P.useRef(null),o=P.useRef(null),l=P.useRef(null),u=P.useRef(0),d=Qu("sizes","scrubberWidth"),p=$y(({event:x,first:A,xy:[S],movement:[E],memo:M={}})=>{if(A){const{width:w,left:I}=s.current.getBoundingClientRect();u.current=w-parseFloat(d);const U=(x==null?void 0:x.target)===o.current||(x==null?void 0:x.target)===l.current;M.pos=Jb((S-I)/w,t,n);const H=Math.abs(M.pos-e.min)-Math.abs(M.pos-e.max);M.key=H<0||H===0&&M.pos<=e.min?"min":"max",U&&(M.pos=e[M.key])}const R=M.pos+Jb(E/u.current,0,n-t);return i({[M.key]:aQ(R,a[M.key])}),M}),v=`calc(${Kb(e.min,t,n)} * (100% - ${d} - 8px) + 4px)`,y=`calc(${1-Kb(e.max,t,n)} * (100% - ${d} - 8px) + 4px)`;return Ae.createElement(E5,Sr({ref:s},p()),Ae.createElement(S5,null,Ae.createElement(T5,{style:{left:v,right:y}})),Ae.createElement(pM,{position:"left",ref:o,style:{left:v}}),Ae.createElement(pM,{position:"right",ref:l,style:{right:y}}))}function yne(){const{label:r,displayValue:e,onUpdate:t,settings:n}=Ya(),i=Si(n,mne);return Ae.createElement(Ae.Fragment,null,Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,null,r),Ae.createElement(gne,null,Ae.createElement(vne,Sr({value:e},n,{onDrag:t})),Ae.createElement(Bw,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var _ne=fn({component:yne},hne);const xne=()=>{const r=new Map;return{on:(e,t)=>{let n=r.get(e);n===void 0&&(n=new Set,r.set(e,n)),n.add(t)},off:(e,t)=>{const n=r.get(e);n!==void 0&&(n.delete(t),n.size===0&&r.delete(e))},emit:(e,...t)=>{const n=r.get(e);if(n!==void 0)for(const i of n)i(...t)}}},bne=["type","value"],Ane=["onChange","transient","onEditStart","onEditEnd"],Sne=function(){const e=ute(fte(()=>({data:{}}))),t=xne();this.storeId=g$(),this.useStore=e;const n={},i=new Set;this.getVisiblePaths=()=>{const s=this.getData(),o=Object.keys(s),l=[];Object.entries(n).forEach(([d,p])=>{p.render&&o.some(v=>v.indexOf(d)===0)&&!p.render(this.get)&&l.push(d+".")});const u=[];return i.forEach(d=>{d in s&&s[d].__refCount>0&&l.every(p=>d.indexOf(p)===-1)&&(!s[d].render||s[d].render(this.get))&&u.push(d)}),u},this.setOrderedPaths=s=>{s.forEach(o=>i.add(o))},this.orderPaths=s=>(this.setOrderedPaths(s),s),this.disposePaths=s=>{e.setState(o=>{const l=o.data;return s.forEach(u=>{if(u in l){const d=l[u];d.__refCount--,d.__refCount===0&&d.type in Gl&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=s=>n[s]||{},this.getData=()=>e.getState().data,this.addData=(s,o)=>{e.setState(l=>{const u=l.data;return Object.entries(s).forEach(([d,p])=>{let v=u[d];if(v){const{type:y,value:x}=p,A=Si(p,bne);y!==v.type?Yu(ir.INPUT_TYPE_OVERRIDE,y):((v.__refCount===0||o)&&Object.assign(v,A),v.__refCount++)}else u[d]=fn(fn({},p),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(s,o,l)=>{e.setState(u=>{const d=u.data;return MO(d[s],o,s,this,l),{data:d}})},this.setSettingsAtPath=(s,o)=>{e.setState(l=>{const u=l.data;return u[s].settings=fn(fn({},u[s].settings),o),{data:u}})},this.disableInputAtPath=(s,o)=>{e.setState(l=>{const u=l.data;return u[s].disabled=o,{data:u}})},this.set=(s,o)=>{e.setState(l=>{const u=l.data;return Object.entries(s).forEach(([d,p])=>{try{MO(u[d],p,void 0,void 0,o)}catch{}}),{data:u}})},this.getInput=s=>{try{return this.getData()[s]}catch{Yu(ir.PATH_DOESNT_EXIST,s)}},this.get=s=>{var o;return(o=this.getInput(s))===null||o===void 0?void 0:o.value},this.emitOnEditStart=s=>{t.emit(`onEditStart:${s}`,this.get(s),s,fn(fn({},this.getInput(s)),{},{get:this.get}))},this.emitOnEditEnd=s=>{t.emit(`onEditEnd:${s}`,this.get(s),s,fn(fn({},this.getInput(s)),{},{get:this.get}))},this.subscribeToEditStart=(s,o)=>{const l=`onEditStart:${s}`;return t.on(l,o),()=>t.off(l,o)},this.subscribeToEditEnd=(s,o)=>{const l=`onEditEnd:${s}`;return t.on(l,o),()=>t.off(l,o)};const a=(s,o,l)=>{const u={};return Object.entries(s).forEach(([d,p])=>{if(d==="")return Yu(ir.EMPTY_KEY);let v=Fw(o,d);if(p.type===Gl.FOLDER){const y=a(p.schema,v,l);Object.assign(u,y),v in n||(n[v]=p.settings)}else if(d in l)Yu(ir.DUPLICATE_KEYS,d,v,l[d].path);else{const y=E$(p,d,v,u);if(y){const{type:x,options:A,input:S}=y,{onChange:E,transient:M,onEditStart:R,onEditEnd:w}=A,I=Si(A,Ane);u[v]=fn(fn(fn({type:x},I),S),{},{fromPanel:!0}),l[d]={path:v,onChange:E,transient:M,onEditStart:R,onEditEnd:w}}else Yu(ir.UNKNOWN_INPUT,v,p)}}),u};this.getDataFromSchema=s=>{const o={};return[a(s,"",o),o]}},tP=new Sne,Ene={collapsed:!1};function Tne(r,e){return{type:Gl.FOLDER,schema:r,settings:fn(fn({},Ene),e)}}const mN=r=>"__levaInput"in r,Mne=(r,e)=>{const t={},n=e?e.toLowerCase():null;return r.forEach(i=>{const[a,s]=Mte(i);(!n||a.toLowerCase().indexOf(n)>-1)&&Tte(t,s,{[a]:{__levaInput:!0,path:i}})}),t},Cne=["type","label","path","valueKey","value","settings","setValue","disabled"];function wne(r){let{type:e,label:t,path:n,valueKey:i,value:a,settings:s,setValue:o,disabled:l}=r,u=Si(r,Cne);const{displayValue:d,onChange:p,onUpdate:v}=b5({type:e,value:a,settings:s,setValue:o}),y=Ep[e].component;return y?Ae.createElement(f5.Provider,{value:fn({key:i,path:n,id:""+n,label:t,displayValue:d,value:a,onChange:p,onUpdate:v,settings:s,setValue:o,disabled:l},u)},Ae.createElement(V$,{disabled:l},Ae.createElement(y,null))):(Yu(ir.NO_COMPONENT_FOR_TYPE,e,n),null)}const Rne=an("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Dne({onClick:r,settings:e,label:t}){const n=Zy();return Ae.createElement(Jo,null,Ae.createElement(Rne,{disabled:e.disabled,onClick:()=>r(n.get)},t))}const Bne=an("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),One=an("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Nne=({label:r,opts:e})=>{let t=typeof r=="string"&&r.trim()===""?null:r,n=e;return typeof e.opts=="object"&&(n.label!==void 0&&(t=e.label),n=e.opts),{label:t,opts:n}};function Une(r){const{label:e,opts:t}=Nne(r),n=Zy();return Ae.createElement(Jo,{input:!!e},e&&Ae.createElement(Kl,null,e),Ae.createElement(Bne,null,Object.entries(t).map(([i,a])=>Ae.createElement(One,{key:i,onClick:()=>a(n.get)},i))))}const Lne=an("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),nP=100;function Ine(r,e){r.push(e),r.length>nP&&r.shift()}const Pne=P.forwardRef(function({initialValue:r},e){const t=Qu("colors","highlight3"),n=Qu("colors","elevation2"),i=Qu("colors","highlight1"),[a,s]=P.useMemo(()=>[ls(i).alpha(.4).toRgbString(),ls(i).alpha(.1).toRgbString()],[i]),o=P.useRef([r]),l=P.useRef(r),u=P.useRef(r),d=P.useRef(),p=P.useCallback((x,A)=>{if(!x)return;const{width:S,height:E}=x,M=new Path2D,R=S/nP,w=E*.05;for(let H=0;H<o.current.length;H++){const F=Kb(o.current[H],l.current,u.current),N=R*H,L=E-F*(E-w*2)-w;M.lineTo(N,L)}A.clearRect(0,0,S,E);const I=new Path2D(M);I.lineTo(R*(o.current.length+1),E),I.lineTo(0,E),I.lineTo(0,0);const U=A.createLinearGradient(0,0,0,E);U.addColorStop(0,a),U.addColorStop(1,s),A.fillStyle=U,A.fill(I),A.strokeStyle=n,A.lineJoin="round",A.lineWidth=14,A.stroke(M),A.strokeStyle=t,A.lineWidth=2,A.stroke(M)},[t,n,a,s]),[v,y]=$$(p);return P.useImperativeHandle(e,()=>({frame:x=>{(l.current===void 0||x<l.current)&&(l.current=x),(u.current===void 0||x>u.current)&&(u.current=x),Ine(o.current,x),d.current=requestAnimationFrame(()=>p(v.current,y.current))}}),[v,y,p]),P.useEffect(()=>()=>cancelAnimationFrame(d.current),[]),Ae.createElement(Lne,{ref:v})}),gN=r=>Number.isFinite(r)?r.toPrecision(2):r.toString(),Fne=P.forwardRef(function({initialValue:r},e){const[t,n]=P.useState(gN(r));return P.useImperativeHandle(e,()=>({frame:i=>n(gN(i))}),[]),Ae.createElement("div",null,t)});function vN(r){return typeof r=="function"?r():r.current}function Hne({label:r,objectOrFn:e,settings:t}){const n=P.useRef(),i=P.useRef(vN(e));return P.useEffect(()=>{const a=window.setInterval(()=>{var s;document.hidden||(s=n.current)===null||s===void 0||s.frame(vN(e))},t.interval);return()=>window.clearInterval(a)},[e,t.interval]),Ae.createElement(Jo,{input:!0},Ae.createElement(Kl,{align:"top"},r),t.graph?Ae.createElement(Pne,{ref:n,initialValue:i.current}):Ae.createElement(Fne,{ref:n,initialValue:i.current}))}const zne=["type","label","key"],Gne={[Gl.BUTTON]:Dne,[Gl.BUTTON_GROUP]:Une,[Gl.MONITOR]:Hne},kne=Ae.memo(({path:r})=>{const[e,{set:t,setSettings:n,disable:i,storeId:a,emitOnEditStart:s,emitOnEditEnd:o}]=eQ(r);if(!e)return null;const{type:l,label:u,key:d}=e,p=Si(e,zne);if(l in Gl){const v=Gne[l];return Ae.createElement(v,Sr({label:u,path:r},p))}return l in Ep?Ae.createElement(wne,Sr({key:a+r,type:l,label:u,storeId:a,path:r,valueKey:d,setValue:t,setSettings:n,disable:i,emitOnEditStart:s,emitOnEditEnd:o},p)):(l$(ir.UNSUPPORTED_INPUT,l,r),null)});function Vne({toggle:r,toggled:e,name:t}){return Ae.createElement(z$,{onClick:()=>r()},Ae.createElement(Dw,{toggled:e}),Ae.createElement("div",null,t))}const jne=({name:r,path:e,tree:t})=>{const n=Zy(),i=Fw(e,r),{collapsed:a,color:s}=n.getFolderSettings(i),[o,l]=P.useState(!a),u=P.useRef(null),d=Qu("colors","folderWidgetColor"),p=Qu("colors","folderTextColor");return P.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",s||d),u.current.style.setProperty("--leva-colors-folderTextColor",s||p)},[s,d,p]),Ae.createElement(Zb,{ref:u},Ae.createElement(Vne,{name:r,toggled:o,toggle:()=>l(v=>!v)}),Ae.createElement(iP,{parent:i,tree:t,toggled:o}))},iP=Ae.memo(({isRoot:r=!1,fill:e=!1,flat:t=!1,parent:n,tree:i,toggled:a})=>{const{wrapperRef:s,contentRef:o}=Rte(a),l=Zy(),u=([p,v])=>{var y;return(mN(v)?(y=l.getInput(v.path))===null||y===void 0?void 0:y.order:l.getFolderSettings(Fw(n,p)).order)||0},d=Object.entries(i).sort((p,v)=>u(p)-u(v));return Ae.createElement(dM,{ref:s,isRoot:r,fill:e,flat:t},Ae.createElement(v5,{ref:o,isRoot:r,toggled:a},d.map(([p,v])=>mN(v)?Ae.createElement(kne,{key:v.path,valueKey:v.valueKey,path:v.path}):Ae.createElement(jne,{key:p,name:p,path:n,tree:v}))))}),Xne=an("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${_5}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),rP=40,nA=an("i",{$flexCenter:"",width:rP,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Wne=an("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Yne=an("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${nA}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),qne=an("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Kne=an("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:rP}}}}),Jne=Ae.forwardRef(({setFilter:r,toggle:e},t)=>{const[n,i]=P.useState(""),a=P.useMemo(()=>a5(r,250),[r]),s=()=>{r(""),i("")},o=l=>{const u=l.currentTarget.value;e(!0),i(u)};return P.useEffect(()=>{a(n)},[n,a]),Ae.createElement(Ae.Fragment,null,Ae.createElement(qne,{ref:t,value:n,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:o}),Ae.createElement(nA,{onClick:()=>s(),style:{visibility:n?"visible":"hidden"}},Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Zne({setFilter:r,onDrag:e,onDragStart:t,onDragEnd:n,toggle:i,toggled:a,title:s,drag:o,filterEnabled:l,from:u}){const[d,p]=P.useState(!1),v=P.useRef(null);P.useEffect(()=>{var x,A;d?(x=v.current)===null||x===void 0||x.focus():(A=v.current)===null||A===void 0||A.blur()},[d]);const y=$y(({offset:[x,A],first:S,last:E})=>{e({x,y:A}),S&&t({x,y:A}),E&&n({x,y:A})},{filterTaps:!0,from:({offset:[x,A]})=>[(u==null?void 0:u.x)||x,(u==null?void 0:u.y)||A]});return P.useEffect(()=>{const x=A=>{A.key==="L"&&A.shiftKey&&A.metaKey&&p(S=>!S)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]),Ae.createElement(Ae.Fragment,null,Ae.createElement(Wne,{mode:o?"drag":void 0},Ae.createElement(nA,{active:!a,onClick:()=>i()},Ae.createElement(Dw,{toggled:a,width:12,height:8})),Ae.createElement(Kne,Sr({},o?y():{},{drag:o,filterEnabled:l}),s===void 0&&o?Ae.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Ae.createElement("circle",{cx:"2",cy:"2",r:"2"}),Ae.createElement("circle",{cx:"14",cy:"2",r:"2"}),Ae.createElement("circle",{cx:"26",cy:"2",r:"2"}),Ae.createElement("circle",{cx:"2",cy:"12",r:"2"}),Ae.createElement("circle",{cx:"14",cy:"12",r:"2"}),Ae.createElement("circle",{cx:"26",cy:"12",r:"2"})):s),l&&Ae.createElement(nA,{active:d,onClick:()=>p(x=>!x)},Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Ae.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Ae.createElement(Yne,{toggled:d},Ae.createElement(Jne,{ref:v,setFilter:r,toggle:i})))}const $ne=["store","hidden","theme","collapsed"];function Qne(r){let{store:e,hidden:t=!1,theme:n,collapsed:i=!1}=r,a=Si(r,$ne);const s=K5(()=>U$(n),[n]),[o,l]=P.useState(!i),u=typeof i=="object"?!i.collapsed:o,d=P.useMemo(()=>typeof i=="object"?p=>{typeof p=="function"?i.onChange(!p(!i.collapsed)):i.onChange(!p)}:l,[i]);return!e||t?null:Ae.createElement(Cw.Provider,{value:s},Ae.createElement(eie,Sr({store:e},a,{toggled:u,setToggle:d,rootClass:s.className})))}const eie=Ae.memo(({store:r,rootClass:e,fill:t=!1,flat:n=!1,neverHide:i=!1,oneLineLabels:a=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:o=!1,toggled:l,setToggle:u})=>{var d,p;const v=Dte(r),[y,x]=P.useState(""),A=P.useMemo(()=>Mne(v,y),[v,y]),[S,E]=A5(),M=i||v.length>0,R=typeof s=="object"&&s.title||void 0,w=typeof s=="object"&&(d=s.drag)!==null&&d!==void 0?d:!0,I=typeof s=="object"&&(p=s.filter)!==null&&p!==void 0?p:!0,U=typeof s=="object"&&s.position||void 0,H=typeof s=="object"&&s.onDrag||void 0,F=typeof s=="object"&&s.onDragStart||void 0,N=typeof s=="object"&&s.onDragEnd||void 0;return Ae.useEffect(()=>{E({x:U==null?void 0:U.x,y:U==null?void 0:U.y})},[U,E]),N$(),Ae.createElement(h5.Provider,{value:{hideCopyButton:o}},Ae.createElement(Xne,{ref:S,className:e,fill:t,flat:n,oneLineLabels:a,hideTitleBar:!s,style:{display:M?"block":"none"}},s&&Ae.createElement(Zne,{onDrag:L=>{E(L),H==null||H(L)},onDragStart:L=>F==null?void 0:F(L),onDragEnd:L=>N==null?void 0:N(L),setFilter:x,toggle:L=>u(G=>L??!G),toggled:l,title:R,drag:w,filterEnabled:I,from:U}),M&&Ae.createElement(d5.Provider,{value:r},Ae.createElement(iP,{isRoot:!0,fill:t,flat:n,tree:A,toggled:l}))))}),tie=["isRoot"];let iA=!1,Zh=null;function b2(r){let{isRoot:e=!1}=r,t=Si(r,tie);return P.useEffect(()=>(iA=!0,!e&&Zh&&(Zh.remove(),Zh=null),()=>{e||(iA=!1)}),[e]),Ae.createElement(Qne,Sr({store:tP},t))}function nie(r){P.useEffect(()=>{iA||(Zh||(Zh=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Zh),_U.createRoot(Zh).render(Ae.createElement(b2,{isRoot:!0})))),iA=!0)},[r])}function iie(r,e,t,n,i){let a,s,o,l,u;return s=r,a=e,Array.isArray(t)&&(u=t),{schema:a,folderName:s,folderSettings:o,hookSettings:l,deps:u||[]}}function rie(r,e,t,n,i){const{folderName:a,schema:s,folderSettings:o,deps:l}=iie(r,e,t),u=typeof s=="function",d=P.useRef(!1),p=P.useRef(!0),v=K5(()=>{d.current=!0;const L=typeof s=="function"?s():s;return a?{[a]:Tne(L,o)}:L},l);nie(!0);const[x]=P.useState(()=>tP),[A,S]=P.useMemo(()=>x.getDataFromSchema(v),[x,v]),[E,M,R,w,I]=P.useMemo(()=>{const L=[],G=[],X={},Y={},J={};return Object.values(S).forEach(({path:ae,onChange:$,onEditStart:he,onEditEnd:le,transient:de})=>{L.push(ae),$?(X[ae]=$,de||G.push(ae)):G.push(ae),he&&(Y[ae]=he),le&&(J[ae]=le)}),[L,G,X,Y,J]},[S]),U=P.useMemo(()=>x.orderPaths(E),[E,x]),H=Bte(x,M,A),F=P.useCallback(L=>{const G=Object.entries(L).reduce((X,[Y,J])=>Object.assign(X,{[S[Y].path]:J}),{});x.set(G,!1)},[x,S]),N=P.useCallback(L=>x.get(S[L].path),[x,S]);return P.useEffect(()=>{const L=!p.current&&d.current;return x.addData(A,L),p.current=!1,d.current=!1,()=>x.disposePaths(U)},[x,U,A]),P.useEffect(()=>{const L=[];return Object.entries(R).forEach(([G,X])=>{X(x.get(G),G,fn({initial:!0,get:x.get},x.getInput(G)));const Y=x.useStore.subscribe(J=>{const ae=J.data[G];return[ae.disabled?void 0:ae.value,ae]},([J,ae])=>X(J,G,fn({initial:!1,get:x.get},ae)),{equalityFn:p2});L.push(Y)}),()=>L.forEach(G=>G())},[x,R]),P.useEffect(()=>{const L=[];return Object.entries(w).forEach(([G,X])=>L.push(x.subscribeToEditStart(G,X))),Object.entries(I).forEach(([G,X])=>L.push(x.subscribeToEditEnd(G,X))),()=>L.forEach(G=>G())},[w,I,x]),u?[H,F,N]:H}hf(jl.SELECT,vQ);hf(jl.IMAGE,une);hf(jl.NUMBER,oQ);hf(jl.COLOR,kte);hf(jl.STRING,MQ);hf(jl.BOOLEAN,NQ);hf(jl.INTERVAL,_ne);hf(jl.VECTOR3D,jte);hf(jl.VECTOR2D,$te);function aie(){const r=eu(),{budget:e}=r,t=[...r.EthicallyStrongOptions,...r.CapitalisticChoices,...r.NeutralChoices],n=yo(l2,t.map(d=>d.model),d=>{const p=new c2;p.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),d.setDRACOLoader(p)}),[i,a]=P.useState(t[0]||null),[s,o]=P.useState([]),l=d=>{s.length<3&&!s.find(p=>p.id===d.id)&&o([...s,d])},u=d=>{o(s.filter(p=>p.id!==d))};return P.useEffect(()=>{!i&&t.length>0&&a(t[0])},[i,t]),P.useEffect(()=>(document.body.style.margin="20px",document.body.style.padding="0px",document.body.style.backgroundColor="#515151",()=>{document.body.style="",document.documentElement.style=""}),[]),B.jsx("div",{className:"app",children:B.jsxs(P.Suspense,{fallback:B.jsx(d2,{}),children:[B.jsxs("div",{className:"logo-container",children:[B.jsx(u2,{}),B.jsx(fs,{label:"Budget",value:e!==null?`$ ${e.toLocaleString()}`:"$ 45,123",percentChange:"-XX%",indicatorColor:"#ffffff",percentChangeStyles:{backgroundColor:"none",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"}}),B.jsx(fs,{label:"Sustainability",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"5px",borderRadius:"7px",color:"#ffffff",fontSize:"13px"},icon:B.jsx("img",{src:Ap,alt:"Sustainability Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Ethics",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"},icon:B.jsx("img",{src:mw,alt:"Ethics Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Popularity",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"},icon:B.jsx("img",{src:gw,alt:"Popularity Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Projected Revenue",value:"$ 45,123",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"}})]}),B.jsxs("div",{className:"canvas-container",children:[B.jsx(r2,{gl:{antialias:!0,toneMapping:Bg},camera:{fov:65,near:.1,far:200,position:[3.8,2,7.2],rotation:[-.19,-.1,.11]},children:B.jsx(b4,{selectedModel:i,preloadedModels:n})}),B.jsxs("div",{className:"details-container",children:[B.jsx("div",{className:"outfit-details",children:B.jsx(PK,{selectedModel:i,onAddToCollection:l,collection:s})}),B.jsx("div",{className:"outfit-details-rs",children:B.jsx(f2,{collection:s,onRemoveFromCollection:u,currentStep:2,selectedModel:i})})]})]}),B.jsx("div",{className:"model-list-container",children:B.jsx(M4,{models:t,selectedModel:i,onModelChange:a})}),B.jsx(b2,{collapsed:!1})]})})}function sie(r){switch(r){case"Future":return"'Orbitron', sans-serif";case"Minimalist":return"'DM Sans', sans-serif";case"Retro":return"'Kode Mono', monospace";case"Elegant":return"'Instrument Serif', serif";case"Bohemian":return"'MuseoModerno', cursive";case"Playful":return"'DynaPuff', cursive";default:return"inherit"}}function oie(){const{LogoChoices:r,budget:e,setBudget:t}=eu();yo(l2,r.map(A=>A.model),A=>{const S=new c2;S.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),A.setDRACOLoader(S)});const[n,i]=P.useState(r[0]||null),[a,s]=P.useState([]),[o,l]=P.useState(1),[u,d]=P.useState(""),[p,v]=P.useState("Future"),y=A=>{s(a.filter(S=>S.id!==A))};P.useEffect(()=>{!n&&r.length>0&&i(r[0])},[n,r]);const x=sie(p);return B.jsx(P.Suspense,{fallback:B.jsx(d2,{}),children:B.jsx("div",{className:"app build",children:B.jsxs("div",{children:[B.jsx("h4",{style:{position:"absolute",zIndex:0,fontSize:"8rem",top:"50px",left:"39%",transform:"translateX(-50%)",margin:0,padding:0,opacity:.8,textTransform:"uppercase",fontFamily:x},children:u||"brand name"}),B.jsx("h4",{style:{position:"absolute",zIndex:0,fontSize:"8rem",top:"250px",left:"39%",transform:"translateX(-50%)",margin:0,padding:0,opacity:.8,textTransform:"uppercase",fontFamily:x},children:u||"brand name"}),B.jsx("h4",{style:{position:"absolute",zIndex:3,fontSize:"8rem",top:"450px",left:"38%",transform:"translateX(-48%)",margin:0,padding:0,textTransform:"uppercase",opacity:1,marginBottom:"-100px",fontFamily:x},children:u||"brand name"}),B.jsx("h4",{style:{zIndex:0,position:"absolute",fontSize:"8rem",top:"650px",left:"38%",transform:"translateX(-48%)",margin:0,padding:0,textTransform:"uppercase",opacity:.3,marginBottom:"-100px",fontFamily:x},children:u||"brand name"}),B.jsx("div",{className:"details-container",children:B.jsx("div",{className:"outfit-details-rs",style:{zIndex:10},children:B.jsx(f2,{collection:a,onRemoveFromCollection:y,currentStep:o,brandName:u,setBrandName:d,fontStyle:p,setFontStyle:v})})})]})})})}const lie=({selectedModel:r})=>{if(!r)return B.jsx("div",{className:"design-card",children:"Select a model to see details"});const e=n=>{switch(n){case"positive":return vw;case"negative":return yw;case"neutral":return Ap;default:return Ap}},t=[{key:"cost",title:"Cost",icon:r.model.cost_icon,description:r.model.cost_description},{key:"env",title:"Environment",icon:r.model.env_icon,description:r.model.env_description},{key:"ethics",title:"Ethics",icon:r.model.ethics_icon,description:r.model.ethics_description},{key:"sus",title:"Sustainability",icon:r.model.sus_icon,description:r.model.sus_description},{key:"mat",title:"Material",icon:r.model.mat_icon,description:r.model.mat_description},{key:"water",title:"Water Use",icon:r.model.water_icon,description:r.model.water_description},{key:"additional_cons",title:"Additional Cons",icon:r.model.additional_cons_icon,description:r.model.additional_cons}];return B.jsxs("div",{className:"design-card",children:[B.jsx("h1",{className:"title accent-2",children:r.fabricName}),r.model.cert_title1&&B.jsxs("div",{children:[B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon",children:B.jsx("img",{src:r.model.cert_icon1,alt:"Certification Icon",style:{width:"36px",height:"36px"}})}),B.jsx("span",{className:"feature-text body-text-medium",children:r.model.cert_title1})]}),B.jsx("div",{className:"p_bar-description",children:B.jsx("p",{className:"description body-text-small",children:r.model.cert_description1})})]},"cert_title1"),r.model.cert_title2&&B.jsxs("div",{children:[B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon",children:B.jsx("img",{src:r.model.cert_icon2,alt:"Certification Icon",style:{width:"36px",height:"36px"}})}),B.jsx("span",{className:"feature-text body-text-medium",children:r.model.cert_title2})]}),B.jsx("div",{className:"p_bar-description",children:B.jsx("p",{className:"description body-text-small",children:r.model.cert_description2})})]},"cert_title2"),t.map(n=>n.description&&B.jsxs("div",{children:[B.jsxs("div",{className:"feature",children:[B.jsx("span",{className:"icon",children:n.icon&&B.jsx("img",{src:e(n.icon),alt:`${n.title} Icon`,style:{width:"24px",height:"24px"}})}),B.jsx("span",{className:"feature-text body-text-medium",children:r.model[`${n.key}_title`]})]}),B.jsx("div",{className:"p_bar-description",children:B.jsx("p",{className:"description body-text-small",children:n.description})})]},n.key)),B.jsx("div",{className:"cost-row",children:B.jsxs("div",{className:"cost",children:[B.jsxs("h2",{className:"accent-3",children:["$",r.cost]}),B.jsx("span",{className:"label-large",children:"COST OF DESIGN"})]})})]})};function cie(){const{CottonChoices:r,HeavyChoices:e,SyntheticChoices:t,budget:n}=eu(),[i,a]=P.useState(null),[s,o]=P.useState(0),[l,u]=P.useState(null),[d,p]=P.useState(0);if(!r||r.length<4)return B.jsx("div",{children:"Not enough fabric choices available."});const v=[[{image:r[0].img_path,fabricName:r[0].name,cost:r[0].cost,model:r[0]},{image:r[1].img_path,fabricName:r[1].name,cost:r[1].cost,model:r[1]},{image:r[2].img_path,fabricName:r[2].name,cost:r[2].cost,model:r[2]},{image:r[3].img_path,fabricName:r[3].name,cost:r[3].cost,model:r[3]}],[{image:e[0].img_path,fabricName:e[0].name,cost:e[0].cost,model:e[0]},{image:e[1].img_path,fabricName:e[1].name,cost:e[1].cost,model:e[1]},{image:e[2].img_path,fabricName:e[2].name,cost:e[2].cost,model:e[2]},{image:e[3].img_path,fabricName:e[3].name,cost:e[3].cost,model:e[3]}],[{image:t[0].img_path,fabricName:t[0].name,cost:t[0].cost,model:t[0]},{image:t[1].img_path,fabricName:t[1].name,cost:t[1].cost,model:t[1]},{image:t[2].img_path,fabricName:t[2].name,cost:t[2].cost,model:t[2]},{image:t[3].img_path,fabricName:t[3].name,cost:t[3].cost,model:t[3]}]],y=yo(l2,r.map(E=>E.model),E=>{const M=new c2;M.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),E.setDRACOLoader(M)}),x=(E,M)=>{a(E),u(v[M][E])},[A,S]=P.useState([]);return P.useEffect(()=>(document.body.style.margin="20px",document.body.style.padding="0px",document.body.style.backgroundColor="#515151",()=>{document.body.style="",document.documentElement.style=""}),[]),B.jsx("div",{className:"app",children:B.jsxs(P.Suspense,{fallback:B.jsx(d2,{}),children:[B.jsxs("div",{className:"logo-container",children:[B.jsx(u2,{}),B.jsx(fs,{label:"Budget",value:n!==null?`$ ${n.toLocaleString()}`:"$ 45,123",percentChange:"-XX%",indicatorColor:"#ffffff",percentChangeStyles:{backgroundColor:"none",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"}}),B.jsx(fs,{label:"Sustainability",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"5px",borderRadius:"7px",color:"#ffffff",fontSize:"13px"},icon:B.jsx("img",{src:Ap,alt:"Sustainability Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Ethics",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"},icon:B.jsx("img",{src:mw,alt:"Ethics Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Popularity",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"},icon:B.jsx("img",{src:gw,alt:"Popularity Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Projected Revenue",value:"$ 45,123",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"}})]}),B.jsxs("div",{className:"canvas-container",children:[B.jsx(r2,{gl:{antialias:!0,toneMapping:Bg},camera:{fov:65,near:.1,far:200,position:[3.8,2,7.2],rotation:[-.19,-.1,.11]},children:i!==null&&y[i]&&B.jsx("primitive",{object:y[i].scene})}),B.jsx(T4,{numSteps:3,currentStep:s,setCurrentStep:o}),B.jsxs("div",{className:"details-container",children:[B.jsx("div",{className:"outfit-details",children:B.jsx(lie,{selectedModel:l})}),B.jsx("div",{className:"outfit-details-rs",children:B.jsx(f2,{currentStep:3,selectedModel:l,setSelectedModel:u,cards:v,selectedCardIndex:i,setSelectedCardIndex:a,onCardSelect:x,currentFabricStep:d,setCurrentFabricStep:p})})]})]}),B.jsx(b2,{collapsed:!1})]})})}function uie(){const{Manufacturers:r,budget:e}=eu(),t=yo(l2,r.map(a=>a.model),a=>{const s=new c2;s.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),a.setDRACOLoader(s)}),[n,i]=P.useState(r[0]||null);return P.useEffect(()=>(document.body.style.margin="20px",document.body.style.padding="0px",document.body.style.backgroundColor="#515151",()=>{document.body.style="",document.documentElement.style=""}),[]),B.jsx("div",{className:"app",children:B.jsxs(P.Suspense,{fallback:B.jsx(d2,{}),children:[B.jsxs("div",{className:"logo-container",children:[B.jsx(u2,{}),B.jsx(fs,{label:"Budget",value:e!==null?`$ ${e.toLocaleString()}`:"$ 45,123",percentChange:"-XX%",indicatorColor:"#ffffff",percentChangeStyles:{backgroundColor:"none",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"}}),B.jsx(fs,{label:"Sustainability",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"5px",borderRadius:"7px",color:"#ffffff",fontSize:"13px"},icon:B.jsx("img",{src:Ap,alt:"Sustainability Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Ethics",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#1d7b18",percentChangeStyles:{backgroundColor:"#1d7b18",padding:"3px 6px",borderRadius:"5px",color:"#ffffff",fontWeight:"bold"},icon:B.jsx("img",{src:mw,alt:"Ethics Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Popularity",value:"4.7 / 5",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"},icon:B.jsx("img",{src:gw,alt:"Popularity Icon",style:{width:"20px",height:"20px"}})}),B.jsx(fs,{label:"Projected Revenue",value:"$ 45,123",percentChange:"-XX%",indicatorColor:"#C83C00",percentChangeStyles:{backgroundColor:"#C83C00",padding:"5px",borderRadius:"7px",color:"#fffefd",fontSize:"13px"}})]}),B.jsxs("div",{className:"canvas-container",children:[B.jsx(r2,{gl:{antialias:!0,toneMapping:Bg},camera:{fov:65,near:.1,far:200,position:[3.8,2,7.2],rotation:[-.19,-.1,.11]},children:B.jsx(b4,{selectedModel:n,preloadedModels:t})}),B.jsx("div",{className:"details-container",children:B.jsx("div",{className:"outfit-details-rs",children:B.jsx(f2,{currentStep:4,selectedModel:n,setSelectedModel:i})})})]}),B.jsx("div",{className:"model-list-container",children:B.jsx(M4,{selectedModel:n,onModelChange:i,models:r})}),B.jsx(b2,{collapsed:!1})]})})}function ku(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aP(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var go={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Sg={duration:.5,overwrite:!1,delay:0},Hw,Ea,Vi,Xc=1e8,ja=1/Xc,TM=Math.PI*2,fie=TM/4,die=0,sP=Math.sqrt,hie=Math.cos,pie=Math.sin,ha=function(e){return typeof e=="string"},br=function(e){return typeof e=="function"},of=function(e){return typeof e=="number"},zw=function(e){return typeof e>"u"},$c=function(e){return typeof e=="object"},zs=function(e){return e!==!1},Gw=function(){return typeof window<"u"},Bx=function(e){return br(e)||ha(e)},oP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xa=Array.isArray,MM=/(?:-?\.?\d|\.)+/gi,lP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ig=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,aT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,cP=/[+-]=-?[.\d]+/,uP=/[^,'"\[\]\s]+/gi,mie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,rr,Lc,CM,kw,_o={},rA={},fP,dP=function(e){return(rA=Eg(e,_o))&&Ws},Vw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},yy=function(e,t){return!t&&console.warn(e)},hP=function(e,t){return e&&(_o[e]=t)&&rA&&(rA[e]=t)||_o},_y=function(){return 0},gie={suppressEvents:!0,isStart:!0,kill:!1},jx={suppressEvents:!0,kill:!1},vie={suppressEvents:!0},jw={},yd=[],wM={},pP,uo={},sT={},yN=30,Xx=[],Xw="",Ww=function(e){var t=e[0],n,i;if($c(t)||br(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=Xx.length;i--&&!Xx[i].targetTest(t););n=Xx[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new FP(e[i],n)))||e.splice(i,1);return e},cp=function(e){return e._gsap||Ww(Yo(e))[0]._gsap},mP=function(e,t,n){return(n=e[t])&&br(n)?e[t]():zw(n)&&e.getAttribute&&e.getAttribute(t)||n},Gs=function(e,t){return(e=e.split(",")).forEach(t)||e},Rr=function(e){return Math.round(e*1e5)/1e5||0},Fr=function(e){return Math.round(e*1e7)/1e7||0},dg=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},yie=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},aA=function(){var e=yd.length,t=yd.slice(0),n,i;for(wM={},yd.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},gP=function(e,t,n,i){yd.length&&!Ea&&aA(),e.render(t,n,Ea&&t<0&&(e._initted||e._startAt)),yd.length&&!Ea&&aA()},vP=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(uP).length<2?t:ha(e)?e.trim():e},yP=function(e){return e},xo=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_ie=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Eg=function(e,t){for(var n in t)e[n]=t[n];return e},_N=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=$c(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},sA=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Kv=function(e){var t=e.parent||rr,n=e.keyframes?_ie(Xa(e.keyframes)):xo;if(zs(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},xie=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},_P=function(e,t,n,i,a){var s=e[i],o;if(a)for(o=t[a];s&&s[a]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=s,t.parent=t._dp=e,t},A2=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var a=t._prev,s=t._next;a?a._next=s:e[n]===t&&(e[n]=s),s?s._prev=a:e[i]===t&&(e[i]=a),t._next=t._prev=t.parent=null},Md=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},up=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},bie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},RM=function(e,t,n,i){return e._startAt&&(Ea?e._startAt.revert(jx):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Aie=function r(e){return!e||e._ts&&r(e.parent)},xN=function(e){return e._repeat?Tg(e._tTime,e=e.duration()+e._rDelay)*e:0},Tg=function(e,t){var n=Math.floor(e=Fr(e/t));return e&&n===e?n-1:n},oA=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},S2=function(e){return e._end=Fr(e._start+(e._tDur/Math.abs(e._ts||e._rts||ja)||0))},E2=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Fr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),S2(e),n._dirty||up(n,e)),e},xP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=oA(e.rawTime(),t),(!t._dur||t1(0,t.totalDuration(),n)-t._tTime>ja)&&t.render(n,!0)),up(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Fc=function(e,t,n,i){return t.parent&&Md(t),t._start=Fr((of(n)?n:n||e!==rr?zo(e,n,t):e._time)+t._delay),t._end=Fr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_P(e,t,"_first","_last",e._sort?"_start":0),DM(t)||(e._recent=t),i||xP(e,t),e._ts<0&&E2(e,e._tTime),e},bP=function(e,t){return(_o.ScrollTrigger||Vw("scrollTrigger",t))&&_o.ScrollTrigger.create(t,e)},AP=function(e,t,n,i,a){if(qw(e,t,a),!e._initted)return 1;if(!n&&e._pt&&!Ea&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&pP!==fo.frame)return yd.push(e),e._lazy=[a,i],1},Sie=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},DM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Eie=function(e,t,n,i){var a=e.ratio,s=t<0||!t&&(!e._start&&Sie(e)&&!(!e._initted&&DM(e))||(e._ts<0||e._dp._ts<0)&&!DM(e))?0:1,o=e._rDelay,l=0,u,d,p;if(o&&e._repeat&&(l=t1(0,e._tDur,t),d=Tg(l,o),e._yoyo&&d&1&&(s=1-s),d!==Tg(e._tTime,o)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||Ea||i||e._zTime===ja||!t&&e._zTime){if(!e._initted&&AP(e,t,i,n,l))return;for(p=e._zTime,e._zTime=t||(n?ja:0),n||(n=t&&!p),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,u=e._pt;u;)u.r(s,u.d),u=u._next;t<0&&RM(e,t,n,!0),e._onUpdate&&!n&&ho(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&ho(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&Md(e,1),!n&&!Ea&&(ho(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Tie=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Mg=function(e,t,n,i){var a=e._repeat,s=Fr(t)||0,o=e._tTime/e._tDur;return o&&!i&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:Fr(s*(a+1)+e._rDelay*a):s,o>0&&!i&&E2(e,e._tTime=e._tDur*o),e.parent&&S2(e),n||up(e.parent,e),e},bN=function(e){return e instanceof ds?up(e):Mg(e,e._dur)},Mie={_start:0,endTime:_y,totalDuration:_y},zo=function r(e,t,n){var i=e.labels,a=e._recent||Mie,s=e.duration()>=Xc?a.endTime(!1):e._dur,o,l,u;return ha(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?a:n).totalDuration()/100:1)):o<0?(t in i||(i[t]=s),i[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&n&&(l=l/100*(Xa(n)?n[0]:n).totalDuration()),o>1?r(e,t.substr(0,o-1),n)+l:s+l)):t==null?s:+t},Jv=function(e,t,n){var i=of(t[1]),a=(i?2:1)+(e<2?0:1),s=t[a],o,l;if(i&&(s.duration=t[1]),s.parent=n,e){for(o=s,l=n;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=zs(l.vars.inherit)&&l.parent;s.immediateRender=zs(o.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new Pr(t[0],s,t[a+1])},Id=function(e,t){return e||e===0?t(e):t},t1=function(e,t,n){return n<e?e:n>t?t:n},ka=function(e,t){return!ha(e)||!(t=mie.exec(e))?"":t[1]},Cie=function(e,t,n){return Id(n,function(i){return t1(e,t,i)})},BM=[].slice,SP=function(e,t){return e&&$c(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&$c(e[0]))&&!e.nodeType&&e!==Lc},wie=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var a;return ha(i)&&!t||SP(i,1)?(a=n).push.apply(a,Yo(i)):n.push(i)})||n},Yo=function(e,t,n){return Vi&&!t&&Vi.selector?Vi.selector(e):ha(e)&&!n&&(CM||!Cg())?BM.call((t||kw).querySelectorAll(e),0):Xa(e)?wie(e,n):SP(e)?BM.call(e,0):e?[e]:[]},OM=function(e){return e=Yo(e)[0]||yy("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Yo(t,n.querySelectorAll?n:n===e?yy("Invalid scope")||kw.createElement("div"):e)}},EP=function(e){return e.sort(function(){return .5-Math.random()})},TP=function(e){if(br(e))return e;var t=$c(e)?e:{each:e},n=fp(t.ease),i=t.from||0,a=parseFloat(t.base)||0,s={},o=i>0&&i<1,l=isNaN(i)||o,u=t.axis,d=i,p=i;return ha(i)?d=p={center:.5,edges:.5,end:1}[i]||0:!o&&l&&(d=i[0],p=i[1]),function(v,y,x){var A=(x||t).length,S=s[A],E,M,R,w,I,U,H,F,N;if(!S){if(N=t.grid==="auto"?0:(t.grid||[1,Xc])[1],!N){for(H=-1e8;H<(H=x[N++].getBoundingClientRect().left)&&N<A;);N<A&&N--}for(S=s[A]=[],E=l?Math.min(N,A)*d-.5:i%N,M=N===Xc?0:l?A*p/N-.5:i/N|0,H=0,F=Xc,U=0;U<A;U++)R=U%N-E,w=M-(U/N|0),S[U]=I=u?Math.abs(u==="y"?w:R):sP(R*R+w*w),I>H&&(H=I),I<F&&(F=I);i==="random"&&EP(S),S.max=H-F,S.min=F,S.v=A=(parseFloat(t.amount)||parseFloat(t.each)*(N>A?A-1:u?u==="y"?A/N:N:Math.max(N,A/N))||0)*(i==="edges"?-1:1),S.b=A<0?a-A:a,S.u=ka(t.amount||t.each)||0,n=n&&A<0?LP(n):n}return A=(S[v]-S.min)/S.max||0,Fr(S.b+(n?n(A):A)*S.v)+S.u}},NM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Fr(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(of(n)?0:ka(n))}},MP=function(e,t){var n=Xa(e),i,a;return!n&&$c(e)&&(i=n=e.radius||Xc,e.values?(e=Yo(e.values),(a=!of(e[0]))&&(i*=i)):e=NM(e.increment)),Id(t,n?br(e)?function(s){return a=e(s),Math.abs(a-s)<=i?a:s}:function(s){for(var o=parseFloat(a?s.x:s),l=parseFloat(a?s.y:0),u=Xc,d=0,p=e.length,v,y;p--;)a?(v=e[p].x-o,y=e[p].y-l,v=v*v+y*y):v=Math.abs(e[p]-o),v<u&&(u=v,d=p);return d=!i||u<=i?e[d]:s,a||d===s||of(s)?d:d+ka(s)}:NM(e))},CP=function(e,t,n,i){return Id(Xa(e)?!t:n===!0?!!(n=0):!i,function(){return Xa(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},Rie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(a,s){return s(a)},i)}},Die=function(e,t){return function(n){return e(parseFloat(n))+(t||ka(n))}},Bie=function(e,t,n){return RP(e,t,0,1,n)},wP=function(e,t,n){return Id(n,function(i){return e[~~t(i)]})},Oie=function r(e,t,n){var i=t-e;return Xa(e)?wP(e,r(0,e.length),t):Id(n,function(a){return(i+(a-e)%i)%i+e})},Nie=function r(e,t,n){var i=t-e,a=i*2;return Xa(e)?wP(e,r(0,e.length-1),t):Id(n,function(s){return s=(a+(s-e)%a)%a||0,e+(s>i?a-s:s)})},xy=function(e){for(var t=0,n="",i,a,s,o;~(i=e.indexOf("random(",t));)s=e.indexOf(")",i),o=e.charAt(i+7)==="[",a=e.substr(i+7,s-i-7).match(o?uP:MM),n+=e.substr(t,i-t)+CP(o?a:+a[0],o?0:+a[1],+a[2]||1e-5),t=s+1;return n+e.substr(t,e.length-t)},RP=function(e,t,n,i,a){var s=t-e,o=i-n;return Id(a,function(l){return n+((l-e)/s*o||0)})},Uie=function r(e,t,n,i){var a=isNaN(e+t)?0:function(y){return(1-y)*e+y*t};if(!a){var s=ha(e),o={},l,u,d,p,v;if(n===!0&&(i=1)&&(n=null),s)e={p:e},t={p:t};else if(Xa(e)&&!Xa(t)){for(d=[],p=e.length,v=p-2,u=1;u<p;u++)d.push(r(e[u-1],e[u]));p--,a=function(x){x*=p;var A=Math.min(v,~~x);return d[A](x-A)},n=t}else i||(e=Eg(Xa(e)?[]:{},e));if(!d){for(l in t)Yw.call(o,e,l,"get",t[l]);a=function(x){return Zw(x,o)||(s?e.p:e)}}}return Id(n,a)},AN=function(e,t,n){var i=e.labels,a=Xc,s,o,l;for(s in i)o=i[s]-t,o<0==!!n&&o&&a>(o=Math.abs(o))&&(l=s,a=o);return l},ho=function(e,t,n){var i=e.vars,a=i[t],s=Vi,o=e._ctx,l,u,d;if(a)return l=i[t+"Params"],u=i.callbackScope||e,n&&yd.length&&aA(),o&&(Vi=o),d=l?a.apply(u,l):a.call(u),Vi=s,d},Rv=function(e){return Md(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ea),e.progress()<1&&ho(e,"onInterrupt"),e},rg,DP=[],BP=function(e){if(e)if(e=!e.name&&e.default||e,Gw()||e.headless){var t=e.name,n=br(e),i=t&&!n&&e.init?function(){this._props=[]}:e,a={init:_y,render:Zw,add:Yw,kill:Jie,modifier:Kie,rawVars:0},s={targetTest:0,get:0,getSetter:Jw,aliases:{},register:0};if(Cg(),e!==i){if(uo[t])return;xo(i,xo(sA(e,a),s)),Eg(i.prototype,Eg(a,sA(e,s))),uo[i.prop=t]=i,e.targetTest&&(Xx.push(i),jw[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}hP(t,i),e.register&&e.register(Ws,i,ks)}else DP.push(e)},Ri=255,Dv={aqua:[0,Ri,Ri],lime:[0,Ri,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ri],navy:[0,0,128],white:[Ri,Ri,Ri],olive:[128,128,0],yellow:[Ri,Ri,0],orange:[Ri,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ri,0,0],pink:[Ri,192,203],cyan:[0,Ri,Ri],transparent:[Ri,Ri,Ri,0]},oT=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Ri+.5|0},OP=function(e,t,n){var i=e?of(e)?[e>>16,e>>8&Ri,e&Ri]:0:Dv.black,a,s,o,l,u,d,p,v,y,x;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Dv[e])i=Dv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+a+a+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Ri,i&Ri,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Ri,e&Ri]}else if(e.substr(0,3)==="hsl"){if(i=x=e.match(MM),!t)l=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,s=d<=.5?d*(u+1):d+u-d*u,a=d*2-s,i.length>3&&(i[3]*=1),i[0]=oT(l+1/3,a,s),i[1]=oT(l,a,s),i[2]=oT(l-1/3,a,s);else if(~e.indexOf("="))return i=e.match(lP),n&&i.length<4&&(i[3]=1),i}else i=e.match(MM)||Dv.transparent;i=i.map(Number)}return t&&!x&&(a=i[0]/Ri,s=i[1]/Ri,o=i[2]/Ri,p=Math.max(a,s,o),v=Math.min(a,s,o),d=(p+v)/2,p===v?l=u=0:(y=p-v,u=d>.5?y/(2-p-v):y/(p+v),l=p===a?(s-o)/y+(s<o?6:0):p===s?(o-a)/y+2:(a-s)/y+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),n&&i.length<4&&(i[3]=1),i},NP=function(e){var t=[],n=[],i=-1;return e.split(_d).forEach(function(a){var s=a.match(ig)||[];t.push.apply(t,s),n.push(i+=s.length+1)}),t.c=n,t},SN=function(e,t,n){var i="",a=(e+i).match(_d),s=t?"hsla(":"rgba(",o=0,l,u,d,p;if(!a)return e;if(a=a.map(function(v){return(v=OP(v,t,1))&&s+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(d=NP(e),l=n.c,l.join(i)!==d.c.join(i)))for(u=e.replace(_d,"1").split(ig),p=u.length-1;o<p;o++)i+=u[o]+(~l.indexOf(o)?a.shift()||s+"0,0,0,0)":(d.length?d:a.length?a:n).shift());if(!u)for(u=e.split(_d),p=u.length-1;o<p;o++)i+=u[o]+a[o];return i+u[p]},_d=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Dv)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),Lie=/hsl[a]?\(/,UP=function(e){var t=e.join(" "),n;if(_d.lastIndex=0,_d.test(t))return n=Lie.test(t),e[1]=SN(e[1],n),e[0]=SN(e[0],n,NP(e[1])),!0},by,fo=function(){var r=Date.now,e=500,t=33,n=r(),i=n,a=1e3/240,s=a,o=[],l,u,d,p,v,y,x=function A(S){var E=r()-i,M=S===!0,R,w,I,U;if((E>e||E<0)&&(n+=E-t),i+=E,I=i-n,R=I-s,(R>0||M)&&(U=++p.frame,v=I-p.time*1e3,p.time=I=I/1e3,s+=R+(R>=a?4:a-R),w=1),M||(l=u(A)),w)for(y=0;y<o.length;y++)o[y](I,v,U,S)};return p={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(S){return v/(1e3/(S||60))},wake:function(){fP&&(!CM&&Gw()&&(Lc=CM=window,kw=Lc.document||{},_o.gsap=Ws,(Lc.gsapVersions||(Lc.gsapVersions=[])).push(Ws.version),dP(rA||Lc.GreenSockGlobals||!Lc.gsap&&Lc||{}),DP.forEach(BP)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&p.sleep(),u=d||function(S){return setTimeout(S,s-p.time*1e3+1|0)},by=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),by=0,u=_y},lagSmoothing:function(S,E){e=S||1/0,t=Math.min(E||33,e)},fps:function(S){a=1e3/(S||240),s=p.time*1e3+a},add:function(S,E,M){var R=E?function(w,I,U,H){S(w,I,U,H),p.remove(R)}:S;return p.remove(S),o[M?"unshift":"push"](R),Cg(),R},remove:function(S,E){~(E=o.indexOf(S))&&o.splice(E,1)&&y>=E&&y--},_listeners:o},p}(),Cg=function(){return!by&&fo.wake()},Qn={},Iie=/^[\d.\-M][\d.\-,\s]/,Pie=/["']/g,Fie=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],a=1,s=n.length,o,l,u;a<s;a++)l=n[a],o=a!==s-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),t[i]=isNaN(u)?u.replace(Pie,"").trim():+u,i=l.substr(o+1).trim();return t},Hie=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},zie=function(e){var t=(e+"").split("("),n=Qn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Fie(t[1])]:Hie(e).split(",").map(vP)):Qn._CE&&Iie.test(e)?Qn._CE("",e):n},LP=function(e){return function(t){return 1-e(1-t)}},IP=function r(e,t){for(var n=e._first,i;n;)n instanceof ds?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},fp=function(e,t){return e&&(br(e)?e:Qn[e]||zie(e))||t},Lp=function(e,t,n,i){n===void 0&&(n=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var a={easeIn:t,easeOut:n,easeInOut:i},s;return Gs(e,function(o){Qn[o]=_o[o]=a,Qn[s=o.toLowerCase()]=n;for(var l in a)Qn[s+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Qn[o+"."+l]=a[l]}),a},PP=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},lT=function r(e,t,n){var i=t>=1?t:1,a=(n||(e?.3:.45))/(t<1?t:1),s=a/TM*(Math.asin(1/i)||0),o=function(d){return d===1?1:i*Math.pow(2,-10*d)*pie((d-s)*a)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:PP(o);return a=TM/a,l.config=function(u,d){return r(e,u,d)},l},cT=function r(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},i=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:PP(n);return i.config=function(a){return r(e,a)},i};Gs("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Lp(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Qn.Linear.easeNone=Qn.none=Qn.Linear.easeIn;Lp("Elastic",lT("in"),lT("out"),lT());(function(r,e){var t=1/e,n=2*t,i=2.5*t,a=function(o){return o<t?r*o*o:o<n?r*Math.pow(o-1.5/e,2)+.75:o<i?r*(o-=2.25/e)*o+.9375:r*Math.pow(o-2.625/e,2)+.984375};Lp("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Lp("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Lp("Circ",function(r){return-(sP(1-r*r)-1)});Lp("Sine",function(r){return r===1?1:-hie(r*fie)+1});Lp("Back",cT("in"),cT("out"),cT());Qn.SteppedEase=Qn.steps=_o.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),a=t?1:0,s=1-ja;return function(o){return((i*t1(0,s,o)|0)+a)*n}}};Sg.ease=Qn["quad.out"];Gs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Xw+=r+","+r+"Params,"});var FP=function(e,t){this.id=die++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:mP,this.set=t?t.getSetter:Jw},Ay=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Mg(this,+t.duration,1,1),this.data=t.data,Vi&&(this._ctx=Vi,Vi.data.push(this)),by||fo.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Mg(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(Cg(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(E2(this,n),!a._dp||a.parent||xP(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Fc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ja||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),gP(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+xN(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+xN(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,i):this._repeat?Tg(this._tTime,a)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?oA(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(t1(-Math.abs(this._delay),this._tDur,a),i!==!1),S2(this),bie(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Cg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ja&&(this._tTime-=ja)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Fc(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(zs(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?oA(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=vie);var i=Ea;return Ea=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ea=i,this},e.globalTime=function(n){for(var i=this,a=arguments.length?n:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,bN(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,bN(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(zo(this,n),zs(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,zs(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=i&&a<this.endTime(!0)-ja)},e.eventCallback=function(n,i,a){var s=this.vars;return arguments.length>1?(i?(s[n]=i,a&&(s[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=i)):delete s[n],this):s[n]},e.then=function(n){var i=this;return new Promise(function(a){var s=br(n)?n:yP,o=function(){var u=i.then;i.then=null,br(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),a(s),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?o():i._prom=o})},e.kill=function(){Rv(this)},r}();xo(Ay.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ds=function(r){aP(e,r);function e(n,i){var a;return n===void 0&&(n={}),a=r.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=zs(n.sortChildren),rr&&Fc(n.parent||rr,ku(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&bP(ku(a),n.scrollTrigger),a}var t=e.prototype;return t.to=function(i,a,s){return Jv(0,arguments,this),this},t.from=function(i,a,s){return Jv(1,arguments,this),this},t.fromTo=function(i,a,s,o){return Jv(2,arguments,this),this},t.set=function(i,a,s){return a.duration=0,a.parent=this,Kv(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Pr(i,a,zo(this,s),1),this},t.call=function(i,a,s){return Fc(this,Pr.delayedCall(0,i,a),s)},t.staggerTo=function(i,a,s,o,l,u,d){return s.duration=a,s.stagger=s.stagger||o,s.onComplete=u,s.onCompleteParams=d,s.parent=this,new Pr(i,s,zo(this,l)),this},t.staggerFrom=function(i,a,s,o,l,u,d){return s.runBackwards=1,Kv(s).immediateRender=zs(s.immediateRender),this.staggerTo(i,a,s,o,l,u,d)},t.staggerFromTo=function(i,a,s,o,l,u,d,p){return o.startAt=s,Kv(o).immediateRender=zs(o.immediateRender),this.staggerTo(i,a,o,l,u,d,p)},t.render=function(i,a,s){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:Fr(i),p=this._zTime<0!=i<0&&(this._initted||!u),v,y,x,A,S,E,M,R,w,I,U,H;if(this!==rr&&d>l&&i>=0&&(d=l),d!==this._tTime||s||p){if(o!==this._time&&u&&(d+=this._time-o,i+=this._time-o),v=d,w=this._start,R=this._ts,E=!R,p&&(u||(o=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(U=this._yoyo,S=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(S*100+i,a,s);if(v=Fr(d%S),d===l?(A=this._repeat,v=u):(I=Fr(d/S),A=~~I,A&&A===I&&(v=u,A--),v>u&&(v=u)),I=Tg(this._tTime,S),!o&&this._tTime&&I!==A&&this._tTime-I*S-this._dur<=0&&(I=A),U&&A&1&&(v=u-v,H=1),A!==I&&!this._lock){var F=U&&I&1,N=F===(U&&A&1);if(A<I&&(F=!F),o=F?0:d%u?u:d,this._lock=1,this.render(o||(H?0:Fr(A*S)),a,!u)._lock=0,this._tTime=d,!a&&this.parent&&ho(this,"onRepeat"),this.vars.repeatRefresh&&!H&&(this.invalidate()._lock=1),o&&o!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,N&&(this._lock=2,o=F?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!H&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;IP(this,H)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=Tie(this,Fr(o),Fr(v)),M&&(d-=v-(v=M._start))),this._tTime=d,this._time=v,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,o=0),!o&&v&&!a&&!A&&(ho(this,"onStart"),this._tTime!==d))return this;if(v>=o&&i>=0)for(y=this._first;y;){if(x=y._next,(y._act||v>=y._start)&&y._ts&&M!==y){if(y.parent!==this)return this.render(i,a,s);if(y.render(y._ts>0?(v-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(v-y._start)*y._ts,a,s),v!==this._time||!this._ts&&!E){M=0,x&&(d+=this._zTime=-1e-8);break}}y=x}else{y=this._last;for(var L=i<0?i:v;y;){if(x=y._prev,(y._act||L<=y._end)&&y._ts&&M!==y){if(y.parent!==this)return this.render(i,a,s);if(y.render(y._ts>0?(L-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(L-y._start)*y._ts,a,s||Ea&&(y._initted||y._startAt)),v!==this._time||!this._ts&&!E){M=0,x&&(d+=this._zTime=L?-1e-8:ja);break}}y=x}}if(M&&!a&&(this.pause(),M.render(v>=o?0:-1e-8)._zTime=v>=o?1:-1,this._ts))return this._start=w,S2(this),this.render(i,a,s);this._onUpdate&&!a&&ho(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&o)&&(w===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===l&&this._ts>0||!d&&this._ts<0)&&Md(this,1),!a&&!(i<0&&!o)&&(d||o||!l)&&(ho(this,d===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,a){var s=this;if(of(a)||(a=zo(this,a,i)),!(i instanceof Ay)){if(Xa(i))return i.forEach(function(o){return s.add(o,a)}),this;if(ha(i))return this.addLabel(i,a);if(br(i))i=Pr.delayedCall(0,i);else return this}return this!==i?Fc(this,i,a):this},t.getChildren=function(i,a,s,o){i===void 0&&(i=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=-1e8);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof Pr?a&&l.push(u):(s&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,a,s)))),u=u._next;return l},t.getById=function(i){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===i)return a[s]},t.remove=function(i){return ha(i)?this.removeLabel(i):br(i)?this.killTweensOf(i):(i.parent===this&&A2(this,i),i===this._recent&&(this._recent=this._last),up(this))},t.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Fr(fo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},t.addLabel=function(i,a){return this.labels[i]=zo(this,a),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,a,s){var o=Pr.delayedCall(0,a||_y,s);return o.data="isPause",this._hasPause=1,Fc(this,o,zo(this,i))},t.removePause=function(i){var a=this._first;for(i=zo(this,i);a;)a._start===i&&a.data==="isPause"&&Md(a),a=a._next},t.killTweensOf=function(i,a,s){for(var o=this.getTweensOf(i,s),l=o.length;l--;)pd!==o[l]&&o[l].kill(i,a);return this},t.getTweensOf=function(i,a){for(var s=[],o=Yo(i),l=this._first,u=of(a),d;l;)l instanceof Pr?yie(l._targets,o)&&(u?(!pd||l._initted&&l._ts)&&l.globalTime(0)<=a&&l.globalTime(l.totalDuration())>a:!a||l.isActive())&&s.push(l):(d=l.getTweensOf(o,a)).length&&s.push.apply(s,d),l=l._next;return s},t.tweenTo=function(i,a){a=a||{};var s=this,o=zo(s,i),l=a,u=l.startAt,d=l.onStart,p=l.onStartParams,v=l.immediateRender,y,x=Pr.to(s,xo({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale())||ja,onStart:function(){if(s.pause(),!y){var S=a.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale());x._dur!==S&&Mg(x,S,0,1).render(x._time,!0,!0),y=1}d&&d.apply(x,p||[])}},a));return v?x.render(0):x},t.tweenFromTo=function(i,a,s){return this.tweenTo(a,xo({startAt:{time:zo(this,i)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),AN(this,zo(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),AN(this,zo(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ja)},t.shiftChildren=function(i,a,s){s===void 0&&(s=0);for(var o=this._first,l=this.labels,u;o;)o._start>=s&&(o._start+=i,o._end+=i),o=o._next;if(a)for(u in l)l[u]>=s&&(l[u]+=i);return up(this)},t.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),up(this)},t.totalDuration=function(i){var a=0,s=this,o=s._last,l=Xc,u,d,p;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(p=s.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),d=o._start,d>l&&s._sort&&o._ts&&!s._lock?(s._lock=1,Fc(s,o,d-o._delay,1)._lock=0):l=d,d<0&&o._ts&&(a-=d,(!p&&!s._dp||p&&p.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),l=0),o._end>a&&o._ts&&(a=o._end),o=u;Mg(s,s===rr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(i){if(rr._ts&&(gP(rr,oA(i,rr)),pP=fo.frame),fo.frame>=yN){yN+=go.autoSleep||120;var a=rr._first;if((!a||!a._ts)&&go.autoSleep&&fo._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||fo.sleep()}}},e}(Ay);xo(ds.prototype,{_lock:0,_hasPause:0,_forcing:0});var Gie=function(e,t,n,i,a,s,o){var l=new ks(this._pt,e,t,0,1,jP,null,a),u=0,d=0,p,v,y,x,A,S,E,M;for(l.b=n,l.e=i,n+="",i+="",(E=~i.indexOf("random("))&&(i=xy(i)),s&&(M=[n,i],s(M,e,t),n=M[0],i=M[1]),v=n.match(aT)||[];p=aT.exec(i);)x=p[0],A=i.substring(u,p.index),y?y=(y+1)%5:A.substr(-5)==="rgba("&&(y=1),x!==v[d++]&&(S=parseFloat(v[d-1])||0,l._pt={_next:l._pt,p:A||d===1?A:",",s:S,c:x.charAt(1)==="="?dg(S,x)-S:parseFloat(x)-S,m:y&&y<4?Math.round:0},u=aT.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=o,(cP.test(i)||E)&&(l.e=0),this._pt=l,l},Yw=function(e,t,n,i,a,s,o,l,u,d){br(i)&&(i=i(a||0,e,s));var p=e[t],v=n!=="get"?n:br(p)?u?e[t.indexOf("set")||!br(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():p,y=br(p)?u?Wie:kP:Kw,x;if(ha(i)&&(~i.indexOf("random(")&&(i=xy(i)),i.charAt(1)==="="&&(x=dg(v,i)+(ka(v)||0),(x||x===0)&&(i=x))),!d||v!==i||UM)return!isNaN(v*i)&&i!==""?(x=new ks(this._pt,e,t,+v||0,i-(v||0),typeof p=="boolean"?qie:VP,0,y),u&&(x.fp=u),o&&x.modifier(o,this,e),this._pt=x):(!p&&!(t in e)&&Vw(t,i),Gie.call(this,e,t,v,i,y,l||go.stringFilter,u))},kie=function(e,t,n,i,a){if(br(e)&&(e=Zv(e,a,t,n,i)),!$c(e)||e.style&&e.nodeType||Xa(e)||oP(e))return ha(e)?Zv(e,a,t,n,i):e;var s={},o;for(o in e)s[o]=Zv(e[o],a,t,n,i);return s},HP=function(e,t,n,i,a,s){var o,l,u,d;if(uo[e]&&(o=new uo[e]).init(a,o.rawVars?t[e]:kie(t[e],i,a,s,n),n,i,s)!==!1&&(n._pt=l=new ks(n._pt,a,e,0,1,o.render,o,0,o.priority),n!==rg))for(u=n._ptLookup[n._targets.indexOf(a)],d=o._props.length;d--;)u[o._props[d]]=l;return o},pd,UM,qw=function r(e,t,n){var i=e.vars,a=i.ease,s=i.startAt,o=i.immediateRender,l=i.lazy,u=i.onUpdate,d=i.runBackwards,p=i.yoyoEase,v=i.keyframes,y=i.autoRevert,x=e._dur,A=e._startAt,S=e._targets,E=e.parent,M=E&&E.data==="nested"?E.vars.targets:S,R=e._overwrite==="auto"&&!Hw,w=e.timeline,I,U,H,F,N,L,G,X,Y,J,ae,$,he;if(w&&(!v||!a)&&(a="none"),e._ease=fp(a,Sg.ease),e._yEase=p?LP(fp(p===!0?a:p,Sg.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!w&&!!i.runBackwards,!w||v&&!i.stagger){if(X=S[0]?cp(S[0]).harness:0,$=X&&i[X.prop],I=sA(i,jw),A&&(A._zTime<0&&A.progress(1),t<0&&d&&o&&!y?A.render(-1,!0):A.revert(d&&x?jx:gie),A._lazy=0),s){if(Md(e._startAt=Pr.set(S,xo({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!A&&zs(l),startAt:null,delay:0,onUpdate:u&&function(){return ho(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ea||!o&&!y)&&e._startAt.revert(jx),o&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(d&&x&&!A){if(t&&(o=!1),H=xo({overwrite:!1,data:"isFromStart",lazy:o&&!A&&zs(l),immediateRender:o,stagger:0,parent:E},I),$&&(H[X.prop]=$),Md(e._startAt=Pr.set(S,H)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ea?e._startAt.revert(jx):e._startAt.render(-1,!0)),e._zTime=t,!o)r(e._startAt,ja,ja);else if(!t)return}for(e._pt=e._ptCache=0,l=x&&zs(l)||l&&!x,U=0;U<S.length;U++){if(N=S[U],G=N._gsap||Ww(S)[U]._gsap,e._ptLookup[U]=J={},wM[G.id]&&yd.length&&aA(),ae=M===S?U:M.indexOf(N),X&&(Y=new X).init(N,$||I,e,ae,M)!==!1&&(e._pt=F=new ks(e._pt,N,Y.name,0,1,Y.render,Y,0,Y.priority),Y._props.forEach(function(le){J[le]=F}),Y.priority&&(L=1)),!X||$)for(H in I)uo[H]&&(Y=HP(H,I,e,ae,N,M))?Y.priority&&(L=1):J[H]=F=Yw.call(e,N,H,"get",I[H],ae,M,0,i.stringFilter);e._op&&e._op[U]&&e.kill(N,e._op[U]),R&&e._pt&&(pd=e,rr.killTweensOf(N,J,e.globalTime(t)),he=!e.parent,pd=0),e._pt&&l&&(wM[G.id]=1)}L&&XP(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!he,v&&t<=0&&w.render(Xc,!0,!0)},Vie=function(e,t,n,i,a,s,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,p,v,y;if(!u)for(u=e._ptCache[t]=[],v=e._ptLookup,y=e._targets.length;y--;){if(d=v[y][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return UM=1,e.vars[t]="+=0",qw(e,o),UM=0,l?yy(t+" not eligible for reset"):1;u.push(d)}for(y=u.length;y--;)p=u[y],d=p._pt||p,d.s=(i||i===0)&&!a?i:d.s+(i||0)+s*d.c,d.c=n-d.s,p.e&&(p.e=Rr(n)+ka(p.e)),p.b&&(p.b=d.s+ka(p.b))},jie=function(e,t){var n=e[0]?cp(e[0]).harness:0,i=n&&n.aliases,a,s,o,l;if(!i)return t;a=Eg({},t);for(s in i)if(s in a)for(l=i[s].split(","),o=l.length;o--;)a[l[o]]=a[s];return a},Xie=function(e,t,n,i){var a=t.ease||i||"power1.inOut",s,o;if(Xa(t))o=n[e]||(n[e]=[]),t.forEach(function(l,u){return o.push({t:u/(t.length-1)*100,v:l,e:a})});else for(s in t)o=n[s]||(n[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:t[s],e:a})},Zv=function(e,t,n,i,a){return br(e)?e.call(t,n,i,a):ha(e)&&~e.indexOf("random(")?xy(e):e},zP=Xw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",GP={};Gs(zP+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return GP[r]=1});var Pr=function(r){aP(e,r);function e(n,i,a,s){var o;typeof i=="number"&&(a.duration=i,i=a,a=null),o=r.call(this,s?i:Kv(i))||this;var l=o.vars,u=l.duration,d=l.delay,p=l.immediateRender,v=l.stagger,y=l.overwrite,x=l.keyframes,A=l.defaults,S=l.scrollTrigger,E=l.yoyoEase,M=i.parent||rr,R=(Xa(n)||oP(n)?of(n[0]):"length"in i)?[n]:Yo(n),w,I,U,H,F,N,L,G;if(o._targets=R.length?Ww(R):yy("GSAP target "+n+" not found. https://gsap.com",!go.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=y,x||v||Bx(u)||Bx(d)){if(i=o.vars,w=o.timeline=new ds({data:"nested",defaults:A||{},targets:M&&M.data==="nested"?M.vars.targets:R}),w.kill(),w.parent=w._dp=ku(o),w._start=0,v||Bx(u)||Bx(d)){if(H=R.length,L=v&&TP(v),$c(v))for(F in v)~zP.indexOf(F)&&(G||(G={}),G[F]=v[F]);for(I=0;I<H;I++)U=sA(i,GP),U.stagger=0,E&&(U.yoyoEase=E),G&&Eg(U,G),N=R[I],U.duration=+Zv(u,ku(o),I,N,R),U.delay=(+Zv(d,ku(o),I,N,R)||0)-o._delay,!v&&H===1&&U.delay&&(o._delay=d=U.delay,o._start+=d,U.delay=0),w.to(N,U,L?L(I,N,R):0),w._ease=Qn.none;w.duration()?u=d=0:o.timeline=0}else if(x){Kv(xo(w.vars.defaults,{ease:"none"})),w._ease=fp(x.ease||i.ease||"none");var X=0,Y,J,ae;if(Xa(x))x.forEach(function($){return w.to(R,$,">")}),w.duration();else{U={};for(F in x)F==="ease"||F==="easeEach"||Xie(F,x[F],U,x.easeEach);for(F in U)for(Y=U[F].sort(function($,he){return $.t-he.t}),X=0,I=0;I<Y.length;I++)J=Y[I],ae={ease:J.e,duration:(J.t-(I?Y[I-1].t:0))/100*u},ae[F]=J.v,w.to(R,ae,X),X+=ae.duration;w.duration()<u&&w.to({},{duration:u-w.duration()})}}u||o.duration(u=w.duration())}else o.timeline=0;return y===!0&&!Hw&&(pd=ku(o),rr.killTweensOf(R),pd=0),Fc(M,ku(o),a),i.reversed&&o.reverse(),i.paused&&o.paused(!0),(p||!u&&!x&&o._start===Fr(M._time)&&zs(p)&&Aie(ku(o))&&M.data!=="nested")&&(o._tTime=-1e-8,o.render(Math.max(0,-d)||0)),S&&bP(ku(o),S),o}var t=e.prototype;return t.render=function(i,a,s){var o=this._time,l=this._tDur,u=this._dur,d=i<0,p=i>l-ja&&!d?l:i<ja?0:i,v,y,x,A,S,E,M,R,w;if(!u)Eie(this,i,a,s);else if(p!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(v=p,R=this.timeline,this._repeat){if(A=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(A*100+i,a,s);if(v=Fr(p%A),p===l?(x=this._repeat,v=u):(S=Fr(p/A),x=~~S,x&&x===S?(v=u,x--):v>u&&(v=u)),E=this._yoyo&&x&1,E&&(w=this._yEase,v=u-v),S=Tg(this._tTime,A),v===o&&!s&&this._initted&&x===S)return this._tTime=p,this;x!==S&&(R&&this._yEase&&IP(R,E),this.vars.repeatRefresh&&!E&&!this._lock&&v!==A&&this._initted&&(this._lock=s=1,this.render(Fr(A*x),!0).invalidate()._lock=0))}if(!this._initted){if(AP(this,d?i:v,s,a,p))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&x!==S))return this;if(u!==this._dur)return this.render(i,a,s)}if(this._tTime=p,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(w||this._ease)(v/u),this._from&&(this.ratio=M=1-M),v&&!o&&!a&&!x&&(ho(this,"onStart"),this._tTime!==p))return this;for(y=this._pt;y;)y.r(M,y.d),y=y._next;R&&R.render(i<0?i:R._dur*R._ease(v/this._dur),a,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(d&&RM(this,i,a,s),ho(this,"onUpdate")),this._repeat&&x!==S&&this.vars.onRepeat&&!a&&this.parent&&ho(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&RM(this,i,!0,!0),(i||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Md(this,1),!a&&!(d&&!o)&&(p||o||E)&&(ho(this,p===l?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,a,s,o,l){by||fo.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||qw(this,u),d=this._ease(u/this._dur),Vie(this,i,a,s,o,d,u,l)?this.resetTo(i,a,s,o,1):(E2(this,0),this.parent||_P(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?Rv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ea),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,pd&&pd.vars.overwrite!==!0)._first||Rv(this),this.parent&&s!==this.timeline.totalDuration()&&Mg(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,l=i?Yo(i):o,u=this._ptLookup,d=this._pt,p,v,y,x,A,S,E;if((!a||a==="all")&&xie(o,l))return a==="all"&&(this._pt=0),Rv(this);for(p=this._op=this._op||[],a!=="all"&&(ha(a)&&(A={},Gs(a,function(M){return A[M]=1}),a=A),a=jie(o,a)),E=o.length;E--;)if(~l.indexOf(o[E])){v=u[E],a==="all"?(p[E]=a,x=v,y={}):(y=p[E]=p[E]||{},x=a);for(A in x)S=v&&v[A],S&&((!("kill"in S.d)||S.d.kill(A)===!0)&&A2(this,S,"_pt"),delete v[A]),y!=="all"&&(y[A]=1)}return this._initted&&!this._pt&&d&&Rv(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return Jv(1,arguments)},e.delayedCall=function(i,a,s,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(i,a,s){return Jv(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,s){return rr.killTweensOf(i,a,s)},e}(Ay);xo(Pr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Gs("staggerTo,staggerFrom,staggerFromTo",function(r){Pr[r]=function(){var e=new ds,t=BM.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var Kw=function(e,t,n){return e[t]=n},kP=function(e,t,n){return e[t](n)},Wie=function(e,t,n,i){return e[t](i.fp,n)},Yie=function(e,t,n){return e.setAttribute(t,n)},Jw=function(e,t){return br(e[t])?kP:zw(e[t])&&e.setAttribute?Yie:Kw},VP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},qie=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},jP=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},Zw=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Kie=function(e,t,n,i){for(var a=this._pt,s;a;)s=a._next,a.p===i&&a.modifier(e,t,n),a=s},Jie=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?A2(this,t,"_pt"):t.dep||(n=1),t=i;return!n},Zie=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},XP=function(e){for(var t=e._pt,n,i,a,s;t;){for(n=t._next,i=a;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:s)?t._prev._next=t:a=t,(t._next=i)?i._prev=t:s=t,t=n}e._pt=a},ks=function(){function r(t,n,i,a,s,o,l,u,d){this.t=n,this.s=a,this.c=s,this.p=i,this.r=o||VP,this.d=l||this,this.set=u||Kw,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,a){this.mSet=this.mSet||this.set,this.set=Zie,this.m=n,this.mt=a,this.tween=i},r}();Gs(Xw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return jw[r]=1});_o.TweenMax=_o.TweenLite=Pr;_o.TimelineLite=_o.TimelineMax=ds;rr=new ds({sortChildren:!1,defaults:Sg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});go.stringFilter=UP;var dp=[],Wx={},$ie=[],EN=0,Qie=0,uT=function(e){return(Wx[e]||$ie).map(function(t){return t()})},LM=function(){var e=Date.now(),t=[];e-EN>2&&(uT("matchMediaInit"),dp.forEach(function(n){var i=n.queries,a=n.conditions,s,o,l,u;for(o in i)s=Lc.matchMedia(i[o]).matches,s&&(l=1),s!==a[o]&&(a[o]=s,u=1);u&&(n.revert(),l&&t.push(n))}),uT("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),EN=e,uT("matchMedia"))},WP=function(){function r(t,n){this.selector=n&&OM(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Qie++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,a){br(n)&&(a=i,i=n,n=br);var s=this,o=function(){var u=Vi,d=s.selector,p;return u&&u!==s&&u.data.push(s),a&&(s.selector=OM(a)),Vi=s,p=i.apply(s,arguments),br(p)&&s._r.push(p),Vi=u,s.selector=d,s.isReverted=!1,p};return s.last=o,n===br?o(s,function(l){return s.add(null,l)}):n?s[n]=o:o},e.ignore=function(n){var i=Vi;Vi=null,n(this),Vi=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof Pr&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var a=this;if(n?function(){for(var o=a.getTweens(),l=a.data.length,u;l--;)u=a.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return o.splice(o.indexOf(d),1)}));for(o.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),l=a.data.length;l--;)u=a.data[l],u instanceof ds?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Pr)&&u.revert&&u.revert(n);a._r.forEach(function(d){return d(n,a)}),a.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),i)for(var s=dp.length;s--;)dp[s].id===this.id&&dp.splice(s,1)},e.revert=function(n){this.kill(n||{})},r}(),ere=function(){function r(t){this.contexts=[],this.scope=t,Vi&&Vi.data.push(this)}var e=r.prototype;return e.add=function(n,i,a){$c(n)||(n={matches:n});var s=new WP(0,a||this.scope),o=s.conditions={},l,u,d;Vi&&!s.selector&&(s.selector=Vi.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=n;for(u in n)u==="all"?d=1:(l=Lc.matchMedia(n[u]),l&&(dp.indexOf(s)<0&&dp.push(s),(o[u]=l.matches)&&(d=1),l.addListener?l.addListener(LM):l.addEventListener("change",LM)));return d&&i(s,function(p){return s.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),lA={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return BP(i)})},timeline:function(e){return new ds(e)},getTweensOf:function(e,t){return rr.getTweensOf(e,t)},getProperty:function(e,t,n,i){ha(e)&&(e=Yo(e)[0]);var a=cp(e||{}).get,s=n?yP:vP;return n==="native"&&(n=""),e&&(t?s((uo[t]&&uo[t].get||a)(e,t,n,i)):function(o,l,u){return s((uo[o]&&uo[o].get||a)(e,o,l,u))})},quickSetter:function(e,t,n){if(e=Yo(e),e.length>1){var i=e.map(function(d){return Ws.quickSetter(d,t,n)}),a=i.length;return function(d){for(var p=a;p--;)i[p](d)}}e=e[0]||{};var s=uo[t],o=cp(e),l=o.harness&&(o.harness.aliases||{})[t]||t,u=s?function(d){var p=new s;rg._pt=0,p.init(e,n?d+n:d,rg,0,[e]),p.render(1,p),rg._pt&&Zw(1,rg)}:o.set(e,l);return s?u:function(d){return u(e,l,n?d+n:d,o,1)}},quickTo:function(e,t,n){var i,a=Ws.to(e,xo((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),s=function(l,u,d){return a.resetTo(t,l,u,d)};return s.tween=a,s},isTweening:function(e){return rr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=fp(e.ease,Sg.ease)),_N(Sg,e||{})},config:function(e){return _N(go,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,a=e.defaults,s=e.extendTimeline;(i||"").split(",").forEach(function(o){return o&&!uo[o]&&!_o[o]&&yy(t+" effect requires "+o+" plugin.")}),sT[t]=function(o,l,u){return n(Yo(o),xo(l||{},a),u)},s&&(ds.prototype[t]=function(o,l,u){return this.add(sT[t](o,$c(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){Qn[e]=fp(t)},parseEase:function(e,t){return arguments.length?fp(e,t):Qn},getById:function(e){return rr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ds(e),i,a;for(n.smoothChildTiming=zs(e.smoothChildTiming),rr.remove(n),n._dp=0,n._time=n._tTime=rr._time,i=rr._first;i;)a=i._next,(t||!(!i._dur&&i instanceof Pr&&i.vars.onComplete===i._targets[0]))&&Fc(n,i,i._start-i._delay),i=a;return Fc(rr,n,0),n},context:function(e,t){return e?new WP(e,t):Vi},matchMedia:function(e){return new ere(e)},matchMediaRefresh:function(){return dp.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||LM()},addEventListener:function(e,t){var n=Wx[e]||(Wx[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Wx[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:Oie,wrapYoyo:Nie,distribute:TP,random:CP,snap:MP,normalize:Bie,getUnit:ka,clamp:Cie,splitColor:OP,toArray:Yo,selector:OM,mapRange:RP,pipe:Rie,unitize:Die,interpolate:Uie,shuffle:EP},install:dP,effects:sT,ticker:fo,updateRoot:ds.updateRoot,plugins:uo,globalTimeline:rr,core:{PropTween:ks,globals:hP,Tween:Pr,Timeline:ds,Animation:Ay,getCache:cp,_removeLinkedListItem:A2,reverting:function(){return Ea},context:function(e){return e&&Vi&&(Vi.data.push(e),e._ctx=Vi),Vi},suppressOverwrites:function(e){return Hw=e}}};Gs("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return lA[r]=Pr[r]});fo.add(ds.updateRoot);rg=lA.to({},{duration:0});var tre=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},nre=function(e,t){var n=e._targets,i,a,s;for(i in t)for(a=n.length;a--;)s=e._ptLookup[a][i],s&&(s=s.d)&&(s._pt&&(s=tre(s,i)),s&&s.modifier&&s.modifier(t[i],e,n[a],i))},fT=function(e,t){return{name:e,rawVars:1,init:function(i,a,s){s._onInit=function(o){var l,u;if(ha(a)&&(l={},Gs(a,function(d){return l[d]=1}),a=l),t){l={};for(u in a)l[u]=t(a[u]);a=l}nre(o,a)}}}},Ws=lA.registerPlugin({name:"attr",init:function(e,t,n,i,a){var s,o,l;this.tween=n;for(s in t)l=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(l||0)+"",t[s],i,a,0,0,s),o.op=s,o.b=l,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)Ea?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},fT("roundProps",NM),fT("modifiers"),fT("snap",MP))||lA;Pr.version=ds.version=Ws.version="3.12.7";fP=1;Gw()&&Cg();Qn.Power0;Qn.Power1;Qn.Power2;Qn.Power3;Qn.Power4;Qn.Linear;Qn.Quad;Qn.Cubic;Qn.Quart;Qn.Quint;Qn.Strong;Qn.Elastic;Qn.Back;Qn.SteppedEase;Qn.Bounce;Qn.Sine;Qn.Expo;Qn.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var TN,md,hg,$w,$h,MN,Qw,ire=function(){return typeof window<"u"},lf={},kh=180/Math.PI,pg=Math.PI/180,Jm=Math.atan2,CN=1e8,eR=/([A-Z])/g,rre=/(left|right|width|margin|padding|x)/i,are=/[\s,\(]\S/,Hc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},IM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},sre=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ore=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},lre=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},YP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},qP=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},cre=function(e,t,n){return e.style[t]=n},ure=function(e,t,n){return e.style.setProperty(t,n)},fre=function(e,t,n){return e._gsap[t]=n},dre=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},hre=function(e,t,n,i,a){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(a,s)},pre=function(e,t,n,i,a){var s=e._gsap;s[t]=n,s.renderTransform(a,s)},sr="transform",Vs=sr+"Origin",mre=function r(e,t){var n=this,i=this.target,a=i.style,s=i._gsap;if(e in lf&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Hc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=ju(i,o)}):this.tfm[e]=s.x?s[e]:ju(i,e),e===Vs&&(this.tfm.zOrigin=s.zOrigin);else return Hc.transform.split(",").forEach(function(o){return r.call(n,o,t)});if(this.props.indexOf(sr)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Vs,t,"")),e=sr}(a||t)&&this.props.push(e,t,a[e])},KP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},gre=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(eR,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=Qw(),(!a||!a.isStart)&&!n[sr]&&(KP(n),i.zOrigin&&n[Vs]&&(n[Vs]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},JP=function(e,t){var n={target:e,props:[],revert:gre,save:mre};return e._gsap||Ws.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},ZP,PM=function(e,t){var n=md.createElementNS?md.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):md.createElement(e);return n&&n.style?n:md.createElement(e)},Wc=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(eR,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,wg(t)||t,1)||""},wN="O,Moz,ms,Ms,Webkit".split(","),wg=function(e,t,n){var i=t||$h,a=i.style,s=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(wN[s]+e in a););return s<0?null:(s===3?"ms":s>=0?wN[s]:"")+e},FM=function(){ire()&&window.document&&(TN=window,md=TN.document,hg=md.documentElement,$h=PM("div")||{style:{}},PM("div"),sr=wg(sr),Vs=sr+"Origin",$h.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ZP=!!wg("perspective"),Qw=Ws.core.reverting,$w=1)},RN=function(e){var t=e.ownerSVGElement,n=PM("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",n.appendChild(i),hg.appendChild(n);try{a=i.getBBox()}catch{}return n.removeChild(i),hg.removeChild(n),a},DN=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},$P=function(e){var t,n;try{t=e.getBBox()}catch{t=RN(e),n=1}return t&&(t.width||t.height)||n||(t=RN(e)),t&&!t.width&&!t.x&&!t.y?{x:+DN(e,["x","cx","x1"])||0,y:+DN(e,["y","cy","y1"])||0,width:0,height:0}:t},QP=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&$P(e))},Tp=function(e,t){if(t){var n=e.style,i;t in lf&&t!==Vs&&(t=sr),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(eR,"-$1").toLowerCase())):n.removeAttribute(t)}},gd=function(e,t,n,i,a,s){var o=new ks(e._pt,t,n,0,1,s?qP:YP);return e._pt=o,o.b=i,o.e=a,e._props.push(n),o},BN={deg:1,rad:1,turn:1},vre={grid:1,flex:1},Cd=function r(e,t,n,i){var a=parseFloat(n)||0,s=(n+"").trim().substr((a+"").length)||"px",o=$h.style,l=rre.test(t),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(l?"Width":"Height"),p=100,v=i==="px",y=i==="%",x,A,S,E;if(i===s||!a||BN[i]||BN[s])return a;if(s!=="px"&&!v&&(a=r(e,t,n,"px")),E=e.getCTM&&QP(e),(y||s==="%")&&(lf[t]||~t.indexOf("adius")))return x=E?e.getBBox()[l?"width":"height"]:e[d],Rr(y?a/x*p:a/100*x);if(o[l?"width":"height"]=p+(v?s:i),A=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,E&&(A=(e.ownerSVGElement||{}).parentNode),(!A||A===md||!A.appendChild)&&(A=md.body),S=A._gsap,S&&y&&S.width&&l&&S.time===fo.time&&!S.uncache)return Rr(a/S.width*p);if(y&&(t==="height"||t==="width")){var M=e.style[t];e.style[t]=p+i,x=e[d],M?e.style[t]=M:Tp(e,t)}else(y||s==="%")&&!vre[Wc(A,"display")]&&(o.position=Wc(e,"position")),A===e&&(o.position="static"),A.appendChild($h),x=$h[d],A.removeChild($h),o.position="absolute";return l&&y&&(S=cp(A),S.time=fo.time,S.width=A[d]),Rr(v?x*a/p:x&&a?p/x*a:0)},ju=function(e,t,n,i){var a;return $w||FM(),t in Hc&&t!=="transform"&&(t=Hc[t],~t.indexOf(",")&&(t=t.split(",")[0])),lf[t]&&t!=="transform"?(a=Ey(e,i),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:uA(Wc(e,Vs))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=cA[t]&&cA[t](e,t,n)||Wc(e,t)||mP(e,t)||(t==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?Cd(e,t,a,n)+n:a},yre=function(e,t,n,i){if(!n||n==="none"){var a=wg(t,e,1),s=a&&Wc(e,a,1);s&&s!==n?(t=a,n=s):t==="borderColor"&&(n=Wc(e,"borderTopColor"))}var o=new ks(this._pt,e.style,t,0,1,jP),l=0,u=0,d,p,v,y,x,A,S,E,M,R,w,I;if(o.b=n,o.e=i,n+="",i+="",i==="auto"&&(A=e.style[t],e.style[t]=i,i=Wc(e,t)||i,A?e.style[t]=A:Tp(e,t)),d=[n,i],UP(d),n=d[0],i=d[1],v=n.match(ig)||[],I=i.match(ig)||[],I.length){for(;p=ig.exec(i);)S=p[0],M=i.substring(l,p.index),x?x=(x+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(x=1),S!==(A=v[u++]||"")&&(y=parseFloat(A)||0,w=A.substr((y+"").length),S.charAt(1)==="="&&(S=dg(y,S)+w),E=parseFloat(S),R=S.substr((E+"").length),l=ig.lastIndex-R.length,R||(R=R||go.units[t]||w,l===i.length&&(i+=R,o.e+=R)),w!==R&&(y=Cd(e,t,A,R)||0),o._pt={_next:o._pt,p:M||u===1?M:",",s:y,c:E-y,m:x&&x<4||t==="zIndex"?Math.round:0});o.c=l<i.length?i.substring(l,i.length):""}else o.r=t==="display"&&i==="none"?qP:YP;return cP.test(i)&&(o.e=0),this._pt=o,o},ON={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_re=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=ON[n]||n,t[1]=ON[i]||i,t.join(" ")},xre=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,a=t.u,s=n._gsap,o,l,u;if(a==="all"||a===!0)i.cssText="",l=1;else for(a=a.split(","),u=a.length;--u>-1;)o=a[u],lf[o]&&(l=1,o=o==="transformOrigin"?Vs:sr),Tp(n,o);l&&(Tp(n,sr),s&&(s.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Ey(n,1),s.uncache=1,KP(i)))}},cA={clearProps:function(e,t,n,i,a){if(a.data!=="isFromStart"){var s=e._pt=new ks(e._pt,t,n,0,0,xre);return s.u=i,s.pr=-10,s.tween=a,e._props.push(n),1}}},Sy=[1,0,0,1,0,0],eF={},tF=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},NN=function(e){var t=Wc(e,sr);return tF(t)?Sy:t.substr(7).match(lP).map(Rr)},tR=function(e,t){var n=e._gsap||cp(e),i=e.style,a=NN(e),s,o,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,a=[l.a,l.b,l.c,l.d,l.e,l.f],a.join(",")==="1,0,0,1,0,0"?Sy:a):(a===Sy&&!e.offsetParent&&e!==hg&&!n.svg&&(l=i.display,i.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,hg.appendChild(e)),a=NN(e),l?i.display=l:Tp(e,"display"),u&&(o?s.insertBefore(e,o):s?s.appendChild(e):hg.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},HM=function(e,t,n,i,a,s){var o=e._gsap,l=a||tR(e,!0),u=o.xOrigin||0,d=o.yOrigin||0,p=o.xOffset||0,v=o.yOffset||0,y=l[0],x=l[1],A=l[2],S=l[3],E=l[4],M=l[5],R=t.split(" "),w=parseFloat(R[0])||0,I=parseFloat(R[1])||0,U,H,F,N;n?l!==Sy&&(H=y*S-x*A)&&(F=w*(S/H)+I*(-A/H)+(A*M-S*E)/H,N=w*(-x/H)+I*(y/H)-(y*M-x*E)/H,w=F,I=N):(U=$P(e),w=U.x+(~R[0].indexOf("%")?w/100*U.width:w),I=U.y+(~(R[1]||R[0]).indexOf("%")?I/100*U.height:I)),i||i!==!1&&o.smooth?(E=w-u,M=I-d,o.xOffset=p+(E*y+M*A)-E,o.yOffset=v+(E*x+M*S)-M):o.xOffset=o.yOffset=0,o.xOrigin=w,o.yOrigin=I,o.smooth=!!i,o.origin=t,o.originIsAbsolute=!!n,e.style[Vs]="0px 0px",s&&(gd(s,o,"xOrigin",u,w),gd(s,o,"yOrigin",d,I),gd(s,o,"xOffset",p,o.xOffset),gd(s,o,"yOffset",v,o.yOffset)),e.setAttribute("data-svg-origin",w+" "+I)},Ey=function(e,t){var n=e._gsap||new FP(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,a=n.scaleX<0,s="px",o="deg",l=getComputedStyle(e),u=Wc(e,Vs)||"0",d,p,v,y,x,A,S,E,M,R,w,I,U,H,F,N,L,G,X,Y,J,ae,$,he,le,de,V,K,re,pe,Q,ce;return d=p=v=A=S=E=M=R=w=0,y=x=1,n.svg=!!(e.getCTM&&QP(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[sr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[sr]!=="none"?l[sr]:"")),i.scale=i.rotate=i.translate="none"),H=tR(e,n.svg),n.svg&&(n.uncache?(le=e.getBBox(),u=n.xOrigin-le.x+"px "+(n.yOrigin-le.y)+"px",he=""):he=!t&&e.getAttribute("data-svg-origin"),HM(e,he||u,!!he||n.originIsAbsolute,n.smooth!==!1,H)),I=n.xOrigin||0,U=n.yOrigin||0,H!==Sy&&(G=H[0],X=H[1],Y=H[2],J=H[3],d=ae=H[4],p=$=H[5],H.length===6?(y=Math.sqrt(G*G+X*X),x=Math.sqrt(J*J+Y*Y),A=G||X?Jm(X,G)*kh:0,M=Y||J?Jm(Y,J)*kh+A:0,M&&(x*=Math.abs(Math.cos(M*pg))),n.svg&&(d-=I-(I*G+U*Y),p-=U-(I*X+U*J))):(ce=H[6],pe=H[7],V=H[8],K=H[9],re=H[10],Q=H[11],d=H[12],p=H[13],v=H[14],F=Jm(ce,re),S=F*kh,F&&(N=Math.cos(-F),L=Math.sin(-F),he=ae*N+V*L,le=$*N+K*L,de=ce*N+re*L,V=ae*-L+V*N,K=$*-L+K*N,re=ce*-L+re*N,Q=pe*-L+Q*N,ae=he,$=le,ce=de),F=Jm(-Y,re),E=F*kh,F&&(N=Math.cos(-F),L=Math.sin(-F),he=G*N-V*L,le=X*N-K*L,de=Y*N-re*L,Q=J*L+Q*N,G=he,X=le,Y=de),F=Jm(X,G),A=F*kh,F&&(N=Math.cos(F),L=Math.sin(F),he=G*N+X*L,le=ae*N+$*L,X=X*N-G*L,$=$*N-ae*L,G=he,ae=le),S&&Math.abs(S)+Math.abs(A)>359.9&&(S=A=0,E=180-E),y=Rr(Math.sqrt(G*G+X*X+Y*Y)),x=Rr(Math.sqrt($*$+ce*ce)),F=Jm(ae,$),M=Math.abs(F)>2e-4?F*kh:0,w=Q?1/(Q<0?-Q:Q):0),n.svg&&(he=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!tF(Wc(e,sr)),he&&e.setAttribute("transform",he))),Math.abs(M)>90&&Math.abs(M)<270&&(a?(y*=-1,M+=A<=0?180:-180,A+=A<=0?180:-180):(x*=-1,M+=M<=0?180:-180)),t=t||n.uncache,n.x=d-((n.xPercent=d&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+s,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+s,n.z=v+s,n.scaleX=Rr(y),n.scaleY=Rr(x),n.rotation=Rr(A)+o,n.rotationX=Rr(S)+o,n.rotationY=Rr(E)+o,n.skewX=M+o,n.skewY=R+o,n.transformPerspective=w+s,(n.zOrigin=parseFloat(u.split(" ")[2])||!t&&n.zOrigin||0)&&(i[Vs]=uA(u)),n.xOffset=n.yOffset=0,n.force3D=go.force3D,n.renderTransform=n.svg?Are:ZP?nF:bre,n.uncache=0,n},uA=function(e){return(e=e.split(" "))[0]+" "+e[1]},dT=function(e,t,n){var i=ka(t);return Rr(parseFloat(t)+parseFloat(Cd(e,"x",n+"px",i)))+i},bre=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,nF(e,t)},Ph="0deg",Sv="0px",Fh=") ",nF=function(e,t){var n=t||this,i=n.xPercent,a=n.yPercent,s=n.x,o=n.y,l=n.z,u=n.rotation,d=n.rotationY,p=n.rotationX,v=n.skewX,y=n.skewY,x=n.scaleX,A=n.scaleY,S=n.transformPerspective,E=n.force3D,M=n.target,R=n.zOrigin,w="",I=E==="auto"&&e&&e!==1||E===!0;if(R&&(p!==Ph||d!==Ph)){var U=parseFloat(d)*pg,H=Math.sin(U),F=Math.cos(U),N;U=parseFloat(p)*pg,N=Math.cos(U),s=dT(M,s,H*N*-R),o=dT(M,o,-Math.sin(U)*-R),l=dT(M,l,F*N*-R+R)}S!==Sv&&(w+="perspective("+S+Fh),(i||a)&&(w+="translate("+i+"%, "+a+"%) "),(I||s!==Sv||o!==Sv||l!==Sv)&&(w+=l!==Sv||I?"translate3d("+s+", "+o+", "+l+") ":"translate("+s+", "+o+Fh),u!==Ph&&(w+="rotate("+u+Fh),d!==Ph&&(w+="rotateY("+d+Fh),p!==Ph&&(w+="rotateX("+p+Fh),(v!==Ph||y!==Ph)&&(w+="skew("+v+", "+y+Fh),(x!==1||A!==1)&&(w+="scale("+x+", "+A+Fh),M.style[sr]=w||"translate(0, 0)"},Are=function(e,t){var n=t||this,i=n.xPercent,a=n.yPercent,s=n.x,o=n.y,l=n.rotation,u=n.skewX,d=n.skewY,p=n.scaleX,v=n.scaleY,y=n.target,x=n.xOrigin,A=n.yOrigin,S=n.xOffset,E=n.yOffset,M=n.forceCSS,R=parseFloat(s),w=parseFloat(o),I,U,H,F,N;l=parseFloat(l),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,l+=d),l||u?(l*=pg,u*=pg,I=Math.cos(l)*p,U=Math.sin(l)*p,H=Math.sin(l-u)*-v,F=Math.cos(l-u)*v,u&&(d*=pg,N=Math.tan(u-d),N=Math.sqrt(1+N*N),H*=N,F*=N,d&&(N=Math.tan(d),N=Math.sqrt(1+N*N),I*=N,U*=N)),I=Rr(I),U=Rr(U),H=Rr(H),F=Rr(F)):(I=p,F=v,U=H=0),(R&&!~(s+"").indexOf("px")||w&&!~(o+"").indexOf("px"))&&(R=Cd(y,"x",s,"px"),w=Cd(y,"y",o,"px")),(x||A||S||E)&&(R=Rr(R+x-(x*I+A*H)+S),w=Rr(w+A-(x*U+A*F)+E)),(i||a)&&(N=y.getBBox(),R=Rr(R+i/100*N.width),w=Rr(w+a/100*N.height)),N="matrix("+I+","+U+","+H+","+F+","+R+","+w+")",y.setAttribute("transform",N),M&&(y.style[sr]=N)},Sre=function(e,t,n,i,a){var s=360,o=ha(a),l=parseFloat(a)*(o&&~a.indexOf("rad")?kh:1),u=l-i,d=i+u+"deg",p,v;return o&&(p=a.split("_")[1],p==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-360)),p==="cw"&&u<0?u=(u+s*CN)%s-~~(u/s)*s:p==="ccw"&&u>0&&(u=(u-s*CN)%s-~~(u/s)*s)),e._pt=v=new ks(e._pt,t,n,i,u,sre),v.e=d,v.u="deg",e._props.push(n),v},UN=function(e,t){for(var n in t)e[n]=t[n];return e},Ere=function(e,t,n){var i=UN({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=n.style,o,l,u,d,p,v,y,x;i.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),s[sr]=t,o=Ey(n,1),Tp(n,sr),n.setAttribute("transform",u)):(u=getComputedStyle(n)[sr],s[sr]=t,o=Ey(n,1),s[sr]=u);for(l in lf)u=i[l],d=o[l],u!==d&&a.indexOf(l)<0&&(y=ka(u),x=ka(d),p=y!==x?Cd(n,l,u,x):parseFloat(u),v=parseFloat(d),e._pt=new ks(e._pt,o,l,p,v-p,IM),e._pt.u=x||0,e._props.push(l));UN(o,i)};Gs("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",a="Left",s=(e<3?[t,n,i,a]:[t+a,t+n,i+n,i+a]).map(function(o){return e<2?r+o:"border"+o+r});cA[e>1?"border"+r:r]=function(o,l,u,d,p){var v,y;if(arguments.length<4)return v=s.map(function(x){return ju(o,x,u)}),y=v.join(" "),y.split(v[0]).length===5?v[0]:y;v=(d+"").split(" "),y={},s.forEach(function(x,A){return y[x]=v[A]=v[A]||v[(A-1)/2|0]}),o.init(l,y,p)}});var iF={name:"css",register:FM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,a){var s=this._props,o=e.style,l=n.vars.startAt,u,d,p,v,y,x,A,S,E,M,R,w,I,U,H,F;$w||FM(),this.styles=this.styles||JP(e),F=this.styles.props,this.tween=n;for(A in t)if(A!=="autoRound"&&(d=t[A],!(uo[A]&&HP(A,t,n,i,e,a)))){if(y=typeof d,x=cA[A],y==="function"&&(d=d.call(n,i,e,a),y=typeof d),y==="string"&&~d.indexOf("random(")&&(d=xy(d)),x)x(this,e,A,d,n)&&(H=1);else if(A.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(A)+"").trim(),d+="",_d.lastIndex=0,_d.test(u)||(S=ka(u),E=ka(d)),E?S!==E&&(u=Cd(e,A,u,E)+E):S&&(d+=S),this.add(o,"setProperty",u,d,i,a,0,0,A),s.push(A),F.push(A,0,o[A]);else if(y!=="undefined"){if(l&&A in l?(u=typeof l[A]=="function"?l[A].call(n,i,e,a):l[A],ha(u)&&~u.indexOf("random(")&&(u=xy(u)),ka(u+"")||u==="auto"||(u+=go.units[A]||ka(ju(e,A))||""),(u+"").charAt(1)==="="&&(u=ju(e,A))):u=ju(e,A),v=parseFloat(u),M=y==="string"&&d.charAt(1)==="="&&d.substr(0,2),M&&(d=d.substr(2)),p=parseFloat(d),A in Hc&&(A==="autoAlpha"&&(v===1&&ju(e,"visibility")==="hidden"&&p&&(v=0),F.push("visibility",0,o.visibility),gd(this,o,"visibility",v?"inherit":"hidden",p?"inherit":"hidden",!p)),A!=="scale"&&A!=="transform"&&(A=Hc[A],~A.indexOf(",")&&(A=A.split(",")[0]))),R=A in lf,R){if(this.styles.save(A),w||(I=e._gsap,I.renderTransform&&!t.parseTransform||Ey(e,t.parseTransform),U=t.smoothOrigin!==!1&&I.smooth,w=this._pt=new ks(this._pt,o,sr,0,1,I.renderTransform,I,0,-1),w.dep=1),A==="scale")this._pt=new ks(this._pt,I,"scaleY",I.scaleY,(M?dg(I.scaleY,M+p):p)-I.scaleY||0,IM),this._pt.u=0,s.push("scaleY",A),A+="X";else if(A==="transformOrigin"){F.push(Vs,0,o[Vs]),d=_re(d),I.svg?HM(e,d,0,U,0,this):(E=parseFloat(d.split(" ")[2])||0,E!==I.zOrigin&&gd(this,I,"zOrigin",I.zOrigin,E),gd(this,o,A,uA(u),uA(d)));continue}else if(A==="svgOrigin"){HM(e,d,1,U,0,this);continue}else if(A in eF){Sre(this,I,A,v,M?dg(v,M+d):d);continue}else if(A==="smoothOrigin"){gd(this,I,"smooth",I.smooth,d);continue}else if(A==="force3D"){I[A]=d;continue}else if(A==="transform"){Ere(this,d,e);continue}}else A in o||(A=wg(A)||A);if(R||(p||p===0)&&(v||v===0)&&!are.test(d)&&A in o)S=(u+"").substr((v+"").length),p||(p=0),E=ka(d)||(A in go.units?go.units[A]:S),S!==E&&(v=Cd(e,A,u,E)),this._pt=new ks(this._pt,R?I:o,A,v,(M?dg(v,M+p):p)-v,!R&&(E==="px"||A==="zIndex")&&t.autoRound!==!1?lre:IM),this._pt.u=E||0,S!==E&&E!=="%"&&(this._pt.b=u,this._pt.r=ore);else if(A in o)yre.call(this,e,A,u,M?M+d:d);else if(A in e)this.add(e,A,u||e[A],M?M+d:d,i,a);else if(A!=="parseTransform"){Vw(A,d);continue}R||(A in o?F.push(A,0,o[A]):typeof e[A]=="function"?F.push(A,2,e[A]()):F.push(A,1,u||e[A])),s.push(A)}}H&&XP(this)},render:function(e,t){if(t.tween._time||!Qw())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ju,aliases:Hc,getSetter:function(e,t,n){var i=Hc[t];return i&&i.indexOf(",")<0&&(t=i),t in lf&&t!==Vs&&(e._gsap.x||ju(e,"x"))?n&&MN===n?t==="scale"?dre:fre:(MN=n||{})&&(t==="scale"?hre:pre):e.style&&!zw(e.style[t])?cre:~t.indexOf("-")?ure:Jw(e,t)},core:{_removeProperty:Tp,_getMatrix:tR}};Ws.utils.checkPrefix=wg;Ws.core.getStyleSaver=JP;(function(r,e,t,n){var i=Gs(r+","+e+","+t,function(a){lf[a]=1});Gs(e,function(a){go.units[a]="deg",eF[a]=1}),Hc[i[13]]=r+","+e,Gs(n,function(a){var s=a.split(":");Hc[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Gs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){go.units[r]="px"});Ws.registerPlugin(iF);var An=Ws.registerPlugin(iF)||Ws;An.core.Tween;function Tre(){const r=P.useRef(null),e=P.useRef(null),t=P.useRef(null),n=P.useRef(null),{progress:i}=PI(),a=["Loading assets...","Loading materials...","Loading meshes...","Loading lights...","We are working hard..."],[s,o]=P.useState(a[Math.floor(Math.random()*a.length)]),[l,u]=P.useState(!1);P.useEffect(()=>{let p;return i<100&&(p=setInterval(()=>{An.to(e.current,{duration:.5,opacity:0,onComplete:()=>{const v=Math.floor(Math.random()*a.length);o(a[v]),An.to(e.current,{duration:.5,opacity:1})}})},3e3)),()=>clearInterval(p)},[i,a]),P.useEffect(()=>{An.to(t.current,{duration:.5,width:`${i}%`,ease:"power1.out"})},[i]),P.useEffect(()=>{i===100&&An.to(e.current,{duration:.5,opacity:0,onComplete:()=>{u(!0),An.fromTo(n.current,{opacity:0,scale:.9},{duration:1,opacity:1,scale:1,ease:"elastic.out(1, 0.5)"}),An.to(n.current,{duration:1,scale:1.05,yoyo:!0,repeat:-1,ease:"power1.inOut"})}})},[i]);const d=()=>{An.timeline({onComplete:()=>{An.to(r.current,{duration:1,opacity:0,onComplete:()=>{r.current&&(r.current.style.display="none")}})}}).to(n.current,{duration:.3,scale:.8,ease:"power1.inOut"}).to(n.current,{duration:.3,scale:1,ease:"power1.inOut"})};return B.jsxs("div",{ref:r,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#fff",color:"#b93e22",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,fontFamily:"DM Sans"},children:[!l&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{ref:e,style:{fontSize:"2rem",textAlign:"center",marginBottom:"20px",opacity:1},children:[s," ",B.jsx("br",{})," ",Math.floor(i),"%"]}),B.jsx("div",{style:{width:"60%",height:"3px",backgroundColor:"#ddd",borderRadius:"5px",overflow:"hidden"},children:B.jsx("div",{ref:t,style:{height:"100%",width:"0%",backgroundColor:"#b93e22",borderRadius:"5px"}})})]}),l&&B.jsx("button",{ref:n,onClick:d,style:{marginTop:"20px",width:"100px",height:"100px",padding:"10px 20px",fontSize:"1.5rem",background:"transparent",color:"#b93e22",border:"2px solid #b93e22",borderRadius:"50%",cursor:"pointer",outline:"none"},children:"Enter"})]})}const Mre="/assets/DMSans-Regular-CZ4gqAbC.ttf",Cre="/assets/InstrumentSerif-Regular-D2fgtoWl.ttf",wre="/assets/MuseoModerno-Regular-C-LFBrdE.ttf",Rre="/assets/Orbitron-Regular-tiCwdeKa.ttf",Dre="/assets/DynaPuff-Regular-C8WKJ4cP.ttf",Bre="/assets/KodeMono-Regular-BGfMqV1A.ttf",Ore=`
// Feel free to steal this :^)
// Consider it MIT licensed, you can link to this page if you want to.
uniform float iTime;
vec2 iResolution = vec2(1000.0);   //<---------- Kinda the graininess/rng seed PLAY WITH THIS

#define SHOW_NOISE 0
#define SRGB 0
// 0: Addition, 1: Screen, 2: Overlay, 3: Soft Light, 4: Lighten-Only
#define BLEND_MODE 0

//0 to 1
#define SPEED 1

#define INTENSITY 0.03
// What gray level noise should tend to.
#define MEAN 0.0

// Controls the contrast/variance of noise.
#define VARIANCE 0.5

vec3 channel_mix(vec3 a, vec3 b, vec3 w) {
    return vec3(mix(a.r, b.r, w.r), mix(a.g, b.g, w.g), mix(a.b, b.b, w.b));
}

float gaussian(float z, float u, float o) {
    return (1.0 / (o * sqrt(2.0 * 3.1415))) * exp(-(((z - u) * (z - u)) / (2.0 * (o * o))));
}

vec3 madd(vec3 a, vec3 b, float w) {
    return a + a * b * w;
}

vec3 screen(vec3 a, vec3 b, float w) {
    return mix(a, vec3(1.0) - (vec3(1.0) - a) * (vec3(1.0) - b), w);
}

vec3 overlay(vec3 a, vec3 b, float w) {
    return mix(a, channel_mix(
        2.0 * a * b,
        vec3(1.0) - 2.0 * (vec3(1.0) - a) * (vec3(1.0) - b),
        step(vec3(0.5), a)
    ), w);
}

vec3 soft_light(vec3 a, vec3 b, float w) {
    return mix(a, pow(a, pow(vec3(2.0), 2.0 * (vec3(0.5) - b))), w);
}

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 ps = vec2(1.0) / iResolution.xy;
    vec2 uv = coord * ps;
    vec4 color = vec4(0.);//texture(iChannel0, uv);
    #if SRGB
    color = pow(color, vec4(2.2));
    #endif

    float t = iTime * float(SPEED);
    float seed = dot(uv, vec2(12.9898, 78.233));
    float noise = fract(sin(seed) * 43758.5453 + t);
    noise = gaussian(noise, float(MEAN), float(VARIANCE) * float(VARIANCE));

    #if SHOW_NOISE
    color = vec4(noise);
    #else    
    // Ignore these mouse stuff if you're porting this
    // and just use an arbitrary intensity value.
    float w = float(INTENSITY);

    vec3 grain = vec3(noise) * (1.0 - color.rgb);

    #if BLEND_MODE == 0
    color.rgb += grain * w;
    #elif BLEND_MODE == 1
    color.rgb = screen(color.rgb, grain, w);
    #elif BLEND_MODE == 2
    color.rgb = overlay(color.rgb, grain, w);
    #elif BLEND_MODE == 3
    color.rgb = soft_light(color.rgb, grain, w);
    #elif BLEND_MODE == 4
    color.rgb = max(color.rgb, grain * w);
    #endif

    #if SRGB
    color = pow(color, vec4(1.0 / 2.2));
    #endif
    #endif
    gl_FragColor = vec4(1.,1.,1.,color.r);     //<---------- Kinda like tint PLAY WITH THIS
}
`;class Nre{constructor(e){this.grainShader=new e.ShaderMaterial({fragmentShader:Ore,transparent:!0,depthTest:!1,depthWrite:!1,blending:e.AdditiveBlending,uniforms:{iTime:{value:0}}}),this.update=()=>{this.grainShader.uniforms.iTime.value=performance.now()/1e3}}}function Ure(r,e,t=2.5){let n=new Nre(r);n.grainShader.depthTest=!1,n.grainShader.side=r.DoubleSide;let i=new r.Mesh(new r.PlaneGeometry(1,1),n.grainShader);i.position.z=e.near*-1.001,i.onBeforeRender=function(){n.grainShader.uniforms.iTime.value=performance.now()*.001},e.add(i)}function Lre(){const{camera:r}=Sd();return P.useEffect(()=>{Ure(dI,r)},[r]),null}function Ire(r){const e=P.useRef(),{nodes:t,materials:n}=qy("models/Logos/pin.glb");return B.jsx("group",{ref:e,...r,dispose:null,children:B.jsx("mesh",{geometry:t.Logo_Pin.geometry,material:n["Material.001"],position:[-.51,2.76,-.05],rotation:[1.53,0,0],scale:[53.52,53.52,53.52]})})}qy.preload("/pin.glb");const Pre=P.lazy(()=>h4(()=>import("./EnvironmentWithCamera-Bd0tdJPc.js"),[]).then(r=>({default:r.EnvironmentWithCamera})));P.lazy(()=>h4(()=>import("./AvantGardeBloom-DM8sNzEN.js"),[]));const Ox={MINIMALIST:Mre,FUTURE:Rre,RETRO:Bre,ELEGANT:Cre,BOHEMIAN:wre,PLAYFUL:Dre},Fre=({position:r,scale:e,logoId:t})=>{const{cubePosition:n,cubeScale:i,cubeColor:a}=rie("Cube",{cubePosition:{value:{x:r[0],y:r[1],z:r[2]},step:.001},cubeScale:{value:e,min:0,max:10,step:.001},cubeColor:{value:"orange"}}),s=P.useRef(),[o,l]=P.useState(!1);return P.useEffect(()=>{console.log("Cube: rendered with logoId:",t),t||console.error("Cube: logoId is not provided!"),t==="logo1"&&l(!0)},[t]),nw(()=>{if(!s.current)return;const u=o?-48.1:-115.1;s.current.position.z=TA.lerp(s.current.position.z,u,.1)}),B.jsxs("mesh",{ref:s,position:[n.x,n.y,n.z],scale:i,children:[B.jsx("boxGeometry",{args:[1,1,1]}),B.jsx("meshStandardMaterial",{color:a})]})},Hre=({playAnimation:r,paused:e,breakpoints:t,currentBreakpointIndex:n,onBreakpointHit:i,selectedLogo:a,brandName:s,fontStyle:o})=>(P.useEffect(()=>{console.log("Scene: selectedLogo changed:",a),a||console.error("Scene: No logo selected, Cube will not render.")},[a]),B.jsxs(B.Fragment,{children:[B.jsx(Tre,{}),B.jsx(r2,{gl:{antialias:!0},children:B.jsxs(P.Suspense,{fallback:null,children:[B.jsx("ambientLight",{intensity:.5}),a&&B.jsx(Fre,{position:[-78.88,5.539,-115.1],scale:2,logoId:a}),s&&B.jsx(Ax,{position:[-69.12,10.75,-49.51],rotation:[.01,-4.69,-.02],fontSize:1.4,color:"white",font:Ox[o]||void 0,anchorX:"center",anchorY:"middle",children:s.toUpperCase()}),s&&B.jsx(Ax,{position:[-69.12,8.75,-49.51],rotation:[.01,-4.69,-.02],fontSize:1.4,color:"white",font:Ox[o]||void 0,anchorX:"center",anchorY:"middle",children:s.toUpperCase()}),s&&B.jsx(Ax,{position:[-69.12,6.75,-49.51],rotation:[.01,-4.69,-.02],fontSize:1.4,color:"white",font:Ox[o]||void 0,anchorX:"center",anchorY:"middle",children:s.toUpperCase()}),s&&B.jsx(Ax,{position:[-69.12,4.85,-49.51],rotation:[.01,-4.69,-.02],fontSize:1.4,color:"black",font:Ox[o]||void 0,anchorX:"center",anchorY:"middle",children:s.toUpperCase()}),B.jsx(Pre,{playAnimation:r,paused:e,breakpoints:t,currentBreakpointIndex:n,onBreakpointHit:i}),B.jsx(x4,{files:"/assets/images/hdrFile.hdr",background:!1}),B.jsx(Lre,{}),B.jsx(Ire,{})]})})]})),zre="/assets/credits-BXScvy_5.svg";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Gre(r,e,t){return(e=Vre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Mt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(t),!0).forEach(function(n){Gre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Vre(r){var e=kre(r,"string");return typeof e=="symbol"?e:e+""}const IN=()=>{};let nR={},rF={},aF=null,sF={mark:IN,measure:IN};try{typeof window<"u"&&(nR=window),typeof document<"u"&&(rF=document),typeof MutationObserver<"u"&&(aF=MutationObserver),typeof performance<"u"&&(sF=performance)}catch{}const{userAgent:PN=""}=nR.navigator||{},wd=nR,Fi=rF,FN=aF,Nx=sF;wd.document;const pf=!!Fi.documentElement&&!!Fi.head&&typeof Fi.addEventListener=="function"&&typeof Fi.createElement=="function",oF=~PN.indexOf("MSIE")||~PN.indexOf("Trident/");var jre=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Xre=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,lF={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Wre={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},cF=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Wa="classic",T2="duotone",Yre="sharp",qre="sharp-duotone",uF=[Wa,T2,Yre,qre],Kre={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Jre={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Zre=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),$re={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Qre=["fak","fa-kit","fakd","fa-kit-duotone"],HN={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},eae=["kit"],tae={kit:{"fa-kit":"fak"}},nae=["fak","fakd"],iae={kit:{fak:"fa-kit"}},zN={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ux={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rae=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],aae=["fak","fa-kit","fakd","fa-kit-duotone"],sae={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},oae={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},lae={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},zM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},cae=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],GM=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...rae,...cae],uae=["solid","regular","light","thin","duotone","brands"],fF=[1,2,3,4,5,6,7,8,9,10],fae=fF.concat([11,12,13,14,15,16,17,18,19,20]),dae=[...Object.keys(lae),...uae,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ux.GROUP,Ux.SWAP_OPACITY,Ux.PRIMARY,Ux.SECONDARY].concat(fF.map(r=>"".concat(r,"x"))).concat(fae.map(r=>"w-".concat(r))),hae={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const cf="___FONT_AWESOME___",kM=16,dF="fa",hF="svg-inline--fa",Mp="data-fa-i2svg",VM="data-fa-pseudo-element",pae="data-fa-pseudo-element-pending",iR="data-prefix",rR="data-icon",GN="fontawesome-i2svg",mae="async",gae=["HTML","HEAD","STYLE","SCRIPT"],pF=(()=>{try{return!0}catch{return!1}})();function n1(r){return new Proxy(r,{get(e,t){return t in e?e[t]:e[Wa]}})}const mF=Mt({},lF);mF[Wa]=Mt(Mt(Mt(Mt({},{"fa-duotone":"duotone"}),lF[Wa]),HN.kit),HN["kit-duotone"]);const vae=n1(mF),jM=Mt({},$re);jM[Wa]=Mt(Mt(Mt(Mt({},{duotone:"fad"}),jM[Wa]),zN.kit),zN["kit-duotone"]);const kN=n1(jM),XM=Mt({},zM);XM[Wa]=Mt(Mt({},XM[Wa]),iae.kit);const aR=n1(XM),WM=Mt({},oae);WM[Wa]=Mt(Mt({},WM[Wa]),tae.kit);n1(WM);const yae=jre,gF="fa-layers-text",_ae=Xre,xae=Mt({},Kre);n1(xae);const bae=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],hT=Wre,Aae=[...eae,...dae],$v=wd.FontAwesomeConfig||{};function Sae(r){var e=Fi.querySelector("script["+r+"]");if(e)return e.getAttribute(r)}function Eae(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}Fi&&typeof Fi.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const i=Eae(Sae(t));i!=null&&($v[n]=i)});const vF={styleDefault:"solid",familyDefault:Wa,cssPrefix:dF,replacementClass:hF,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};$v.familyPrefix&&($v.cssPrefix=$v.familyPrefix);const Rg=Mt(Mt({},vF),$v);Rg.autoReplaceSvg||(Rg.observeMutations=!1);const $t={};Object.keys(vF).forEach(r=>{Object.defineProperty($t,r,{enumerable:!0,set:function(e){Rg[r]=e,Qv.forEach(t=>t($t))},get:function(){return Rg[r]}})});Object.defineProperty($t,"familyPrefix",{enumerable:!0,set:function(r){Rg.cssPrefix=r,Qv.forEach(e=>e($t))},get:function(){return Rg.cssPrefix}});wd.FontAwesomeConfig=$t;const Qv=[];function Tae(r){return Qv.push(r),()=>{Qv.splice(Qv.indexOf(r),1)}}const sd=kM,zc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Mae(r){if(!r||!pf)return;const e=Fi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=r;const t=Fi.head.childNodes;let n=null;for(let i=t.length-1;i>-1;i--){const a=t[i],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(n=a)}return Fi.head.insertBefore(e,n),r}const Cae="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ty(){let r=12,e="";for(;r-- >0;)e+=Cae[Math.random()*62|0];return e}function Wg(r){const e=[];for(let t=(r||[]).length>>>0;t--;)e[t]=r[t];return e}function sR(r){return r.classList?Wg(r.classList):(r.getAttribute("class")||"").split(" ").filter(e=>e)}function yF(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wae(r){return Object.keys(r||{}).reduce((e,t)=>e+"".concat(t,'="').concat(yF(r[t]),'" '),"").trim()}function M2(r){return Object.keys(r||{}).reduce((e,t)=>e+"".concat(t,": ").concat(r[t].trim(),";"),"")}function oR(r){return r.size!==zc.size||r.x!==zc.x||r.y!==zc.y||r.rotate!==zc.rotate||r.flipX||r.flipY}function Rae(r){let{transform:e,containerWidth:t,iconWidth:n}=r;const i={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(a," ").concat(s," ").concat(o)},u={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:l,path:u}}function Dae(r){let{transform:e,width:t=kM,height:n=kM,startCentered:i=!1}=r,a="";return i&&oF?a+="translate(".concat(e.x/sd-t/2,"em, ").concat(e.y/sd-n/2,"em) "):i?a+="translate(calc(-50% + ".concat(e.x/sd,"em), calc(-50% + ").concat(e.y/sd,"em)) "):a+="translate(".concat(e.x/sd,"em, ").concat(e.y/sd,"em) "),a+="scale(".concat(e.size/sd*(e.flipX?-1:1),", ").concat(e.size/sd*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var Bae=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function _F(){const r=dF,e=hF,t=$t.cssPrefix,n=$t.replacementClass;let i=Bae;if(t!==r||n!==e){const a=new RegExp("\\.".concat(r,"\\-"),"g"),s=new RegExp("\\--".concat(r,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(s,"--".concat(t,"-")).replace(o,".".concat(n))}return i}let VN=!1;function pT(){$t.autoAddCss&&!VN&&(Mae(_F()),VN=!0)}var Oae={mixout(){return{dom:{css:_F,insertCss:pT}}},hooks(){return{beforeDOMElementCreation(){pT()},beforeI2svg(){pT()}}}};const uf=wd||{};uf[cf]||(uf[cf]={});uf[cf].styles||(uf[cf].styles={});uf[cf].hooks||(uf[cf].hooks={});uf[cf].shims||(uf[cf].shims=[]);var Gc=uf[cf];const xF=[],bF=function(){Fi.removeEventListener("DOMContentLoaded",bF),fA=1,xF.map(r=>r())};let fA=!1;pf&&(fA=(Fi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Fi.readyState),fA||Fi.addEventListener("DOMContentLoaded",bF));function Nae(r){pf&&(fA?setTimeout(r,0):xF.push(r))}function i1(r){const{tag:e,attributes:t={},children:n=[]}=r;return typeof r=="string"?yF(r):"<".concat(e," ").concat(wae(t),">").concat(n.map(i1).join(""),"</").concat(e,">")}function jN(r,e,t){if(r&&r[e]&&r[e][t])return{prefix:e,iconName:t,icon:r[e][t]}}var mT=function(e,t,n,i){var a=Object.keys(e),s=a.length,o=t,l,u,d;for(n===void 0?(l=1,d=e[a[0]]):(l=0,d=n);l<s;l++)u=a[l],d=o(d,e[u],u,e);return d};function Uae(r){const e=[];let t=0;const n=r.length;for(;t<n;){const i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){const a=r.charCodeAt(t++);(a&64512)==56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}function YM(r){const e=Uae(r);return e.length===1?e[0].toString(16):null}function Lae(r,e){const t=r.length;let n=r.charCodeAt(e),i;return n>=55296&&n<=56319&&t>e+1&&(i=r.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function XN(r){return Object.keys(r).reduce((e,t)=>{const n=r[t];return!!n.icon?e[n.iconName]=n.icon:e[t]=n,e},{})}function qM(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=t,i=XN(e);typeof Gc.hooks.addPack=="function"&&!n?Gc.hooks.addPack(r,XN(e)):Gc.styles[r]=Mt(Mt({},Gc.styles[r]||{}),i),r==="fas"&&qM("fa",e)}const{styles:My,shims:Iae}=Gc,AF=Object.keys(aR),Pae=AF.reduce((r,e)=>(r[e]=Object.keys(aR[e]),r),{});let lR=null,SF={},EF={},TF={},MF={},CF={};function Fae(r){return~Aae.indexOf(r)}function Hae(r,e){const t=e.split("-"),n=t[0],i=t.slice(1).join("-");return n===r&&i!==""&&!Fae(i)?i:null}const wF=()=>{const r=n=>mT(My,(i,a,s)=>(i[s]=mT(a,n,{}),i),{});SF=r((n,i,a)=>(i[3]&&(n[i[3]]=a),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{n[o.toString(16)]=a}),n)),EF=r((n,i,a)=>(n[a]=a,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{n[o]=a}),n)),CF=r((n,i,a)=>{const s=i[2];return n[a]=a,s.forEach(o=>{n[o]=a}),n});const e="far"in My||$t.autoFetchSvg,t=mT(Iae,(n,i)=>{const a=i[0];let s=i[1];const o=i[2];return s==="far"&&!e&&(s="fas"),typeof a=="string"&&(n.names[a]={prefix:s,iconName:o}),typeof a=="number"&&(n.unicodes[a.toString(16)]={prefix:s,iconName:o}),n},{names:{},unicodes:{}});TF=t.names,MF=t.unicodes,lR=C2($t.styleDefault,{family:$t.familyDefault})};Tae(r=>{lR=C2(r.styleDefault,{family:$t.familyDefault})});wF();function cR(r,e){return(SF[r]||{})[e]}function zae(r,e){return(EF[r]||{})[e]}function Qh(r,e){return(CF[r]||{})[e]}function RF(r){return TF[r]||{prefix:null,iconName:null}}function Gae(r){const e=MF[r],t=cR("fas",r);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Rd(){return lR}const DF=()=>({prefix:null,iconName:null,rest:[]});function kae(r){let e=Wa;const t=AF.reduce((n,i)=>(n[i]="".concat($t.cssPrefix,"-").concat(i),n),{});return uF.forEach(n=>{(r.includes(t[n])||r.some(i=>Pae[n].includes(i)))&&(e=n)}),e}function C2(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Wa}=e,n=vae[t][r];if(t===T2&&!r)return"fad";const i=kN[t][r]||kN[t][n],a=r in Gc.styles?r:null;return i||a||null}function Vae(r){let e=[],t=null;return r.forEach(n=>{const i=Hae($t.cssPrefix,n);i?t=i:n&&e.push(n)}),{iconName:t,rest:e}}function WN(r){return r.sort().filter((e,t,n)=>n.indexOf(e)===t)}function w2(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let n=null;const i=GM.concat(aae),a=WN(r.filter(p=>i.includes(p))),s=WN(r.filter(p=>!GM.includes(p))),o=a.filter(p=>(n=p,!cF.includes(p))),[l=null]=o,u=kae(a),d=Mt(Mt({},Vae(s)),{},{prefix:C2(l,{family:u})});return Mt(Mt(Mt({},d),Yae({values:r,family:u,styles:My,config:$t,canonical:d,givenPrefix:n})),jae(t,n,d))}function jae(r,e,t){let{prefix:n,iconName:i}=t;if(r||!n||!i)return{prefix:n,iconName:i};const a=e==="fa"?RF(i):{},s=Qh(n,i);return i=a.iconName||s||i,n=a.prefix||n,n==="far"&&!My.far&&My.fas&&!$t.autoFetchSvg&&(n="fas"),{prefix:n,iconName:i}}const Xae=uF.filter(r=>r!==Wa||r!==T2),Wae=Object.keys(zM).filter(r=>r!==Wa).map(r=>Object.keys(zM[r])).flat();function Yae(r){const{values:e,family:t,canonical:n,givenPrefix:i="",styles:a={},config:s={}}=r,o=t===T2,l=e.includes("fa-duotone")||e.includes("fad"),u=s.familyDefault==="duotone",d=n.prefix==="fad"||n.prefix==="fa-duotone";if(!o&&(l||u||d)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&Xae.includes(t)&&(Object.keys(a).find(v=>Wae.includes(v))||s.autoFetchSvg)){const v=Zre.get(t).defaultShortPrefixId;n.prefix=v,n.iconName=Qh(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||i==="fa")&&(n.prefix=Rd()||"fas"),n}class qae{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(a=>{this.definitions[a]=Mt(Mt({},this.definitions[a]||{}),i[a]),qM(a,i[a]);const s=aR[Wa][a];s&&qM(s,i[a]),wF()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(i=>{const{prefix:a,iconName:s,icon:o}=n[i],l=o[2];e[a]||(e[a]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[a][u]=o)}),e[a][s]=o}),e}}let YN=[],ag={};const mg={},Kae=Object.keys(mg);function Jae(r,e){let{mixoutsTo:t}=e;return YN=r,ag={},Object.keys(mg).forEach(n=>{Kae.indexOf(n)===-1&&delete mg[n]}),YN.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(a=>{typeof i[a]=="function"&&(t[a]=i[a]),typeof i[a]=="object"&&Object.keys(i[a]).forEach(s=>{t[a]||(t[a]={}),t[a][s]=i[a][s]})}),n.hooks){const a=n.hooks();Object.keys(a).forEach(s=>{ag[s]||(ag[s]=[]),ag[s].push(a[s])})}n.provides&&n.provides(mg)}),t}function KM(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];return(ag[r]||[]).forEach(s=>{e=s.apply(null,[e,...n])}),e}function Cp(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];(ag[r]||[]).forEach(a=>{a.apply(null,t)})}function Dd(){const r=arguments[0],e=Array.prototype.slice.call(arguments,1);return mg[r]?mg[r].apply(null,e):void 0}function JM(r){r.prefix==="fa"&&(r.prefix="fas");let{iconName:e}=r;const t=r.prefix||Rd();if(e)return e=Qh(t,e)||e,jN(BF.definitions,t,e)||jN(Gc.styles,t,e)}const BF=new qae,Zae=()=>{$t.autoReplaceSvg=!1,$t.observeMutations=!1,Cp("noAuto")},$ae={i2svg:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pf?(Cp("beforeI2svg",r),Dd("pseudoElements2svg",r),Dd("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=r;$t.autoReplaceSvg===!1&&($t.autoReplaceSvg=!0),$t.observeMutations=!0,Nae(()=>{ese({autoReplaceSvgRoot:e}),Cp("watch",r)})}},Qae={icon:r=>{if(r===null)return null;if(typeof r=="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:Qh(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){const e=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],t=C2(r[0]);return{prefix:t,iconName:Qh(t,e)||e}}if(typeof r=="string"&&(r.indexOf("".concat($t.cssPrefix,"-"))>-1||r.match(yae))){const e=w2(r.split(" "),{skipLookups:!0});return{prefix:e.prefix||Rd(),iconName:Qh(e.prefix,e.iconName)||e.iconName}}if(typeof r=="string"){const e=Rd();return{prefix:e,iconName:Qh(e,r)||r}}}},bo={noAuto:Zae,config:$t,dom:$ae,parse:Qae,library:BF,findIconDefinition:JM,toHtml:i1},ese=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Fi}=r;(Object.keys(Gc.styles).length>0||$t.autoFetchSvg)&&pf&&$t.autoReplaceSvg&&bo.dom.i2svg({node:e})};function R2(r,e){return Object.defineProperty(r,"abstract",{get:e}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(t=>i1(t))}}),Object.defineProperty(r,"node",{get:function(){if(!pf)return;const t=Fi.createElement("div");return t.innerHTML=r.html,t.children}}),r}function tse(r){let{children:e,main:t,mask:n,attributes:i,styles:a,transform:s}=r;if(oR(s)&&t.found&&!n.found){const{width:o,height:l}=t,u={x:o/l/2,y:.5};i.style=M2(Mt(Mt({},a),{},{"transform-origin":"".concat(u.x+s.x/16,"em ").concat(u.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function nse(r){let{prefix:e,iconName:t,children:n,attributes:i,symbol:a}=r;const s=a===!0?"".concat(e,"-").concat($t.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Mt(Mt({},i),{},{id:s}),children:n}]}]}function uR(r){const{icons:{main:e,mask:t},prefix:n,iconName:i,transform:a,symbol:s,title:o,maskId:l,titleId:u,extra:d,watchable:p=!1}=r,{width:v,height:y}=t.found?t:e,x=nae.includes(n),A=[$t.replacementClass,i?"".concat($t.cssPrefix,"-").concat(i):""].filter(I=>d.classes.indexOf(I)===-1).filter(I=>I!==""||!!I).concat(d.classes).join(" ");let S={children:[],attributes:Mt(Mt({},d.attributes),{},{"data-prefix":n,"data-icon":i,class:A,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(y)})};const E=x&&!~d.classes.indexOf("fa-fw")?{width:"".concat(v/y*16*.0625,"em")}:{};p&&(S.attributes[Mp]=""),o&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||Ty())},children:[o]}),delete S.attributes.title);const M=Mt(Mt({},S),{},{prefix:n,iconName:i,main:e,mask:t,maskId:l,transform:a,symbol:s,styles:Mt(Mt({},E),d.styles)}),{children:R,attributes:w}=t.found&&e.found?Dd("generateAbstractMask",M)||{children:[],attributes:{}}:Dd("generateAbstractIcon",M)||{children:[],attributes:{}};return M.children=R,M.attributes=w,s?nse(M):tse(M)}function qN(r){const{content:e,width:t,height:n,transform:i,title:a,extra:s,watchable:o=!1}=r,l=Mt(Mt(Mt({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});o&&(l[Mp]="");const u=Mt({},s.styles);oR(i)&&(u.transform=Dae({transform:i,startCentered:!0,width:t,height:n}),u["-webkit-transform"]=u.transform);const d=M2(u);d.length>0&&(l.style=d);const p=[];return p.push({tag:"span",attributes:l,children:[e]}),a&&p.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),p}function ise(r){const{content:e,title:t,extra:n}=r,i=Mt(Mt(Mt({},n.attributes),t?{title:t}:{}),{},{class:n.classes.join(" ")}),a=M2(n.styles);a.length>0&&(i.style=a);const s=[];return s.push({tag:"span",attributes:i,children:[e]}),t&&s.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),s}const{styles:gT}=Gc;function ZM(r){const e=r[0],t=r[1],[n]=r.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat($t.cssPrefix,"-").concat(hT.GROUP)},children:[{tag:"path",attributes:{class:"".concat($t.cssPrefix,"-").concat(hT.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat($t.cssPrefix,"-").concat(hT.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:t,icon:i}}const rse={found:!1,width:512,height:512};function ase(r,e){!pF&&!$t.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(e,'" is missing.'))}function $M(r,e){let t=e;return e==="fa"&&$t.styleDefault!==null&&(e=Rd()),new Promise((n,i)=>{if(t==="fa"){const a=RF(r)||{};r=a.iconName||r,e=a.prefix||e}if(r&&e&&gT[e]&&gT[e][r]){const a=gT[e][r];return n(ZM(a))}ase(r,e),n(Mt(Mt({},rse),{},{icon:$t.showMissingIcons&&r?Dd("missingIconAbstract")||{}:{}}))})}const KN=()=>{},QM=$t.measurePerformance&&Nx&&Nx.mark&&Nx.measure?Nx:{mark:KN,measure:KN},Bv='FA "6.7.2"',sse=r=>(QM.mark("".concat(Bv," ").concat(r," begins")),()=>OF(r)),OF=r=>{QM.mark("".concat(Bv," ").concat(r," ends")),QM.measure("".concat(Bv," ").concat(r),"".concat(Bv," ").concat(r," begins"),"".concat(Bv," ").concat(r," ends"))};var fR={begin:sse,end:OF};const Yx=()=>{};function JN(r){return typeof(r.getAttribute?r.getAttribute(Mp):null)=="string"}function ose(r){const e=r.getAttribute?r.getAttribute(iR):null,t=r.getAttribute?r.getAttribute(rR):null;return e&&t}function lse(r){return r&&r.classList&&r.classList.contains&&r.classList.contains($t.replacementClass)}function cse(){return $t.autoReplaceSvg===!0?qx.replace:qx[$t.autoReplaceSvg]||qx.replace}function use(r){return Fi.createElementNS("http://www.w3.org/2000/svg",r)}function fse(r){return Fi.createElement(r)}function NF(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=r.tag==="svg"?use:fse}=e;if(typeof r=="string")return Fi.createTextNode(r);const n=t(r.tag);return Object.keys(r.attributes||[]).forEach(function(a){n.setAttribute(a,r.attributes[a])}),(r.children||[]).forEach(function(a){n.appendChild(NF(a,{ceFn:t}))}),n}function dse(r){let e=" ".concat(r.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const qx={replace:function(r){const e=r[0];if(e.parentNode)if(r[1].forEach(t=>{e.parentNode.insertBefore(NF(t),e)}),e.getAttribute(Mp)===null&&$t.keepOriginalSource){let t=Fi.createComment(dse(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(r){const e=r[0],t=r[1];if(~sR(e).indexOf($t.replacementClass))return qx.replace(r);const n=new RegExp("".concat($t.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((s,o)=>(o===$t.replacementClass||o.match(n)?s.toSvg.push(o):s.toNode.push(o),s),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const i=t.map(a=>i1(a)).join(`
`);e.setAttribute(Mp,""),e.innerHTML=i}};function ZN(r){r()}function UF(r,e){const t=typeof e=="function"?e:Yx;if(r.length===0)t();else{let n=ZN;$t.mutateApproach===mae&&(n=wd.requestAnimationFrame||ZN),n(()=>{const i=cse(),a=fR.begin("mutate");r.map(i),a(),t()})}}let dR=!1;function LF(){dR=!0}function eC(){dR=!1}let dA=null;function $N(r){if(!FN||!$t.observeMutations)return;const{treeCallback:e=Yx,nodeCallback:t=Yx,pseudoElementsCallback:n=Yx,observeMutationsRoot:i=Fi}=r;dA=new FN(a=>{if(dR)return;const s=Rd();Wg(a).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!JN(o.addedNodes[0])&&($t.searchPseudoElements&&n(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&$t.searchPseudoElements&&n(o.target.parentNode),o.type==="attributes"&&JN(o.target)&&~bae.indexOf(o.attributeName))if(o.attributeName==="class"&&ose(o.target)){const{prefix:l,iconName:u}=w2(sR(o.target));o.target.setAttribute(iR,l||s),u&&o.target.setAttribute(rR,u)}else lse(o.target)&&t(o.target)})}),pf&&dA.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function hse(){dA&&dA.disconnect()}function pse(r){const e=r.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((n,i)=>{const a=i.split(":"),s=a[0],o=a.slice(1);return s&&o.length>0&&(n[s]=o.join(":").trim()),n},{})),t}function mse(r){const e=r.getAttribute("data-prefix"),t=r.getAttribute("data-icon"),n=r.innerText!==void 0?r.innerText.trim():"";let i=w2(sR(r));return i.prefix||(i.prefix=Rd()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=zae(i.prefix,r.innerText)||cR(i.prefix,YM(r.innerText))),!i.iconName&&$t.autoFetchSvg&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=r.firstChild.data)),i}function gse(r){const e=Wg(r.attributes).reduce((i,a)=>(i.name!=="class"&&i.name!=="style"&&(i[a.name]=a.value),i),{}),t=r.getAttribute("title"),n=r.getAttribute("data-fa-title-id");return $t.autoA11y&&(t?e["aria-labelledby"]="".concat($t.replacementClass,"-title-").concat(n||Ty()):(e["aria-hidden"]="true",e.focusable="false")),e}function vse(){return{iconName:null,title:null,titleId:null,prefix:null,transform:zc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function QN(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:n,rest:i}=mse(r),a=gse(r),s=KM("parseNodeAttributes",{},r);let o=e.styleParser?pse(r):[];return Mt({iconName:t,title:r.getAttribute("title"),titleId:r.getAttribute("data-fa-title-id"),prefix:n,transform:zc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:a}},s)}const{styles:yse}=Gc;function IF(r){const e=$t.autoReplaceSvg==="nest"?QN(r,{styleParser:!1}):QN(r);return~e.extra.classes.indexOf(gF)?Dd("generateLayersText",r,e):Dd("generateSvgReplacementMutation",r,e)}function _se(){return[...Qre,...GM]}function eU(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!pf)return Promise.resolve();const t=Fi.documentElement.classList,n=d=>t.add("".concat(GN,"-").concat(d)),i=d=>t.remove("".concat(GN,"-").concat(d)),a=$t.autoFetchSvg?_se():cF.concat(Object.keys(yse));a.includes("fa")||a.push("fa");const s=[".".concat(gF,":not([").concat(Mp,"])")].concat(a.map(d=>".".concat(d,":not([").concat(Mp,"])"))).join(", ");if(s.length===0)return Promise.resolve();let o=[];try{o=Wg(r.querySelectorAll(s))}catch{}if(o.length>0)n("pending"),i("complete");else return Promise.resolve();const l=fR.begin("onTree"),u=o.reduce((d,p)=>{try{const v=IF(p);v&&d.push(v)}catch(v){pF||v.name==="MissingIcon"&&console.error(v)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(v=>{UF(v,()=>{n("active"),n("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(v=>{l(),p(v)})})}function xse(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;IF(r).then(t=>{t&&UF([t],e)})}function bse(r){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:JM(e||{});let{mask:i}=t;return i&&(i=(i||{}).icon?i:JM(i||{})),r(n,Mt(Mt({},t),{},{mask:i}))}}const Ase=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=zc,symbol:n=!1,mask:i=null,maskId:a=null,title:s=null,titleId:o=null,classes:l=[],attributes:u={},styles:d={}}=e;if(!r)return;const{prefix:p,iconName:v,icon:y}=r;return R2(Mt({type:"icon"},r),()=>(Cp("beforeDOMElementCreation",{iconDefinition:r,params:e}),$t.autoA11y&&(s?u["aria-labelledby"]="".concat($t.replacementClass,"-title-").concat(o||Ty()):(u["aria-hidden"]="true",u.focusable="false")),uR({icons:{main:ZM(y),mask:i?ZM(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:v,transform:Mt(Mt({},zc),t),symbol:n,title:s,maskId:a,titleId:o,extra:{attributes:u,styles:d,classes:l}})))};var Sse={mixout(){return{icon:bse(Ase)}},hooks(){return{mutationObserverCallbacks(r){return r.treeCallback=eU,r.nodeCallback=xse,r}}},provides(r){r.i2svg=function(e){const{node:t=Fi,callback:n=()=>{}}=e;return eU(t,n)},r.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:i,titleId:a,prefix:s,transform:o,symbol:l,mask:u,maskId:d,extra:p}=t;return new Promise((v,y)=>{Promise.all([$M(n,s),u.iconName?$M(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(x=>{let[A,S]=x;v([e,uR({icons:{main:A,mask:S},prefix:s,iconName:n,transform:o,symbol:l,maskId:d,title:i,titleId:a,extra:p,watchable:!0})])}).catch(y)})},r.generateAbstractIcon=function(e){let{children:t,attributes:n,main:i,transform:a,styles:s}=e;const o=M2(s);o.length>0&&(n.style=o);let l;return oR(a)&&(l=Dd("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),t.push(l||i.icon),{children:t,attributes:n}}}},Ese={mixout(){return{layer(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return R2({type:"layer"},()=>{Cp("beforeDOMElementCreation",{assembler:r,params:e});let n=[];return r(i=>{Array.isArray(i)?i.map(a=>{n=n.concat(a.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat($t.cssPrefix,"-layers"),...t].join(" ")},children:n}]})}}}},Tse={mixout(){return{counter(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:n=[],attributes:i={},styles:a={}}=e;return R2({type:"counter",content:r},()=>(Cp("beforeDOMElementCreation",{content:r,params:e}),ise({content:r.toString(),title:t,extra:{attributes:i,styles:a,classes:["".concat($t.cssPrefix,"-layers-counter"),...n]}})))}}}},Mse={mixout(){return{text(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=zc,title:n=null,classes:i=[],attributes:a={},styles:s={}}=e;return R2({type:"text",content:r},()=>(Cp("beforeDOMElementCreation",{content:r,params:e}),qN({content:r,transform:Mt(Mt({},zc),t),title:n,extra:{attributes:a,styles:s,classes:["".concat($t.cssPrefix,"-layers-text"),...i]}})))}}},provides(r){r.generateLayersText=function(e,t){const{title:n,transform:i,extra:a}=t;let s=null,o=null;if(oF){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();s=u.width/l,o=u.height/l}return $t.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,qN({content:e.innerHTML,width:s,height:o,transform:i,title:n,extra:a,watchable:!0})])}}};const Cse=new RegExp('"',"ug"),tU=[1105920,1112319],nU=Mt(Mt(Mt(Mt({},{FontAwesome:{normal:"fas",400:"fas"}}),Jre),hae),sae),tC=Object.keys(nU).reduce((r,e)=>(r[e.toLowerCase()]=nU[e],r),{}),wse=Object.keys(tC).reduce((r,e)=>{const t=tC[e];return r[e]=t[900]||[...Object.entries(t)][0][1],r},{});function Rse(r){const e=r.replace(Cse,""),t=Lae(e,0),n=t>=tU[0]&&t<=tU[1],i=e.length===2?e[0]===e[1]:!1;return{value:YM(i?e[0]:e),isSecondary:n||i}}function Dse(r,e){const t=r.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),i=isNaN(n)?"normal":n;return(tC[t]||{})[i]||wse[t]}function iU(r,e){const t="".concat(pae).concat(e.replace(":","-"));return new Promise((n,i)=>{if(r.getAttribute(t)!==null)return n();const s=Wg(r.children).filter(v=>v.getAttribute(VM)===e)[0],o=wd.getComputedStyle(r,e),l=o.getPropertyValue("font-family"),u=l.match(_ae),d=o.getPropertyValue("font-weight"),p=o.getPropertyValue("content");if(s&&!u)return r.removeChild(s),n();if(u&&p!=="none"&&p!==""){const v=o.getPropertyValue("content");let y=Dse(l,d);const{value:x,isSecondary:A}=Rse(v),S=u[0].startsWith("FontAwesome");let E=cR(y,x),M=E;if(S){const R=Gae(x);R.iconName&&R.prefix&&(E=R.iconName,y=R.prefix)}if(E&&!A&&(!s||s.getAttribute(iR)!==y||s.getAttribute(rR)!==M)){r.setAttribute(t,M),s&&r.removeChild(s);const R=vse(),{extra:w}=R;w.attributes[VM]=e,$M(E,y).then(I=>{const U=uR(Mt(Mt({},R),{},{icons:{main:I,mask:DF()},prefix:y,iconName:M,extra:w,watchable:!0})),H=Fi.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?r.insertBefore(H,r.firstChild):r.appendChild(H),H.outerHTML=U.map(F=>i1(F)).join(`
`),r.removeAttribute(t),n()}).catch(i)}else n()}else n()})}function Bse(r){return Promise.all([iU(r,"::before"),iU(r,"::after")])}function Ose(r){return r.parentNode!==document.head&&!~gae.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(VM)&&(!r.parentNode||r.parentNode.tagName!=="svg")}function rU(r){if(pf)return new Promise((e,t)=>{const n=Wg(r.querySelectorAll("*")).filter(Ose).map(Bse),i=fR.begin("searchPseudoElements");LF(),Promise.all(n).then(()=>{i(),eC(),e()}).catch(()=>{i(),eC(),t()})})}var Nse={hooks(){return{mutationObserverCallbacks(r){return r.pseudoElementsCallback=rU,r}}},provides(r){r.pseudoElements2svg=function(e){const{node:t=Fi}=e;$t.searchPseudoElements&&rU(t)}}};let aU=!1;var Use={mixout(){return{dom:{unwatch(){LF(),aU=!0}}}},hooks(){return{bootstrap(){$N(KM("mutationObserverCallbacks",{}))},noAuto(){hse()},watch(r){const{observeMutationsRoot:e}=r;aU?eC():$N(KM("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const sU=r=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce((t,n)=>{const i=n.toLowerCase().split("-"),a=i[0];let s=i.slice(1).join("-");if(a&&s==="h")return t.flipX=!0,t;if(a&&s==="v")return t.flipY=!0,t;if(s=parseFloat(s),isNaN(s))return t;switch(a){case"grow":t.size=t.size+s;break;case"shrink":t.size=t.size-s;break;case"left":t.x=t.x-s;break;case"right":t.x=t.x+s;break;case"up":t.y=t.y-s;break;case"down":t.y=t.y+s;break;case"rotate":t.rotate=t.rotate+s;break}return t},e)};var Lse={mixout(){return{parse:{transform:r=>sU(r)}}},hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-transform");return t&&(r.transform=sU(t)),r}}},provides(r){r.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:i,iconWidth:a}=e;const s={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),d={transform:"".concat(o," ").concat(l," ").concat(u)},p={transform:"translate(".concat(a/2*-1," -256)")},v={outer:s,inner:d,path:p};return{tag:"g",attributes:Mt({},v.outer),children:[{tag:"g",attributes:Mt({},v.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Mt(Mt({},t.icon.attributes),v.path)}]}]}}}};const vT={x:0,y:0,width:"100%",height:"100%"};function oU(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||e)&&(r.attributes.fill="black"),r}function Ise(r){return r.tag==="g"?r.children:[r]}var Pse={hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-mask"),n=t?w2(t.split(" ").map(i=>i.trim())):DF();return n.prefix||(n.prefix=Rd()),r.mask=n,r.maskId=e.getAttribute("data-fa-mask-id"),r}}},provides(r){r.generateAbstractMask=function(e){let{children:t,attributes:n,main:i,mask:a,maskId:s,transform:o}=e;const{width:l,icon:u}=i,{width:d,icon:p}=a,v=Rae({transform:o,containerWidth:d,iconWidth:l}),y={tag:"rect",attributes:Mt(Mt({},vT),{},{fill:"white"})},x=u.children?{children:u.children.map(oU)}:{},A={tag:"g",attributes:Mt({},v.inner),children:[oU(Mt({tag:u.tag,attributes:Mt(Mt({},u.attributes),v.path)},x))]},S={tag:"g",attributes:Mt({},v.outer),children:[A]},E="mask-".concat(s||Ty()),M="clip-".concat(s||Ty()),R={tag:"mask",attributes:Mt(Mt({},vT),{},{id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,S]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:M},children:Ise(p)},R]};return t.push(w,{tag:"rect",attributes:Mt({fill:"currentColor","clip-path":"url(#".concat(M,")"),mask:"url(#".concat(E,")")},vT)}),{children:t,attributes:n}}}},Fse={provides(r){let e=!1;wd.matchMedia&&(e=wd.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){const t=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:Mt(Mt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=Mt(Mt({},i),{},{attributeName:"opacity"}),s={tag:"circle",attributes:Mt(Mt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||s.children.push({tag:"animate",attributes:Mt(Mt({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Mt(Mt({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(s),t.push({tag:"path",attributes:Mt(Mt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Mt(Mt({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:Mt(Mt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Mt(Mt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},Hse={hooks(){return{parseNodeAttributes(r,e){const t=e.getAttribute("data-fa-symbol"),n=t===null?!1:t===""?!0:t;return r.symbol=n,r}}}},zse=[Oae,Sse,Ese,Tse,Mse,Nse,Use,Lse,Pse,Fse,Hse];Jae(zse,{mixoutsTo:bo});bo.noAuto;bo.config;bo.library;bo.dom;const nC=bo.parse;bo.findIconDefinition;bo.toHtml;const Gse=bo.icon;bo.layer;bo.text;bo.counter;function lU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ic(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(t),!0).forEach(function(n){sg(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hA(r){"@babel/helpers - typeof";return hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hA(r)}function sg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kse(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Vse(r,e){if(r==null)return{};var t=kse(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function iC(r){return jse(r)||Xse(r)||Wse(r)||Yse()}function jse(r){if(Array.isArray(r))return rC(r)}function Xse(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Wse(r,e){if(r){if(typeof r=="string")return rC(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rC(r,e)}}function rC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(r){var e,t=r.beat,n=r.fade,i=r.beatFade,a=r.bounce,s=r.shake,o=r.flash,l=r.spin,u=r.spinPulse,d=r.spinReverse,p=r.pulse,v=r.fixedWidth,y=r.inverse,x=r.border,A=r.listItem,S=r.flip,E=r.size,M=r.rotation,R=r.pull,w=(e={"fa-beat":t,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":p,"fa-fw":v,"fa-inverse":y,"fa-border":x,"fa-li":A,"fa-flip":S===!0,"fa-flip-horizontal":S==="horizontal"||S==="both","fa-flip-vertical":S==="vertical"||S==="both"},sg(e,"fa-".concat(E),typeof E<"u"&&E!==null),sg(e,"fa-rotate-".concat(M),typeof M<"u"&&M!==null&&M!==0),sg(e,"fa-pull-".concat(R),typeof R<"u"&&R!==null),sg(e,"fa-swap-opacity",r.swapOpacity),e);return Object.keys(w).map(function(I){return w[I]?I:null}).filter(function(I){return I})}function Kse(r){return r=r-0,r===r}function PF(r){return Kse(r)?r:(r=r.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),r.substr(0,1).toLowerCase()+r.substr(1))}var Jse=["style"];function Zse(r){return r.charAt(0).toUpperCase()+r.slice(1)}function $se(r){return r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),i=PF(t.slice(0,n)),a=t.slice(n+1).trim();return i.startsWith("webkit")?e[Zse(i)]=a:e[i]=a,e},{})}function FF(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(l){return FF(r,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var d=e.attributes[u];switch(u){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=$se(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=d:l.attrs[PF(u)]=d}return l},{attrs:{}}),a=t.style,s=a===void 0?{}:a,o=Vse(t,Jse);return i.attrs.style=Ic(Ic({},i.attrs.style),s),r.apply(void 0,[e.tag,Ic(Ic({},i.attrs),o)].concat(iC(n)))}var HF=!1;try{HF=!0}catch{}function Qse(){if(!HF&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function cU(r){if(r&&hA(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(nC.icon)return nC.icon(r);if(r===null)return null;if(r&&hA(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}function yT(r,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?sg({},r,e):{}}var uU={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Xl=Ae.forwardRef(function(r,e){var t=Ic(Ic({},uU),r),n=t.icon,i=t.mask,a=t.symbol,s=t.className,o=t.title,l=t.titleId,u=t.maskId,d=cU(n),p=yT("classes",[].concat(iC(qse(t)),iC((s||"").split(" ")))),v=yT("transform",typeof t.transform=="string"?nC.transform(t.transform):t.transform),y=yT("mask",cU(i)),x=Gse(d,Ic(Ic(Ic(Ic({},p),v),y),{},{symbol:a,title:o,titleId:l,maskId:u}));if(!x)return Qse("Could not find icon",d),null;var A=x.abstract,S={ref:e};return Object.keys(t).forEach(function(E){uU.hasOwnProperty(E)||(S[E]=t[E])}),eoe(A[0],S)});Xl.displayName="FontAwesomeIcon";Xl.propTypes={beat:Dt.bool,border:Dt.bool,beatFade:Dt.bool,bounce:Dt.bool,className:Dt.string,fade:Dt.bool,flash:Dt.bool,mask:Dt.oneOfType([Dt.object,Dt.array,Dt.string]),maskId:Dt.string,fixedWidth:Dt.bool,inverse:Dt.bool,flip:Dt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Dt.oneOfType([Dt.object,Dt.array,Dt.string]),listItem:Dt.bool,pull:Dt.oneOf(["right","left"]),pulse:Dt.bool,rotation:Dt.oneOf([0,90,180,270]),shake:Dt.bool,size:Dt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Dt.bool,spinPulse:Dt.bool,spinReverse:Dt.bool,symbol:Dt.oneOfType([Dt.bool,Dt.string]),title:Dt.string,titleId:Dt.string,transform:Dt.oneOfType([Dt.string,Dt.object]),swapOpacity:Dt.bool};var eoe=FF.bind(null,Ae.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Bd={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},toe={prefix:"fas",iconName:"volume-high",icon:[640,512,[128266,"volume-up"],"f028","M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"]},noe={prefix:"fas",iconName:"volume-xmark",icon:[576,512,["volume-mute","volume-times"],"f6a9","M301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},ioe=()=>{const r=cC(),e=o=>{o.preventDefault(),An.to(".transition-overlay",{duration:.5,opacity:1,ease:"power2.inOut",onComplete:()=>{r("/room")}})},[t,n]=P.useState(!0),i=()=>{n(o=>!o)};return eu().EthicallyStrongOptions[0],P.useEffect(()=>((u=>{Object.keys(u).forEach(d=>{document.body.style[d]=u[d],document.documentElement.style[d]=u[d]})})({margin:"0",padding:"0",fontFamily:'"Kode Mono", monospace',height:"100vh",overflow:"hidden",background:"linear-gradient(123.21deg, #282828 27.78%, #52231f 94.21%)"}),()=>{document.body.style="",document.documentElement.style=""}),[]),B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"transition-overlay"}),B.jsxs("div",{className:"landing-canvas-page",children:[B.jsxs("header",{className:"banner",children:[B.jsx(rw,{gradient:!1,speed:30,pauseOnHover:!1,className:"marquee-center",children:"BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION // BEHIND THE FASHION //"}),B.jsx("img",{src:kb,alt:"Logo",className:"superimposed-logo super-landing"})]}),B.jsxs("main",{className:"content",children:[B.jsxs("div",{className:"text-content fade-in",children:[B.jsxs("div",{className:"landing-body fade-in",children:[B.jsx("h1",{className:"landing-h1 landing-page",children:"STEP INTO THE ROLE OF A FASHION BRAND CEO."}),B.jsxs("p",{className:"body-text-medium",children:["Experience what it's like to build a fashion brand from the ground up, while ",B.jsx("br",{})," managing crucial factors such as budget, audience, and sustainability."]})]}),B.jsxs("div",{className:"audio-start",children:[B.jsx("button",{id:"start-button",className:"add-button body-text-medium fade-in",onClick:e,children:"Build Your Brand"}),B.jsx("div",{className:"audio-btn",onClick:i,children:B.jsx(Xl,{icon:t?toe:noe})})]}),B.jsx("div",{className:"credits-container fade-in",children:B.jsx("img",{src:zre,alt:"production"})})]}),B.jsx("div",{className:"intro-image model-container fade-in",children:B.jsx("img",{style:{position:"absolute",width:"100%",height:"100%"},src:kb,alt:"Background Image"})})]})]})]})},roe="/assets/Vanguard-1-y2jUXR1L.svg",aoe="/assets/Vanguard-2-Csz9m07C.svg",soe="/assets/Vanguard-3-CGrLZizu.svg";function ooe({activeStates:r,onVanguardClick:e}){const t=[0,1,2,3],n=[kb,roe,aoe,soe];return B.jsx("div",{className:"vanguard-parent-container",children:B.jsx("div",{className:"vanguard-container",children:t.map(i=>B.jsx("div",{className:`vanguard ${r[i]?"vanguard-active":""}`,onClick:()=>{r[i]&&e(i)},children:B.jsx("div",{className:`vanguard-inner-circle ${r[i]?"blink-animation":""}`,children:B.jsx("img",{src:n[i],alt:`Vanguard ${i+1}`,className:"logo-vanguard"})})},i))})})}const Ip=P.createContext();function loe({children:r}){const[e,t]=P.useState(0),n=()=>(t(1e5),1e5);return B.jsx(Ip.Provider,{value:{fundingAmount:e,setFundingAmount:t,generateFunding:n},children:r})}function coe({steps:r,onDeactivateActiveVanguard:e}){const t=r||[],[n,i]=P.useState(0),[a,s]=P.useState(!1),[o,l]=P.useState(0),[u,d]=P.useState(!0),{fundingAmount:p,generateFunding:v}=P.useContext(Ip),y=P.useRef(null),x=P.useRef(null),A=P.useRef(null);P.useEffect(()=>{An.fromTo(A.current,{opacity:0},{opacity:1,duration:.5,ease:"power1.out"})},[]),P.useEffect(()=>{const U=t[n];U&&U.funding&&(p||v())},[n,t,p,v]);const S=()=>{n<t.length-1&&i(n+1)},E=()=>{n>0&&i(n-1)},M=0,R=U=>{U.preventDefault(),!a&&(d(!1),l(0),x.current=Date.now(),y.current=setInterval(()=>{const F=(Date.now()-x.current)/M*100;F>=100?(l(100),I(),clearInterval(y.current)):l(F)},30))},w=U=>{U.preventDefault(),!a&&(clearInterval(y.current),o<100&&(l(0),d(!0)))},I=()=>{s(!0),An.fromTo(A.current,{opacity:1},{opacity:0,duration:.5,delay:.2,ease:"power1.out",onComplete:()=>{console.log("Popup done"),e&&e()}})};return t.length?B.jsx("div",{className:"vanguard-tutorial--parent-container",onContextMenu:U=>U.preventDefault(),children:B.jsxs("div",{className:"tutorial-container",ref:A,children:[B.jsx("div",{className:"step-container",children:t.map((U,H)=>B.jsx("span",{className:`vanguard-tutorial-step ${H<=n?"active-step":"inactive-step"}`},H))}),B.jsx("div",{className:"vanguard-tutorial-steps",children:t.map((U,H)=>{const F=U.funding&&p?U.description.replace("$100k",`$${p.toLocaleString()} grant`):U.description;return B.jsxs("div",{className:`step-content ${H===n?"active":"inactive"}`,style:{display:H===n?"block":"none"},children:[B.jsx("img",{src:U.image,alt:U.title,className:"step-image"}),B.jsx("span",{children:U.title}),B.jsx("p",{className:"tutorial-description",children:F}),U.funding&&p&&B.jsx("span",{className:"tutorial-funding-container",children:B.jsxs("div",{className:"funding-container",children:[B.jsx("span",{className:"funding",children:"$Funding"}),B.jsx("div",{className:"funding-amount",children:`+${p.toLocaleString()}`})]})})]},H)})}),B.jsxs("div",{className:"navigation-buttons",style:{justifyContent:n===0?"flex-end":"space-between"},children:[n>0&&B.jsx("div",{className:"nav-button-tut nav-back",onClick:E,style:{cursor:"pointer"},children:B.jsx("div",{style:{position:"relative",zIndex:2},children:"Back"})}),n<t.length-1?B.jsx("div",{className:"nav-button-tut nav-next",onClick:S,style:{cursor:"pointer"},children:B.jsx("div",{style:{position:"relative",zIndex:2},children:"Next"})}):B.jsxs("div",{className:`nav-button-tut nav-done ${u?"blink-done":""}`,onMouseDown:R,onMouseUp:w,onTouchStart:R,onTouchEnd:w,style:{cursor:"pointer"},children:[B.jsx("div",{className:"hold-progress",style:{width:`${o}%`}}),B.jsx("div",{style:{position:"relative",zIndex:2},children:"Done"})]})]})]})}):null}function uoe(r){switch(r){case"MINIMALIST":return"'DM Sans', sans-serif";case"FUTURE":return"'Orbitron', sans-serif";case"RETRO":return"'Kode Mono', monospace";case"ELEGANT":return"'Instrument Serif', serif";case"BOHEMIAN":return"'MuseoModerno', cursive";case"PLAYFUL":return"'DynaPuff', cursive";default:return"inherit"}}const foe=["MINIMALIST","FUTURE","RETRO","ELEGANT","BOHEMIAN","PLAYFUL"],doe=({selectedOption:r,setSelectedOption:e})=>B.jsx("div",{className:"font-style-selection",style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:foe.map(t=>B.jsx("div",{onClick:()=>e(t),style:{cursor:"pointer",padding:"8px 12px",fontWeight:r===t?"bold":"normal",borderRadius:"20px",fontFamily:uoe(t),backgroundColor:r===t?"#FFEEEB":"#505050",color:r===t?"#C83C00":"WHITE",transition:"all 300ms ease"},children:t},t))}),fU="/assets/logo-one-preview-Bj-ru472.svg";function hoe(r){switch(r){case"MINIMALIST":return"A Minimalist brand";case"FUTURE":return"A Futuristic brand";case"RETRO":return"A Retro brand";case"ELEGANT":return"An Elegant brand";case"BOHEMIAN":return"A Bohemian brand";case"PLAYFUL":return"A Playful brand";default:return"Your brand awaits"}}function poe({onStart:r,onLogoSelect:e,onCreate:t,onBrandNameChange:n,onFontStyleChange:i,isInputEnabled:a}){const[s,o]=P.useState(0),[l,u]=P.useState(!0),[d,p]=P.useState(!1),[v,y]=P.useState("MINIMALIST"),[x,A]=P.useState(""),[S,E]=P.useState(null),[M,R]=P.useState(0),[w,I]=P.useState(!1),[U,H]=P.useState(!1),F=P.useRef(null),N=P.useRef(null),L=P.useRef(null),G=P.useRef(null),X=P.useRef(null),Y=P.useRef(null),J=P.useRef(null),ae=P.useRef(null),$=P.useRef(null),he=P.useRef(null),le=P.useRef(null),de=P.useRef(null),V=P.useRef(null),K=0;P.useEffect(()=>{An.fromTo(L.current,{opacity:0},{opacity:1,duration:1,ease:"power2.out"})},[]);const re=Ie=>{Ie.preventDefault(),u(!1),o(0),X.current=Date.now(),G.current=setInterval(()=>{const we=(Date.now()-X.current)/K*100;we>=100?(o(100),Q(),clearInterval(G.current)):o(we)},30)},pe=Ie=>{Ie.preventDefault(),clearInterval(G.current),s<100&&(o(0),u(!0))},Q=()=>{console.log("CreateBrand: hold-to-complete -> expanding container!"),An.to(J.current,{duration:1,backgroundColor:"black",borderBottom:"1px solid rgb(66, 66, 66)",ease:"power2.out"}),An.to(Y.current,{duration:1,opacity:0,onComplete:()=>{p(!0),r&&r()}})};P.useEffect(()=>{d&&ae.current&&An.to(ae.current,{duration:1,opacity:1,ease:"power2.out"})},[d]),P.useEffect(()=>{d&&An.timeline({defaults:{opacity:0,duration:.5,ease:"power2.out"}}).from($.current,{delay:.3}).from(he.current,{delay:.2}).from(le.current,{delay:.2}).from(de.current,{delay:.2}).from(V.current,{delay:.2,onComplete:()=>H(!0)})},[d]);const ce=Ie=>{ze&&(Ie.preventDefault(),I(!1),R(0),F.current=Date.now(),N.current=setInterval(()=>{const we=(Date.now()-F.current)/K*100;we>=100?(R(100),ge(),clearInterval(N.current)):R(we)},30))},me=Ie=>{ze&&(Ie.preventDefault(),clearInterval(N.current),M<100&&(R(0),I(!0)))},ge=()=>{An.to(L.current,{duration:1,opacity:0,ease:"power2.out",onComplete:()=>{t==null||t()}})},be=[{id:"logo1",src:fU},{id:"logo2",src:fU}],je=Ie=>{U&&(E(Ie),e==null||e(Ie))},ze=x.trim()!==""&&v!==""&&S!==null;return P.useEffect(()=>{i&&i(v)},[v,i]),B.jsx("div",{className:"start-button-container",ref:L,children:B.jsxs("div",{className:`create-container ${d?"expanded-container":""}`,children:[B.jsxs("div",{className:"create-parent",ref:J,children:[B.jsxs("div",{className:"create-step-container",children:[B.jsxs("div",{className:"steps",children:["Step 1 ",B.jsx("span",{children:"/ 4"})]}),B.jsxs("div",{className:"step-parent-container",children:[B.jsx("div",{className:"step-containers"}),B.jsx("div",{className:"step-containers"}),B.jsx("div",{className:"step-containers"}),B.jsx("div",{className:"step-containers"})]})]}),B.jsx("div",{className:"brand-create",children:"CREATE YOUR BRAND"})]}),B.jsx("div",{className:"body-create",children:d?B.jsxs("div",{className:"new-container",ref:ae,style:{opacity:0},children:[B.jsxs("div",{className:"section-one",children:[B.jsx("div",{children:"BRAND NAME"}),B.jsxs("div",{style:{position:"relative",width:"92%"},children:[B.jsx("input",{type:"text",placeholder:"Brand Name...",maxLength:"12",value:x,onChange:Ie=>{A(Ie.target.value),n&&n(Ie.target.value)},style:{color:"white",width:"100%",padding:"16px",border:"1.1px solid rgba(240, 240, 240, 0.51)",borderRadius:"16px",boxSizing:"border-box",outline:"none",fontSize:"14px",background:"#222222",letterSpacing:"1px",margin:"20px 0px",textTransform:"uppercase"}}),B.jsxs("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",color:"#CCC",fontSize:"12px",fontFamily:"'DM Sans', sans-serif"},children:[x.length," / 12"]})]}),B.jsx("div",{className:"font-style",ref:$,children:"Font Style"}),B.jsx("div",{ref:he,children:B.jsx(doe,{selectedOption:v,setSelectedOption:y})}),B.jsx("div",{className:"logo-style",ref:le,children:"Logo"}),B.jsx("div",{className:"logo-container",ref:de,children:be.map(Ie=>B.jsx("div",{className:`logo ${S===Ie.id?"clicked":""} ${U?"":"disabled"}`,onClick:()=>je(Ie.id),children:B.jsx("img",{src:Ie.src,alt:`Logo ${Ie.id}`})},Ie.id))})]}),B.jsx("div",{className:`create-submit-container ${ze?"ready-container":""}`,ref:V,children:B.jsxs("div",{className:"create-submit",children:[B.jsxs("div",{className:`create-description ${ze?"ready-text":""}`,children:[B.jsx("span",{className:`brand-title ${ze?"brand-ready":""}`,children:x||"brand title"}),B.jsx("span",{className:`brand-desc ${ze?"brand-desc-ready":""}`,children:hoe(v)})]}),B.jsxs("div",{className:`create-btn ${ze?"ready-btn":"h"}`,onMouseDown:ce,onMouseUp:me,onTouchStart:ce,onTouchEnd:me,children:[B.jsx("div",{className:"hold-progress-create",style:{width:`${M}%`}}),B.jsxs("div",{style:{position:"relative",zIndex:2},children:["Create",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]}):B.jsxs("div",{ref:Y,className:"button-container",children:[B.jsx("div",{className:"button-description",children:"Create a Strong Brand Identity to Build Investor Recognition"}),B.jsxs("div",{className:`button-start ${l?"blink-start":""}`,onMouseDown:re,onMouseUp:pe,onTouchStart:re,onTouchEnd:pe,children:[B.jsx("div",{className:"hold-progress-start",style:{width:`${s}%`}}),B.jsxs("div",{style:{position:"relative",zIndex:2},children:["Start",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]})})}const zF=({result:r})=>B.jsxs("div",{className:"hotseat-result",children:[B.jsx("div",{className:"hotseat-funding accent-5",children:"$ FUNDING"}),B.jsx("div",{className:`accent-3 hotseat-amount ${r>0?"win":"lose"}`,children:r>0?`+${r}`:r})]});zF.propTypes={result:Dt.number.isRequired};const ey=({text:r,icon:e,size:t,active:n,disabled:i,onClick:a})=>{const{minWidth:s,minHeight:o}=t;return B.jsxs("button",{className:`button ${i?"button-disabled":n?"button-active":""}`,style:{minWidth:s,minHeight:o},onClick:a,disabled:i,children:[B.jsx("span",{className:"button-text",children:r}),e&&B.jsx("img",{src:e,alt:"icon",className:"button-icon"})]})};ey.propTypes={text:Dt.string.isRequired,icon:Dt.string,size:Dt.shape({minWidth:Dt.string,minHeight:Dt.string}),active:Dt.bool,disabled:Dt.bool,onClick:Dt.func};ey.defaultProps={icon:null,size:{minWidth:"125px",minHeight:"56px"},active:!1,disabled:!1,onClick:()=>{}};const GF=({mode:r,currentStep:e,onNext:t,onDone:n,question:i,answers:a,funding:s,result:o,totalSteps:l})=>{const[u,d]=P.useState(null),p=x=>{d(x)},v=()=>{d(null),t()},y=()=>{switch(r){case"Quiz":return B.jsxs(B.Fragment,{children:[B.jsxs("span",{className:"vanguard-tutorial-step-title accent-5",children:["Question ",e]}),B.jsx("p",{className:"tutorial-description body-text-small",children:i.question}),B.jsx("div",{className:"hotseat-answers body-text-small",children:a.map((x,A)=>B.jsxs("div",{className:`hotseat-answer ${u===A?"checked":""}`,children:[B.jsx("input",{type:"radio",id:`answer-${A}`,name:"answer",onChange:()=>p(A),checked:u===A}),B.jsx("label",{htmlFor:`answer-${A}`,children:x})]},A))}),B.jsx("div",{className:"hotseat-button-container",children:B.jsx(ey,{text:"Answer",icon:Vx,size:{minWidth:"132px",minHeight:"56px"},active:!0,disabled:u===null,onClick:v})})]});case"Result":return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"vanguard-tutorial-step-title accent-5",children:[o>0?"CORRECT!":"WRONG!",B.jsx("p",{className:"body-text-small",style:{fontWeight:"normal"},children:i.reasoning})]}),B.jsx(zF,{result:o}),B.jsx("div",{className:"hotseat-button-container",children:B.jsx(ey,{text:e<l-1?"Next":"Done",icon:Vx,size:{minWidth:"132px",minHeight:"56px"},active:!0,onClick:e<l-1?v:n})})]});case"Normal":default:return B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"vanguard-tutorial-step-title accent-5",children:"THE HOT SEAT"}),B.jsx("p",{className:"tutorial-description",id:"start-description",children:"Our turn to ask you questions!"}),B.jsx("div",{className:"hotseat-button-container",children:B.jsx(ey,{text:"Let's Go",icon:Vx,size:{minWidth:"132px",minHeight:"56px"},active:!0,onClick:v})})]})}};return B.jsxs("div",{className:"tutorial-container",id:"hotseat",children:[B.jsx("div",{className:"step-container",children:Array.from({length:l}).map((x,A)=>B.jsx("span",{className:`vanguard-tutorial-step ${A<=e?"hotseat-active-step":"hotseat-inactive-step"}`},A))}),B.jsx("div",{className:"vanguard-tutorial-svg",children:B.jsx("img",{src:"../assets/images/Vanguards/sims-hotseat.svg",alt:"Hotseat"})}),B.jsx("div",{className:"vanguard-tutorial-step-description",id:"hotseat-quiz-inner-content",children:y()}),B.jsx("div",{className:"next-btn"})]})};GF.propTypes={mode:Dt.oneOf(["Normal","Quiz","Result"]).isRequired,currentStep:Dt.number.isRequired,onNext:Dt.func.isRequired,onDone:Dt.func.isRequired,question:Dt.shape({question:Dt.string.isRequired,reasoning:Dt.string.isRequired}).isRequired,answers:Dt.arrayOf(Dt.string).isRequired,funding:Dt.number,result:Dt.number,totalSteps:Dt.number.isRequired};const moe=[{question:"What is the capital of France?",answers:["Paris","London","Berlin","Madrid"],correctAnswer:"Paris",reasoning:"Conventional cottonuses up to 25% of all the pesticidesused in farming",winAmount:1e3,loseAmount:-500},{question:"What is a disadvantage of using cotton as a fabric material? ",answers:["It is an expensive material","It releases microplastics","It releases microplastics"],correctAnswer:"It is an expensive material",reasoning:"Conventional cottonuses up to 25% of all the pesticidesused in farming",winAmount:1e4,loseAmount:-200},{question:"What is the largest planet in our solar system?",answers:["Earth","Mars","Jupiter","Saturn"],correctAnswer:"Jupiter",reasoning:"Conventional cottonuses up to 25% of all the pesticidesused in farming",winAmount:1500,loseAmount:-700}],goe=(r,e,t,n,i,a,s,o)=>{var l;if(r==="Normal")e("Quiz"),a(u=>u+1);else if(r==="Quiz"){const u=(l=document.querySelector('input[name="answer"]:checked'))==null?void 0:l.nextSibling.textContent;if(!u){alert("Please select an answer before proceeding.");return}e("Result");const d=i[t],p=d.correctAnswer;u===p?(s(d.winAmount),o(v=>v+d.winAmount)):(s(d.loseAmount),o(v=>v+d.loseAmount))}else r==="Result"&&(t<i.length-1?(n(u=>u+1),e("Quiz")):(e("Normal"),n(0)),a(u=>u+1))},dU=(r,e,t)=>{r("Normal"),e(0),t(0)},voe=({selectedModelIndex:r,setSelectedModelIndex:e})=>{const{CanvasOutfitsData:t}=eu(),n=()=>{e(a=>a===0?t.length-1:a-1)},i=()=>{e(a=>a===t.length-1?0:a+1)};return B.jsx("div",{className:"canvas-list",children:B.jsxs("div",{className:"model-list-container canvas-list",children:[B.jsx("button",{className:"nav-button",onClick:n,children:"<"}),B.jsx("div",{className:"model-buttons",children:t.map((a,s)=>B.jsx("button",{className:`accent-6 model-button ${s===r?"active":""}`,onClick:()=>e(s),children:a.id<10?`0${a.id}`:a.id},a.id))}),B.jsx("button",{className:"nav-button",onClick:i,children:">"})]})})};function yoe({onStart:r,onLogoSelect:e,onCreate:t,onBrandNameChange:n,onFontStyleChange:i,isInputEnabled:a}){const{CanvasOutfitsData:s}=eu(),{fundingAmount:o,setFundingAmount:l}=P.useContext(Ip),[u,d]=P.useState(0),p=s&&s[u]?s[u]:null,[v,y]=P.useState(0),[x,A]=P.useState(!0),[S,E]=P.useState(!1),[M,R]=P.useState("MINIMALIST"),[w,I]=P.useState(""),[U,H]=P.useState(null),[F,N]=P.useState(0),[L,G]=P.useState(!1),[X,Y]=P.useState(!1),[J,ae]=P.useState([null,null,null]),[$,he]=P.useState(Array(9).fill(!1)),le=P.useRef(null),de=P.useRef(null),V=P.useRef(null),K=P.useRef(null),re=P.useRef(null),pe=P.useRef(null),Q=P.useRef(null),ce=P.useRef(null),me=P.useRef(null),ge=P.useRef(null),be=P.useRef(null),je=P.useRef(null),ze=P.useRef(null),Ie=0;P.useEffect(()=>{An.fromTo(le.current,{opacity:0},{opacity:1,duration:1,ease:"power2.out"})},[]);const ye=Ze=>{Ze.preventDefault(),A(!1),y(0),de.current=Date.now(),V.current=setInterval(()=>{const Ke=(Date.now()-de.current)/Ie*100;Ke>=100?(y(100),ee(),clearInterval(V.current)):y(Ke)},30)},we=Ze=>{Ze.preventDefault(),clearInterval(V.current),v<100&&(y(0),A(!0))},ee=()=>{An.to(re.current,{duration:1,backgroundColor:"black",borderBottom:"1px solid rgb(66, 66, 66)",ease:"power2.out"}),An.to(K.current,{duration:1,opacity:0,onComplete:()=>{E(!0),r==null||r()}})};P.useEffect(()=>{S&&pe.current&&An.to(pe.current,{duration:1,opacity:1,ease:"power2.out"})},[S]),P.useEffect(()=>{S&&An.timeline({defaults:{opacity:0,duration:.5,ease:"power2.out"}}).from(Q.current,{delay:.3}).from(ce.current,{delay:.2}).from(me.current,{delay:.2}).from(ge.current,{delay:.2}).from(be.current,{delay:.2,onComplete:()=>Y(!0)})},[S]);const Je=Ze=>{Ye&&(Ze.preventDefault(),G(!1),N(0),je.current=Date.now(),ze.current=setInterval(()=>{const Ke=(Date.now()-je.current)/Ie*100;Ke>=100?(N(100),Xe(),clearInterval(ze.current)):N(Ke)},30))},Ne=Ze=>{Ye&&(Ze.preventDefault(),clearInterval(ze.current),F<100&&(N(0),G(!0)))},Xe=()=>{An.to(le.current,{duration:1,opacity:0,ease:"power2.out",onComplete:()=>{t==null||t()}})},Be=J.every(Ze=>Ze!==null),st=(Ze,tt)=>{ae(Ke=>{const wt=Ke.findIndex(It=>It===null);if(wt===-1)return Ke;const xt=[...Ke];return xt[wt]={...Ze,outfitIndex:tt},xt}),he(Ke=>{const wt=[...Ke];return wt[tt]=!0,wt}),l(Ke=>(Ke||0)-Ze.price)},Ge=Ze=>{ae(tt=>{const Ke=[...tt],wt=Ke[Ze];if(wt){const xt=wt.outfitIndex;he(It=>{const Ee=[...It];return Ee[xt]=!1,Ee}),l(It=>(It||0)+wt.price)}return Ke[Ze]=null,Ke})},Z=()=>{if(p)if($[u]){const Ze=J.findIndex(tt=>tt&&tt.outfitIndex===u);Ze!==-1&&Ge(Ze)}else{if(Be)return;st(p,u)}},j=J.filter(Ze=>Ze!==null).length;let se="";j===0?se="Select 3 Outfits to View Smart Breakdown":j>0&&j<3&&(se=`${j} Outfit${j>1?"s":""} Selected  Add ${3-j} More to View Smart Breakdown`);let ve=0;if(j===3){const Ze=J.reduce((tt,Ke)=>tt+Ke.originalDesignPct,0);ve=Math.round(Ze/3)}const Me=100-ve,Le=Ze=>Ze>=80?"Your collection is highly original! You've chosen truly innovative designs.":Ze>=50?"Your collection strikes a balance of originality and existing influences.":"Your collection borrows heavily from existing designs. Consider more unique pieces!",Ye=j===3,et=J.reduce((Ze,tt)=>Ze+(tt?tt.price:0),0),at="/images/green-thumb.svg",Ct="/images/red-thumb.svg",ot=(Ze,tt)=>{if(!p||!p.bulletPoints||Ze<0||Ze>=p.bulletPoints.length)return null;const Ke=p.bulletPoints[Ze];return B.jsx("div",{className:"info-item",children:B.jsxs("div",{className:"info-flex",children:[B.jsx("div",{className:"info-icon",children:B.jsx("img",{src:tt?at:Ct,alt:tt?"thumbs up":"thumbs down",style:{width:"24px",height:"24px"}})}),B.jsx("div",{className:"info-content",children:B.jsx("div",{className:"info-title",children:Ke})})]})})};let _t="Add to Collection";return $[u]?_t="Remove from Collection":Be&&(_t="Max Reached"),B.jsx("div",{className:"start-button-container",ref:le,children:B.jsxs("div",{className:`create-container ${S?"expanded-container":""}`,children:[B.jsxs("div",{className:"create-parent",ref:re,children:[B.jsxs("div",{className:"create-step-container",children:[B.jsxs("div",{className:"steps",children:["Step 2 ",B.jsx("span",{children:"/ 4"})]}),B.jsxs("div",{className:"step-parent-container",children:[B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers"}),B.jsx("div",{className:"step-containers"})]})]}),B.jsx("div",{className:"brand-create",children:"CHOOSE OUTFIT DESIGNS"})]}),B.jsx("div",{className:"body-create",children:S?B.jsxs("div",{className:"new-container",ref:pe,style:{opacity:0},children:[B.jsxs("div",{className:"section-one",children:[B.jsx("div",{children:"MY COLLECTION"}),B.jsx("div",{style:{position:"relative",width:"92%"},className:"collection-container",children:J.map((Ze,tt)=>Ze?B.jsxs("div",{className:"selection-choice active",children:[B.jsx("span",{className:"plus image",children:B.jsx("img",{src:Ze.img_path,alt:""})}),B.jsx("button",{className:"remove-button",onClick:()=>Ge(tt),children:"Remove"})]},tt):B.jsx("div",{className:"selection-choice",children:B.jsx("span",{className:"plus",children:"+"})},tt))}),B.jsx("div",{className:"font-style",ref:Q,children:"COLLECTION BREAKDOWN"}),B.jsxs("div",{ref:ce,className:"breakdown",children:[j<3&&B.jsx("span",{className:"breakdown-desc",children:se}),j===3&&B.jsx(E4,{label:"Collection Originality Metric",originalPercentage:ve,plagiarizedPercentage:Me,summaryText:Le(ve),showBars:!0})]})]}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("div",{className:"create-submit-container",ref:be,children:B.jsxs("div",{className:`create-submit ${Ye?"active":""}`,children:[B.jsxs("div",{className:`create-description ${Ye?"active":""}`,children:[B.jsx("span",{className:`brand-title ${Ye?"active":""}`,children:Ye?`$${et.toLocaleString()}`:"$ ---"}),B.jsx("span",{className:`brand-desc ${Ye?"active":""}`,children:Ye?"Total Design Price":""})]}),B.jsxs("div",{className:`button-start ${Ye?"blink-start":"blink-none"}`,onMouseDown:Je,onMouseUp:Ne,onTouchStart:Je,onTouchEnd:Ne,children:[B.jsx("div",{className:`${Ye?"hold-progress-start":"not-start"}`,style:{width:`${F}%`}}),B.jsxs("div",{style:{position:"relative"},className:"purchase-btn",children:["Purchase",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})}),B.jsx(voe,{selectedModelIndex:u,setSelectedModelIndex:d}),B.jsx("div",{className:"left-component",children:p&&B.jsxs("div",{className:"left-container",children:[B.jsxs("div",{className:"header-info",children:[B.jsx("span",{className:"model-title",children:p.name.toUpperCase()}),B.jsxs("div",{className:"span-price",children:["$",p.price]})]}),B.jsx("div",{className:"info-item",children:B.jsxs("div",{className:"info-flex",children:[B.jsx("div",{className:"info-icon",children:B.jsx("img",{src:p.originalDesignPct>=50?at:Ct,alt:p.originalDesignPct>=50?"thumbs up":"thumbs down",style:{width:"24px",height:"24px"}})}),B.jsxs("div",{className:"info-content",children:[B.jsxs("div",{className:"info-title",children:[p.originalDesignPct,"% Original Design"]}),B.jsx("div",{className:"progress-bar",children:B.jsx("div",{className:"progress-fill",style:{width:`${p.originalDesignPct}%`}})})]})]})}),p.iconBullets&&p.iconBullets[1]&&B.jsx(B.Fragment,{children:ot(p.iconBullets[1].index,p.iconBullets[1].icon==="up")}),p.iconBullets&&p.iconBullets[2]&&B.jsx(B.Fragment,{children:ot(p.iconBullets[2].index,p.iconBullets[2].icon==="up")}),B.jsx("div",{className:"cta-container",children:B.jsxs("button",{className:`cta-button ${_t==="Remove from Collection"?"remove":_t==="Max Reached"?"disabled-button":""}`,onClick:Z,disabled:_t==="Max Reached",children:[_t,_t==="Add to Collection"&&B.jsx("span",{className:"cta-button-price",children:"+"})]})})]})})]}):B.jsxs("div",{ref:K,className:"button-container",children:[B.jsx("div",{className:"button-description",children:"Create a Strong Brand Identity to Build Investor Recognition"}),B.jsxs("div",{className:`button-start ${x?"blink-start":""}`,onMouseDown:ye,onMouseUp:we,onTouchStart:ye,onTouchEnd:we,children:[B.jsx("div",{className:"hold-progress-start",style:{width:`${v}%`}}),B.jsxs("div",{style:{position:"relative",zIndex:2},children:["Start",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]})})}const _oe="data:image/svg+xml,%3csvg%20width='161'%20height='120'%20viewBox='0%200%20161%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M138.035%20119.013C150.718%20119.013%20161%20108.731%20161%2096.0482C161%2083.3651%20150.718%2073.0834%20138.035%2073.0834C125.352%2073.0834%20115.07%2083.3651%20115.07%2096.0482C115.07%20108.731%20125.352%20119.013%20138.035%20119.013Z'%20fill='url(%23paint0_radial_1356_15881)'/%3e%3cpath%20d='M103.436%200H45.1287C20.2048%200%200%2020.2048%200%2045.1287C0%2070.0525%2020.2048%2090.2573%2045.1287%2090.2573H103.436C128.36%2090.2573%20148.565%2070.0525%20148.565%2045.1287C148.565%2020.2048%20128.36%200%20103.436%200Z'%20fill='url(%23paint1_radial_1356_15881)'/%3e%3cpath%20d='M110.176%2010.3059H62.7483C47.8602%2010.3059%2035.791%2022.3751%2035.791%2037.2632V37.2634C35.791%2052.1515%2047.8602%2064.2207%2062.7483%2064.2207H110.176C125.064%2064.2207%20137.133%2052.1515%20137.133%2037.2634V37.2632C137.133%2022.3751%20125.064%2010.3059%20110.176%2010.3059Z'%20fill='url(%23paint2_radial_1356_15881)'/%3e%3cpath%20d='M25.2031%20119.013C37.8862%20119.013%2048.1679%20108.731%2048.1679%2096.0482C48.1679%2083.3651%2037.8862%2073.0834%2025.2031%2073.0834C12.52%2073.0834%202.23828%2083.3651%202.23828%2096.0482C2.23828%20108.731%2012.52%20119.013%2025.2031%20119.013Z'%20fill='url(%23paint3_radial_1356_15881)'/%3e%3cpath%20d='M64.1593%2045.8739C68.9148%2045.8739%2072.7699%2042.0188%2072.7699%2037.2633C72.7699%2032.5079%2068.9148%2028.6528%2064.1593%2028.6528C59.4039%2028.6528%2055.5488%2032.5079%2055.5488%2037.2633C55.5488%2042.0188%2059.4039%2045.8739%2064.1593%2045.8739Z'%20fill='%2300A79D'/%3e%3cpath%20d='M108.765%2045.8931C113.52%2045.8931%20117.375%2042.0381%20117.375%2037.2826C117.375%2032.5272%20113.52%2028.6721%20108.765%2028.6721C104.009%2028.6721%20100.154%2032.5272%20100.154%2037.2826C100.154%2042.0381%20104.009%2045.8931%20108.765%2045.8931Z'%20fill='%2300A79D'/%3e%3cpath%20d='M25.2812%20119.017C37.9643%20119.017%2048.246%20108.736%2048.246%2096.0526C48.246%2083.3695%2037.9643%2073.0878%2025.2812%2073.0878C12.5981%2073.0878%202.31641%2083.3695%202.31641%2096.0526C2.31641%20108.736%2012.5981%20119.017%2025.2812%20119.017Z'%20fill='url(%23paint4_radial_1356_15881)'/%3e%3cdefs%3e%3cradialGradient%20id='paint0_radial_1356_15881'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(149.416%2083.6678)%20scale(57.1446)'%3e%3cstop%20offset='0.315'%20stop-color='%23414042'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint1_radial_1356_15881'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(88.9553%2023.8467)%20scale(140.999%20144.878)'%3e%3cstop%20stop-color='%234F4F50'/%3e%3cstop%20offset='0.692'%20stop-color='%231D1D1E'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint2_radial_1356_15881'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(96.4594%2024.5581)%20scale(151.63%20130.266)'%3e%3cstop%20offset='0.315'%20stop-color='%232B3990'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint3_radial_1356_15881'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(36.584%200.0918575)%20scale(57.1446%2057.1446)'%3e%3cstop%20offset='0.315'%20stop-color='%23414042'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint4_radial_1356_15881'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(36.6619%2083.6722)%20scale(57.1446)'%3e%3cstop%20offset='0.315'%20stop-color='%23414042'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",xoe="/assets/BOTSVG3-3DSLnq23.svg",boe="data:image/svg+xml,%3csvg%20width='138'%20height='161'%20viewBox='0%200%20138%20161'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1356_114349)'%3e%3cpath%20d='M41.9193%2050.5216H96.0807C119.232%2050.5216%20138%2069.1926%20138%2092.2244C138%20115.256%20119.232%20133.927%2096.0807%20133.927H41.9193C18.7679%20133.927%200%20115.256%200%2092.2244C0%2069.1926%2018.7679%2050.5216%2041.9193%2050.5216Z'%20fill='url(%23paint0_radial_1356_114349)'/%3e%3cpath%20d='M59.1243%2060.4755H103.18C117.009%2060.4755%20128.22%2071.6284%20128.22%2085.3862C128.22%2099.144%20117.009%20110.297%20103.18%20110.297H59.1243C45.295%20110.297%2034.0842%2099.144%2034.0842%2085.3862C34.0842%2071.6284%2045.295%2060.4755%2059.1243%2060.4755Z'%20fill='url(%23paint1_radial_1356_114349)'/%3e%3cpath%20d='M100.404%2081.4768C95.9867%2081.4768%2092.4055%2077.9141%2092.4055%2073.5192C92.4055%2069.1244%2095.9867%2065.5616%20100.404%2065.5616C104.822%2065.5616%20108.403%2069.1244%20108.403%2073.5192C108.403%2077.9141%20104.822%2081.4768%20100.404%2081.4768Z'%20fill='%2300A79D'/%3e%3cpath%20d='M64.3155%2081.4955C59.8979%2081.4955%2056.3166%2077.9328%2056.3166%2073.5379C56.3166%2069.1431%2059.8979%2065.5803%2064.3155%2065.5803C68.7332%2065.5803%2072.3145%2069.1431%2072.3145%2073.5379C72.3145%2077.9328%2068.7332%2081.4955%2064.3155%2081.4955Z'%20fill='%2300A79D'/%3e%3cpath%20d='M23.4101%20160.5C11.6286%20160.5%202.07792%20150.999%202.07792%20139.278C2.07792%20127.557%2011.6286%20118.056%2023.4101%20118.056C35.1915%20118.056%2044.7422%20127.557%2044.7422%20139.278C44.7422%20150.999%2035.1915%20160.5%2023.4101%20160.5Z'%20fill='url(%23paint2_radial_1356_114349)'/%3e%3cpath%20d='M111.04%2042.9439C99.2585%2042.9439%2089.7078%2033.4425%2089.7078%2021.722C89.7078%2010.0014%2099.2585%200.5%20111.04%200.5C122.821%200.5%20132.372%2010.0014%20132.372%2021.722C132.372%2033.4425%20122.821%2042.9439%20111.04%2042.9439Z'%20fill='url(%23paint3_radial_1356_114349)'/%3e%3c/g%3e%3cdefs%3e%3cradialGradient%20id='paint0_radial_1356_114349'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(53.6356%2072.2773)%20rotate(180)%20scale(131.397%20132.826)'%3e%3cstop%20stop-color='%234F4F50'/%3e%3cstop%20offset='0.69'%20stop-color='%231D1D1E'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint1_radial_1356_114349'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(71.5554%2073.6465)%20rotate(180)%20scale(140.364%20120.378)'%3e%3cstop%20offset='0.31'%20stop-color='%232B3990'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint2_radial_1356_114349'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(12.8386%20127.839)%20rotate(180)%20scale(53.0806%2052.8064)'%3e%3cstop%20offset='0.31'%20stop-color='%23414042'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint3_radial_1356_114349'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(100.468%2010.2808)%20rotate(180)%20scale(53.0806%2052.8064)'%3e%3cstop%20offset='0.31'%20stop-color='%23414042'/%3e%3cstop%20offset='1'/%3e%3c/radialGradient%3e%3cclipPath%20id='clip0_1356_114349'%3e%3crect%20width='138'%20height='160'%20fill='white'%20transform='matrix(-1%200%200%201%20138%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Aoe="/assets/eco-1-CXJJ5JZF.svg",Soe="/assets/eco-2-BhgqVUHL.svg",hU="/assets/Ethics-1-Cczp2jDz.svg",Eoe="/assets/cap-1-CRCf6_Nq.svg",Toe="/assets/cap-2-CzRo2nMK.svg",pU="/assets/funding-CXUJi80p.svg",mU={0:{scenarios:[[{title:"ASSISTANT",description:"Hey there! Welcome to The Vault. Im your assistant to guide and prepare you for your pitch to the Vanguards.",image:Bn},{title:"ASSISTANT",description:"As I guide you through each step, the Vanguards will evaluate your brand from every angleensure you're making the best choices for its success.",image:_oe},{title:"ASSISTANT",description:"As I guide you through each step, the Vanguards will evaluate your brand from every angleensure you're making the best choices for its success.",image:xoe},{title:"ASSISTANT",description:"Hint! Keep track of the Vanguard's sentiments about your brand and the total funds you've raised by checking the widgets at the top.",image:boe}],[{title:"THE VANGUARDS",description:"Your Brand is Looking interesting...how about this? We'll kickstart things with a $100k grant and you show me what your brand's style looks like!",image:pU,funding:!0},{title:"THE VANGUARDS",description:"Third Brand is Looking interesting...how about this? We'll kickstart things with a $100k grant and you show me what your brand's style looks like!",image:pU,funding:!0}],[{title:"THE VANGUARDS",description:"Your Brand is Looking interesting...how about this? We'll kickstart things with a $100k grant and you show me what your brand's style looks like!",image:Bn},{title:"THE VANGUARDS",description:"Your Brand is Looking interesting...how about this? We'll kickstart things with a $100k grant and you show me what your brand's style looks like!",image:Bn}]]},1:{scenarios:[[{title:"ECO VANGUARD",description:"Hi, so glad youre here! Im the Vanguard thats all about the environment...",image:Aoe},{title:"ECO VANGUARD",description:"I've seen the destruction caused by greedy corporations. Im not interested in empty promises of sustainability. Show me a brand that respects the planet and you'll have my attention.",image:Soe}],[{title:"SUSTAINABLE (Round 2)",description:"Back again? Lets see if you stayed eco-friendly.",image:Bn}],[{title:"SUSTAINABLE (Round 2)",description:"third again? Lets see if you stayed eco-friendly.",image:Bn}]]},2:{scenarios:[[{title:"ETHICS VANGUARD",description:"Hello, pleasure to meet you! Im the Ethics Vanguard... let me tell you what matters most to me.",image:hU},{title:"ETHICS VANGUARD",description:"Fashion has the power to spark change, but its built on the backs of labour and energy. Im looking for a brand that values their workers. Prove your commitment to fairness, and Ill help you reach the world. ",image:hU}],[{title:"ANOTHER_VANGUARD (Round 2)",description:"Second-time dialogue here...",image:Bn}],[{title:"ANOTHER_VANGUARD (Round 2)",description:"third-time dialogue here...",image:Bn}]]},3:{scenarios:[[{title:"WEALTH VANGUARD",description:"Howdy! I see we have a new applicant to our pitch office. Let me tell you a bit about myself...",image:Eoe},{title:"WEALTH VANGUARD",description:"Let me be clear, I'm not here to save or coddle the planet, and Im not interested in feel-good stories. Show me a brand that can dominate the market and rake in profits, and Ill give you more money than you could have ever imagined.",image:Toe}],[{title:"CAPITALIST (Round 2)",description:"Back so soon? We hope your brands margins have improved.",image:Bn}]]}};function Moe(){const{fundingAmount:r}=P.useContext(Ip),[e,t]=P.useState(!1);P.useEffect(()=>{t(!0);const i=setTimeout(()=>t(!1),600);return()=>clearTimeout(i)},[r]);const n=r&&r!==0?`$${r.toLocaleString()}`:"$ ---";return B.jsx("div",{className:"metric-budget-container",children:B.jsx("div",{className:"metric-child-container",children:B.jsxs("div",{className:"metric-details",children:[B.jsx("div",{className:"metric-title label-large",children:"Funds Raised"}),B.jsx("div",{className:`metric-amount accent-2 ${e?"flip":""}`,children:n})]})})})}const Coe="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2018.35L8.55%2017.03C3.4%2012.36%200%209.28%200%205.5C0%202.42%202.42%200%205.5%200C7.24%200%208.91%200.81%2010%202.09C11.09%200.81%2012.76%200%2014.5%200C17.58%200%2020%202.42%2020%205.5C20%209.28%2016.6%2012.36%2011.45%2017.04L10%2018.35Z'%20fill='%230F0F0F'/%3e%3c/svg%3e",woe="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2018.35L8.55%2017.03C3.4%2012.36%200%209.28%200%205.5C0%202.42%202.42%200%205.5%200C7.24%200%208.91%200.81%2010%202.09C11.09%200.81%2012.76%200%2014.5%200C17.58%200%2020%202.42%2020%205.5C20%209.28%2016.6%2012.36%2011.45%2017.04L10%2018.35Z'%20fill='%23FFFEFD'/%3e%3c/svg%3e",Kx=({title:r,fillNumber:e,imageSrc:t})=>{const n=Array(5).fill(!1).map((i,a)=>a<e);return B.jsxs("div",{className:"hearts-ui-container",children:[B.jsxs("div",{className:"hearts-ui-left",children:[B.jsx("div",{className:"metric-title label-large",children:r}),B.jsx("div",{className:"hearts-ui-hearts",children:n.map((i,a)=>B.jsx("span",{className:`heart ${i?"filled":"empty"}`,children:B.jsx("img",{src:i?woe:Coe,alt:"heart",className:"heart-icon"})},a))})]}),B.jsx("div",{className:"hearts-ui-right",children:B.jsx("img",{src:t,alt:"icon",className:"hearts-ui-image"})})]})};Kx.propTypes={title:Dt.string.isRequired,fillNumber:Dt.number.isRequired,imageSrc:Dt.string.isRequired};const Roe=({items:r,selectedIndex:e,setSelectedIndex:t,onFabricSelect:n})=>{if(!r||r.length===0)return null;const i=()=>{t(o=>{const l=o===0?r.length-1:o-1;return n&&n(r[l]),l})},a=()=>{t(o=>{const l=o===r.length-1?0:o+1;return n&&n(r[l]),l})},s=o=>{t(o),n&&n(r[o])};return B.jsx("div",{className:"canvas-list",children:B.jsxs("div",{className:"model-list-container canvas-list",children:[B.jsx("button",{className:"nav-button",onClick:i,children:"<"}),B.jsx("div",{className:"model-buttons",children:r.map((o,l)=>B.jsx("button",{className:`accent-6 model-button ${l===e?"active":""}`,onClick:()=>s(l),children:l+1},o.id))}),B.jsx("button",{className:"nav-button",onClick:a,children:">"})]})})},gU=0;function Doe({onStart:r,onCreate:e}){const{CottonChoices:t,HeavyChoices:n,SyntheticChoices:i}=eu(),{fundingAmount:a,setFundingAmount:s}=P.useContext(Ip),[o,l]=P.useState(1),u=()=>o===1?t:o===2?n:o===3?i:[],[d,p]=P.useState({1:null,2:null,3:null}),v=u(),[y,x]=P.useState(0),A=v&&v.length>0?v[y]:null,S=Object.values(d).reduce((ye,we)=>we?ye+we.cost:ye,0),[E,M]=P.useState(!1),[R,w]=P.useState(0),[I,U]=P.useState(!0),H=P.useRef(null),F=P.useRef(null),N=P.useRef(null),L=P.useRef(null),G=P.useRef(null),X=P.useRef(null);P.useEffect(()=>{An.fromTo(N.current,{opacity:0},{opacity:1,duration:1,ease:"power2.out"})},[]);const Y=ye=>{ye.preventDefault(),U(!1),w(0),F.current=Date.now(),H.current=setInterval(()=>{const ee=(Date.now()-F.current)/gU*100;ee>=100?(w(100),ae(),clearInterval(H.current)):w(ee)},30)},J=ye=>{ye.preventDefault(),clearInterval(H.current),R<100&&(w(0),U(!0))},ae=()=>{An.to(G.current,{duration:1,backgroundColor:"black",borderBottom:"1px solid rgb(66, 66, 66)",ease:"power2.out"}),An.to(L.current,{duration:1,opacity:0,onComplete:()=>{M(!0),r==null||r()}})};P.useEffect(()=>{E&&X.current&&An.to(X.current,{duration:1,opacity:1,ease:"power2.out"})},[E]);const[$,he]=P.useState(0),[le,de]=P.useState(!1),V=P.useRef(null),K=P.useRef(null),re=o===3,pe=!!d[o],Q=ye=>{!re||!pe||(ye.preventDefault(),de(!1),he(0),V.current=Date.now(),K.current=setInterval(()=>{const ee=(Date.now()-V.current)/gU*100;ee>=100?(he(100),me(),clearInterval(K.current)):he(ee)},30))},ce=ye=>{!re||!pe||(ye.preventDefault(),clearInterval(K.current),$<100&&(he(0),de(!0)))},me=()=>{const ye=d[3];ye&&s(we=>we!==null?we-ye.cost:0),An.to(N.current,{duration:1,opacity:0,ease:"power2.out",onComplete:()=>{e==null||e()}})},ge=()=>{if(pe&&o<3){const ye=d[o];ye&&s(we=>we!==null?we-ye.cost:0),l(we=>we+1),x(0)}},be=ye=>{console.log("clicked"),ye&&p(we=>({...we,[o]:ye}))},je=()=>{switch(o){case 1:return"1. CHOOSE A LIGHT FABRIC";case 2:return"2. CHOOSE A KNIT FABRIC";case 3:return"3. CHOOSE A SHINY FABRIC";default:return""}},ze=(o<3,"Purchase"),Ie=pe;return B.jsx("div",{className:"start-button-container",ref:N,children:B.jsxs("div",{className:`create-container ${E?"expanded-container fabric":""}`,children:[B.jsxs("div",{className:"create-parent",ref:G,children:[B.jsxs("div",{className:"create-step-container",children:[B.jsxs("div",{className:"steps",children:["Step 3 ",B.jsx("span",{children:"/ 4"})]}),B.jsxs("div",{className:"step-parent-container",children:[B.jsx("div",{className:`step-containers ${o>=1?"active-step":""}`,style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers"})]})]}),B.jsx("div",{className:"brand-create",children:"Select Fabrics"})]}),B.jsx("div",{className:"body-create",children:E?B.jsxs("div",{className:"new-container",ref:X,style:{opacity:0},children:[B.jsx("div",{className:"fabric-nav-container",children:B.jsxs("div",{className:"fabric-nav-child-container",children:[B.jsx("div",{className:`section-number ${o===1?"active":""}`,onClick:()=>l(1),children:"1"}),B.jsx("div",{className:"section-number line"}),B.jsx("div",{className:`section-number ${o===2?"active":""}`,onClick:()=>l(2),children:"2"}),B.jsx("div",{className:"section-number line"}),B.jsx("div",{className:`section-number ${o===3?"active":""}`,onClick:()=>l(3),children:"3"})]})}),B.jsx("div",{className:"fabric-title-container",children:B.jsxs("div",{children:[B.jsx("div",{className:"fabric-title",children:je()}),B.jsx("div",{className:"fabric-selection-container",children:v.map((ye,we)=>B.jsxs("div",{className:`fabric-container ${we===y?"active":""}`,onClick:()=>{x(we),be(ye)},children:[B.jsx("img",{className:"fabric-img",width:"100px",height:"100px",src:ye.img_path,alt:ye.name}),B.jsxs("div",{className:"fabric-options",children:[B.jsx("div",{className:"fabric-option-title",children:ye.name}),B.jsxs("div",{className:"fabric-option-price",children:["$",ye.cost]})]})]},ye.id))})]})}),B.jsx("div",{className:"create-submit-container",children:B.jsxs("div",{className:`create-submit ${Ie?"active":""}`,children:[B.jsxs("div",{className:`create-description ${Ie?"active":""}`,children:[B.jsxs("span",{className:`brand-title ${Ie?"active":""}`,children:["$",S]}),B.jsx("span",{className:`brand-desc ${Ie?"active":""}`,children:o<3?"Click Purchase to Advance":"Hold Purchase to Complete"})]}),B.jsxs("div",{className:`button-start ${Ie?re&&le?"blink-start":"":"blink-none"}`,onClick:ge,onMouseDown:Q,onMouseUp:ce,onTouchStart:Q,onTouchEnd:ce,children:[re&&B.jsx("div",{className:`${pe?"hold-progress-start":"not-start"}`,style:{width:`${$}%`}}),B.jsxs("div",{style:{position:"relative"},className:"purchase-btn",children:[ze,B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})}),B.jsx(Roe,{items:v,selectedIndex:y,setSelectedIndex:x,onFabricSelect:be}),B.jsx("div",{className:"left-component",children:A&&B.jsxs("div",{className:"left-container",children:[B.jsxs("div",{className:"header-info",children:[B.jsx("span",{className:"model-title",children:A.name.toUpperCase()}),B.jsxs("div",{className:"span-price",children:["$",A.cost]})]}),B.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1rem"},className:"fabric-description",children:[B.jsx("p",{children:A.env_title?A.env_title:"Environment info..."}),B.jsx("p",{children:A.env_description?A.env_description:"Description..."})]})]})})]}):B.jsxs("div",{ref:L,className:"button-container",children:[B.jsx("div",{className:"button-description",children:"Source a lightweight, knit, and shiny fabric to use for your outfits."}),B.jsxs("div",{className:`button-start ${I?"blink-start":""}`,onMouseDown:Y,onMouseUp:J,onTouchStart:Y,onTouchEnd:J,children:[B.jsx("div",{className:"hold-progress-start",style:{width:`${R}%`}}),B.jsxs("div",{style:{position:"relative",zIndex:2},children:["Start",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]})})}const Boe=({items:r,selectedIndex:e,setSelectedIndex:t,onFactorySelect:n})=>{if(!r||r.length===0)return null;const i=()=>{t(o=>{const l=o===0?r.length-1:o-1;return n&&n(r[l]),l})},a=()=>{t(o=>{const l=o===r.length-1?0:o+1;return n&&n(r[l]),l})},s=o=>{t(o),n&&n(r[o])};return B.jsx("div",{className:"canvas-list",children:B.jsxs("div",{className:"model-list-container canvas-list",children:[B.jsx("button",{className:"nav-button",onClick:i,children:"<"}),B.jsx("div",{className:"model-buttons",children:r.map((o,l)=>B.jsx("button",{className:`accent-6 model-button ${l===e?"active":""}`,onClick:()=>s(l),children:l+1},o.id))}),B.jsx("button",{className:"nav-button",onClick:a,children:">"})]})})},vU=0;function Ooe({onStart:r,onCreate:e}){var de,V,K,re,pe,Q,ce,me,ge,be,je,ze,Ie,ye,we,ee,Je,Ne,Xe,Be,st,Ge,Z,j,se,ve;const{CanvasManufacturer:t}=eu(),{fundingAmount:n,setFundingAmount:i}=P.useContext(Ip),[a,s]=P.useState(0),o=t&&t.length>0?t[a]:null,[l,u]=P.useState(!0),[d,p]=P.useState(!1),[v,y]=P.useState(0),[x,A]=P.useState(!0),S=P.useRef(null),E=P.useRef(null),M=P.useRef(null),R=P.useRef(null),w=P.useRef(null),I=P.useRef(null);P.useEffect(()=>{An.fromTo(M.current,{opacity:0},{opacity:1,duration:1,ease:"power2.out"})},[]);const U=Me=>{Me.preventDefault(),A(!1),y(0),E.current=Date.now(),S.current=setInterval(()=>{const Ye=(Date.now()-E.current)/vU*100;Ye>=100?(y(100),F(),clearInterval(S.current)):y(Ye)},30)},H=Me=>{Me.preventDefault(),clearInterval(S.current),v<100&&(y(0),A(!0))},F=()=>{An.to(w.current,{duration:1,backgroundColor:"black",borderBottom:"1px solid rgb(66, 66, 66)",ease:"power2.out"}),An.to(R.current,{duration:1,opacity:0,onComplete:()=>{p(!0),r==null||r()}})};P.useEffect(()=>{d&&I.current&&An.to(I.current,{duration:1,opacity:1,ease:"power2.out"})},[d]);const[N,L]=P.useState(0),[G,X]=P.useState(!1),Y=P.useRef(null),J=P.useRef(null),ae=!l&&o,$=Me=>{ae&&(Me.preventDefault(),X(!1),L(0),Y.current=Date.now(),J.current=setInterval(()=>{const Ye=(Date.now()-Y.current)/vU*100;Ye>=100?(L(100),le(),clearInterval(J.current)):L(Ye)},30))},he=Me=>{ae&&(Me.preventDefault(),clearInterval(J.current),N<100&&(L(0),X(!0)))},le=()=>{if(!o)return;const Me=Number(o.manufacturingCost)||0;i(Le=>Le!==null?Le-Me:0),An.to(M.current,{duration:1,opacity:0,ease:"power2.out",onComplete:()=>{e==null||e()}})};return B.jsx("div",{className:"start-button-container",ref:M,children:B.jsxs("div",{className:`create-container ${d?"expanded-container factory":""}`,children:[B.jsxs("div",{className:"create-parent",ref:w,children:[B.jsxs("div",{className:"create-step-container",children:[B.jsxs("div",{className:"steps",children:["Step 4 ",B.jsx("span",{children:"/ 4"})]}),B.jsxs("div",{className:"step-parent-container",children:[B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}}),B.jsx("div",{className:"step-containers",style:{backgroundColor:"white"}})]})]}),B.jsx("div",{className:"brand-create",children:"Factory Selection"})]}),B.jsx("div",{className:"body-create",children:d?B.jsxs("div",{className:"new-container",ref:I,style:{opacity:0},children:[B.jsx(Boe,{items:t,selectedIndex:a,setSelectedIndex:s,onFactorySelect:()=>{}}),o&&B.jsxs("div",{className:"factory-container",children:[B.jsx("div",{className:"factory-title",children:o.title}),B.jsx("div",{className:"factory-toggle-switch",children:B.jsxs("div",{className:"factory-about-products-container",children:[B.jsx("div",{className:"toggle-slider",style:{left:l?"0%":"50%"}}),B.jsx("button",{className:"factory-toggle left",onClick:()=>u(!0),children:"ABOUT"}),B.jsx("button",{className:"factory-toggle right",onClick:()=>u(!1),children:"FACTORY AUDIT"})]})}),l&&B.jsxs("div",{className:"about-container",children:[B.jsxs("div",{className:"factory-location-container",children:[B.jsx("img",{className:"factory-img",width:"75",height:"75",src:((V=(de=o.about)==null?void 0:de.locationImage)==null?void 0:V.botSvg)||Bn,alt:"factory"}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(K=o.about)==null?void 0:K.locationTitle}),B.jsx("div",{className:"location-description",children:(re=o.about)==null?void 0:re.locationDescription})]})]}),B.jsxs("div",{className:"factory-location-container",children:[((pe=o.about)==null?void 0:pe.standardImage)&&B.jsx("img",{className:"factory-img",width:"75",height:"75",src:((ce=(Q=o.about)==null?void 0:Q.standardImage)==null?void 0:ce.botSvg)||Bn,alt:""}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(me=o.about)==null?void 0:me.standardTitle}),B.jsx("div",{className:"location-description",children:(ge=o.about)==null?void 0:ge.standardDescription})]})]}),((be=o.about)==null?void 0:be.etiImage)&&B.jsxs("div",{className:"factory-location-container",children:[B.jsx("img",{className:"factory-img",width:"75",height:"75",src:(ze=(je=o.about)==null?void 0:je.etiImage)==null?void 0:ze.botSvg,alt:""}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(Ie=o.about)==null?void 0:Ie.etiBaseTitle}),B.jsx("div",{className:"location-description",children:(ye=o.about)==null?void 0:ye.etiBaseDescription})]})]})]}),!l&&B.jsxs("div",{className:"factory-audit-container",children:[B.jsxs("div",{className:"factory-location-container",children:[B.jsx("img",{className:"factory-img",width:"75",height:"75",src:((ee=(we=o.factoryAudit)==null?void 0:we.fairWageImage)==null?void 0:ee.botSvg)||Bn,alt:"fair-wage"}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(Je=o.factoryAudit)==null?void 0:Je.fairWageTitle}),B.jsx("div",{className:"location-description",children:(Ne=o.factoryAudit)==null?void 0:Ne.fairWageDescription})]})]}),B.jsxs("div",{className:"factory-location-container",children:[B.jsx("img",{className:"factory-img",width:"75",height:"75",src:((Be=(Xe=o.factoryAudit)==null?void 0:Xe.energyImage)==null?void 0:Be.botSvg)||Bn,alt:"energy"}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(st=o.factoryAudit)==null?void 0:st.energyEfficiencyTitle}),B.jsx("div",{className:"location-description",children:(Ge=o.factoryAudit)==null?void 0:Ge.energyEfficiencyDescription})]})]}),B.jsxs("div",{className:"factory-location-container",children:[B.jsx("img",{className:"factory-img",width:"75",height:"75",src:((j=(Z=o.factoryAudit)==null?void 0:Z.wasteImage)==null?void 0:j.botSvg)||Bn,alt:"waste"}),B.jsxs("div",{className:"location-container",children:[B.jsx("div",{className:"location-title",children:(se=o.factoryAudit)==null?void 0:se.wasteEfficiencyTitle}),B.jsx("div",{className:"location-description",children:(ve=o.factoryAudit)==null?void 0:ve.wasteEfficiencyDescription})]})]})]})]}),B.jsx("div",{className:"create-submit-container factory",children:B.jsxs("div",{className:`create-submit ${ae?"active":""}`,children:[B.jsxs("div",{className:`create-description ${ae?"active":""}`,children:[B.jsxs("span",{className:`brand-title ${ae?"active":""}`,children:["$",o?o.manufacturingCost:"00000"]}),B.jsx("span",{className:`brand-desc ${ae?"active":""}`,children:"Manufacturing Cost"})]}),B.jsxs("div",{className:`button-start ${ae?G?"blink-start":"":"blink-none"}`,onMouseDown:$,onMouseUp:he,onTouchStart:$,onTouchEnd:he,children:[ae&&B.jsx("div",{className:"hold-progress-start",style:{width:`${N}%`}}),B.jsxs("div",{style:{position:"relative"},className:"purchase-btn",children:["Purchase",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]}):B.jsxs("div",{ref:R,className:"button-container",children:[B.jsx("div",{className:"button-description",children:"Choose a manufacturer from anywhere in the world and explore the various standards they follow."}),B.jsxs("div",{className:`button-start ${x?"blink-start":""}`,onMouseDown:U,onMouseUp:H,onTouchStart:U,onTouchEnd:H,children:[B.jsx("div",{className:"hold-progress-start",style:{width:`${v}%`}}),B.jsxs("div",{style:{position:"relative",zIndex:2},children:["Start",B.jsx(Xl,{icon:Bd,className:"icon-right"})]})]})]})})]})})}const Noe="/assets/Eco_Side-Cpyq-VSF.svg",Uoe="/assets/Wealth_Side-BC9D3BBB.svg",Loe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_2'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20323.76%20406.19'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20url(%23linear-gradient-2);%20}%20.cls-2%20{%20fill:%20%23231f20;%20}%20.cls-3%20{%20fill:%20url(%23radial-gradient);%20}%20.cls-4%20{%20fill:%20%23971c1f;%20}%20.cls-5%20{%20fill:%20%231b1b1b;%20}%20.cls-6%20{%20fill:%20url(%23linear-gradient);%20}%20.cls-7%20{%20fill:%20%23414042;%20}%20.cls-8%20{%20fill:%20%237f1717;%20}%20%3c/style%3e%3clinearGradient%20id='linear-gradient'%20x1='297.45'%20y1='-88.9'%20x2='70.88'%20y2='348.97'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%231c75bc'/%3e%3cstop%20offset='1'%20stop-color='%232e3192'/%3e%3c/linearGradient%3e%3cradialGradient%20id='radial-gradient'%20cx='221.71'%20cy='144.57'%20fx='205.22'%20fy='131.92'%20r='313.83'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23d29571'/%3e%3cstop%20offset='1'%20stop-color='%23c19776'/%3e%3c/radialGradient%3e%3clinearGradient%20id='linear-gradient-2'%20x1='263.59'%20y1='204.83'%20x2='200.98'%20y2='339.44'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23d19878'/%3e%3cstop%20offset='.89'%20stop-color='%23996955'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='Bitmojis'%3e%3cg%20id='Ethic_x5F_Side'%3e%3cg%20id='Ethic_x5F_Side_x5F_Happy'%3e%3cpath%20class='cls-6'%20d='M308.28,92.16C286.6,17.85,245.02,4.15,212.57,1.03,173.7-2.71,69.07.02,30.46,74.11-8.15,148.2-1.5,212,4.93,251.63c8.29,51.08,45.31,126.78,147.77,148.43,41.06,8.68,71.5,5.59,71.5,5.59'/%3e%3cpath%20class='cls-3'%20d='M317.95,202.37c20.23,114.42-15.9,150.84-54.64,187.47-14.35,13.57-46.69,26.5-86.17,2.48-49.72-30.26-102.76-81.26-98.71-207.31,2.3-71.75,32.28-103.36,110.71-103.36s141.07-17.44,128.81,120.72Z'/%3e%3cpath%20class='cls-1'%20d='M213.1,268.48c1.09,6.18,5.35,8.48,13.05,7.94,16.73-1.17,18.12,4.86,36.4,1.26,14.17-2.8,17.6-12.59,6.12-24.33-6.43-6.57-5.5-4.93-12.51-13.3-5.48-6.56-10.64-14.34-16.57-35.74-2.87-10.37-18.11-9.93-17.59,4.89,1.53,44.41-10.73,48.98-8.9,59.28Z'/%3e%3ccircle%20class='cls-2'%20cx='181.15'%20cy='202.37'%20r='13.84'/%3e%3ccircle%20class='cls-2'%20cx='272.76'%20cy='202.37'%20r='13.84'/%3e%3cpath%20class='cls-7'%20d='M249.16,43.65c48.9,7.1,68.53,56.75,71.41,95.53.22,2.97.48,26.69-1.09,29.3-16.74-59.83-71.02-102.13-140.26-72.04-67.98,29.54-86.22,69.8-96.59,131.28-1.1,6.54-2.04,12.28-1.7,14.65-6.21-42.54-5.18-75.25,2.2-108.31C99.36,61.25,168.35,31.91,249.16,43.65Z'/%3e%3cpath%20class='cls-5'%20d='M168.76,168.64c-16.94-1.1-31.92,5.53-48.32,10.37-.99-1.23,6.48-7,7.65-7.89,26.98-20.71,47.76-20.1,80.69-12.74,6.47,1.45,6.72,5.42,5.54,10.14-.67,2.65-2.24,4.48-4.97,4.71-2.72.23-4.46-.22-10.9-.83-6.44-.61-12.75-2.64-29.7-3.75Z'/%3e%3cpath%20class='cls-5'%20d='M255.45,160.13c-5.66.87-5.63,4.95-4.53,9.24.53,2.07,2.28,3.58,4.33,3.72,2.13.14,3.67-.24,8.84-.75,5.38-.53,10.67-2.3,24.83-3.27,8.89-.6,15.92,1.45,24.04,4.1.97.32,3.32,1.13,3.23.07-.17-1.82-6.05-10.49-16.19-13.73-12.03-3.85-26.37-2.17-44.56.62Z'/%3e%3c/g%3e%3cg%3e%3cpath%20class='cls-4'%20d='M181,319.23c16.1,15.95,38.2,19.59,61.69,18.93,19.12-.54,31.55-7.57,27.4-20.63-7.22.62-26.55-1.23-34.12-1.72-15.13-.98-36.1-3.75-54.44,3.08l-.52.34'/%3e%3cpath%20class='cls-8'%20d='M271.66,318.05c3.36-.39-4.39-10.38-9.47-12.62-6.81-2.99-17.28-.56-17.28-.56,0,0-3.17-2.11-8.32-2.87-24.37-3.61-54.45,13.49-55.59,17.23,0,0,20.35-5.57,38.68-3.87,18.03,1.68,37.26,4.37,51.98,2.68Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function Ioe(){var Z;const[r,e]=P.useState([!0,!1,!1,!1]),[t,n]=P.useState([0,0,0,0]),[i,a]=P.useState(null),[s,o]=P.useState(!1),[l,u]=P.useState(!1),[d,p]=P.useState(!1),[v,y]=P.useState(!1),[x,A]=P.useState(!1),[S,E]=P.useState(!1),[M,R]=P.useState(!1),[w,I]=P.useState(!1),[U,H]=P.useState(!1),[F,N]=P.useState(0),L=[44,183,339,550,675,854,1065,1200,1339,1554,1695,1858],[G,X]=P.useState(null),[Y,J]=P.useState(""),[ae,$]=P.useState(""),he=P.useRef(null),le=P.useRef(null),de=P.useRef(null),V=P.useRef(null),[K,re]=P.useState(0),[pe,Q]=P.useState("Normal"),[ce,me]=P.useState(0),[ge,be]=P.useState([]),[je,ze]=P.useState(0),{fundingAmount:Ie,setFundingAmount:ye,generateFunding:we}=P.useContext(Ip);P.useEffect(()=>{const j=moe.sort(()=>.5-Math.random());be(j.slice(0,3))},[]),P.useEffect(()=>{An.fromTo(he.current,{opacity:0},{duration:1,opacity:1,ease:"power2.out"}),An.fromTo(le.current,{opacity:0},{duration:1,opacity:1,ease:"power2.out"})},[]),P.useEffect(()=>{S&&de.current&&(An.set(de.current,{x:-100,opacity:0}),An.to(de.current,{duration:1,x:0,opacity:1,ease:"power3.out"}))},[S]),P.useEffect(()=>{Ne()},[]);const ee=()=>{V.current?An.to(V.current,{duration:1,opacity:0,ease:"power2.out",onComplete:()=>{R(!1),i===0&&(e([!1,!0,!0,!0]),n(j=>[j[0],3,3,3])),dU(Q,re,me)}}):(R(!1),i===0&&(e([!1,!0,!0,!0]),n(j=>[j[0],3,3,3])),dU(Q,re,me))},Je=j=>{switch(console.log("Reached breakpoint index:",j),H(!0),N(j),j){case 0:E(!0);break;case 1:u(!0);break;case 2:break;case 3:E(!0),e([!0,!1,!1,!1]);break;case 4:p(!0);break;case 6:E(!0),e([!1,!0,!0,!0]);break;case 7:y(!0);break;case 9:E(!0),e([!0,!1,!1,!1]);break;case 10:E(!0),A(!0);break}},Ne=()=>{I(!0),H(!1)},Xe=()=>{H(!1),N(j=>j+1)},Be=j=>{if(r[j]){if(F===9&&j===0){R(!0),a(0);return}a(j),st(j),o(!0)}},st=j=>{n(se=>{const ve=[...se];return ve[j]++,ve})},Ge=()=>{const j=i;o(!1),a(null),j===0?t[0]===1?e([!1,!0,!0,!0]):t[0]>=2&&(e([!1,!1,!1,!1]),Xe()):e(se=>{const ve=[...se];return ve[j]=!1,!ve[1]&&!ve[2]&&!ve[3]&&Xe(),ve})};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"logo-container",ref:le,children:[B.jsx(u2,{}),B.jsx(Moe,{}),B.jsx(Kx,{title:"ECO VANGUARD",fillNumber:0,imageSrc:Noe}),B.jsx(Kx,{title:"WEALTH VANGUARD",fillNumber:0,imageSrc:Uoe}),B.jsx(Kx,{title:"ETHICS VANGUARD",fillNumber:0,imageSrc:Loe})]}),B.jsxs("div",{className:"canvas-container",style:{position:"relative"},ref:he,children:[B.jsx("button",{style:{position:"absolute",top:"10px",left:"10px",zIndex:200},onClick:Ne,children:"Play"}),B.jsx("button",{style:{position:"absolute",top:"10px",left:"80px",zIndex:200},onClick:Xe,children:"Continue"}),S&&B.jsx("div",{ref:de,style:{position:"relative",zIndex:999,top:"50%"},children:B.jsx(ooe,{activeStates:r,onVanguardClick:Be})}),l&&B.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(poe,{onStart:()=>{de.current?An.to(de.current,{duration:1,x:-200,opacity:0,ease:"power3.inOut",onComplete:()=>{E(!1),Xe()}}):Xe()},onLogoSelect:j=>X(j),onCreate:()=>{u(!1),Xe()},onBrandNameChange:J,onFontStyleChange:$,isInputEnabled:F>=2})}),d&&B.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(yoe,{onStart:()=>{de.current?An.to(de.current,{duration:1,x:-200,opacity:0,ease:"power3.inOut",onComplete:()=>{E(!1),Xe()}}):Xe()},onLogoSelect:j=>X(j),onCreate:()=>{p(!1),Xe()},onBrandNameChange:J,onFontStyleChange:$,isInputEnabled:F>=2})}),x&&B.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(Ooe,{onStart:()=>{de.current?An.to(de.current,{duration:1,x:-200,opacity:0,ease:"power3.inOut",onComplete:()=>{E(!1),Xe()}}):Xe()},onLogoSelect:j=>X(j),onCreate:()=>{A(!1),Xe()},onBrandNameChange:J,onFontStyleChange:$,isInputEnabled:F>=2})}),v&&B.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(Doe,{onStart:()=>{de.current?An.to(de.current,{duration:1,x:-200,opacity:0,ease:"power3.inOut",onComplete:()=>{E(!1),Xe()}}):Xe()},onLogoSelect:j=>X(j),onCreate:()=>{y(!1),Xe()},onBrandNameChange:J,onFontStyleChange:$,isInputEnabled:F>=2})}),s&&i!==null&&B.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1100},children:B.jsx(coe,{steps:mU[i].scenarios[Math.min(t[i]-1,mU[i].scenarios.length-1)],onDeactivateActiveVanguard:Ge})}),M&&B.jsx("div",{ref:V,style:{position:"absolute",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",opacity:1},children:B.jsx(GF,{mode:pe,currentStep:K,onNext:()=>goe(pe,Q,ce,me,ge,re,ze,ye),onDone:ee,question:ge[ce],answers:(Z=ge[ce])==null?void 0:Z.answers,funding:Ie,result:je,totalSteps:ge.length+1})}),B.jsx(Hre,{playAnimation:w,paused:U,breakpoints:L,currentBreakpointIndex:F,onBreakpointHit:Je,selectedLogo:G,brandName:Y,fontStyle:ae})]})]})}const Poe=U6.createRoot(document.querySelector("#root"));Poe.render(B.jsx(LX,{children:B.jsx(loe,{children:B.jsx(b8,{children:B.jsxs(x8,{children:[B.jsx(od,{path:"/choose-selection",element:B.jsx(aie,{})}),B.jsx(od,{path:"/",element:B.jsx(ioe,{})}),B.jsx(od,{path:"/landing-page",element:B.jsx(Kq,{})}),B.jsx(od,{path:"/build-a-brand",element:B.jsx(oie,{})}),B.jsx(od,{path:"/fabric-lab",element:B.jsx(cie,{})}),B.jsx(od,{path:"/room",element:B.jsx(Ioe,{})}),B.jsx(od,{path:"/manufacturing",element:B.jsx(uie,{})})]})})})}));export{p9 as A,CC as D,or as F,ua as H,Yn as L,Dp as M,Vn as O,qo as W,cr as _,nw as a,qy as b,nL as c,c2 as d,B as j,P as r,Sd as u};
//# sourceMappingURL=index-BTH7h0EW.js.map
